var o_=Object.defineProperty;var s_=(n,e,t)=>e in n?o_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var dt=(n,e,t)=>(s_(n,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();/**
* @vue/shared v3.5.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Jp(n){const e=Object.create(null);for(const t of n.split(","))e[t]=1;return t=>t in e}const Wt={},Mo=[],Bi=()=>{},a_=()=>!1,Uu=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),Zp=n=>n.startsWith("onUpdate:"),he=Object.assign,th=(n,e)=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)},l_=Object.prototype.hasOwnProperty,Gt=(n,e)=>l_.call(n,e),vt=Array.isArray,Lo=n=>zu(n)==="[object Map]",Xy=n=>zu(n)==="[object Set]",_t=n=>typeof n=="function",le=n=>typeof n=="string",mn=n=>typeof n=="symbol",Kt=n=>n!==null&&typeof n=="object",Qy=n=>(Kt(n)||_t(n))&&_t(n.then)&&_t(n.catch),Jy=Object.prototype.toString,zu=n=>Jy.call(n),u_=n=>zu(n).slice(8,-1),Zy=n=>zu(n)==="[object Object]",eh=n=>le(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,qs=Jp(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),$u=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},c_=/-(\w)/g,fn=$u(n=>n.replace(c_,(e,t)=>t?t.toUpperCase():"")),d_=/\B([A-Z])/g,ao=$u(n=>n.replace(d_,"-$1").toLowerCase()),tm=$u(n=>n.charAt(0).toUpperCase()+n.slice(1)),Pc=$u(n=>n?`on${tm(n)}`:""),cn=(n,e)=>!Object.is(n,e),Hl=(n,...e)=>{for(let t=0;t<n.length;t++)n[t](...e)},em=(n,e,t,i=!1)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,writable:i,value:t})},rp=n=>{const e=parseFloat(n);return isNaN(e)?n:e},p_=n=>{const e=le(n)?Number(n):NaN;return isNaN(e)?n:e};let Ff;const Ku=()=>Ff||(Ff=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ih(n){if(vt(n)){const e={};for(let t=0;t<n.length;t++){const i=n[t],r=le(i)?v_(i):ih(i);if(r)for(const o in r)e[o]=r[o]}return e}else if(le(n)||Kt(n))return n}const h_=/;(?![^(]*\))/g,f_=/:([^]+)/,g_=/\/\*[^]*?\*\//g;function v_(n){const e={};return n.replace(g_,"").split(h_).forEach(t=>{if(t){const i=t.split(f_);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Lt(n){let e="";if(le(n))e=n;else if(vt(n))for(let t=0;t<n.length;t++){const i=Lt(n[t]);i&&(e+=i+" ")}else if(Kt(n))for(const t in n)n[t]&&(e+=t+" ");return e.trim()}const y_="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",m_=Jp(y_);function im(n){return!!n||n===""}const rm=n=>!!(n&&n.__v_isRef===!0),nt=n=>le(n)?n:n==null?"":vt(n)||Kt(n)&&(n.toString===Jy||!_t(n.toString))?rm(n)?nt(n.value):JSON.stringify(n,nm,2):String(n),nm=(n,e)=>rm(e)?nm(n,e.value):Lo(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[i,r],o)=>(t[Dc(i,o)+" =>"]=r,t),{})}:Xy(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>Dc(t))}:mn(e)?Dc(e):Kt(e)&&!vt(e)&&!Zy(e)?String(e):e,Dc=(n,e="")=>{var t;return mn(n)?`Symbol(${(t=n.description)!=null?t:e})`:n};/**
* @vue/reactivity v3.5.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ze;class C_{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ze,!e&&Ze&&(this.index=(Ze.scopes||(Ze.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=Ze;try{return Ze=this,e()}finally{Ze=t}}}on(){++this._on===1&&(this.prevScope=Ze,Ze=this)}off(){this._on>0&&--this._on===0&&(Ze=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let t,i;for(t=0,i=this.effects.length;t<i;t++)this.effects[t].stop();for(this.effects.length=0,t=0,i=this.cleanups.length;t<i;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function w_(){return Ze}let Ut;const Ac=new WeakSet;class om{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ze&&Ze.active&&Ze.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ac.has(this)&&(Ac.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||am(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Mf(this),lm(this);const e=Ut,t=ji;Ut=this,ji=!0;try{return this.fn()}finally{um(this),Ut=e,ji=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)oh(e);this.deps=this.depsTail=void 0,Mf(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ac.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){np(this)&&this.run()}get dirty(){return np(this)}}let sm=0,Xs,Qs;function am(n,e=!1){if(n.flags|=8,e){n.next=Qs,Qs=n;return}n.next=Xs,Xs=n}function rh(){sm++}function nh(){if(--sm>0)return;if(Qs){let e=Qs;for(Qs=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let n;for(;Xs;){let e=Xs;for(Xs=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){n||(n=i)}e=t}}if(n)throw n}function lm(n){for(let e=n.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function um(n){let e,t=n.depsTail,i=t;for(;i;){const r=i.prevDep;i.version===-1?(i===t&&(t=r),oh(i),S_(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=r}n.deps=e,n.depsTail=t}function np(n){for(let e=n.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(cm(e.dep.computed)||e.dep.version!==e.version))return!0;return!!n._dirty}function cm(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===aa)||(n.globalVersion=aa,!n.isSSR&&n.flags&128&&(!n.deps&&!n._dirty||!np(n))))return;n.flags|=2;const e=n.dep,t=Ut,i=ji;Ut=n,ji=!0;try{lm(n);const r=n.fn(n._value);(e.version===0||cn(r,n._value))&&(n.flags|=128,n._value=r,e.version++)}catch(r){throw e.version++,r}finally{Ut=t,ji=i,um(n),n.flags&=-3}}function oh(n,e=!1){const{dep:t,prevSub:i,nextSub:r}=n;if(i&&(i.nextSub=r,n.prevSub=void 0),r&&(r.prevSub=i,n.nextSub=void 0),t.subs===n&&(t.subs=i,!i&&t.computed)){t.computed.flags&=-5;for(let o=t.computed.deps;o;o=o.nextDep)oh(o,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function S_(n){const{prevDep:e,nextDep:t}=n;e&&(e.nextDep=t,n.prevDep=void 0),t&&(t.prevDep=e,n.nextDep=void 0)}let ji=!0;const dm=[];function Ar(){dm.push(ji),ji=!1}function Fr(){const n=dm.pop();ji=n===void 0?!0:n}function Mf(n){const{cleanup:e}=n;if(n.cleanup=void 0,e){const t=Ut;Ut=void 0;try{e()}finally{Ut=t}}}let aa=0;class __{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class sh{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Ut||!ji||Ut===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==Ut)t=this.activeLink=new __(Ut,this),Ut.deps?(t.prevDep=Ut.depsTail,Ut.depsTail.nextDep=t,Ut.depsTail=t):Ut.deps=Ut.depsTail=t,pm(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const i=t.nextDep;i.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=i),t.prevDep=Ut.depsTail,t.nextDep=void 0,Ut.depsTail.nextDep=t,Ut.depsTail=t,Ut.deps===t&&(Ut.deps=i)}return t}trigger(e){this.version++,aa++,this.notify(e)}notify(e){rh();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{nh()}}}function pm(n){if(n.dep.sc++,n.sub.flags&4){const e=n.dep.computed;if(e&&!n.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)pm(i)}const t=n.dep.subs;t!==n&&(n.prevSub=t,t&&(t.nextSub=n)),n.dep.subs=n}}const op=new WeakMap,$n=Symbol(""),sp=Symbol(""),la=Symbol("");function Le(n,e,t){if(ji&&Ut){let i=op.get(n);i||op.set(n,i=new Map);let r=i.get(t);r||(i.set(t,r=new sh),r.map=i,r.key=t),r.track()}}function Tr(n,e,t,i,r,o){const s=op.get(n);if(!s){aa++;return}const a=l=>{l&&l.trigger()};if(rh(),e==="clear")s.forEach(a);else{const l=vt(n),u=l&&eh(t);if(l&&t==="length"){const c=Number(i);s.forEach((d,p)=>{(p==="length"||p===la||!mn(p)&&p>=c)&&a(d)})}else switch((t!==void 0||s.has(void 0))&&a(s.get(t)),u&&a(s.get(la)),e){case"add":l?u&&a(s.get("length")):(a(s.get($n)),Lo(n)&&a(s.get(sp)));break;case"delete":l||(a(s.get($n)),Lo(n)&&a(s.get(sp)));break;case"set":Lo(n)&&a(s.get($n));break}}nh()}function go(n){const e=Ot(n);return e===n?e:(Le(e,"iterate",la),Ti(n)?e:e.map(xe))}function Yu(n){return Le(n=Ot(n),"iterate",la),n}const E_={__proto__:null,[Symbol.iterator](){return Fc(this,Symbol.iterator,xe)},concat(...n){return go(this).concat(...n.map(e=>vt(e)?go(e):e))},entries(){return Fc(this,"entries",n=>(n[1]=xe(n[1]),n))},every(n,e){return yr(this,"every",n,e,void 0,arguments)},filter(n,e){return yr(this,"filter",n,e,t=>t.map(xe),arguments)},find(n,e){return yr(this,"find",n,e,xe,arguments)},findIndex(n,e){return yr(this,"findIndex",n,e,void 0,arguments)},findLast(n,e){return yr(this,"findLast",n,e,xe,arguments)},findLastIndex(n,e){return yr(this,"findLastIndex",n,e,void 0,arguments)},forEach(n,e){return yr(this,"forEach",n,e,void 0,arguments)},includes(...n){return Mc(this,"includes",n)},indexOf(...n){return Mc(this,"indexOf",n)},join(n){return go(this).join(n)},lastIndexOf(...n){return Mc(this,"lastIndexOf",n)},map(n,e){return yr(this,"map",n,e,void 0,arguments)},pop(){return is(this,"pop")},push(...n){return is(this,"push",n)},reduce(n,...e){return Lf(this,"reduce",n,e)},reduceRight(n,...e){return Lf(this,"reduceRight",n,e)},shift(){return is(this,"shift")},some(n,e){return yr(this,"some",n,e,void 0,arguments)},splice(...n){return is(this,"splice",n)},toReversed(){return go(this).toReversed()},toSorted(n){return go(this).toSorted(n)},toSpliced(...n){return go(this).toSpliced(...n)},unshift(...n){return is(this,"unshift",n)},values(){return Fc(this,"values",xe)}};function Fc(n,e,t){const i=Yu(n),r=i[e]();return i!==n&&!Ti(n)&&(r._next=r.next,r.next=()=>{const o=r._next();return o.value&&(o.value=t(o.value)),o}),r}const b_=Array.prototype;function yr(n,e,t,i,r,o){const s=Yu(n),a=s!==n&&!Ti(n),l=s[e];if(l!==b_[e]){const d=l.apply(n,o);return a?xe(d):d}let u=t;s!==n&&(a?u=function(d,p){return t.call(this,xe(d),p,n)}:t.length>2&&(u=function(d,p){return t.call(this,d,p,n)}));const c=l.call(s,u,i);return a&&r?r(c):c}function Lf(n,e,t,i){const r=Yu(n);let o=t;return r!==n&&(Ti(n)?t.length>3&&(o=function(s,a,l){return t.call(this,s,a,l,n)}):o=function(s,a,l){return t.call(this,s,xe(a),l,n)}),r[e](o,...i)}function Mc(n,e,t){const i=Ot(n);Le(i,"iterate",la);const r=i[e](...t);return(r===-1||r===!1)&&Aa(t[0])?(t[0]=Ot(t[0]),i[e](...t)):r}function is(n,e,t=[]){Ar(),rh();const i=Ot(n)[e].apply(n,t);return nh(),Fr(),i}const R_=Jp("__proto__,__v_isRef,__isVue"),hm=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(mn));function O_(n){mn(n)||(n=String(n));const e=Ot(this);return Le(e,"has",n),e.hasOwnProperty(n)}class fm{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,i){if(t==="__v_skip")return e.__v_skip;const r=this._isReadonly,o=this._isShallow;if(t==="__v_isReactive")return!r;if(t==="__v_isReadonly")return r;if(t==="__v_isShallow")return o;if(t==="__v_raw")return i===(r?o?N_:mm:o?ym:vm).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const s=vt(e);if(!r){let l;if(s&&(l=E_[t]))return l;if(t==="hasOwnProperty")return O_}const a=Reflect.get(e,t,He(e)?e:i);return(mn(t)?hm.has(t):R_(t))||(r||Le(e,"get",t),o)?a:He(a)?s&&eh(t)?a:a.value:Kt(a)?r?Cm(a):lh(a):a}}class gm extends fm{constructor(e=!1){super(!1,e)}set(e,t,i,r){let o=e[t];if(!this._isShallow){const l=gn(o);if(!Ti(i)&&!gn(i)&&(o=Ot(o),i=Ot(i)),!vt(e)&&He(o)&&!He(i))return l?!1:(o.value=i,!0)}const s=vt(e)&&eh(t)?Number(t)<e.length:Gt(e,t),a=Reflect.set(e,t,i,He(e)?e:r);return e===Ot(r)&&(s?cn(i,o)&&Tr(e,"set",t,i):Tr(e,"add",t,i)),a}deleteProperty(e,t){const i=Gt(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&i&&Tr(e,"delete",t,void 0),r}has(e,t){const i=Reflect.has(e,t);return(!mn(t)||!hm.has(t))&&Le(e,"has",t),i}ownKeys(e){return Le(e,"iterate",vt(e)?"length":$n),Reflect.ownKeys(e)}}class T_ extends fm{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const x_=new gm,P_=new T_,D_=new gm(!0);const ap=n=>n,ka=n=>Reflect.getPrototypeOf(n);function A_(n,e,t){return function(...i){const r=this.__v_raw,o=Ot(r),s=Lo(o),a=n==="entries"||n===Symbol.iterator&&s,l=n==="keys"&&s,u=r[n](...i),c=t?ap:e?Zl:xe;return!e&&Le(o,"iterate",l?sp:$n),{next(){const{value:d,done:p}=u.next();return p?{value:d,done:p}:{value:a?[c(d[0]),c(d[1])]:c(d),done:p}},[Symbol.iterator](){return this}}}}function Ba(n){return function(...e){return n==="delete"?!1:n==="clear"?void 0:this}}function F_(n,e){const t={get(r){const o=this.__v_raw,s=Ot(o),a=Ot(r);n||(cn(r,a)&&Le(s,"get",r),Le(s,"get",a));const{has:l}=ka(s),u=e?ap:n?Zl:xe;if(l.call(s,r))return u(o.get(r));if(l.call(s,a))return u(o.get(a));o!==s&&o.get(r)},get size(){const r=this.__v_raw;return!n&&Le(Ot(r),"iterate",$n),Reflect.get(r,"size",r)},has(r){const o=this.__v_raw,s=Ot(o),a=Ot(r);return n||(cn(r,a)&&Le(s,"has",r),Le(s,"has",a)),r===a?o.has(r):o.has(r)||o.has(a)},forEach(r,o){const s=this,a=s.__v_raw,l=Ot(a),u=e?ap:n?Zl:xe;return!n&&Le(l,"iterate",$n),a.forEach((c,d)=>r.call(o,u(c),u(d),s))}};return he(t,n?{add:Ba("add"),set:Ba("set"),delete:Ba("delete"),clear:Ba("clear")}:{add(r){!e&&!Ti(r)&&!gn(r)&&(r=Ot(r));const o=Ot(this);return ka(o).has.call(o,r)||(o.add(r),Tr(o,"add",r,r)),this},set(r,o){!e&&!Ti(o)&&!gn(o)&&(o=Ot(o));const s=Ot(this),{has:a,get:l}=ka(s);let u=a.call(s,r);u||(r=Ot(r),u=a.call(s,r));const c=l.call(s,r);return s.set(r,o),u?cn(o,c)&&Tr(s,"set",r,o):Tr(s,"add",r,o),this},delete(r){const o=Ot(this),{has:s,get:a}=ka(o);let l=s.call(o,r);l||(r=Ot(r),l=s.call(o,r)),a&&a.call(o,r);const u=o.delete(r);return l&&Tr(o,"delete",r,void 0),u},clear(){const r=Ot(this),o=r.size!==0,s=r.clear();return o&&Tr(r,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(r=>{t[r]=A_(r,n,e)}),t}function ah(n,e){const t=F_(n,e);return(i,r,o)=>r==="__v_isReactive"?!n:r==="__v_isReadonly"?n:r==="__v_raw"?i:Reflect.get(Gt(t,r)&&r in i?t:i,r,o)}const M_={get:ah(!1,!1)},L_={get:ah(!1,!0)},I_={get:ah(!0,!1)};const vm=new WeakMap,ym=new WeakMap,mm=new WeakMap,N_=new WeakMap;function G_(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function H_(n){return n.__v_skip||!Object.isExtensible(n)?0:G_(u_(n))}function lh(n){return gn(n)?n:uh(n,!1,x_,M_,vm)}function V_(n){return uh(n,!1,D_,L_,ym)}function Cm(n){return uh(n,!0,P_,I_,mm)}function uh(n,e,t,i,r){if(!Kt(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const o=H_(n);if(o===0)return n;const s=r.get(n);if(s)return s;const a=new Proxy(n,o===2?i:t);return r.set(n,a),a}function Io(n){return gn(n)?Io(n.__v_raw):!!(n&&n.__v_isReactive)}function gn(n){return!!(n&&n.__v_isReadonly)}function Ti(n){return!!(n&&n.__v_isShallow)}function Aa(n){return n?!!n.__v_raw:!1}function Ot(n){const e=n&&n.__v_raw;return e?Ot(e):n}function Vl(n){return!Gt(n,"__v_skip")&&Object.isExtensible(n)&&em(n,"__v_skip",!0),n}const xe=n=>Kt(n)?lh(n):n,Zl=n=>Kt(n)?Cm(n):n;function He(n){return n?n.__v_isRef===!0:!1}function Mt(n){return Sm(n,!1)}function wm(n){return Sm(n,!0)}function Sm(n,e){return He(n)?n:new k_(n,e)}class k_{constructor(e,t){this.dep=new sh,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:Ot(e),this._value=t?e:xe(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,i=this.__v_isShallow||Ti(e)||gn(e);e=i?e:Ot(e),cn(e,t)&&(this._rawValue=e,this._value=i?e:xe(e),this.dep.trigger())}}function tu(n){return He(n)?n.value:n}const B_={get:(n,e,t)=>e==="__v_raw"?n:tu(Reflect.get(n,e,t)),set:(n,e,t,i)=>{const r=n[e];return He(r)&&!He(t)?(r.value=t,!0):Reflect.set(n,e,t,i)}};function _m(n){return Io(n)?n:new Proxy(n,B_)}class j_{constructor(e,t,i){this.fn=e,this.setter=t,this._value=void 0,this.dep=new sh(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=aa-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Ut!==this)return am(this,!0),!0}get value(){const e=this.dep.track();return cm(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function W_(n,e,t=!1){let i,r;return _t(n)?i=n:(i=n.get,r=n.set),new j_(i,r,t)}const ja={},eu=new WeakMap;let Vn;function U_(n,e=!1,t=Vn){if(t){let i=eu.get(t);i||eu.set(t,i=[]),i.push(n)}}function z_(n,e,t=Wt){const{immediate:i,deep:r,once:o,scheduler:s,augmentJob:a,call:l}=t,u=E=>r?E:Ti(E)||r===!1||r===0?xr(E,1):xr(E);let c,d,p,h,f=!1,g=!1;if(He(n)?(d=()=>n.value,f=Ti(n)):Io(n)?(d=()=>u(n),f=!0):vt(n)?(g=!0,f=n.some(E=>Io(E)||Ti(E)),d=()=>n.map(E=>{if(He(E))return E.value;if(Io(E))return u(E);if(_t(E))return l?l(E,2):E()})):_t(n)?e?d=l?()=>l(n,2):n:d=()=>{if(p){Ar();try{p()}finally{Fr()}}const E=Vn;Vn=c;try{return l?l(n,3,[h]):n(h)}finally{Vn=E}}:d=Bi,e&&r){const E=d,O=r===!0?1/0:r;d=()=>xr(E(),O)}const v=w_(),m=()=>{c.stop(),v&&v.active&&th(v.effects,c)};if(o&&e){const E=e;e=(...O)=>{E(...O),m()}}let w=g?new Array(n.length).fill(ja):ja;const b=E=>{if(!(!(c.flags&1)||!c.dirty&&!E))if(e){const O=c.run();if(r||f||(g?O.some((P,M)=>cn(P,w[M])):cn(O,w))){p&&p();const P=Vn;Vn=c;try{const M=[O,w===ja?void 0:g&&w[0]===ja?[]:w,h];w=O,l?l(e,3,M):e(...M)}finally{Vn=P}}}else c.run()};return a&&a(b),c=new om(d),c.scheduler=s?()=>s(b,!1):b,h=E=>U_(E,!1,c),p=c.onStop=()=>{const E=eu.get(c);if(E){if(l)l(E,4);else for(const O of E)O();eu.delete(c)}},e?i?b(!0):w=c.run():s?s(b.bind(null,!0),!0):c.run(),m.pause=c.pause.bind(c),m.resume=c.resume.bind(c),m.stop=m,m}function xr(n,e=1/0,t){if(e<=0||!Kt(n)||n.__v_skip||(t=t||new Set,t.has(n)))return n;if(t.add(n),e--,He(n))xr(n.value,e,t);else if(vt(n))for(let i=0;i<n.length;i++)xr(n[i],e,t);else if(Xy(n)||Lo(n))n.forEach(i=>{xr(i,e,t)});else if(Zy(n)){for(const i in n)xr(n[i],e,t);for(const i of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,i)&&xr(n[i],e,t)}return n}/**
* @vue/runtime-core v3.5.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Fa(n,e,t,i){try{return i?n(...i):n()}catch(r){qu(r,e,t)}}function zi(n,e,t,i){if(_t(n)){const r=Fa(n,e,t,i);return r&&Qy(r)&&r.catch(o=>{qu(o,e,t)}),r}if(vt(n)){const r=[];for(let o=0;o<n.length;o++)r.push(zi(n[o],e,t,i));return r}}function qu(n,e,t,i=!0){const r=e?e.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:s}=e&&e.appContext.config||Wt;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${t}`;for(;a;){const c=a.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](n,l,u)===!1)return}a=a.parent}if(o){Ar(),Fa(o,null,10,[n,l,u]),Fr();return}}$_(n,t,r,i,s)}function $_(n,e,t,i=!0,r=!1){if(r)throw n;console.error(n)}const Ue=[];let er=-1;const No=[];let Zr=null,Oo=0;const Em=Promise.resolve();let iu=null;function bm(n){const e=iu||Em;return n?e.then(this?n.bind(this):n):e}function K_(n){let e=er+1,t=Ue.length;for(;e<t;){const i=e+t>>>1,r=Ue[i],o=ua(r);o<n||o===n&&r.flags&2?e=i+1:t=i}return e}function ch(n){if(!(n.flags&1)){const e=ua(n),t=Ue[Ue.length-1];!t||!(n.flags&2)&&e>=ua(t)?Ue.push(n):Ue.splice(K_(e),0,n),n.flags|=1,Rm()}}function Rm(){iu||(iu=Em.then(Tm))}function Y_(n){vt(n)?No.push(...n):Zr&&n.id===-1?Zr.splice(Oo+1,0,n):n.flags&1||(No.push(n),n.flags|=1),Rm()}function If(n,e,t=er+1){for(;t<Ue.length;t++){const i=Ue[t];if(i&&i.flags&2){if(n&&i.id!==n.uid)continue;Ue.splice(t,1),t--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function Om(n){if(No.length){const e=[...new Set(No)].sort((t,i)=>ua(t)-ua(i));if(No.length=0,Zr){Zr.push(...e);return}for(Zr=e,Oo=0;Oo<Zr.length;Oo++){const t=Zr[Oo];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}Zr=null,Oo=0}}const ua=n=>n.id==null?n.flags&2?-1:1/0:n.id;function Tm(n){const e=Bi;try{for(er=0;er<Ue.length;er++){const t=Ue[er];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Fa(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;er<Ue.length;er++){const t=Ue[er];t&&(t.flags&=-2)}er=-1,Ue.length=0,Om(),iu=null,(Ue.length||No.length)&&Tm()}}let fi=null,xm=null;function ru(n){const e=fi;return fi=n,xm=n&&n.type.__scopeId||null,e}function Bs(n,e=fi,t){if(!e||n._n)return n;const i=(...r)=>{i._d&&Uf(-1);const o=ru(e);let s;try{s=n(...r)}finally{ru(o),i._d&&Uf(1)}return s};return i._n=!0,i._c=!0,i._d=!0,i}function q_(n,e){if(fi===null)return n;const t=tc(fi),i=n.dirs||(n.dirs=[]);for(let r=0;r<e.length;r++){let[o,s,a,l=Wt]=e[r];o&&(_t(o)&&(o={mounted:o,updated:o}),o.deep&&xr(s),i.push({dir:o,instance:t,value:s,oldValue:void 0,arg:a,modifiers:l}))}return n}function Tn(n,e,t,i){const r=n.dirs,o=e&&e.dirs;for(let s=0;s<r.length;s++){const a=r[s];o&&(a.oldValue=o[s].value);let l=a.dir[i];l&&(Ar(),zi(l,t,8,[n.el,a,n,e]),Fr())}}const X_=Symbol("_vte"),Pm=n=>n.__isTeleport,tn=Symbol("_leaveCb"),Wa=Symbol("_enterCb");function Q_(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Kn(()=>{n.isMounted=!0}),Gm(()=>{n.isUnmounting=!0}),n}const mi=[Function,Array],Dm={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:mi,onEnter:mi,onAfterEnter:mi,onEnterCancelled:mi,onBeforeLeave:mi,onLeave:mi,onAfterLeave:mi,onLeaveCancelled:mi,onBeforeAppear:mi,onAppear:mi,onAfterAppear:mi,onAppearCancelled:mi},Am=n=>{const e=n.subTree;return e.component?Am(e.component):e},J_={name:"BaseTransition",props:Dm,setup(n,{slots:e}){const t=iC(),i=Q_();return()=>{const r=e.default&&Lm(e.default(),!0);if(!r||!r.length)return;const o=Fm(r),s=Ot(n),{mode:a}=s;if(i.isLeaving)return Lc(o);const l=Nf(o);if(!l)return Lc(o);let u=lp(l,s,i,t,d=>u=d);l.type!==ze&&ca(l,u);let c=t.subTree&&Nf(t.subTree);if(c&&c.type!==ze&&!Bn(l,c)&&Am(t).type!==ze){let d=lp(c,s,i,t);if(ca(c,d),a==="out-in"&&l.type!==ze)return i.isLeaving=!0,d.afterLeave=()=>{i.isLeaving=!1,t.job.flags&8||t.update(),delete d.afterLeave,c=void 0},Lc(o);a==="in-out"&&l.type!==ze?d.delayLeave=(p,h,f)=>{const g=Mm(i,c);g[String(c.key)]=c,p[tn]=()=>{h(),p[tn]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{f(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return o}}};function Fm(n){let e=n[0];if(n.length>1){for(const t of n)if(t.type!==ze){e=t;break}}return e}const Z_=J_;function Mm(n,e){const{leavingVNodes:t}=n;let i=t.get(e.type);return i||(i=Object.create(null),t.set(e.type,i)),i}function lp(n,e,t,i,r){const{appear:o,mode:s,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:p,onLeave:h,onAfterLeave:f,onLeaveCancelled:g,onBeforeAppear:v,onAppear:m,onAfterAppear:w,onAppearCancelled:b}=e,E=String(n.key),O=Mm(t,n),P=(F,V)=>{F&&zi(F,i,9,V)},M=(F,V)=>{const B=V[1];P(F,V),vt(F)?F.every(G=>G.length<=1)&&B():F.length<=1&&B()},D={mode:s,persisted:a,beforeEnter(F){let V=l;if(!t.isMounted)if(o)V=v||l;else return;F[tn]&&F[tn](!0);const B=O[E];B&&Bn(n,B)&&B.el[tn]&&B.el[tn](),P(V,[F])},enter(F){let V=u,B=c,G=d;if(!t.isMounted)if(o)V=m||u,B=w||c,G=b||d;else return;let lt=!1;const yt=F[Wa]=ut=>{lt||(lt=!0,ut?P(G,[F]):P(B,[F]),D.delayedLeave&&D.delayedLeave(),F[Wa]=void 0)};V?M(V,[F,yt]):yt()},leave(F,V){const B=String(n.key);if(F[Wa]&&F[Wa](!0),t.isUnmounting)return V();P(p,[F]);let G=!1;const lt=F[tn]=yt=>{G||(G=!0,V(),yt?P(g,[F]):P(f,[F]),F[tn]=void 0,O[B]===n&&delete O[B])};O[B]=n,h?M(h,[F,lt]):lt()},clone(F){const V=lp(F,e,t,i,r);return r&&r(V),V}};return D}function Lc(n){if(Xu(n))return n=vn(n),n.children=null,n}function Nf(n){if(!Xu(n))return Pm(n.type)&&n.children?Fm(n.children):n;if(n.component)return n.component.subTree;const{shapeFlag:e,children:t}=n;if(t){if(e&16)return t[0];if(e&32&&_t(t.default))return t.default()}}function ca(n,e){n.shapeFlag&6&&n.component?(n.transition=e,ca(n.component.subTree,e)):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}function Lm(n,e=!1,t){let i=[],r=0;for(let o=0;o<n.length;o++){let s=n[o];const a=t==null?s.key:String(t)+String(s.key!=null?s.key:o);s.type===Zt?(s.patchFlag&128&&r++,i=i.concat(Lm(s.children,e,a))):(e||s.type!==ze)&&i.push(a!=null?vn(s,{key:a}):s)}if(r>1)for(let o=0;o<i.length;o++)i[o].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function lo(n,e){return _t(n)?(()=>he({name:n.name},e,{setup:n}))():n}function Im(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}function nu(n,e,t,i,r=!1){if(vt(n)){n.forEach((f,g)=>nu(f,e&&(vt(e)?e[g]:e),t,i,r));return}if(Js(i)&&!r){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&nu(n,e,t,i.component.subTree);return}const o=i.shapeFlag&4?tc(i.component):i.el,s=r?null:o,{i:a,r:l}=n,u=e&&e.r,c=a.refs===Wt?a.refs={}:a.refs,d=a.setupState,p=Ot(d),h=d===Wt?()=>!1:f=>Gt(p,f);if(u!=null&&u!==l&&(le(u)?(c[u]=null,h(u)&&(d[u]=null)):He(u)&&(u.value=null)),_t(l))Fa(l,a,12,[s,c]);else{const f=le(l),g=He(l);if(f||g){const v=()=>{if(n.f){const m=f?h(l)?d[l]:c[l]:l.value;r?vt(m)&&th(m,o):vt(m)?m.includes(o)||m.push(o):f?(c[l]=[o],h(l)&&(d[l]=c[l])):(l.value=[o],n.k&&(c[n.k]=l.value))}else f?(c[l]=s,h(l)&&(d[l]=s)):g&&(l.value=s,n.k&&(c[n.k]=s))};s?(v.id=-1,ci(v,t)):v()}}}Ku().requestIdleCallback;Ku().cancelIdleCallback;const Js=n=>!!n.type.__asyncLoader,Xu=n=>n.type.__isKeepAlive;function tE(n,e){Nm(n,"a",e)}function eE(n,e){Nm(n,"da",e)}function Nm(n,e,t=Ie){const i=n.__wdc||(n.__wdc=()=>{let r=t;for(;r;){if(r.isDeactivated)return;r=r.parent}return n()});if(Qu(e,i,t),t){let r=t.parent;for(;r&&r.parent;)Xu(r.parent.vnode)&&iE(i,e,t,r),r=r.parent}}function iE(n,e,t,i){const r=Qu(e,n,i,!0);dh(()=>{th(i[e],r)},t)}function Qu(n,e,t=Ie,i=!1){if(t){const r=t[n]||(t[n]=[]),o=e.__weh||(e.__weh=(...s)=>{Ar();const a=Ma(t),l=zi(e,t,n,s);return a(),Fr(),l});return i?r.unshift(o):r.push(o),o}}const Mr=n=>(e,t=Ie)=>{(!pa||n==="sp")&&Qu(n,(...i)=>e(...i),t)},rE=Mr("bm"),Kn=Mr("m"),nE=Mr("bu"),oE=Mr("u"),Gm=Mr("bum"),dh=Mr("um"),sE=Mr("sp"),aE=Mr("rtg"),lE=Mr("rtc");function uE(n,e=Ie){Qu("ec",n,e)}const cE=Symbol.for("v-ndc");function Ei(n,e,t,i){let r;const o=t&&t[i],s=vt(n);if(s||le(n)){const a=s&&Io(n);let l=!1,u=!1;a&&(l=!Ti(n),u=gn(n),n=Yu(n)),r=new Array(n.length);for(let c=0,d=n.length;c<d;c++)r[c]=e(l?u?Zl(xe(n[c])):xe(n[c]):n[c],c,void 0,o&&o[c])}else if(typeof n=="number"){r=new Array(n);for(let a=0;a<n;a++)r[a]=e(a+1,a,void 0,o&&o[a])}else if(Kt(n))if(n[Symbol.iterator])r=Array.from(n,(a,l)=>e(a,l,void 0,o&&o[l]));else{const a=Object.keys(n);r=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];r[l]=e(n[c],c,l,o&&o[l])}}else r=[];return t&&(t[i]=r),r}const up=n=>n?rC(n)?tc(n):up(n.parent):null,Zs=he(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>up(n.parent),$root:n=>up(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>ph(n),$forceUpdate:n=>n.f||(n.f=()=>{ch(n.update)}),$nextTick:n=>n.n||(n.n=bm.bind(n.proxy)),$watch:n=>FE.bind(n)}),Ic=(n,e)=>n!==Wt&&!n.__isScriptSetup&&Gt(n,e),dE={get({_:n},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:i,data:r,props:o,accessCache:s,type:a,appContext:l}=n;let u;if(e[0]!=="$"){const h=s[e];if(h!==void 0)switch(h){case 1:return i[e];case 2:return r[e];case 4:return t[e];case 3:return o[e]}else{if(Ic(i,e))return s[e]=1,i[e];if(r!==Wt&&Gt(r,e))return s[e]=2,r[e];if((u=n.propsOptions[0])&&Gt(u,e))return s[e]=3,o[e];if(t!==Wt&&Gt(t,e))return s[e]=4,t[e];cp&&(s[e]=0)}}const c=Zs[e];let d,p;if(c)return e==="$attrs"&&Le(n.attrs,"get",""),c(n);if((d=a.__cssModules)&&(d=d[e]))return d;if(t!==Wt&&Gt(t,e))return s[e]=4,t[e];if(p=l.config.globalProperties,Gt(p,e))return p[e]},set({_:n},e,t){const{data:i,setupState:r,ctx:o}=n;return Ic(r,e)?(r[e]=t,!0):i!==Wt&&Gt(i,e)?(i[e]=t,!0):Gt(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(o[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:i,appContext:r,propsOptions:o}},s){let a;return!!t[s]||n!==Wt&&Gt(n,s)||Ic(e,s)||(a=o[0])&&Gt(a,s)||Gt(i,s)||Gt(Zs,s)||Gt(r.config.globalProperties,s)},defineProperty(n,e,t){return t.get!=null?n._.accessCache[e]=0:Gt(t,"value")&&this.set(n,e,t.value,null),Reflect.defineProperty(n,e,t)}};function Gf(n){return vt(n)?n.reduce((e,t)=>(e[t]=null,e),{}):n}let cp=!0;function pE(n){const e=ph(n),t=n.proxy,i=n.ctx;cp=!1,e.beforeCreate&&Hf(e.beforeCreate,n,"bc");const{data:r,computed:o,methods:s,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:p,beforeUpdate:h,updated:f,activated:g,deactivated:v,beforeDestroy:m,beforeUnmount:w,destroyed:b,unmounted:E,render:O,renderTracked:P,renderTriggered:M,errorCaptured:D,serverPrefetch:F,expose:V,inheritAttrs:B,components:G,directives:lt,filters:yt}=e;if(u&&hE(u,i,null),s)for(const J in s){const ct=s[J];_t(ct)&&(i[J]=ct.bind(t))}if(r){const J=r.call(t,t);Kt(J)&&(n.data=lh(J))}if(cp=!0,o)for(const J in o){const ct=o[J],Rt=_t(ct)?ct.bind(t,t):_t(ct.get)?ct.get.bind(t,t):Bi,jt=!_t(ct)&&_t(ct.set)?ct.set.bind(t):Bi,ge=Oe({get:Rt,set:jt});Object.defineProperty(i,J,{enumerable:!0,configurable:!0,get:()=>ge.value,set:Pt=>ge.value=Pt})}if(a)for(const J in a)Hm(a[J],i,t,J);if(l){const J=_t(l)?l.call(t):l;Reflect.ownKeys(J).forEach(ct=>{CE(ct,J[ct])})}c&&Hf(c,n,"c");function it(J,ct){vt(ct)?ct.forEach(Rt=>J(Rt.bind(t))):ct&&J(ct.bind(t))}if(it(rE,d),it(Kn,p),it(nE,h),it(oE,f),it(tE,g),it(eE,v),it(uE,D),it(lE,P),it(aE,M),it(Gm,w),it(dh,E),it(sE,F),vt(V))if(V.length){const J=n.exposed||(n.exposed={});V.forEach(ct=>{Object.defineProperty(J,ct,{get:()=>t[ct],set:Rt=>t[ct]=Rt})})}else n.exposed||(n.exposed={});O&&n.render===Bi&&(n.render=O),B!=null&&(n.inheritAttrs=B),G&&(n.components=G),lt&&(n.directives=lt),F&&Im(n)}function hE(n,e,t=Bi){vt(n)&&(n=dp(n));for(const i in n){const r=n[i];let o;Kt(r)?"default"in r?o=kl(r.from||i,r.default,!0):o=kl(r.from||i):o=kl(r),He(o)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):e[i]=o}}function Hf(n,e,t){zi(vt(n)?n.map(i=>i.bind(e.proxy)):n.bind(e.proxy),e,t)}function Hm(n,e,t,i){let r=i.includes(".")?Qm(t,i):()=>t[i];if(le(n)){const o=e[n];_t(o)&&cr(r,o)}else if(_t(n))cr(r,n.bind(t));else if(Kt(n))if(vt(n))n.forEach(o=>Hm(o,e,t,i));else{const o=_t(n.handler)?n.handler.bind(t):e[n.handler];_t(o)&&cr(r,o,n)}}function ph(n){const e=n.type,{mixins:t,extends:i}=e,{mixins:r,optionsCache:o,config:{optionMergeStrategies:s}}=n.appContext,a=o.get(e);let l;return a?l=a:!r.length&&!t&&!i?l=e:(l={},r.length&&r.forEach(u=>ou(l,u,s,!0)),ou(l,e,s)),Kt(e)&&o.set(e,l),l}function ou(n,e,t,i=!1){const{mixins:r,extends:o}=e;o&&ou(n,o,t,!0),r&&r.forEach(s=>ou(n,s,t,!0));for(const s in e)if(!(i&&s==="expose")){const a=fE[s]||t&&t[s];n[s]=a?a(n[s],e[s]):e[s]}return n}const fE={data:Vf,props:kf,emits:kf,methods:js,computed:js,beforeCreate:Be,created:Be,beforeMount:Be,mounted:Be,beforeUpdate:Be,updated:Be,beforeDestroy:Be,beforeUnmount:Be,destroyed:Be,unmounted:Be,activated:Be,deactivated:Be,errorCaptured:Be,serverPrefetch:Be,components:js,directives:js,watch:vE,provide:Vf,inject:gE};function Vf(n,e){return e?n?function(){return he(_t(n)?n.call(this,this):n,_t(e)?e.call(this,this):e)}:e:n}function gE(n,e){return js(dp(n),dp(e))}function dp(n){if(vt(n)){const e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function Be(n,e){return n?[...new Set([].concat(n,e))]:e}function js(n,e){return n?he(Object.create(null),n,e):e}function kf(n,e){return n?vt(n)&&vt(e)?[...new Set([...n,...e])]:he(Object.create(null),Gf(n),Gf(e??{})):e}function vE(n,e){if(!n)return e;if(!e)return n;const t=he(Object.create(null),n);for(const i in e)t[i]=Be(n[i],e[i]);return t}function Vm(){return{app:null,config:{isNativeTag:a_,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let yE=0;function mE(n,e){return function(i,r=null){_t(i)||(i=he({},i)),r!=null&&!Kt(r)&&(r=null);const o=Vm(),s=new WeakSet,a=[];let l=!1;const u=o.app={_uid:yE++,_component:i,_props:r,_container:null,_context:o,_instance:null,version:oC,get config(){return o.config},set config(c){},use(c,...d){return s.has(c)||(c&&_t(c.install)?(s.add(c),c.install(u,...d)):_t(c)&&(s.add(c),c(u,...d))),u},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),u},component(c,d){return d?(o.components[c]=d,u):o.components[c]},directive(c,d){return d?(o.directives[c]=d,u):o.directives[c]},mount(c,d,p){if(!l){const h=u._ceVNode||qt(i,r);return h.appContext=o,p===!0?p="svg":p===!1&&(p=void 0),d&&e?e(h,c):n(h,c,p),l=!0,u._container=c,c.__vue_app__=u,tc(h.component)}},onUnmount(c){a.push(c)},unmount(){l&&(zi(a,u._instance,16),n(null,u._container),delete u._container.__vue_app__)},provide(c,d){return o.provides[c]=d,u},runWithContext(c){const d=Go;Go=u;try{return c()}finally{Go=d}}};return u}}let Go=null;function CE(n,e){if(Ie){let t=Ie.provides;const i=Ie.parent&&Ie.parent.provides;i===t&&(t=Ie.provides=Object.create(i)),t[n]=e}}function kl(n,e,t=!1){const i=Ie||fi;if(i||Go){let r=Go?Go._context.provides:i?i.parent==null||i.ce?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(r&&n in r)return r[n];if(arguments.length>1)return t&&_t(e)?e.call(i&&i.proxy):e}}const km={},Bm=()=>Object.create(km),jm=n=>Object.getPrototypeOf(n)===km;function wE(n,e,t,i=!1){const r={},o=Bm();n.propsDefaults=Object.create(null),Wm(n,e,r,o);for(const s in n.propsOptions[0])s in r||(r[s]=void 0);t?n.props=i?r:V_(r):n.type.props?n.props=r:n.props=o,n.attrs=o}function SE(n,e,t,i){const{props:r,attrs:o,vnode:{patchFlag:s}}=n,a=Ot(r),[l]=n.propsOptions;let u=!1;if((i||s>0)&&!(s&16)){if(s&8){const c=n.vnode.dynamicProps;for(let d=0;d<c.length;d++){let p=c[d];if(Ju(n.emitsOptions,p))continue;const h=e[p];if(l)if(Gt(o,p))h!==o[p]&&(o[p]=h,u=!0);else{const f=fn(p);r[f]=pp(l,a,f,h,n,!1)}else h!==o[p]&&(o[p]=h,u=!0)}}}else{Wm(n,e,r,o)&&(u=!0);let c;for(const d in a)(!e||!Gt(e,d)&&((c=ao(d))===d||!Gt(e,c)))&&(l?t&&(t[d]!==void 0||t[c]!==void 0)&&(r[d]=pp(l,a,d,void 0,n,!0)):delete r[d]);if(o!==a)for(const d in o)(!e||!Gt(e,d))&&(delete o[d],u=!0)}u&&Tr(n.attrs,"set","")}function Wm(n,e,t,i){const[r,o]=n.propsOptions;let s=!1,a;if(e)for(let l in e){if(qs(l))continue;const u=e[l];let c;r&&Gt(r,c=fn(l))?!o||!o.includes(c)?t[c]=u:(a||(a={}))[c]=u:Ju(n.emitsOptions,l)||(!(l in i)||u!==i[l])&&(i[l]=u,s=!0)}if(o){const l=Ot(t),u=a||Wt;for(let c=0;c<o.length;c++){const d=o[c];t[d]=pp(r,l,d,u[d],n,!Gt(u,d))}}return s}function pp(n,e,t,i,r,o){const s=n[t];if(s!=null){const a=Gt(s,"default");if(a&&i===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&_t(l)){const{propsDefaults:u}=r;if(t in u)i=u[t];else{const c=Ma(r);i=u[t]=l.call(null,e),c()}}else i=l;r.ce&&r.ce._setProp(t,i)}s[0]&&(o&&!a?i=!1:s[1]&&(i===""||i===ao(t))&&(i=!0))}return i}const _E=new WeakMap;function Um(n,e,t=!1){const i=t?_E:e.propsCache,r=i.get(n);if(r)return r;const o=n.props,s={},a=[];let l=!1;if(!_t(n)){const c=d=>{l=!0;const[p,h]=Um(d,e,!0);he(s,p),h&&a.push(...h)};!t&&e.mixins.length&&e.mixins.forEach(c),n.extends&&c(n.extends),n.mixins&&n.mixins.forEach(c)}if(!o&&!l)return Kt(n)&&i.set(n,Mo),Mo;if(vt(o))for(let c=0;c<o.length;c++){const d=fn(o[c]);Bf(d)&&(s[d]=Wt)}else if(o)for(const c in o){const d=fn(c);if(Bf(d)){const p=o[c],h=s[d]=vt(p)||_t(p)?{type:p}:he({},p),f=h.type;let g=!1,v=!0;if(vt(f))for(let m=0;m<f.length;++m){const w=f[m],b=_t(w)&&w.name;if(b==="Boolean"){g=!0;break}else b==="String"&&(v=!1)}else g=_t(f)&&f.name==="Boolean";h[0]=g,h[1]=v,(g||Gt(h,"default"))&&a.push(d)}}const u=[s,a];return Kt(n)&&i.set(n,u),u}function Bf(n){return n[0]!=="$"&&!qs(n)}const hh=n=>n[0]==="_"||n==="$stable",fh=n=>vt(n)?n.map(sr):[sr(n)],EE=(n,e,t)=>{if(e._n)return e;const i=Bs((...r)=>fh(e(...r)),t);return i._c=!1,i},zm=(n,e,t)=>{const i=n._ctx;for(const r in n){if(hh(r))continue;const o=n[r];if(_t(o))e[r]=EE(r,o,i);else if(o!=null){const s=fh(o);e[r]=()=>s}}},$m=(n,e)=>{const t=fh(e);n.slots.default=()=>t},Km=(n,e,t)=>{for(const i in e)(t||!hh(i))&&(n[i]=e[i])},bE=(n,e,t)=>{const i=n.slots=Bm();if(n.vnode.shapeFlag&32){const r=e._;r?(Km(i,e,t),t&&em(i,"_",r,!0)):zm(e,i)}else e&&$m(n,e)},RE=(n,e,t)=>{const{vnode:i,slots:r}=n;let o=!0,s=Wt;if(i.shapeFlag&32){const a=e._;a?t&&a===1?o=!1:Km(r,e,t):(o=!e.$stable,zm(e,r)),s=e}else e&&($m(n,e),s={default:1});if(o)for(const a in r)!hh(a)&&s[a]==null&&delete r[a]},ci=VE;function OE(n){return TE(n)}function TE(n,e){const t=Ku();t.__VUE__=!0;const{insert:i,remove:r,patchProp:o,createElement:s,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:p,setScopeId:h=Bi,insertStaticContent:f}=n,g=(R,T,H,Y=null,W=null,$=null,X=void 0,q=null,Q=!!T.dynamicChildren)=>{if(R===T)return;R&&!Bn(R,T)&&(Y=Ir(R),Pt(R,W,$,!0),R=null),T.patchFlag===-2&&(Q=!1,T.dynamicChildren=null);const{type:z,ref:ht,shapeFlag:et}=T;switch(z){case Zu:v(R,T,H,Y);break;case ze:m(R,T,H,Y);break;case Bl:R==null&&w(T,H,Y,X);break;case Zt:G(R,T,H,Y,W,$,X,q,Q);break;default:et&1?O(R,T,H,Y,W,$,X,q,Q):et&6?lt(R,T,H,Y,W,$,X,q,Q):(et&64||et&128)&&z.process(R,T,H,Y,W,$,X,q,Q,oi)}ht!=null&&W&&nu(ht,R&&R.ref,$,T||R,!T)},v=(R,T,H,Y)=>{if(R==null)i(T.el=a(T.children),H,Y);else{const W=T.el=R.el;T.children!==R.children&&u(W,T.children)}},m=(R,T,H,Y)=>{R==null?i(T.el=l(T.children||""),H,Y):T.el=R.el},w=(R,T,H,Y)=>{[R.el,R.anchor]=f(R.children,T,H,Y,R.el,R.anchor)},b=({el:R,anchor:T},H,Y)=>{let W;for(;R&&R!==T;)W=p(R),i(R,H,Y),R=W;i(T,H,Y)},E=({el:R,anchor:T})=>{let H;for(;R&&R!==T;)H=p(R),r(R),R=H;r(T)},O=(R,T,H,Y,W,$,X,q,Q)=>{T.type==="svg"?X="svg":T.type==="math"&&(X="mathml"),R==null?P(T,H,Y,W,$,X,q,Q):F(R,T,W,$,X,q,Q)},P=(R,T,H,Y,W,$,X,q)=>{let Q,z;const{props:ht,shapeFlag:et,transition:x,dirs:_}=R;if(Q=R.el=s(R.type,$,ht&&ht.is,ht),et&8?c(Q,R.children):et&16&&D(R.children,Q,null,Y,W,Nc(R,$),X,q),_&&Tn(R,null,Y,"created"),M(Q,R,R.scopeId,X,Y),ht){for(const ot in ht)ot!=="value"&&!qs(ot)&&o(Q,ot,null,ht[ot],$,Y);"value"in ht&&o(Q,"value",null,ht.value,$),(z=ht.onVnodeBeforeMount)&&qi(z,Y,R)}_&&Tn(R,null,Y,"beforeMount");const rt=xE(W,x);rt&&x.beforeEnter(Q),i(Q,T,H),((z=ht&&ht.onVnodeMounted)||rt||_)&&ci(()=>{z&&qi(z,Y,R),rt&&x.enter(Q),_&&Tn(R,null,Y,"mounted")},W)},M=(R,T,H,Y,W)=>{if(H&&h(R,H),Y)for(let $=0;$<Y.length;$++)h(R,Y[$]);if(W){let $=W.subTree;if(T===$||Zm($.type)&&($.ssContent===T||$.ssFallback===T)){const X=W.vnode;M(R,X,X.scopeId,X.slotScopeIds,W.parent)}}},D=(R,T,H,Y,W,$,X,q,Q=0)=>{for(let z=Q;z<R.length;z++){const ht=R[z]=q?en(R[z]):sr(R[z]);g(null,ht,T,H,Y,W,$,X,q)}},F=(R,T,H,Y,W,$,X)=>{const q=T.el=R.el;let{patchFlag:Q,dynamicChildren:z,dirs:ht}=T;Q|=R.patchFlag&16;const et=R.props||Wt,x=T.props||Wt;let _;if(H&&xn(H,!1),(_=x.onVnodeBeforeUpdate)&&qi(_,H,T,R),ht&&Tn(T,R,H,"beforeUpdate"),H&&xn(H,!0),(et.innerHTML&&x.innerHTML==null||et.textContent&&x.textContent==null)&&c(q,""),z?V(R.dynamicChildren,z,q,H,Y,Nc(T,W),$):X||ct(R,T,q,null,H,Y,Nc(T,W),$,!1),Q>0){if(Q&16)B(q,et,x,H,W);else if(Q&2&&et.class!==x.class&&o(q,"class",null,x.class,W),Q&4&&o(q,"style",et.style,x.style,W),Q&8){const rt=T.dynamicProps;for(let ot=0;ot<rt.length;ot++){const Ct=rt[ot],$t=et[Ct],xt=x[Ct];(xt!==$t||Ct==="value")&&o(q,Ct,$t,xt,W,H)}}Q&1&&R.children!==T.children&&c(q,T.children)}else!X&&z==null&&B(q,et,x,H,W);((_=x.onVnodeUpdated)||ht)&&ci(()=>{_&&qi(_,H,T,R),ht&&Tn(T,R,H,"updated")},Y)},V=(R,T,H,Y,W,$,X)=>{for(let q=0;q<T.length;q++){const Q=R[q],z=T[q],ht=Q.el&&(Q.type===Zt||!Bn(Q,z)||Q.shapeFlag&198)?d(Q.el):H;g(Q,z,ht,null,Y,W,$,X,!0)}},B=(R,T,H,Y,W)=>{if(T!==H){if(T!==Wt)for(const $ in T)!qs($)&&!($ in H)&&o(R,$,T[$],null,W,Y);for(const $ in H){if(qs($))continue;const X=H[$],q=T[$];X!==q&&$!=="value"&&o(R,$,q,X,W,Y)}"value"in H&&o(R,"value",T.value,H.value,W)}},G=(R,T,H,Y,W,$,X,q,Q)=>{const z=T.el=R?R.el:a(""),ht=T.anchor=R?R.anchor:a("");let{patchFlag:et,dynamicChildren:x,slotScopeIds:_}=T;_&&(q=q?q.concat(_):_),R==null?(i(z,H,Y),i(ht,H,Y),D(T.children||[],H,ht,W,$,X,q,Q)):et>0&&et&64&&x&&R.dynamicChildren?(V(R.dynamicChildren,x,H,W,$,X,q),(T.key!=null||W&&T===W.subTree)&&Ym(R,T,!0)):ct(R,T,H,ht,W,$,X,q,Q)},lt=(R,T,H,Y,W,$,X,q,Q)=>{T.slotScopeIds=q,R==null?T.shapeFlag&512?W.ctx.activate(T,H,Y,X,Q):yt(T,H,Y,W,$,X,Q):ut(R,T,Q)},yt=(R,T,H,Y,W,$,X)=>{const q=R.component=KE(R,Y,W);if(Xu(R)&&(q.ctx.renderer=oi),YE(q,!1,X),q.asyncDep){if(W&&W.registerDep(q,it,X),!R.el){const Q=q.subTree=qt(ze);m(null,Q,T,H)}}else it(q,R,T,H,W,$,X)},ut=(R,T,H)=>{const Y=T.component=R.component;if(GE(R,T,H))if(Y.asyncDep&&!Y.asyncResolved){J(Y,T,H);return}else Y.next=T,Y.update();else T.el=R.el,Y.vnode=T},it=(R,T,H,Y,W,$,X)=>{const q=()=>{if(R.isMounted){let{next:et,bu:x,u:_,parent:rt,vnode:ot}=R;{const ue=qm(R);if(ue){et&&(et.el=ot.el,J(R,et,X)),ue.asyncDep.then(()=>{R.isUnmounted||q()});return}}let Ct=et,$t;xn(R,!1),et?(et.el=ot.el,J(R,et,X)):et=ot,x&&Hl(x),($t=et.props&&et.props.onVnodeBeforeUpdate)&&qi($t,rt,et,ot),xn(R,!0);const xt=Gc(R),te=R.subTree;R.subTree=xt,g(te,xt,d(te.el),Ir(te),R,W,$),et.el=xt.el,Ct===null&&HE(R,xt.el),_&&ci(_,W),($t=et.props&&et.props.onVnodeUpdated)&&ci(()=>qi($t,rt,et,ot),W)}else{let et;const{el:x,props:_}=T,{bm:rt,m:ot,parent:Ct,root:$t,type:xt}=R,te=Js(T);if(xn(R,!1),rt&&Hl(rt),!te&&(et=_&&_.onVnodeBeforeMount)&&qi(et,Ct,T),xn(R,!0),x&&Yi){const ue=()=>{R.subTree=Gc(R),Yi(x,R.subTree,R,W,null)};te&&xt.__asyncHydrate?xt.__asyncHydrate(x,R,ue):ue()}else{$t.ce&&$t.ce._injectChildStyle(xt);const ue=R.subTree=Gc(R);g(null,ue,H,Y,R,W,$),T.el=ue.el}if(ot&&ci(ot,W),!te&&(et=_&&_.onVnodeMounted)){const ue=T;ci(()=>qi(et,Ct,ue),W)}(T.shapeFlag&256||Ct&&Js(Ct.vnode)&&Ct.vnode.shapeFlag&256)&&R.a&&ci(R.a,W),R.isMounted=!0,T=H=Y=null}};R.scope.on();const Q=R.effect=new om(q);R.scope.off();const z=R.update=Q.run.bind(Q),ht=R.job=Q.runIfDirty.bind(Q);ht.i=R,ht.id=R.uid,Q.scheduler=()=>ch(ht),xn(R,!0),z()},J=(R,T,H)=>{T.component=R;const Y=R.vnode.props;R.vnode=T,R.next=null,SE(R,T.props,Y,H),RE(R,T.children,H),Ar(),If(R),Fr()},ct=(R,T,H,Y,W,$,X,q,Q=!1)=>{const z=R&&R.children,ht=R?R.shapeFlag:0,et=T.children,{patchFlag:x,shapeFlag:_}=T;if(x>0){if(x&128){jt(z,et,H,Y,W,$,X,q,Q);return}else if(x&256){Rt(z,et,H,Y,W,$,X,q,Q);return}}_&8?(ht&16&&Jt(z,W,$),et!==z&&c(H,et)):ht&16?_&16?jt(z,et,H,Y,W,$,X,q,Q):Jt(z,W,$,!0):(ht&8&&c(H,""),_&16&&D(et,H,Y,W,$,X,q,Q))},Rt=(R,T,H,Y,W,$,X,q,Q)=>{R=R||Mo,T=T||Mo;const z=R.length,ht=T.length,et=Math.min(z,ht);let x;for(x=0;x<et;x++){const _=T[x]=Q?en(T[x]):sr(T[x]);g(R[x],_,H,null,W,$,X,q,Q)}z>ht?Jt(R,W,$,!0,!1,et):D(T,H,Y,W,$,X,q,Q,et)},jt=(R,T,H,Y,W,$,X,q,Q)=>{let z=0;const ht=T.length;let et=R.length-1,x=ht-1;for(;z<=et&&z<=x;){const _=R[z],rt=T[z]=Q?en(T[z]):sr(T[z]);if(Bn(_,rt))g(_,rt,H,null,W,$,X,q,Q);else break;z++}for(;z<=et&&z<=x;){const _=R[et],rt=T[x]=Q?en(T[x]):sr(T[x]);if(Bn(_,rt))g(_,rt,H,null,W,$,X,q,Q);else break;et--,x--}if(z>et){if(z<=x){const _=x+1,rt=_<ht?T[_].el:Y;for(;z<=x;)g(null,T[z]=Q?en(T[z]):sr(T[z]),H,rt,W,$,X,q,Q),z++}}else if(z>x)for(;z<=et;)Pt(R[z],W,$,!0),z++;else{const _=z,rt=z,ot=new Map;for(z=rt;z<=x;z++){const Ae=T[z]=Q?en(T[z]):sr(T[z]);Ae.key!=null&&ot.set(Ae.key,z)}let Ct,$t=0;const xt=x-rt+1;let te=!1,ue=0;const Nr=new Array(xt);for(z=0;z<xt;z++)Nr[z]=0;for(z=_;z<=et;z++){const Ae=R[z];if($t>=xt){Pt(Ae,W,$,!0);continue}let si;if(Ae.key!=null)si=ot.get(Ae.key);else for(Ct=rt;Ct<=x;Ct++)if(Nr[Ct-rt]===0&&Bn(Ae,T[Ct])){si=Ct;break}si===void 0?Pt(Ae,W,$,!0):(Nr[si-rt]=z+1,si>=ue?ue=si:te=!0,g(Ae,T[si],H,null,W,$,X,q,Q),$t++)}const ts=te?PE(Nr):Mo;for(Ct=ts.length-1,z=xt-1;z>=0;z--){const Ae=rt+z,si=T[Ae],es=Ae+1<ht?T[Ae+1].el:Y;Nr[z]===0?g(null,si,H,es,W,$,X,q,Q):te&&(Ct<0||z!==ts[Ct]?ge(si,H,es,2):Ct--)}}},ge=(R,T,H,Y,W=null)=>{const{el:$,type:X,transition:q,children:Q,shapeFlag:z}=R;if(z&6){ge(R.component.subTree,T,H,Y);return}if(z&128){R.suspense.move(T,H,Y);return}if(z&64){X.move(R,T,H,oi);return}if(X===Zt){i($,T,H);for(let et=0;et<Q.length;et++)ge(Q[et],T,H,Y);i(R.anchor,T,H);return}if(X===Bl){b(R,T,H);return}if(Y!==2&&z&1&&q)if(Y===0)q.beforeEnter($),i($,T,H),ci(()=>q.enter($),W);else{const{leave:et,delayLeave:x,afterLeave:_}=q,rt=()=>{R.ctx.isUnmounted?r($):i($,T,H)},ot=()=>{et($,()=>{rt(),_&&_()})};x?x($,rt,ot):ot()}else i($,T,H)},Pt=(R,T,H,Y=!1,W=!1)=>{const{type:$,props:X,ref:q,children:Q,dynamicChildren:z,shapeFlag:ht,patchFlag:et,dirs:x,cacheIndex:_}=R;if(et===-2&&(W=!1),q!=null&&(Ar(),nu(q,null,H,R,!0),Fr()),_!=null&&(T.renderCache[_]=void 0),ht&256){T.ctx.deactivate(R);return}const rt=ht&1&&x,ot=!Js(R);let Ct;if(ot&&(Ct=X&&X.onVnodeBeforeUnmount)&&qi(Ct,T,R),ht&6)vr(R.component,H,Y);else{if(ht&128){R.suspense.unmount(H,Y);return}rt&&Tn(R,null,T,"beforeUnmount"),ht&64?R.type.remove(R,T,H,oi,Y):z&&!z.hasOnce&&($!==Zt||et>0&&et&64)?Jt(z,T,H,!1,!0):($===Zt&&et&384||!W&&ht&16)&&Jt(Q,T,H),Y&&ni(R)}(ot&&(Ct=X&&X.onVnodeUnmounted)||rt)&&ci(()=>{Ct&&qi(Ct,T,R),rt&&Tn(R,null,T,"unmounted")},H)},ni=R=>{const{type:T,el:H,anchor:Y,transition:W}=R;if(T===Zt){Mi(H,Y);return}if(T===Bl){E(R);return}const $=()=>{r(H),W&&!W.persisted&&W.afterLeave&&W.afterLeave()};if(R.shapeFlag&1&&W&&!W.persisted){const{leave:X,delayLeave:q}=W,Q=()=>X(H,$);q?q(R.el,$,Q):Q()}else $()},Mi=(R,T)=>{let H;for(;R!==T;)H=p(R),r(R),R=H;r(T)},vr=(R,T,H)=>{const{bum:Y,scope:W,job:$,subTree:X,um:q,m:Q,a:z,parent:ht,slots:{__:et}}=R;jf(Q),jf(z),Y&&Hl(Y),ht&&vt(et)&&et.forEach(x=>{ht.renderCache[x]=void 0}),W.stop(),$&&($.flags|=8,Pt(X,R,T,H)),q&&ci(q,T),ci(()=>{R.isUnmounted=!0},T),T&&T.pendingBranch&&!T.isUnmounted&&R.asyncDep&&!R.asyncResolved&&R.suspenseId===T.pendingId&&(T.deps--,T.deps===0&&T.resolve())},Jt=(R,T,H,Y=!1,W=!1,$=0)=>{for(let X=$;X<R.length;X++)Pt(R[X],T,H,Y,W)},Ir=R=>{if(R.shapeFlag&6)return Ir(R.component.subTree);if(R.shapeFlag&128)return R.suspense.next();const T=p(R.anchor||R.el),H=T&&T[X_];return H?p(H):T};let bn=!1;const Rn=(R,T,H)=>{R==null?T._vnode&&Pt(T._vnode,null,null,!0):g(T._vnode||null,R,T,null,null,null,H),T._vnode=R,bn||(bn=!0,If(),Om(),bn=!1)},oi={p:g,um:Pt,m:ge,r:ni,mt:yt,mc:D,pc:ct,pbc:V,n:Ir,o:n};let On,Yi;return e&&([On,Yi]=e(oi)),{render:Rn,hydrate:On,createApp:mE(Rn,On)}}function Nc({type:n,props:e},t){return t==="svg"&&n==="foreignObject"||t==="mathml"&&n==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function xn({effect:n,job:e},t){t?(n.flags|=32,e.flags|=4):(n.flags&=-33,e.flags&=-5)}function xE(n,e){return(!n||n&&!n.pendingBranch)&&e&&!e.persisted}function Ym(n,e,t=!1){const i=n.children,r=e.children;if(vt(i)&&vt(r))for(let o=0;o<i.length;o++){const s=i[o];let a=r[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[o]=en(r[o]),a.el=s.el),!t&&a.patchFlag!==-2&&Ym(s,a)),a.type===Zu&&(a.el=s.el),a.type===ze&&!a.el&&(a.el=s.el)}}function PE(n){const e=n.slice(),t=[0];let i,r,o,s,a;const l=n.length;for(i=0;i<l;i++){const u=n[i];if(u!==0){if(r=t[t.length-1],n[r]<u){e[i]=r,t.push(i);continue}for(o=0,s=t.length-1;o<s;)a=o+s>>1,n[t[a]]<u?o=a+1:s=a;u<n[t[o]]&&(o>0&&(e[i]=t[o-1]),t[o]=i)}}for(o=t.length,s=t[o-1];o-- >0;)t[o]=s,s=e[s];return t}function qm(n){const e=n.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:qm(e)}function jf(n){if(n)for(let e=0;e<n.length;e++)n[e].flags|=8}const DE=Symbol.for("v-scx"),AE=()=>kl(DE);function cr(n,e,t){return Xm(n,e,t)}function Xm(n,e,t=Wt){const{immediate:i,deep:r,flush:o,once:s}=t,a=he({},t),l=e&&i||!e&&o!=="post";let u;if(pa){if(o==="sync"){const h=AE();u=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=Bi,h.resume=Bi,h.pause=Bi,h}}const c=Ie;a.call=(h,f,g)=>zi(h,c,f,g);let d=!1;o==="post"?a.scheduler=h=>{ci(h,c&&c.suspense)}:o!=="sync"&&(d=!0,a.scheduler=(h,f)=>{f?h():ch(h)}),a.augmentJob=h=>{e&&(h.flags|=4),d&&(h.flags|=2,c&&(h.id=c.uid,h.i=c))};const p=z_(n,e,a);return pa&&(u?u.push(p):l&&p()),p}function FE(n,e,t){const i=this.proxy,r=le(n)?n.includes(".")?Qm(i,n):()=>i[n]:n.bind(i,i);let o;_t(e)?o=e:(o=e.handler,t=e);const s=Ma(this),a=Xm(r,o.bind(i),t);return s(),a}function Qm(n,e){const t=e.split(".");return()=>{let i=n;for(let r=0;r<t.length&&i;r++)i=i[t[r]];return i}}const ME=(n,e)=>e==="modelValue"||e==="model-value"?n.modelModifiers:n[`${e}Modifiers`]||n[`${fn(e)}Modifiers`]||n[`${ao(e)}Modifiers`];function LE(n,e,...t){if(n.isUnmounted)return;const i=n.vnode.props||Wt;let r=t;const o=e.startsWith("update:"),s=o&&ME(i,e.slice(7));s&&(s.trim&&(r=t.map(c=>le(c)?c.trim():c)),s.number&&(r=t.map(rp)));let a,l=i[a=Pc(e)]||i[a=Pc(fn(e))];!l&&o&&(l=i[a=Pc(ao(e))]),l&&zi(l,n,6,r);const u=i[a+"Once"];if(u){if(!n.emitted)n.emitted={};else if(n.emitted[a])return;n.emitted[a]=!0,zi(u,n,6,r)}}function Jm(n,e,t=!1){const i=e.emitsCache,r=i.get(n);if(r!==void 0)return r;const o=n.emits;let s={},a=!1;if(!_t(n)){const l=u=>{const c=Jm(u,e,!0);c&&(a=!0,he(s,c))};!t&&e.mixins.length&&e.mixins.forEach(l),n.extends&&l(n.extends),n.mixins&&n.mixins.forEach(l)}return!o&&!a?(Kt(n)&&i.set(n,null),null):(vt(o)?o.forEach(l=>s[l]=null):he(s,o),Kt(n)&&i.set(n,s),s)}function Ju(n,e){return!n||!Uu(e)?!1:(e=e.slice(2).replace(/Once$/,""),Gt(n,e[0].toLowerCase()+e.slice(1))||Gt(n,ao(e))||Gt(n,e))}function Gc(n){const{type:e,vnode:t,proxy:i,withProxy:r,propsOptions:[o],slots:s,attrs:a,emit:l,render:u,renderCache:c,props:d,data:p,setupState:h,ctx:f,inheritAttrs:g}=n,v=ru(n);let m,w;try{if(t.shapeFlag&4){const E=r||i,O=E;m=sr(u.call(O,E,c,d,h,p,f)),w=a}else{const E=e;m=sr(E.length>1?E(d,{attrs:a,slots:s,emit:l}):E(d,null)),w=e.props?a:IE(a)}}catch(E){ta.length=0,qu(E,n,1),m=qt(ze)}let b=m;if(w&&g!==!1){const E=Object.keys(w),{shapeFlag:O}=b;E.length&&O&7&&(o&&E.some(Zp)&&(w=NE(w,o)),b=vn(b,w,!1,!0))}return t.dirs&&(b=vn(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(t.dirs):t.dirs),t.transition&&ca(b,t.transition),m=b,ru(v),m}const IE=n=>{let e;for(const t in n)(t==="class"||t==="style"||Uu(t))&&((e||(e={}))[t]=n[t]);return e},NE=(n,e)=>{const t={};for(const i in n)(!Zp(i)||!(i.slice(9)in e))&&(t[i]=n[i]);return t};function GE(n,e,t){const{props:i,children:r,component:o}=n,{props:s,children:a,patchFlag:l}=e,u=o.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&l>=0){if(l&1024)return!0;if(l&16)return i?Wf(i,s,u):!!s;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const p=c[d];if(s[p]!==i[p]&&!Ju(u,p))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:i===s?!1:i?s?Wf(i,s,u):!0:!!s;return!1}function Wf(n,e,t){const i=Object.keys(e);if(i.length!==Object.keys(n).length)return!0;for(let r=0;r<i.length;r++){const o=i[r];if(e[o]!==n[o]&&!Ju(t,o))return!0}return!1}function HE({vnode:n,parent:e},t){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===n&&(i.el=n.el),i===n)(n=e.vnode).el=t,e=e.parent;else break}}const Zm=n=>n.__isSuspense;function VE(n,e){e&&e.pendingBranch?vt(n)?e.effects.push(...n):e.effects.push(n):Y_(n)}const Zt=Symbol.for("v-fgt"),Zu=Symbol.for("v-txt"),ze=Symbol.for("v-cmt"),Bl=Symbol.for("v-stc"),ta=[];let gi=null;function st(n=!1){ta.push(gi=n?null:[])}function kE(){ta.pop(),gi=ta[ta.length-1]||null}let da=1;function Uf(n,e=!1){da+=n,n<0&&gi&&e&&(gi.hasOnce=!0)}function tC(n){return n.dynamicChildren=da>0?gi||Mo:null,kE(),da>0&&gi&&gi.push(n),n}function at(n,e,t,i,r,o){return tC(S(n,e,t,i,r,o,!0))}function BE(n,e,t,i,r){return tC(qt(n,e,t,i,r,!0))}function su(n){return n?n.__v_isVNode===!0:!1}function Bn(n,e){return n.type===e.type&&n.key===e.key}const eC=({key:n})=>n??null,jl=({ref:n,ref_key:e,ref_for:t})=>(typeof n=="number"&&(n=""+n),n!=null?le(n)||He(n)||_t(n)?{i:fi,r:n,k:e,f:!!t}:n:null);function S(n,e=null,t=null,i=0,r=null,o=n===Zt?0:1,s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&eC(e),ref:e&&jl(e),scopeId:xm,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:fi};return a?(gh(l,t),o&128&&n.normalize(l)):t&&(l.shapeFlag|=le(t)?8:16),da>0&&!s&&gi&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&gi.push(l),l}const qt=jE;function jE(n,e=null,t=null,i=0,r=null,o=!1){if((!n||n===cE)&&(n=ze),su(n)){const a=vn(n,e,!0);return t&&gh(a,t),da>0&&!o&&gi&&(a.shapeFlag&6?gi[gi.indexOf(n)]=a:gi.push(a)),a.patchFlag=-2,a}if(JE(n)&&(n=n.__vccOpts),e){e=WE(e);let{class:a,style:l}=e;a&&!le(a)&&(e.class=Lt(a)),Kt(l)&&(Aa(l)&&!vt(l)&&(l=he({},l)),e.style=ih(l))}const s=le(n)?1:Zm(n)?128:Pm(n)?64:Kt(n)?4:_t(n)?2:0;return S(n,e,t,i,r,s,o,!0)}function WE(n){return n?Aa(n)||jm(n)?he({},n):n:null}function vn(n,e,t=!1,i=!1){const{props:r,ref:o,patchFlag:s,children:a,transition:l}=n,u=e?UE(r||{},e):r,c={__v_isVNode:!0,__v_skip:!0,type:n.type,props:u,key:u&&eC(u),ref:e&&e.ref?t&&o?vt(o)?o.concat(jl(e)):[o,jl(e)]:jl(e):o,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:a,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==Zt?s===-1?16:s|16:s,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:l,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&vn(n.ssContent),ssFallback:n.ssFallback&&vn(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return l&&i&&ca(c,l.clone(c)),c}function je(n=" ",e=0){return qt(Zu,null,n,e)}function Hc(n,e){const t=qt(Bl,null,n);return t.staticCount=e,t}function ve(n="",e=!1){return e?(st(),BE(ze,null,n)):qt(ze,null,n)}function sr(n){return n==null||typeof n=="boolean"?qt(ze):vt(n)?qt(Zt,null,n.slice()):su(n)?en(n):qt(Zu,null,String(n))}function en(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:vn(n)}function gh(n,e){let t=0;const{shapeFlag:i}=n;if(e==null)e=null;else if(vt(e))t=16;else if(typeof e=="object")if(i&65){const r=e.default;r&&(r._c&&(r._d=!1),gh(n,r()),r._c&&(r._d=!0));return}else{t=32;const r=e._;!r&&!jm(e)?e._ctx=fi:r===3&&fi&&(fi.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else _t(e)?(e={default:e,_ctx:fi},t=32):(e=String(e),i&64?(t=16,e=[je(e)]):t=8);n.children=e,n.shapeFlag|=t}function UE(...n){const e={};for(let t=0;t<n.length;t++){const i=n[t];for(const r in i)if(r==="class")e.class!==i.class&&(e.class=Lt([e.class,i.class]));else if(r==="style")e.style=ih([e.style,i.style]);else if(Uu(r)){const o=e[r],s=i[r];s&&o!==s&&!(vt(o)&&o.includes(s))&&(e[r]=o?[].concat(o,s):s)}else r!==""&&(e[r]=i[r])}return e}function qi(n,e,t,i=null){zi(n,e,7,[t,i])}const zE=Vm();let $E=0;function KE(n,e,t){const i=n.type,r=(e?e.appContext:n.appContext)||zE,o={uid:$E++,vnode:n,type:i,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new C_(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Um(i,r),emitsOptions:Jm(i,r),emit:null,emitted:null,propsDefaults:Wt,inheritAttrs:i.inheritAttrs,ctx:Wt,data:Wt,props:Wt,attrs:Wt,slots:Wt,refs:Wt,setupState:Wt,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=LE.bind(null,o),n.ce&&n.ce(o),o}let Ie=null;const iC=()=>Ie||fi;let au,hp;{const n=Ku(),e=(t,i)=>{let r;return(r=n[t])||(r=n[t]=[]),r.push(i),o=>{r.length>1?r.forEach(s=>s(o)):r[0](o)}};au=e("__VUE_INSTANCE_SETTERS__",t=>Ie=t),hp=e("__VUE_SSR_SETTERS__",t=>pa=t)}const Ma=n=>{const e=Ie;return au(n),n.scope.on(),()=>{n.scope.off(),au(e)}},zf=()=>{Ie&&Ie.scope.off(),au(null)};function rC(n){return n.vnode.shapeFlag&4}let pa=!1;function YE(n,e=!1,t=!1){e&&hp(e);const{props:i,children:r}=n.vnode,o=rC(n);wE(n,i,o,e),bE(n,r,t||e);const s=o?qE(n,e):void 0;return e&&hp(!1),s}function qE(n,e){const t=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,dE);const{setup:i}=t;if(i){Ar();const r=n.setupContext=i.length>1?QE(n):null,o=Ma(n),s=Fa(i,n,0,[n.props,r]),a=Qy(s);if(Fr(),o(),(a||n.sp)&&!Js(n)&&Im(n),a){if(s.then(zf,zf),e)return s.then(l=>{$f(n,l,e)}).catch(l=>{qu(l,n,0)});n.asyncDep=s}else $f(n,s,e)}else nC(n,e)}function $f(n,e,t){_t(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:Kt(e)&&(n.setupState=_m(e)),nC(n,t)}let Kf;function nC(n,e,t){const i=n.type;if(!n.render){if(!e&&Kf&&!i.render){const r=i.template||ph(n).template;if(r){const{isCustomElement:o,compilerOptions:s}=n.appContext.config,{delimiters:a,compilerOptions:l}=i,u=he(he({isCustomElement:o,delimiters:a},s),l);i.render=Kf(r,u)}}n.render=i.render||Bi}{const r=Ma(n);Ar();try{pE(n)}finally{Fr(),r()}}}const XE={get(n,e){return Le(n,"get",""),n[e]}};function QE(n){const e=t=>{n.exposed=t||{}};return{attrs:new Proxy(n.attrs,XE),slots:n.slots,emit:n.emit,expose:e}}function tc(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(_m(Vl(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in Zs)return Zs[t](n)},has(e,t){return t in e||t in Zs}})):n.proxy}function JE(n){return _t(n)&&"__vccOpts"in n}const Oe=(n,e)=>W_(n,e,pa);function ha(n,e,t){const i=arguments.length;return i===2?Kt(e)&&!vt(e)?su(e)?qt(n,null,[e]):qt(n,e):qt(n,null,e):(i>3?t=Array.prototype.slice.call(arguments,2):i===3&&su(t)&&(t=[t]),qt(n,e,t))}const oC="3.5.15";/**
* @vue/runtime-dom v3.5.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let fp;const Yf=typeof window<"u"&&window.trustedTypes;if(Yf)try{fp=Yf.createPolicy("vue",{createHTML:n=>n})}catch{}const sC=fp?n=>fp.createHTML(n):n=>n,ZE="http://www.w3.org/2000/svg",tb="http://www.w3.org/1998/Math/MathML",Rr=typeof document<"u"?document:null,qf=Rr&&Rr.createElement("template"),eb={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,i)=>{const r=e==="svg"?Rr.createElementNS(ZE,n):e==="mathml"?Rr.createElementNS(tb,n):t?Rr.createElement(n,{is:t}):Rr.createElement(n);return n==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:n=>Rr.createTextNode(n),createComment:n=>Rr.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>Rr.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},insertStaticContent(n,e,t,i,r,o){const s=t?t.previousSibling:e.lastChild;if(r&&(r===o||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),t),!(r===o||!(r=r.nextSibling)););else{qf.innerHTML=sC(i==="svg"?`<svg>${n}</svg>`:i==="mathml"?`<math>${n}</math>`:n);const a=qf.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,t)}return[s?s.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},Gr="transition",rs="animation",fa=Symbol("_vtc"),aC={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},ib=he({},Dm,aC),rb=n=>(n.displayName="Transition",n.props=ib,n),Ua=rb((n,{slots:e})=>ha(Z_,nb(n),e)),Pn=(n,e=[])=>{vt(n)?n.forEach(t=>t(...e)):n&&n(...e)},Xf=n=>n?vt(n)?n.some(e=>e.length>1):n.length>1:!1;function nb(n){const e={};for(const G in n)G in aC||(e[G]=n[G]);if(n.css===!1)return e;const{name:t="v",type:i,duration:r,enterFromClass:o=`${t}-enter-from`,enterActiveClass:s=`${t}-enter-active`,enterToClass:a=`${t}-enter-to`,appearFromClass:l=o,appearActiveClass:u=s,appearToClass:c=a,leaveFromClass:d=`${t}-leave-from`,leaveActiveClass:p=`${t}-leave-active`,leaveToClass:h=`${t}-leave-to`}=n,f=ob(r),g=f&&f[0],v=f&&f[1],{onBeforeEnter:m,onEnter:w,onEnterCancelled:b,onLeave:E,onLeaveCancelled:O,onBeforeAppear:P=m,onAppear:M=w,onAppearCancelled:D=b}=e,F=(G,lt,yt,ut)=>{G._enterCancelled=ut,Dn(G,lt?c:a),Dn(G,lt?u:s),yt&&yt()},V=(G,lt)=>{G._isLeaving=!1,Dn(G,d),Dn(G,h),Dn(G,p),lt&&lt()},B=G=>(lt,yt)=>{const ut=G?M:w,it=()=>F(lt,G,yt);Pn(ut,[lt,it]),Qf(()=>{Dn(lt,G?l:o),mr(lt,G?c:a),Xf(ut)||Jf(lt,i,g,it)})};return he(e,{onBeforeEnter(G){Pn(m,[G]),mr(G,o),mr(G,s)},onBeforeAppear(G){Pn(P,[G]),mr(G,l),mr(G,u)},onEnter:B(!1),onAppear:B(!0),onLeave(G,lt){G._isLeaving=!0;const yt=()=>V(G,lt);mr(G,d),G._enterCancelled?(mr(G,p),eg()):(eg(),mr(G,p)),Qf(()=>{G._isLeaving&&(Dn(G,d),mr(G,h),Xf(E)||Jf(G,i,v,yt))}),Pn(E,[G,yt])},onEnterCancelled(G){F(G,!1,void 0,!0),Pn(b,[G])},onAppearCancelled(G){F(G,!0,void 0,!0),Pn(D,[G])},onLeaveCancelled(G){V(G),Pn(O,[G])}})}function ob(n){if(n==null)return null;if(Kt(n))return[Vc(n.enter),Vc(n.leave)];{const e=Vc(n);return[e,e]}}function Vc(n){return p_(n)}function mr(n,e){e.split(/\s+/).forEach(t=>t&&n.classList.add(t)),(n[fa]||(n[fa]=new Set)).add(e)}function Dn(n,e){e.split(/\s+/).forEach(i=>i&&n.classList.remove(i));const t=n[fa];t&&(t.delete(e),t.size||(n[fa]=void 0))}function Qf(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let sb=0;function Jf(n,e,t,i){const r=n._endId=++sb,o=()=>{r===n._endId&&i()};if(t!=null)return setTimeout(o,t);const{type:s,timeout:a,propCount:l}=ab(n,e);if(!s)return i();const u=s+"end";let c=0;const d=()=>{n.removeEventListener(u,p),o()},p=h=>{h.target===n&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},a+1),n.addEventListener(u,p)}function ab(n,e){const t=window.getComputedStyle(n),i=f=>(t[f]||"").split(", "),r=i(`${Gr}Delay`),o=i(`${Gr}Duration`),s=Zf(r,o),a=i(`${rs}Delay`),l=i(`${rs}Duration`),u=Zf(a,l);let c=null,d=0,p=0;e===Gr?s>0&&(c=Gr,d=s,p=o.length):e===rs?u>0&&(c=rs,d=u,p=l.length):(d=Math.max(s,u),c=d>0?s>u?Gr:rs:null,p=c?c===Gr?o.length:l.length:0);const h=c===Gr&&/\b(transform|all)(,|$)/.test(i(`${Gr}Property`).toString());return{type:c,timeout:d,propCount:p,hasTransform:h}}function Zf(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max(...e.map((t,i)=>tg(t)+tg(n[i])))}function tg(n){return n==="auto"?0:Number(n.slice(0,-1).replace(",","."))*1e3}function eg(){return document.body.offsetHeight}function lb(n,e,t){const i=n[fa];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}const ig=Symbol("_vod"),ub=Symbol("_vsh"),cb=Symbol(""),db=/(^|;)\s*display\s*:/;function pb(n,e,t){const i=n.style,r=le(t);let o=!1;if(t&&!r){if(e)if(le(e))for(const s of e.split(";")){const a=s.slice(0,s.indexOf(":")).trim();t[a]==null&&Wl(i,a,"")}else for(const s in e)t[s]==null&&Wl(i,s,"");for(const s in t)s==="display"&&(o=!0),Wl(i,s,t[s])}else if(r){if(e!==t){const s=i[cb];s&&(t+=";"+s),i.cssText=t,o=db.test(t)}}else e&&n.removeAttribute("style");ig in n&&(n[ig]=o?i.display:"",n[ub]&&(i.display="none"))}const rg=/\s*!important$/;function Wl(n,e,t){if(vt(t))t.forEach(i=>Wl(n,e,i));else if(t==null&&(t=""),e.startsWith("--"))n.setProperty(e,t);else{const i=hb(n,e);rg.test(t)?n.setProperty(ao(i),t.replace(rg,""),"important"):n[i]=t}}const ng=["Webkit","Moz","ms"],kc={};function hb(n,e){const t=kc[e];if(t)return t;let i=fn(e);if(i!=="filter"&&i in n)return kc[e]=i;i=tm(i);for(let r=0;r<ng.length;r++){const o=ng[r]+i;if(o in n)return kc[e]=o}return e}const og="http://www.w3.org/1999/xlink";function sg(n,e,t,i,r,o=m_(e)){i&&e.startsWith("xlink:")?t==null?n.removeAttributeNS(og,e.slice(6,e.length)):n.setAttributeNS(og,e,t):t==null||o&&!im(t)?n.removeAttribute(e):n.setAttribute(e,o?"":mn(t)?String(t):t)}function ag(n,e,t,i,r){if(e==="innerHTML"||e==="textContent"){t!=null&&(n[e]=e==="innerHTML"?sC(t):t);return}const o=n.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){const a=o==="OPTION"?n.getAttribute("value")||"":n.value,l=t==null?n.type==="checkbox"?"on":"":String(t);(a!==l||!("_value"in n))&&(n.value=l),t==null&&n.removeAttribute(e),n._value=t;return}let s=!1;if(t===""||t==null){const a=typeof n[e];a==="boolean"?t=im(t):t==null&&a==="string"?(t="",s=!0):a==="number"&&(t=0,s=!0)}try{n[e]=t}catch{}s&&n.removeAttribute(r||e)}function To(n,e,t,i){n.addEventListener(e,t,i)}function fb(n,e,t,i){n.removeEventListener(e,t,i)}const lg=Symbol("_vei");function gb(n,e,t,i,r=null){const o=n[lg]||(n[lg]={}),s=o[e];if(i&&s)s.value=i;else{const[a,l]=vb(e);if(i){const u=o[e]=Cb(i,r);To(n,a,u,l)}else s&&(fb(n,a,s,l),o[e]=void 0)}}const ug=/(?:Once|Passive|Capture)$/;function vb(n){let e;if(ug.test(n)){e={};let i;for(;i=n.match(ug);)n=n.slice(0,n.length-i[0].length),e[i[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):ao(n.slice(2)),e]}let Bc=0;const yb=Promise.resolve(),mb=()=>Bc||(yb.then(()=>Bc=0),Bc=Date.now());function Cb(n,e){const t=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=t.attached)return;zi(wb(i,t.value),e,5,[i])};return t.value=n,t.attached=mb(),t}function wb(n,e){if(vt(e)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(i=>r=>!r._stopped&&i&&i(r))}else return e}const cg=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,Sb=(n,e,t,i,r,o)=>{const s=r==="svg";e==="class"?lb(n,i,s):e==="style"?pb(n,t,i):Uu(e)?Zp(e)||gb(n,e,t,i,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):_b(n,e,i,s))?(ag(n,e,i),!n.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&sg(n,e,i,s,o,e!=="value")):n._isVueCE&&(/[A-Z]/.test(e)||!le(i))?ag(n,fn(e),i,o,e):(e==="true-value"?n._trueValue=i:e==="false-value"&&(n._falseValue=i),sg(n,e,i,s))};function _b(n,e,t,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in n&&cg(e)&&_t(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=n.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return cg(e)&&le(t)?!1:e in n}const dg=n=>{const e=n.props["onUpdate:modelValue"]||!1;return vt(e)?t=>Hl(e,t):e};function Eb(n){n.target.composing=!0}function pg(n){const e=n.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const jc=Symbol("_assign"),bb={created(n,{modifiers:{lazy:e,trim:t,number:i}},r){n[jc]=dg(r);const o=i||r.props&&r.props.type==="number";To(n,e?"change":"input",s=>{if(s.target.composing)return;let a=n.value;t&&(a=a.trim()),o&&(a=rp(a)),n[jc](a)}),t&&To(n,"change",()=>{n.value=n.value.trim()}),e||(To(n,"compositionstart",Eb),To(n,"compositionend",pg),To(n,"change",pg))},mounted(n,{value:e}){n.value=e??""},beforeUpdate(n,{value:e,oldValue:t,modifiers:{lazy:i,trim:r,number:o}},s){if(n[jc]=dg(s),n.composing)return;const a=(o||n.type==="number")&&!/^0\d/.test(n.value)?rp(n.value):n.value,l=e??"";a!==l&&(document.activeElement===n&&n.type!=="range"&&(i&&e===t||r&&n.value.trim()===l)||(n.value=l))}},Rb=["ctrl","shift","alt","meta"],Ob={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,e)=>Rb.some(t=>n[`${t}Key`]&&!e.includes(t))},za=(n,e)=>{const t=n._withMods||(n._withMods={}),i=e.join(".");return t[i]||(t[i]=(r,...o)=>{for(let s=0;s<e.length;s++){const a=Ob[e[s]];if(a&&a(r,e))return}return n(r,...o)})},Tb=he({patchProp:Sb},eb);let hg;function lC(){return hg||(hg=OE(Tb))}const fg=(...n)=>{lC().render(...n)},xb=(...n)=>{const e=lC().createApp(...n),{mount:t}=e;return e.mount=i=>{const r=Db(i);if(!r)return;const o=e._component;!_t(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const s=t(r,!1,Pb(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),s},e};function Pb(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function Db(n){return le(n)?document.querySelector(n):n}function uC(n,e){return function(){return n.apply(e,arguments)}}const{toString:Ab}=Object.prototype,{getPrototypeOf:vh}=Object,{iterator:ec,toStringTag:cC}=Symbol,ic=(n=>e=>{const t=Ab.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),$i=n=>(n=n.toLowerCase(),e=>ic(e)===n),rc=n=>e=>typeof e===n,{isArray:Qo}=Array,ga=rc("undefined");function Fb(n){return n!==null&&!ga(n)&&n.constructor!==null&&!ga(n.constructor)&&ri(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const dC=$i("ArrayBuffer");function Mb(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&dC(n.buffer),e}const Lb=rc("string"),ri=rc("function"),pC=rc("number"),nc=n=>n!==null&&typeof n=="object",Ib=n=>n===!0||n===!1,Ul=n=>{if(ic(n)!=="object")return!1;const e=vh(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(cC in n)&&!(ec in n)},Nb=$i("Date"),Gb=$i("File"),Hb=$i("Blob"),Vb=$i("FileList"),kb=n=>nc(n)&&ri(n.pipe),Bb=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||ri(n.append)&&((e=ic(n))==="formdata"||e==="object"&&ri(n.toString)&&n.toString()==="[object FormData]"))},jb=$i("URLSearchParams"),[Wb,Ub,zb,$b]=["ReadableStream","Request","Response","Headers"].map($i),Kb=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function La(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,r;if(typeof n!="object"&&(n=[n]),Qo(n))for(i=0,r=n.length;i<r;i++)e.call(null,n[i],i,n);else{const o=t?Object.getOwnPropertyNames(n):Object.keys(n),s=o.length;let a;for(i=0;i<s;i++)a=o[i],e.call(null,n[a],a,n)}}function hC(n,e){e=e.toLowerCase();const t=Object.keys(n);let i=t.length,r;for(;i-- >0;)if(r=t[i],e===r.toLowerCase())return r;return null}const Wn=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),fC=n=>!ga(n)&&n!==Wn;function gp(){const{caseless:n}=fC(this)&&this||{},e={},t=(i,r)=>{const o=n&&hC(e,r)||r;Ul(e[o])&&Ul(i)?e[o]=gp(e[o],i):Ul(i)?e[o]=gp({},i):Qo(i)?e[o]=i.slice():e[o]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&La(arguments[i],t);return e}const Yb=(n,e,t,{allOwnKeys:i}={})=>(La(e,(r,o)=>{t&&ri(r)?n[o]=uC(r,t):n[o]=r},{allOwnKeys:i}),n),qb=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),Xb=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},Qb=(n,e,t,i)=>{let r,o,s;const a={};if(e=e||{},n==null)return e;do{for(r=Object.getOwnPropertyNames(n),o=r.length;o-- >0;)s=r[o],(!i||i(s,n,e))&&!a[s]&&(e[s]=n[s],a[s]=!0);n=t!==!1&&vh(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},Jb=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},Zb=n=>{if(!n)return null;if(Qo(n))return n;let e=n.length;if(!pC(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},tR=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&vh(Uint8Array)),eR=(n,e)=>{const i=(n&&n[ec]).call(n);let r;for(;(r=i.next())&&!r.done;){const o=r.value;e.call(n,o[0],o[1])}},iR=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},rR=$i("HTMLFormElement"),nR=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,r){return i.toUpperCase()+r}),gg=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),oR=$i("RegExp"),gC=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};La(t,(r,o)=>{let s;(s=e(r,o,n))!==!1&&(i[o]=s||r)}),Object.defineProperties(n,i)},sR=n=>{gC(n,(e,t)=>{if(ri(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(ri(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},aR=(n,e)=>{const t={},i=r=>{r.forEach(o=>{t[o]=!0})};return Qo(n)?i(n):i(String(n).split(e)),t},lR=()=>{},uR=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function cR(n){return!!(n&&ri(n.append)&&n[cC]==="FormData"&&n[ec])}const dR=n=>{const e=new Array(10),t=(i,r)=>{if(nc(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[r]=i;const o=Qo(i)?[]:{};return La(i,(s,a)=>{const l=t(s,r+1);!ga(l)&&(o[a]=l)}),e[r]=void 0,o}}return i};return t(n,0)},pR=$i("AsyncFunction"),hR=n=>n&&(nc(n)||ri(n))&&ri(n.then)&&ri(n.catch),vC=((n,e)=>n?setImmediate:e?((t,i)=>(Wn.addEventListener("message",({source:r,data:o})=>{r===Wn&&o===t&&i.length&&i.shift()()},!1),r=>{i.push(r),Wn.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",ri(Wn.postMessage)),fR=typeof queueMicrotask<"u"?queueMicrotask.bind(Wn):typeof process<"u"&&process.nextTick||vC,gR=n=>n!=null&&ri(n[ec]),I={isArray:Qo,isArrayBuffer:dC,isBuffer:Fb,isFormData:Bb,isArrayBufferView:Mb,isString:Lb,isNumber:pC,isBoolean:Ib,isObject:nc,isPlainObject:Ul,isReadableStream:Wb,isRequest:Ub,isResponse:zb,isHeaders:$b,isUndefined:ga,isDate:Nb,isFile:Gb,isBlob:Hb,isRegExp:oR,isFunction:ri,isStream:kb,isURLSearchParams:jb,isTypedArray:tR,isFileList:Vb,forEach:La,merge:gp,extend:Yb,trim:Kb,stripBOM:qb,inherits:Xb,toFlatObject:Qb,kindOf:ic,kindOfTest:$i,endsWith:Jb,toArray:Zb,forEachEntry:eR,matchAll:iR,isHTMLForm:rR,hasOwnProperty:gg,hasOwnProp:gg,reduceDescriptors:gC,freezeMethods:sR,toObjectSet:aR,toCamelCase:nR,noop:lR,toFiniteNumber:uR,findKey:hC,global:Wn,isContextDefined:fC,isSpecCompliantForm:cR,toJSONObject:dR,isAsyncFn:pR,isThenable:hR,setImmediate:vC,asap:fR,isIterable:gR};function Et(n,e,t,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}I.inherits(Et,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:I.toJSONObject(this.config),code:this.code,status:this.status}}});const yC=Et.prototype,mC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{mC[n]={value:n}});Object.defineProperties(Et,mC);Object.defineProperty(yC,"isAxiosError",{value:!0});Et.from=(n,e,t,i,r,o)=>{const s=Object.create(yC);return I.toFlatObject(n,s,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Et.call(s,n.message,e,t,i,r),s.cause=n,s.name=n.name,o&&Object.assign(s,o),s};const vR=null;function vp(n){return I.isPlainObject(n)||I.isArray(n)}function CC(n){return I.endsWith(n,"[]")?n.slice(0,-2):n}function vg(n,e,t){return n?n.concat(e).map(function(r,o){return r=CC(r),!t&&o?"["+r+"]":r}).join(t?".":""):e}function yR(n){return I.isArray(n)&&!n.some(vp)}const mR=I.toFlatObject(I,{},null,function(e){return/^is[A-Z]/.test(e)});function oc(n,e,t){if(!I.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=I.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,v){return!I.isUndefined(v[g])});const i=t.metaTokens,r=t.visitor||c,o=t.dots,s=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&I.isSpecCompliantForm(e);if(!I.isFunction(r))throw new TypeError("visitor must be a function");function u(f){if(f===null)return"";if(I.isDate(f))return f.toISOString();if(!l&&I.isBlob(f))throw new Et("Blob is not supported. Use a Buffer instead.");return I.isArrayBuffer(f)||I.isTypedArray(f)?l&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function c(f,g,v){let m=f;if(f&&!v&&typeof f=="object"){if(I.endsWith(g,"{}"))g=i?g:g.slice(0,-2),f=JSON.stringify(f);else if(I.isArray(f)&&yR(f)||(I.isFileList(f)||I.endsWith(g,"[]"))&&(m=I.toArray(f)))return g=CC(g),m.forEach(function(b,E){!(I.isUndefined(b)||b===null)&&e.append(s===!0?vg([g],E,o):s===null?g:g+"[]",u(b))}),!1}return vp(f)?!0:(e.append(vg(v,g,o),u(f)),!1)}const d=[],p=Object.assign(mR,{defaultVisitor:c,convertValue:u,isVisitable:vp});function h(f,g){if(!I.isUndefined(f)){if(d.indexOf(f)!==-1)throw Error("Circular reference detected in "+g.join("."));d.push(f),I.forEach(f,function(m,w){(!(I.isUndefined(m)||m===null)&&r.call(e,m,I.isString(w)?w.trim():w,g,p))===!0&&h(m,g?g.concat(w):[w])}),d.pop()}}if(!I.isObject(n))throw new TypeError("data must be an object");return h(n),e}function yg(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function yh(n,e){this._pairs=[],n&&oc(n,this,e)}const wC=yh.prototype;wC.append=function(e,t){this._pairs.push([e,t])};wC.toString=function(e){const t=e?function(i){return e.call(this,i,yg)}:yg;return this._pairs.map(function(r){return t(r[0])+"="+t(r[1])},"").join("&")};function CR(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function SC(n,e,t){if(!e)return n;const i=t&&t.encode||CR;I.isFunction(t)&&(t={serialize:t});const r=t&&t.serialize;let o;if(r?o=r(e,t):o=I.isURLSearchParams(e)?e.toString():new yh(e,t).toString(i),o){const s=n.indexOf("#");s!==-1&&(n=n.slice(0,s)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class wR{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){I.forEach(this.handlers,function(i){i!==null&&e(i)})}}const mg=wR,_C={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},SR=typeof URLSearchParams<"u"?URLSearchParams:yh,_R=typeof FormData<"u"?FormData:null,ER=typeof Blob<"u"?Blob:null,bR={isBrowser:!0,classes:{URLSearchParams:SR,FormData:_R,Blob:ER},protocols:["http","https","file","blob","url","data"]},mh=typeof window<"u"&&typeof document<"u",yp=typeof navigator=="object"&&navigator||void 0,RR=mh&&(!yp||["ReactNative","NativeScript","NS"].indexOf(yp.product)<0),OR=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),TR=mh&&window.location.href||"http://localhost",xR=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:mh,hasStandardBrowserEnv:RR,hasStandardBrowserWebWorkerEnv:OR,navigator:yp,origin:TR},Symbol.toStringTag,{value:"Module"})),Ne={...xR,...bR};function PR(n,e){return oc(n,new Ne.classes.URLSearchParams,Object.assign({visitor:function(t,i,r,o){return Ne.isNode&&I.isBuffer(t)?(this.append(i,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function DR(n){return I.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function AR(n){const e={},t=Object.keys(n);let i;const r=t.length;let o;for(i=0;i<r;i++)o=t[i],e[o]=n[o];return e}function EC(n){function e(t,i,r,o){let s=t[o++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),l=o>=t.length;return s=!s&&I.isArray(r)?r.length:s,l?(I.hasOwnProp(r,s)?r[s]=[r[s],i]:r[s]=i,!a):((!r[s]||!I.isObject(r[s]))&&(r[s]=[]),e(t,i,r[s],o)&&I.isArray(r[s])&&(r[s]=AR(r[s])),!a)}if(I.isFormData(n)&&I.isFunction(n.entries)){const t={};return I.forEachEntry(n,(i,r)=>{e(DR(i),r,t,0)}),t}return null}function FR(n,e,t){if(I.isString(n))try{return(e||JSON.parse)(n),I.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}const Ch={transitional:_C,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",r=i.indexOf("application/json")>-1,o=I.isObject(e);if(o&&I.isHTMLForm(e)&&(e=new FormData(e)),I.isFormData(e))return r?JSON.stringify(EC(e)):e;if(I.isArrayBuffer(e)||I.isBuffer(e)||I.isStream(e)||I.isFile(e)||I.isBlob(e)||I.isReadableStream(e))return e;if(I.isArrayBufferView(e))return e.buffer;if(I.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return PR(e,this.formSerializer).toString();if((a=I.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return oc(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),FR(e)):e}],transformResponse:[function(e){const t=this.transitional||Ch.transitional,i=t&&t.forcedJSONParsing,r=this.responseType==="json";if(I.isResponse(e)||I.isReadableStream(e))return e;if(e&&I.isString(e)&&(i&&!this.responseType||r)){const s=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?Et.from(a,Et.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ne.classes.FormData,Blob:Ne.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};I.forEach(["delete","get","head","post","put","patch"],n=>{Ch.headers[n]={}});const wh=Ch,MR=I.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),LR=n=>{const e={};let t,i,r;return n&&n.split(`
`).forEach(function(s){r=s.indexOf(":"),t=s.substring(0,r).trim().toLowerCase(),i=s.substring(r+1).trim(),!(!t||e[t]&&MR[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},Cg=Symbol("internals");function ns(n){return n&&String(n).trim().toLowerCase()}function zl(n){return n===!1||n==null?n:I.isArray(n)?n.map(zl):String(n)}function IR(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const NR=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Wc(n,e,t,i,r){if(I.isFunction(i))return i.call(this,e,t);if(r&&(e=t),!!I.isString(e)){if(I.isString(i))return e.indexOf(i)!==-1;if(I.isRegExp(i))return i.test(e)}}function GR(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function HR(n,e){const t=I.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(r,o,s){return this[i].call(this,e,r,o,s)},configurable:!0})})}class sc{constructor(e){e&&this.set(e)}set(e,t,i){const r=this;function o(a,l,u){const c=ns(l);if(!c)throw new Error("header name must be a non-empty string");const d=I.findKey(r,c);(!d||r[d]===void 0||u===!0||u===void 0&&r[d]!==!1)&&(r[d||l]=zl(a))}const s=(a,l)=>I.forEach(a,(u,c)=>o(u,c,l));if(I.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(I.isString(e)&&(e=e.trim())&&!NR(e))s(LR(e),t);else if(I.isObject(e)&&I.isIterable(e)){let a={},l,u;for(const c of e){if(!I.isArray(c))throw TypeError("Object iterator must return a key-value pair");a[u=c[0]]=(l=a[u])?I.isArray(l)?[...l,c[1]]:[l,c[1]]:c[1]}s(a,t)}else e!=null&&o(t,e,i);return this}get(e,t){if(e=ns(e),e){const i=I.findKey(this,e);if(i){const r=this[i];if(!t)return r;if(t===!0)return IR(r);if(I.isFunction(t))return t.call(this,r,i);if(I.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ns(e),e){const i=I.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||Wc(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let r=!1;function o(s){if(s=ns(s),s){const a=I.findKey(i,s);a&&(!t||Wc(i,i[a],a,t))&&(delete i[a],r=!0)}}return I.isArray(e)?e.forEach(o):o(e),r}clear(e){const t=Object.keys(this);let i=t.length,r=!1;for(;i--;){const o=t[i];(!e||Wc(this,this[o],o,e,!0))&&(delete this[o],r=!0)}return r}normalize(e){const t=this,i={};return I.forEach(this,(r,o)=>{const s=I.findKey(i,o);if(s){t[s]=zl(r),delete t[o];return}const a=e?GR(o):String(o).trim();a!==o&&delete t[o],t[a]=zl(r),i[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return I.forEach(this,(i,r)=>{i!=null&&i!==!1&&(t[r]=e&&I.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[Cg]=this[Cg]={accessors:{}}).accessors,r=this.prototype;function o(s){const a=ns(s);i[a]||(HR(r,s),i[a]=!0)}return I.isArray(e)?e.forEach(o):o(e),this}}sc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);I.reduceDescriptors(sc.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[t]=i}}});I.freezeMethods(sc);const Wi=sc;function Uc(n,e){const t=this||wh,i=e||t,r=Wi.from(i.headers);let o=i.data;return I.forEach(n,function(a){o=a.call(t,o,r.normalize(),e?e.status:void 0)}),r.normalize(),o}function bC(n){return!!(n&&n.__CANCEL__)}function Jo(n,e,t){Et.call(this,n??"canceled",Et.ERR_CANCELED,e,t),this.name="CanceledError"}I.inherits(Jo,Et,{__CANCEL__:!0});function RC(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new Et("Request failed with status code "+t.status,[Et.ERR_BAD_REQUEST,Et.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function VR(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function kR(n,e){n=n||10;const t=new Array(n),i=new Array(n);let r=0,o=0,s;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=i[o];s||(s=u),t[r]=l,i[r]=u;let d=o,p=0;for(;d!==r;)p+=t[d++],d=d%n;if(r=(r+1)%n,r===o&&(o=(o+1)%n),u-s<e)return;const h=c&&u-c;return h?Math.round(p*1e3/h):void 0}}function BR(n,e){let t=0,i=1e3/e,r,o;const s=(u,c=Date.now())=>{t=c,r=null,o&&(clearTimeout(o),o=null),n.apply(null,u)};return[(...u)=>{const c=Date.now(),d=c-t;d>=i?s(u,c):(r=u,o||(o=setTimeout(()=>{o=null,s(r)},i-d)))},()=>r&&s(r)]}const lu=(n,e,t=3)=>{let i=0;const r=kR(50,250);return BR(o=>{const s=o.loaded,a=o.lengthComputable?o.total:void 0,l=s-i,u=r(l),c=s<=a;i=s;const d={loaded:s,total:a,progress:a?s/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&c?(a-s)/u:void 0,event:o,lengthComputable:a!=null,[e?"download":"upload"]:!0};n(d)},t)},wg=(n,e)=>{const t=n!=null;return[i=>e[0]({lengthComputable:t,total:n,loaded:i}),e[1]]},Sg=n=>(...e)=>I.asap(()=>n(...e)),jR=Ne.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Ne.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Ne.origin),Ne.navigator&&/(msie|trident)/i.test(Ne.navigator.userAgent)):()=>!0,WR=Ne.hasStandardBrowserEnv?{write(n,e,t,i,r,o){const s=[n+"="+encodeURIComponent(e)];I.isNumber(t)&&s.push("expires="+new Date(t).toGMTString()),I.isString(i)&&s.push("path="+i),I.isString(r)&&s.push("domain="+r),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function UR(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function zR(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function OC(n,e,t){let i=!UR(e);return n&&(i||t==!1)?zR(n,e):e}const _g=n=>n instanceof Wi?{...n}:n;function eo(n,e){e=e||{};const t={};function i(u,c,d,p){return I.isPlainObject(u)&&I.isPlainObject(c)?I.merge.call({caseless:p},u,c):I.isPlainObject(c)?I.merge({},c):I.isArray(c)?c.slice():c}function r(u,c,d,p){if(I.isUndefined(c)){if(!I.isUndefined(u))return i(void 0,u,d,p)}else return i(u,c,d,p)}function o(u,c){if(!I.isUndefined(c))return i(void 0,c)}function s(u,c){if(I.isUndefined(c)){if(!I.isUndefined(u))return i(void 0,u)}else return i(void 0,c)}function a(u,c,d){if(d in e)return i(u,c);if(d in n)return i(void 0,u)}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(u,c,d)=>r(_g(u),_g(c),d,!0)};return I.forEach(Object.keys(Object.assign({},n,e)),function(c){const d=l[c]||r,p=d(n[c],e[c],c);I.isUndefined(p)&&d!==a||(t[c]=p)}),t}const TC=n=>{const e=eo({},n);let{data:t,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:o,headers:s,auth:a}=e;e.headers=s=Wi.from(s),e.url=SC(OC(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(I.isFormData(t)){if(Ne.hasStandardBrowserEnv||Ne.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((l=s.getContentType())!==!1){const[u,...c]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];s.setContentType([u||"multipart/form-data",...c].join("; "))}}if(Ne.hasStandardBrowserEnv&&(i&&I.isFunction(i)&&(i=i(e)),i||i!==!1&&jR(e.url))){const u=r&&o&&WR.read(o);u&&s.set(r,u)}return e},$R=typeof XMLHttpRequest<"u",KR=$R&&function(n){return new Promise(function(t,i){const r=TC(n);let o=r.data;const s=Wi.from(r.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=r,c,d,p,h,f;function g(){h&&h(),f&&f(),r.cancelToken&&r.cancelToken.unsubscribe(c),r.signal&&r.signal.removeEventListener("abort",c)}let v=new XMLHttpRequest;v.open(r.method.toUpperCase(),r.url,!0),v.timeout=r.timeout;function m(){if(!v)return;const b=Wi.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),O={data:!a||a==="text"||a==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:b,config:n,request:v};RC(function(M){t(M),g()},function(M){i(M),g()},O),v=null}"onloadend"in v?v.onloadend=m:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(m)},v.onabort=function(){v&&(i(new Et("Request aborted",Et.ECONNABORTED,n,v)),v=null)},v.onerror=function(){i(new Et("Network Error",Et.ERR_NETWORK,n,v)),v=null},v.ontimeout=function(){let E=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const O=r.transitional||_C;r.timeoutErrorMessage&&(E=r.timeoutErrorMessage),i(new Et(E,O.clarifyTimeoutError?Et.ETIMEDOUT:Et.ECONNABORTED,n,v)),v=null},o===void 0&&s.setContentType(null),"setRequestHeader"in v&&I.forEach(s.toJSON(),function(E,O){v.setRequestHeader(O,E)}),I.isUndefined(r.withCredentials)||(v.withCredentials=!!r.withCredentials),a&&a!=="json"&&(v.responseType=r.responseType),u&&([p,f]=lu(u,!0),v.addEventListener("progress",p)),l&&v.upload&&([d,h]=lu(l),v.upload.addEventListener("progress",d),v.upload.addEventListener("loadend",h)),(r.cancelToken||r.signal)&&(c=b=>{v&&(i(!b||b.type?new Jo(null,n,v):b),v.abort(),v=null)},r.cancelToken&&r.cancelToken.subscribe(c),r.signal&&(r.signal.aborted?c():r.signal.addEventListener("abort",c)));const w=VR(r.url);if(w&&Ne.protocols.indexOf(w)===-1){i(new Et("Unsupported protocol "+w+":",Et.ERR_BAD_REQUEST,n));return}v.send(o||null)})},YR=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let i=new AbortController,r;const o=function(u){if(!r){r=!0,a();const c=u instanceof Error?u:this.reason;i.abort(c instanceof Et?c:new Jo(c instanceof Error?c.message:c))}};let s=e&&setTimeout(()=>{s=null,o(new Et(`timeout ${e} of ms exceeded`,Et.ETIMEDOUT))},e);const a=()=>{n&&(s&&clearTimeout(s),s=null,n.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),n=null)};n.forEach(u=>u.addEventListener("abort",o));const{signal:l}=i;return l.unsubscribe=()=>I.asap(a),l}},qR=YR,XR=function*(n,e){let t=n.byteLength;if(!e||t<e){yield n;return}let i=0,r;for(;i<t;)r=i+e,yield n.slice(i,r),i=r},QR=async function*(n,e){for await(const t of JR(n))yield*XR(t,e)},JR=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},Eg=(n,e,t,i)=>{const r=QR(n,e);let o=0,s,a=l=>{s||(s=!0,i&&i(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await r.next();if(u){a(),l.close();return}let d=c.byteLength;if(t){let p=o+=d;t(p)}l.enqueue(new Uint8Array(c))}catch(u){throw a(u),u}},cancel(l){return a(l),r.return()}},{highWaterMark:2})},ac=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",xC=ac&&typeof ReadableStream=="function",ZR=ac&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),PC=(n,...e)=>{try{return!!n(...e)}catch{return!1}},t0=xC&&PC(()=>{let n=!1;const e=new Request(Ne.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),bg=64*1024,mp=xC&&PC(()=>I.isReadableStream(new Response("").body)),uu={stream:mp&&(n=>n.body)};ac&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!uu[e]&&(uu[e]=I.isFunction(n[e])?t=>t[e]():(t,i)=>{throw new Et(`Response type '${e}' is not supported`,Et.ERR_NOT_SUPPORT,i)})})})(new Response);const e0=async n=>{if(n==null)return 0;if(I.isBlob(n))return n.size;if(I.isSpecCompliantForm(n))return(await new Request(Ne.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(I.isArrayBufferView(n)||I.isArrayBuffer(n))return n.byteLength;if(I.isURLSearchParams(n)&&(n=n+""),I.isString(n))return(await ZR(n)).byteLength},i0=async(n,e)=>{const t=I.toFiniteNumber(n.getContentLength());return t??e0(e)},r0=ac&&(async n=>{let{url:e,method:t,data:i,signal:r,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:c,withCredentials:d="same-origin",fetchOptions:p}=TC(n);u=u?(u+"").toLowerCase():"text";let h=qR([r,o&&o.toAbortSignal()],s),f;const g=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let v;try{if(l&&t0&&t!=="get"&&t!=="head"&&(v=await i0(c,i))!==0){let O=new Request(e,{method:"POST",body:i,duplex:"half"}),P;if(I.isFormData(i)&&(P=O.headers.get("content-type"))&&c.setContentType(P),O.body){const[M,D]=wg(v,lu(Sg(l)));i=Eg(O.body,bg,M,D)}}I.isString(d)||(d=d?"include":"omit");const m="credentials"in Request.prototype;f=new Request(e,{...p,signal:h,method:t.toUpperCase(),headers:c.normalize().toJSON(),body:i,duplex:"half",credentials:m?d:void 0});let w=await fetch(f);const b=mp&&(u==="stream"||u==="response");if(mp&&(a||b&&g)){const O={};["status","statusText","headers"].forEach(F=>{O[F]=w[F]});const P=I.toFiniteNumber(w.headers.get("content-length")),[M,D]=a&&wg(P,lu(Sg(a),!0))||[];w=new Response(Eg(w.body,bg,M,()=>{D&&D(),g&&g()}),O)}u=u||"text";let E=await uu[I.findKey(uu,u)||"text"](w,n);return!b&&g&&g(),await new Promise((O,P)=>{RC(O,P,{data:E,headers:Wi.from(w.headers),status:w.status,statusText:w.statusText,config:n,request:f})})}catch(m){throw g&&g(),m&&m.name==="TypeError"&&/Load failed|fetch/i.test(m.message)?Object.assign(new Et("Network Error",Et.ERR_NETWORK,n,f),{cause:m.cause||m}):Et.from(m,m&&m.code,n,f)}}),Cp={http:vR,xhr:KR,fetch:r0};I.forEach(Cp,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const Rg=n=>`- ${n}`,n0=n=>I.isFunction(n)||n===null||n===!1,DC={getAdapter:n=>{n=I.isArray(n)?n:[n];const{length:e}=n;let t,i;const r={};for(let o=0;o<e;o++){t=n[o];let s;if(i=t,!n0(t)&&(i=Cp[(s=String(t)).toLowerCase()],i===void 0))throw new Et(`Unknown adapter '${s}'`);if(i)break;r[s||"#"+o]=i}if(!i){const o=Object.entries(r).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let s=e?o.length>1?`since :
`+o.map(Rg).join(`
`):" "+Rg(o[0]):"as no adapter specified";throw new Et("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return i},adapters:Cp};function zc(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Jo(null,n)}function Og(n){return zc(n),n.headers=Wi.from(n.headers),n.data=Uc.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),DC.getAdapter(n.adapter||wh.adapter)(n).then(function(i){return zc(n),i.data=Uc.call(n,n.transformResponse,i),i.headers=Wi.from(i.headers),i},function(i){return bC(i)||(zc(n),i&&i.response&&(i.response.data=Uc.call(n,n.transformResponse,i.response),i.response.headers=Wi.from(i.response.headers))),Promise.reject(i)})}const AC="1.9.0",lc={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{lc[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const Tg={};lc.transitional=function(e,t,i){function r(o,s){return"[Axios v"+AC+"] Transitional option '"+o+"'"+s+(i?". "+i:"")}return(o,s,a)=>{if(e===!1)throw new Et(r(s," has been removed"+(t?" in "+t:"")),Et.ERR_DEPRECATED);return t&&!Tg[s]&&(Tg[s]=!0,console.warn(r(s," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,s,a):!0}};lc.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function o0(n,e,t){if(typeof n!="object")throw new Et("options must be an object",Et.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let r=i.length;for(;r-- >0;){const o=i[r],s=e[o];if(s){const a=n[o],l=a===void 0||s(a,o,n);if(l!==!0)throw new Et("option "+o+" must be "+l,Et.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Et("Unknown option "+o,Et.ERR_BAD_OPTION)}}const $l={assertOptions:o0,validators:lc},Xi=$l.validators;class cu{constructor(e){this.defaults=e||{},this.interceptors={request:new mg,response:new mg}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const o=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?o&&!String(i.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+o):i.stack=o}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=eo(this.defaults,t);const{transitional:i,paramsSerializer:r,headers:o}=t;i!==void 0&&$l.assertOptions(i,{silentJSONParsing:Xi.transitional(Xi.boolean),forcedJSONParsing:Xi.transitional(Xi.boolean),clarifyTimeoutError:Xi.transitional(Xi.boolean)},!1),r!=null&&(I.isFunction(r)?t.paramsSerializer={serialize:r}:$l.assertOptions(r,{encode:Xi.function,serialize:Xi.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),$l.assertOptions(t,{baseUrl:Xi.spelling("baseURL"),withXsrfToken:Xi.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=o&&I.merge(o.common,o[t.method]);o&&I.forEach(["delete","get","head","post","put","patch","common"],f=>{delete o[f]}),t.headers=Wi.concat(s,o);const a=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(t)===!1||(l=l&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let c,d=0,p;if(!l){const f=[Og.bind(this),void 0];for(f.unshift.apply(f,a),f.push.apply(f,u),p=f.length,c=Promise.resolve(t);d<p;)c=c.then(f[d++],f[d++]);return c}p=a.length;let h=t;for(d=0;d<p;){const f=a[d++],g=a[d++];try{h=f(h)}catch(v){g.call(this,v);break}}try{c=Og.call(this,h)}catch(f){return Promise.reject(f)}for(d=0,p=u.length;d<p;)c=c.then(u[d++],u[d++]);return c}getUri(e){e=eo(this.defaults,e);const t=OC(e.baseURL,e.url,e.allowAbsoluteUrls);return SC(t,e.params,e.paramsSerializer)}}I.forEach(["delete","get","head","options"],function(e){cu.prototype[e]=function(t,i){return this.request(eo(i||{},{method:e,url:t,data:(i||{}).data}))}});I.forEach(["post","put","patch"],function(e){function t(i){return function(o,s,a){return this.request(eo(a||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}cu.prototype[e]=t(),cu.prototype[e+"Form"]=t(!0)});const Kl=cu;class Sh{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const i=this;this.promise.then(r=>{if(!i._listeners)return;let o=i._listeners.length;for(;o-- >0;)i._listeners[o](r);i._listeners=null}),this.promise.then=r=>{let o;const s=new Promise(a=>{i.subscribe(a),o=a}).then(r);return s.cancel=function(){i.unsubscribe(o)},s},e(function(o,s,a){i.reason||(i.reason=new Jo(o,s,a),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Sh(function(r){e=r}),cancel:e}}}const s0=Sh;function a0(n){return function(t){return n.apply(null,t)}}function l0(n){return I.isObject(n)&&n.isAxiosError===!0}const wp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(wp).forEach(([n,e])=>{wp[e]=n});const u0=wp;function FC(n){const e=new Kl(n),t=uC(Kl.prototype.request,e);return I.extend(t,Kl.prototype,e,{allOwnKeys:!0}),I.extend(t,e,null,{allOwnKeys:!0}),t.create=function(r){return FC(eo(n,r))},t}const fe=FC(wh);fe.Axios=Kl;fe.CanceledError=Jo;fe.CancelToken=s0;fe.isCancel=bC;fe.VERSION=AC;fe.toFormData=oc;fe.AxiosError=Et;fe.Cancel=fe.CanceledError;fe.all=function(e){return Promise.all(e)};fe.spread=a0;fe.isAxiosError=l0;fe.mergeConfig=eo;fe.AxiosHeaders=Wi;fe.formToJSON=n=>EC(I.isHTMLForm(n)?new FormData(n):n);fe.getAdapter=DC.getAdapter;fe.HttpStatusCode=u0;fe.default=fe;const os=fe;/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ia(n){return n+.5|0}const on=(n,e,t)=>Math.max(Math.min(n,t),e);function Ws(n){return on(Ia(n*2.55),0,255)}function dn(n){return on(Ia(n*255),0,255)}function Or(n){return on(Ia(n/2.55)/100,0,1)}function xg(n){return on(Ia(n*100),0,100)}const Ci={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Sp=[..."0123456789ABCDEF"],c0=n=>Sp[n&15],d0=n=>Sp[(n&240)>>4]+Sp[n&15],$a=n=>(n&240)>>4===(n&15),p0=n=>$a(n.r)&&$a(n.g)&&$a(n.b)&&$a(n.a);function h0(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&Ci[n[1]]*17,g:255&Ci[n[2]]*17,b:255&Ci[n[3]]*17,a:e===5?Ci[n[4]]*17:255}:(e===7||e===9)&&(t={r:Ci[n[1]]<<4|Ci[n[2]],g:Ci[n[3]]<<4|Ci[n[4]],b:Ci[n[5]]<<4|Ci[n[6]],a:e===9?Ci[n[7]]<<4|Ci[n[8]]:255})),t}const f0=(n,e)=>n<255?e(n):"";function g0(n){var e=p0(n)?c0:d0;return n?"#"+e(n.r)+e(n.g)+e(n.b)+f0(n.a,e):void 0}const v0=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function MC(n,e,t){const i=e*Math.min(t,1-t),r=(o,s=(o+n/30)%12)=>t-i*Math.max(Math.min(s-3,9-s,1),-1);return[r(0),r(8),r(4)]}function y0(n,e,t){const i=(r,o=(r+n/60)%6)=>t-t*e*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function m0(n,e,t){const i=MC(n,1,.5);let r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)i[r]*=1-e-t,i[r]+=e;return i}function C0(n,e,t,i,r){return n===r?(e-t)/i+(e<t?6:0):e===r?(t-n)/i+2:(n-e)/i+4}function _h(n){const t=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(t,i,r),s=Math.min(t,i,r),a=(o+s)/2;let l,u,c;return o!==s&&(c=o-s,u=a>.5?c/(2-o-s):c/(o+s),l=C0(t,i,r,c,o),l=l*60+.5),[l|0,u||0,a]}function Eh(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(dn)}function bh(n,e,t){return Eh(MC,n,e,t)}function w0(n,e,t){return Eh(m0,n,e,t)}function S0(n,e,t){return Eh(y0,n,e,t)}function LC(n){return(n%360+360)%360}function _0(n){const e=v0.exec(n);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?Ws(+e[5]):dn(+e[5]));const r=LC(+e[2]),o=+e[3]/100,s=+e[4]/100;return e[1]==="hwb"?i=w0(r,o,s):e[1]==="hsv"?i=S0(r,o,s):i=bh(r,o,s),{r:i[0],g:i[1],b:i[2],a:t}}function E0(n,e){var t=_h(n);t[0]=LC(t[0]+e),t=bh(t),n.r=t[0],n.g=t[1],n.b=t[2]}function b0(n){if(!n)return;const e=_h(n),t=e[0],i=xg(e[1]),r=xg(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${r}%, ${Or(n.a)})`:`hsl(${t}, ${i}%, ${r}%)`}const Pg={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Dg={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function R0(){const n={},e=Object.keys(Dg),t=Object.keys(Pg);let i,r,o,s,a;for(i=0;i<e.length;i++){for(s=a=e[i],r=0;r<t.length;r++)o=t[r],a=a.replace(o,Pg[o]);o=parseInt(Dg[s],16),n[a]=[o>>16&255,o>>8&255,o&255]}return n}let Ka;function O0(n){Ka||(Ka=R0(),Ka.transparent=[0,0,0,0]);const e=Ka[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const T0=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function x0(n){const e=T0.exec(n);let t=255,i,r,o;if(e){if(e[7]!==i){const s=+e[7];t=e[8]?Ws(s):on(s*255,0,255)}return i=+e[1],r=+e[3],o=+e[5],i=255&(e[2]?Ws(i):on(i,0,255)),r=255&(e[4]?Ws(r):on(r,0,255)),o=255&(e[6]?Ws(o):on(o,0,255)),{r:i,g:r,b:o,a:t}}}function P0(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Or(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const $c=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,vo=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function D0(n,e,t){const i=vo(Or(n.r)),r=vo(Or(n.g)),o=vo(Or(n.b));return{r:dn($c(i+t*(vo(Or(e.r))-i))),g:dn($c(r+t*(vo(Or(e.g))-r))),b:dn($c(o+t*(vo(Or(e.b))-o))),a:n.a+t*(e.a-n.a)}}function Ya(n,e,t){if(n){let i=_h(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=bh(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function IC(n,e){return n&&Object.assign(e||{},n)}function Ag(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=dn(n[3]))):(e=IC(n,{r:0,g:0,b:0,a:1}),e.a=dn(e.a)),e}function A0(n){return n.charAt(0)==="r"?x0(n):_0(n)}class va{constructor(e){if(e instanceof va)return e;const t=typeof e;let i;t==="object"?i=Ag(e):t==="string"&&(i=h0(e)||O0(e)||A0(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=IC(this._rgb);return e&&(e.a=Or(e.a)),e}set rgb(e){this._rgb=Ag(e)}rgbString(){return this._valid?P0(this._rgb):void 0}hexString(){return this._valid?g0(this._rgb):void 0}hslString(){return this._valid?b0(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,r=e.rgb;let o;const s=t===o?.5:t,a=2*s-1,l=i.a-r.a,u=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;o=1-u,i.r=255&u*i.r+o*r.r+.5,i.g=255&u*i.g+o*r.g+.5,i.b=255&u*i.b+o*r.b+.5,i.a=s*i.a+(1-s)*r.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=D0(this._rgb,e._rgb,t)),this}clone(){return new va(this.rgb)}alpha(e){return this._rgb.a=dn(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Ia(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Ya(this._rgb,2,e),this}darken(e){return Ya(this._rgb,2,-e),this}saturate(e){return Ya(this._rgb,1,e),this}desaturate(e){return Ya(this._rgb,1,-e),this}rotate(e){return E0(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Cr(){}const F0=(()=>{let n=0;return()=>n++})();function Ht(n){return n==null}function Qt(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function It(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function _e(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function di(n,e){return _e(n)?n:e}function Nt(n,e){return typeof n>"u"?e:n}const M0=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,NC=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function zt(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function kt(n,e,t,i){let r,o,s;if(Qt(n))if(o=n.length,i)for(r=o-1;r>=0;r--)e.call(t,n[r],r);else for(r=0;r<o;r++)e.call(t,n[r],r);else if(It(n))for(s=Object.keys(n),o=s.length,r=0;r<o;r++)e.call(t,n[s[r]],s[r])}function du(n,e){let t,i,r,o;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(r=n[t],o=e[t],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function pu(n){if(Qt(n))return n.map(pu);if(It(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let r=0;for(;r<i;++r)e[t[r]]=pu(n[t[r]]);return e}return n}function GC(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function L0(n,e,t,i){if(!GC(n))return;const r=e[n],o=t[n];It(r)&&It(o)?ya(r,o,i):e[n]=pu(o)}function ya(n,e,t){const i=Qt(e)?e:[e],r=i.length;if(!It(n))return n;t=t||{};const o=t.merger||L0;let s;for(let a=0;a<r;++a){if(s=i[a],!It(s))continue;const l=Object.keys(s);for(let u=0,c=l.length;u<c;++u)o(l[u],n,s,t)}return n}function ea(n,e){return ya(n,e,{merger:I0})}function I0(n,e,t){if(!GC(n))return;const i=e[n],r=t[n];It(i)&&It(r)?ea(i,r):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=pu(r))}const Fg={"":n=>n,x:n=>n.x,y:n=>n.y};function N0(n){const e=n.split("."),t=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function G0(n){const e=N0(n);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function io(n,e){return(Fg[e]||(Fg[e]=G0(e)))(n)}function Rh(n){return n.charAt(0).toUpperCase()+n.slice(1)}const ma=n=>typeof n<"u",yn=n=>typeof n=="function",Mg=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function H0(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const re=Math.PI,ee=2*re,hu=Number.POSITIVE_INFINITY,V0=re/180,se=re/2,An=re/4,Lg=re*2/3,sn=Math.log10,pn=Math.sign;function Yl(n,e,t){return Math.abs(n-e)<t}function Ig(n){const e=Math.round(n);n=Yl(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(sn(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function k0(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((r,o)=>r-o).pop(),e}function B0(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function fu(n){return!B0(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function j0(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function HC(n,e,t){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][t],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function dr(n){return n*(re/180)}function Oh(n){return n*(180/re)}function Ng(n){if(!_e(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function VC(n,e){const t=e.x-n.x,i=e.y-n.y,r=Math.sqrt(t*t+i*i);let o=Math.atan2(i,t);return o<-.5*re&&(o+=ee),{angle:o,distance:r}}function W0(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function or(n){return(n%ee+ee)%ee}function gu(n,e,t,i){const r=or(n),o=or(e),s=or(t),a=or(o-r),l=or(s-r),u=or(r-o),c=or(r-s);return r===o||r===s||i&&o===s||a>l&&u<c}function ei(n,e,t){return Math.max(e,Math.min(t,n))}function U0(n){return ei(n,-32768,32767)}function Un(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function Th(n,e,t){t=t||(s=>n[s]<e);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,t(o)?r=o:i=o;return{lo:r,hi:i}}const _p=(n,e,t,i)=>Th(n,t,i?r=>{const o=n[r][e];return o<t||o===t&&n[r+1][e]===t}:r=>n[r][e]<t),z0=(n,e,t)=>Th(n,t,i=>n[i][e]>=t);function $0(n,e,t){let i=0,r=n.length;for(;i<r&&n[i]<e;)i++;for(;r>i&&n[r-1]>t;)r--;return i>0||r<n.length?n.slice(i,r):n}const kC=["push","pop","shift","splice","unshift"];function K0(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),kC.forEach(t=>{const i="_onData"+Rh(t),r=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...o){const s=r.apply(this,o);return n._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...o)}),s}})})}function Gg(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(kC.forEach(o=>{delete n[o]}),delete n._chartjs)}function BC(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const jC=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function WC(n,e){let t=[],i=!1;return function(...r){t=r,i||(i=!0,jC.call(window,()=>{i=!1,n.apply(e,t)}))}}function Y0(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}const xh=n=>n==="start"?"left":n==="end"?"right":"center",Me=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,q0=(n,e,t,i)=>n===(i?"left":"right")?t:n==="center"?(e+t)/2:e,qa=n=>n===0||n===1,Hg=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*ee/t)),Vg=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*ee/t)+1,ia={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*se)+1,easeOutSine:n=>Math.sin(n*se),easeInOutSine:n=>-.5*(Math.cos(re*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>qa(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>qa(n)?n:Hg(n,.075,.3),easeOutElastic:n=>qa(n)?n:Vg(n,.075,.3),easeInOutElastic(n){return qa(n)?n:n<.5?.5*Hg(n*2,.1125,.45):.5+.5*Vg(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-ia.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?ia.easeInBounce(n*2)*.5:ia.easeOutBounce(n*2-1)*.5+.5};function UC(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function kg(n){return UC(n)?n:new va(n)}function Kc(n){return UC(n)?n:new va(n).saturate(.5).darken(.1).hexString()}const X0=["x","y","borderWidth","radius","tension"],Q0=["color","borderColor","backgroundColor"];function J0(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:Q0},numbers:{type:"number",properties:X0}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Z0(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Bg=new Map;function tO(n,e){e=e||{};const t=n+JSON.stringify(e);let i=Bg.get(t);return i||(i=new Intl.NumberFormat(n,e),Bg.set(t,i)),i}function uc(n,e,t){return tO(e,t).format(n)}const zC={values(n){return Qt(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(t.length>1){const u=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(u<1e-4||u>1e15)&&(r="scientific"),o=eO(n,t)}const s=sn(Math.abs(o)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),uc(n,i,l)},logarithmic(n,e,t){if(n===0)return"0";const i=t[e].significand||n/Math.pow(10,Math.floor(sn(n)));return[1,2,3,5,10,15].includes(i)||e>.8*t.length?zC.numeric.call(this,n,e,t):""}};function eO(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var cc={formatters:zC};function iO(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:cc.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const ro=Object.create(null),Ep=Object.create(null);function ra(n,e){if(!e)return n;const t=e.split(".");for(let i=0,r=t.length;i<r;++i){const o=t[i];n=n[o]||(n[o]=Object.create(null))}return n}function Yc(n,e,t){return typeof e=="string"?ya(ra(n,e),t):ya(ra(n,""),e)}class rO{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Kc(r.backgroundColor),this.hoverBorderColor=(i,r)=>Kc(r.borderColor),this.hoverColor=(i,r)=>Kc(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Yc(this,e,t)}get(e){return ra(this,e)}describe(e,t){return Yc(Ep,e,t)}override(e,t){return Yc(ro,e,t)}route(e,t,i,r){const o=ra(this,e),s=ra(this,i),a="_"+t;Object.defineProperties(o,{[a]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){const l=this[a],u=s[r];return It(l)?Object.assign({},u,l):Nt(l,u)},set(l){this[a]=l}}})}apply(e){e.forEach(t=>t(this))}}var ie=new rO({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[J0,Z0,iO]);function nO(n){return!n||Ht(n.size)||Ht(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function vu(n,e,t,i,r){let o=e[r];return o||(o=e[r]=n.measureText(r).width,t.push(r)),o>i&&(i=o),i}function oO(n,e,t,i){i=i||{};let r=i.data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},o=i.garbageCollect=[],i.font=e),n.save(),n.font=e;let s=0;const a=t.length;let l,u,c,d,p;for(l=0;l<a;l++)if(d=t[l],d!=null&&!Qt(d))s=vu(n,r,o,s,d);else if(Qt(d))for(u=0,c=d.length;u<c;u++)p=d[u],p!=null&&!Qt(p)&&(s=vu(n,r,o,s,p));n.restore();const h=o.length/2;if(h>t.length){for(l=0;l<h;l++)delete r[o[l]];o.splice(0,h)}return s}function Fn(n,e,t){const i=n.currentDevicePixelRatio,r=t!==0?Math.max(t/2,.5):0;return Math.round((e-r)*i)/i+r}function jg(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function Wg(n,e,t,i){$C(n,e,t,i,null)}function $C(n,e,t,i,r){let o,s,a,l,u,c,d,p;const h=e.pointStyle,f=e.rotation,g=e.radius;let v=(f||0)*V0;if(h&&typeof h=="object"&&(o=h.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(v),n.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),n.restore();return}if(!(isNaN(g)||g<=0)){switch(n.beginPath(),h){default:r?n.ellipse(t,i,r/2,g,0,0,ee):n.arc(t,i,g,0,ee),n.closePath();break;case"triangle":c=r?r/2:g,n.moveTo(t+Math.sin(v)*c,i-Math.cos(v)*g),v+=Lg,n.lineTo(t+Math.sin(v)*c,i-Math.cos(v)*g),v+=Lg,n.lineTo(t+Math.sin(v)*c,i-Math.cos(v)*g),n.closePath();break;case"rectRounded":u=g*.516,l=g-u,s=Math.cos(v+An)*l,d=Math.cos(v+An)*(r?r/2-u:l),a=Math.sin(v+An)*l,p=Math.sin(v+An)*(r?r/2-u:l),n.arc(t-d,i-a,u,v-re,v-se),n.arc(t+p,i-s,u,v-se,v),n.arc(t+d,i+a,u,v,v+se),n.arc(t-p,i+s,u,v+se,v+re),n.closePath();break;case"rect":if(!f){l=Math.SQRT1_2*g,c=r?r/2:l,n.rect(t-c,i-l,2*c,2*l);break}v+=An;case"rectRot":d=Math.cos(v)*(r?r/2:g),s=Math.cos(v)*g,a=Math.sin(v)*g,p=Math.sin(v)*(r?r/2:g),n.moveTo(t-d,i-a),n.lineTo(t+p,i-s),n.lineTo(t+d,i+a),n.lineTo(t-p,i+s),n.closePath();break;case"crossRot":v+=An;case"cross":d=Math.cos(v)*(r?r/2:g),s=Math.cos(v)*g,a=Math.sin(v)*g,p=Math.sin(v)*(r?r/2:g),n.moveTo(t-d,i-a),n.lineTo(t+d,i+a),n.moveTo(t+p,i-s),n.lineTo(t-p,i+s);break;case"star":d=Math.cos(v)*(r?r/2:g),s=Math.cos(v)*g,a=Math.sin(v)*g,p=Math.sin(v)*(r?r/2:g),n.moveTo(t-d,i-a),n.lineTo(t+d,i+a),n.moveTo(t+p,i-s),n.lineTo(t-p,i+s),v+=An,d=Math.cos(v)*(r?r/2:g),s=Math.cos(v)*g,a=Math.sin(v)*g,p=Math.sin(v)*(r?r/2:g),n.moveTo(t-d,i-a),n.lineTo(t+d,i+a),n.moveTo(t+p,i-s),n.lineTo(t-p,i+s);break;case"line":s=r?r/2:Math.cos(v)*g,a=Math.sin(v)*g,n.moveTo(t-s,i-a),n.lineTo(t+s,i+a);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(v)*(r?r/2:g),i+Math.sin(v)*g);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function xo(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function Ph(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function Dh(n){n.restore()}function sO(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Ht(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function aO(n,e,t,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),s=e-o.actualBoundingBoxLeft,a=e+o.actualBoundingBoxRight,l=t-o.actualBoundingBoxAscent,u=t+o.actualBoundingBoxDescent,c=r.strikethrough?(l+u)/2:u;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(s,c),n.lineTo(a,c),n.stroke()}}function lO(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function no(n,e,t,i,r,o={}){const s=Qt(e)?e:[e],a=o.strokeWidth>0&&o.strokeColor!=="";let l,u;for(n.save(),n.font=r.string,sO(n,o),l=0;l<s.length;++l)u=s[l],o.backdrop&&lO(n,o.backdrop),a&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Ht(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(u,t,i,o.maxWidth)),n.fillText(u,t,i,o.maxWidth),aO(n,t,i,u,o),i+=Number(r.lineHeight);n.restore()}function Ca(n,e){const{x:t,y:i,w:r,h:o,radius:s}=e;n.arc(t+s.topLeft,i+s.topLeft,s.topLeft,1.5*re,re,!0),n.lineTo(t,i+o-s.bottomLeft),n.arc(t+s.bottomLeft,i+o-s.bottomLeft,s.bottomLeft,re,se,!0),n.lineTo(t+r-s.bottomRight,i+o),n.arc(t+r-s.bottomRight,i+o-s.bottomRight,s.bottomRight,se,0,!0),n.lineTo(t+r,i+s.topRight),n.arc(t+r-s.topRight,i+s.topRight,s.topRight,0,-se,!0),n.lineTo(t+s.topLeft,i)}const uO=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,cO=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function dO(n,e){const t=(""+n).match(uO);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const pO=n=>+n||0;function Ah(n,e){const t={},i=It(e),r=i?Object.keys(e):e,o=It(n)?i?s=>Nt(n[s],n[e[s]]):s=>n[s]:()=>n;for(const s of r)t[s]=pO(o(s));return t}function KC(n){return Ah(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Yn(n){return Ah(n,["topLeft","topRight","bottomLeft","bottomRight"])}function ke(n){const e=KC(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function me(n,e){n=n||{},e=e||ie.font;let t=Nt(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=Nt(n.style,e.style);i&&!(""+i).match(cO)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Nt(n.family,e.family),lineHeight:dO(Nt(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:Nt(n.weight,e.weight),string:""};return r.string=nO(r),r}function Xa(n,e,t,i){let r=!0,o,s,a;for(o=0,s=n.length;o<s;++o)if(a=n[o],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),r=!1),t!==void 0&&Qt(a)&&(a=a[t%a.length],r=!1),a!==void 0))return i&&!r&&(i.cacheable=!1),a}function hO(n,e,t){const{min:i,max:r}=n,o=NC(e,(r-i)/2),s=(a,l)=>t&&a===0?0:a+l;return{min:s(i,-Math.abs(o)),max:s(r,o)}}function uo(n,e){return Object.assign(Object.create(n),e)}function Fh(n,e=[""],t,i,r=()=>n[0]){const o=t||n;typeof i>"u"&&(i=QC("_fallback",n));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:a=>Fh([a,...n],e,o,i)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete a._keys,delete n[0][l],!0},get(a,l){return qC(a,l,()=>SO(l,e,n,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(a,l){return zg(a).includes(l)},ownKeys(a){return zg(a)},set(a,l,u){const c=a._storage||(a._storage=r());return a[l]=c[l]=u,delete a._keys,!0}})}function zo(n,e,t,i){const r={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:YC(n,i),setContext:o=>zo(n,o,t,i),override:o=>zo(n.override(o),e,t,i)};return new Proxy(r,{deleteProperty(o,s){return delete o[s],delete n[s],!0},get(o,s,a){return qC(o,s,()=>gO(o,s,a))},getOwnPropertyDescriptor(o,s){return o._descriptors.allKeys?Reflect.has(n,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,s)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,s){return Reflect.has(n,s)},ownKeys(){return Reflect.ownKeys(n)},set(o,s,a){return n[s]=a,delete o[s],!0}})}function YC(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=n;return{allKeys:r,scriptable:t,indexable:i,isScriptable:yn(t)?t:()=>t,isIndexable:yn(i)?i:()=>i}}const fO=(n,e)=>n?n+Rh(e):e,Mh=(n,e)=>It(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function qC(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const i=t();return n[e]=i,i}function gO(n,e,t){const{_proxy:i,_context:r,_subProxy:o,_descriptors:s}=n;let a=i[e];return yn(a)&&s.isScriptable(e)&&(a=vO(e,a,n,t)),Qt(a)&&a.length&&(a=yO(e,a,n,s.isIndexable)),Mh(e,a)&&(a=zo(a,r,o&&o[e],s)),a}function vO(n,e,t,i){const{_proxy:r,_context:o,_subProxy:s,_stack:a}=t;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let l=e(o,s||i);return a.delete(n),Mh(n,l)&&(l=Lh(r._scopes,r,n,l)),l}function yO(n,e,t,i){const{_proxy:r,_context:o,_subProxy:s,_descriptors:a}=t;if(typeof o.index<"u"&&i(n))return e[o.index%e.length];if(It(e[0])){const l=e,u=r._scopes.filter(c=>c!==l);e=[];for(const c of l){const d=Lh(u,r,n,c);e.push(zo(d,o,s&&s[n],a))}}return e}function XC(n,e,t){return yn(n)?n(e,t):n}const mO=(n,e)=>n===!0?e:typeof n=="string"?io(e,n):void 0;function CO(n,e,t,i,r){for(const o of e){const s=mO(t,o);if(s){n.add(s);const a=XC(s._fallback,t,r);if(typeof a<"u"&&a!==t&&a!==i)return a}else if(s===!1&&typeof i<"u"&&t!==i)return null}return!1}function Lh(n,e,t,i){const r=e._rootScopes,o=XC(e._fallback,t,i),s=[...n,...r],a=new Set;a.add(i);let l=Ug(a,s,t,o||t,i);return l===null||typeof o<"u"&&o!==t&&(l=Ug(a,s,o,l,i),l===null)?!1:Fh(Array.from(a),[""],r,o,()=>wO(e,t,i))}function Ug(n,e,t,i,r){for(;t;)t=CO(n,e,t,i,r);return t}function wO(n,e,t){const i=n._getTarget();e in i||(i[e]={});const r=i[e];return Qt(r)&&It(t)?t:r||{}}function SO(n,e,t,i){let r;for(const o of e)if(r=QC(fO(o,n),t),typeof r<"u")return Mh(n,r)?Lh(t,i,n,r):r}function QC(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i<"u")return i}}function zg(n){let e=n._keys;return e||(e=n._keys=_O(n._scopes)),e}function _O(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}function Ih(){return typeof window<"u"&&typeof document<"u"}function Nh(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function yu(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}const dc=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function EO(n,e){return dc(n).getPropertyValue(e)}const bO=["top","right","bottom","left"];function qn(n,e,t){const i={};t=t?"-"+t:"";for(let r=0;r<4;r++){const o=bO[r];i[o]=parseFloat(n[e+"-"+o+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const RO=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function OO(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:r,offsetY:o}=i;let s=!1,a,l;if(RO(r,o,n.target))a=r,l=o;else{const u=e.getBoundingClientRect();a=i.clientX-u.left,l=i.clientY-u.top,s=!0}return{x:a,y:l,box:s}}function kn(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,r=dc(t),o=r.boxSizing==="border-box",s=qn(r,"padding"),a=qn(r,"border","width"),{x:l,y:u,box:c}=OO(n,t),d=s.left+(c&&a.left),p=s.top+(c&&a.top);let{width:h,height:f}=e;return o&&(h-=s.width+a.width,f-=s.height+a.height),{x:Math.round((l-d)/h*t.width/i),y:Math.round((u-p)/f*t.height/i)}}function TO(n,e,t){let i,r;if(e===void 0||t===void 0){const o=n&&Nh(n);if(!o)e=n.clientWidth,t=n.clientHeight;else{const s=o.getBoundingClientRect(),a=dc(o),l=qn(a,"border","width"),u=qn(a,"padding");e=s.width-u.width-l.width,t=s.height-u.height-l.height,i=yu(a.maxWidth,o,"clientWidth"),r=yu(a.maxHeight,o,"clientHeight")}}return{width:e,height:t,maxWidth:i||hu,maxHeight:r||hu}}const Qa=n=>Math.round(n*10)/10;function xO(n,e,t,i){const r=dc(n),o=qn(r,"margin"),s=yu(r.maxWidth,n,"clientWidth")||hu,a=yu(r.maxHeight,n,"clientHeight")||hu,l=TO(n,e,t);let{width:u,height:c}=l;if(r.boxSizing==="content-box"){const p=qn(r,"border","width"),h=qn(r,"padding");u-=h.width+p.width,c-=h.height+p.height}return u=Math.max(0,u-o.width),c=Math.max(0,i?u/i:c-o.height),u=Qa(Math.min(u,s,l.maxWidth)),c=Qa(Math.min(c,a,l.maxHeight)),u&&!c&&(c=Qa(u/2)),(e!==void 0||t!==void 0)&&i&&l.height&&c>l.height&&(c=l.height,u=Qa(Math.floor(c*i))),{width:u,height:c}}function $g(n,e,t){const i=e||1,r=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const s=n.canvas;return s.style&&(t||!s.style.height&&!s.style.width)&&(s.style.height=`${n.height}px`,s.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||s.height!==r||s.width!==o?(n.currentDevicePixelRatio=i,s.height=r,s.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const PO=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};Ih()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function Kg(n,e){const t=EO(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const DO=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},AO=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function Ho(n,e,t){return n?DO(e,t):AO()}function JC(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function ZC(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function Ja(n,e,t){return n.options.clip?n[t]:e[t]}function FO(n,e){const{xScale:t,yScale:i}=n;return t&&i?{left:Ja(t,e,"left"),right:Ja(t,e,"right"),top:Ja(i,e,"top"),bottom:Ja(i,e,"bottom")}:e}function MO(n,e){const t=e._clip;if(t.disabled)return!1;const i=FO(e,n.chartArea);return{left:t.left===!1?0:i.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:i.right+(t.right===!0?0:t.right),top:t.top===!1?0:i.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:i.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class LO{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,r){const o=t.listeners[r],s=t.duration;o.forEach(a=>a({chart:e,initial:t.initial,numSteps:s,currentStep:Math.min(i-t.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=jC.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let s=o.length-1,a=!1,l;for(;s>=0;--s)l=o[s],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(o[s]=o[o.length-1],o.pop());a&&(r.draw(),this._notify(r,i,e,"progress")),o.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),t+=o.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var _r=new LO;const Yg="transparent",IO={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const i=kg(n||Yg),r=i.valid&&kg(e||Yg);return r&&r.valid?r.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class NO{constructor(e,t,i,r){const o=t[i];r=Xa([e.to,r,o,e.from]);const s=Xa([e.from,o,r]);this._active=!0,this._fn=e.fn||IO[e.type||typeof s],this._easing=ia[e.easing]||ia.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=s,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,s=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=Xa([e.to,t,r,e.from]),this._from=Xa([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,r=this._prop,o=this._from,s=this._loop,a=this._to;let l;if(this._active=o!==a&&(s||t<i),!this._active){this._target[r]=a,this._notify(!0);return}if(t<0){this._target[r]=o;return}l=t/i%2,l=s&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(o,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][t]()}}class tw{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!It(e))return;const t=Object.keys(ie.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const o=e[r];if(!It(o))return;const s={};for(const a of t)s[a]=o[a];(Qt(o.properties)&&o.properties||[r]).forEach(a=>{(a===r||!i.has(a))&&i.set(a,s)})})}_animateOptions(e,t){const i=t.options,r=HO(e,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&GO(e.options.$animations,i).then(()=>{e.options=i},()=>{}),o}_createAnimations(e,t){const i=this._properties,r=[],o=e.$animations||(e.$animations={}),s=Object.keys(t),a=Date.now();let l;for(l=s.length-1;l>=0;--l){const u=s[l];if(u.charAt(0)==="$")continue;if(u==="options"){r.push(...this._animateOptions(e,t));continue}const c=t[u];let d=o[u];const p=i.get(u);if(d)if(p&&d.active()){d.update(p,c,a);continue}else d.cancel();if(!p||!p.duration){e[u]=c;continue}o[u]=d=new NO(p,e,u,c),r.push(d)}return r}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return _r.add(this._chart,i),!0}}function GO(n,e){const t=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&t.push(o.wait())}return Promise.all(t)}function HO(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function qg(n,e){const t=n&&n.options||{},i=t.reverse,r=t.min===void 0?e:0,o=t.max===void 0?e:0;return{start:i?o:r,end:i?r:o}}function VO(n,e,t){if(t===!1)return!1;const i=qg(n,t),r=qg(e,t);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function kO(n){let e,t,i,r;return It(n)?(e=n.top,t=n.right,i=n.bottom,r=n.left):e=t=i=r=n,{top:e,right:t,bottom:i,left:r,disabled:n===!1}}function ew(n,e){const t=[],i=n._getSortedDatasetMetas(e);let r,o;for(r=0,o=i.length;r<o;++r)t.push(i[r].index);return t}function Xg(n,e,t,i={}){const r=n.keys,o=i.mode==="single";let s,a,l,u;if(e===null)return;let c=!1;for(s=0,a=r.length;s<a;++s){if(l=+r[s],l===t){if(c=!0,i.all)continue;break}u=n.values[l],_e(u)&&(o||e===0||pn(e)===pn(u))&&(e+=u)}return!c&&!i.all?0:e}function BO(n,e){const{iScale:t,vScale:i}=e,r=t.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",s=Object.keys(n),a=new Array(s.length);let l,u,c;for(l=0,u=s.length;l<u;++l)c=s[l],a[l]={[r]:c,[o]:n[c]};return a}function qc(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function jO(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function WO(n){const{min:e,max:t,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}function UO(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function Qg(n,e,t,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(t&&o>0||!t&&o<0)return r.index}return null}function Jg(n,e){const{chart:t,_cachedMeta:i}=n,r=t._stacks||(t._stacks={}),{iScale:o,vScale:s,index:a}=i,l=o.axis,u=s.axis,c=jO(o,s,i),d=e.length;let p;for(let h=0;h<d;++h){const f=e[h],{[l]:g,[u]:v}=f,m=f._stacks||(f._stacks={});p=m[u]=UO(r,c,g),p[a]=v,p._top=Qg(p,s,!0,i.type),p._bottom=Qg(p,s,!1,i.type);const w=p._visualValues||(p._visualValues={});w[a]=v}}function Xc(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function zO(n,e){return uo(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function $O(n,e,t){return uo(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function ss(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const r of e){const o=r._stacks;if(!o||o[i]===void 0||o[i][t]===void 0)return;delete o[i][t],o[i]._visualValues!==void 0&&o[i]._visualValues[t]!==void 0&&delete o[i]._visualValues[t]}}}const Qc=n=>n==="reset"||n==="none",Zg=(n,e)=>e?n:Object.assign({},n),KO=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:ew(t,!0),values:null};class Vo{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=qc(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ss(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),r=(d,p,h,f)=>d==="x"?p:d==="r"?f:h,o=t.xAxisID=Nt(i.xAxisID,Xc(e,"x")),s=t.yAxisID=Nt(i.yAxisID,Xc(e,"y")),a=t.rAxisID=Nt(i.rAxisID,Xc(e,"r")),l=t.indexAxis,u=t.iAxisID=r(l,o,s,a),c=t.vAxisID=r(l,s,o,a);t.xScale=this.getScaleForId(o),t.yScale=this.getScaleForId(s),t.rScale=this.getScaleForId(a),t.iScale=this.getScaleForId(u),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Gg(this._data,this),e._stacked&&ss(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(It(t)){const r=this._cachedMeta;this._data=BO(t,r)}else if(i!==t){if(i){Gg(i,this);const r=this._cachedMeta;ss(r),r._parsed=[]}t&&Object.isExtensible(t)&&K0(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=t._stacked;t._stacked=qc(t.vScale,t),t.stack!==i.stack&&(r=!0,ss(t),t.stack=i.stack),this._resyncElements(e),(r||o!==t._stacked)&&(Jg(this,t._parsed),t._stacked=qc(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:s}=i,a=o.axis;let l=e===0&&t===r.length?!0:i._sorted,u=e>0&&i._parsed[e-1],c,d,p;if(this._parsing===!1)i._parsed=r,i._sorted=!0,p=r;else{Qt(r[e])?p=this.parseArrayData(i,r,e,t):It(r[e])?p=this.parseObjectData(i,r,e,t):p=this.parsePrimitiveData(i,r,e,t);const h=()=>d[a]===null||u&&d[a]<u[a];for(c=0;c<t;++c)i._parsed[c+e]=d=p[c],l&&(h()&&(l=!1),u=d);i._sorted=l}s&&Jg(this,p)}parsePrimitiveData(e,t,i,r){const{iScale:o,vScale:s}=e,a=o.axis,l=s.axis,u=o.getLabels(),c=o===s,d=new Array(r);let p,h,f;for(p=0,h=r;p<h;++p)f=p+i,d[p]={[a]:c||o.parse(u[f],f),[l]:s.parse(t[f],f)};return d}parseArrayData(e,t,i,r){const{xScale:o,yScale:s}=e,a=new Array(r);let l,u,c,d;for(l=0,u=r;l<u;++l)c=l+i,d=t[c],a[l]={x:o.parse(d[0],c),y:s.parse(d[1],c)};return a}parseObjectData(e,t,i,r){const{xScale:o,yScale:s}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=new Array(r);let c,d,p,h;for(c=0,d=r;c<d;++c)p=c+i,h=t[p],u[c]={x:o.parse(io(h,a),p),y:s.parse(io(h,l),p)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const r=this.chart,o=this._cachedMeta,s=t[e.axis],a={keys:ew(r,!0),values:t._stacks[e.axis]._visualValues};return Xg(a,s,o.index,{mode:i})}updateRangeFromParsed(e,t,i,r){const o=i[t.axis];let s=o===null?NaN:o;const a=r&&i._stacks[t.axis];r&&a&&(r.values=a,s=Xg(r,o,this._cachedMeta.index)),e.min=Math.min(e.min,s),e.max=Math.max(e.max,s)}getMinMax(e,t){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&e===i.iScale,s=r.length,a=this._getOtherScale(e),l=KO(t,i,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=WO(a);let p,h;function f(){h=r[p];const g=h[a.axis];return!_e(h[e.axis])||c>g||d<g}for(p=0;p<s&&!(!f()&&(this.updateRangeFromParsed(u,e,h,l),o));++p);if(o){for(p=s-1;p>=0;--p)if(!f()){this.updateRangeFromParsed(u,e,h,l);break}}return u}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let r,o,s;for(r=0,o=t.length;r<o;++r)s=t[r][e.axis],_e(s)&&i.push(s);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,r=t.vScale,o=this.getParsed(e);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=kO(Nt(this.options.clip,VO(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,r=i.data||[],o=t.chartArea,s=[],a=this._drawStart||0,l=this._drawCount||r.length-a,u=this.options.drawActiveElementsOnTop;let c;for(i.dataset&&i.dataset.draw(e,o,a,l),c=a;c<a+l;++c){const d=r[c];d.hidden||(d.active&&u?s.push(d):d.draw(e,o))}for(c=0;c<s.length;++c)s[c].draw(e,o)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const r=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const s=this._cachedMeta.data[e];o=s.$context||(s.$context=$O(this.getContext(),e,s)),o.parsed=this.getParsed(e),o.raw=r.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=zO(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!t,o.mode=i,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const r=t==="active",o=this._cachedDataOpts,s=e+"-"+t,a=o[s],l=this.enableOptionSharing&&ma(i);if(a)return Zg(a,l);const u=this.chart.config,c=u.datasetElementScopeKeys(this._type,e),d=r?[`${e}Hover`,"hover",e,""]:[e,""],p=u.getOptionScopes(this.getDataset(),c),h=Object.keys(ie.elements[e]),f=()=>this.getContext(i,r,t),g=u.resolveNamedOptions(p,h,f,d);return g.$shared&&(g.$shared=l,o[s]=Object.freeze(Zg(g,l))),g}_resolveAnimations(e,t,i){const r=this.chart,o=this._cachedDataOpts,s=`animation-${t}`,a=o[s];if(a)return a;let l;if(r.options.animation!==!1){const c=this.chart.config,d=c.datasetAnimationScopeKeys(this._type,t),p=c.getOptionScopes(this.getDataset(),d);l=c.createResolver(p,this.getContext(e,i,t))}const u=new tw(r,l&&l.animations);return l&&l._cacheable&&(o[s]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Qc(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),r=this._sharedOptions,o=this.getSharedOptions(i),s=this.includeOptions(t,o)||o!==r;return this.updateSharedOptions(o,t,i),{sharedOptions:o,includeOptions:s}}updateElement(e,t,i,r){Qc(r)?Object.assign(e,i):this._resolveAnimations(t,r).update(e,i)}updateSharedOptions(e,t,i){e&&!Qc(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,r){e.active=r;const o=this.getStyle(t,r);this._resolveAnimations(t,i,r).update(e,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[a,l,u]of this._syncList)this[a](l,u);this._syncList=[];const r=i.length,o=t.length,s=Math.min(o,r);s&&this.parse(0,s),o>r?this._insertElements(r,o-r,e):o<r&&this._removeElements(o,r-o)}_insertElements(e,t,i=!0){const r=this._cachedMeta,o=r.data,s=e+t;let a;const l=u=>{for(u.length+=t,a=u.length-1;a>=s;a--)u[a]=u[a-t]};for(l(o),a=e;a<s;++a)o[a]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(e,t),i&&this.updateElements(o,e,t,"reset")}updateElements(e,t,i,r){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,t);i._stacked&&ss(i,r)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,r]=e;this[t](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}dt(Vo,"defaults",{}),dt(Vo,"datasetElementType",null),dt(Vo,"dataElementType",null);function YO(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let i=[];for(let r=0,o=t.length;r<o;r++)i=i.concat(t[r].controller.getAllParsedValues(n));n._cache.$bar=BC(i.sort((r,o)=>r-o))}return n._cache.$bar}function qO(n){const e=n.iScale,t=YO(e,n.type);let i=e._length,r,o,s,a;const l=()=>{s===32767||s===-32768||(ma(a)&&(i=Math.min(i,Math.abs(s-a)||i)),a=s)};for(r=0,o=t.length;r<o;++r)s=e.getPixelForValue(t[r]),l();for(a=void 0,r=0,o=e.ticks.length;r<o;++r)s=e.getPixelForTick(r),l();return i}function XO(n,e,t,i){const r=t.barThickness;let o,s;return Ht(r)?(o=e.min*t.categoryPercentage,s=t.barPercentage):(o=r*i,s=1),{chunk:o/i,ratio:s,start:e.pixels[n]-o/2}}function QO(n,e,t,i){const r=e.pixels,o=r[n];let s=n>0?r[n-1]:null,a=n<r.length-1?r[n+1]:null;const l=t.categoryPercentage;s===null&&(s=o-(a===null?e.end-e.start:a-o)),a===null&&(a=o+o-s);const u=o-(o-Math.min(s,a))/2*l;return{chunk:Math.abs(a-s)/2*l/i,ratio:t.barPercentage,start:u}}function JO(n,e,t,i){const r=t.parse(n[0],i),o=t.parse(n[1],i),s=Math.min(r,o),a=Math.max(r,o);let l=s,u=a;Math.abs(s)>Math.abs(a)&&(l=a,u=s),e[t.axis]=u,e._custom={barStart:l,barEnd:u,start:r,end:o,min:s,max:a}}function iw(n,e,t,i){return Qt(n)?JO(n,e,t,i):e[t.axis]=t.parse(n,i),e}function tv(n,e,t,i){const r=n.iScale,o=n.vScale,s=r.getLabels(),a=r===o,l=[];let u,c,d,p;for(u=t,c=t+i;u<c;++u)p=e[u],d={},d[r.axis]=a||r.parse(s[u],u),l.push(iw(p,d,o,u));return l}function Jc(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function ZO(n,e,t){return n!==0?pn(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function tT(n){let e,t,i,r,o;return n.horizontal?(e=n.base>n.x,t="left",i="right"):(e=n.base<n.y,t="bottom",i="top"),e?(r="end",o="start"):(r="start",o="end"),{start:t,end:i,reverse:e,top:r,bottom:o}}function eT(n,e,t,i){let r=e.borderSkipped;const o={};if(!r){n.borderSkipped=o;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:s,end:a,reverse:l,top:u,bottom:c}=tT(n);r==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===i?r=u:(t._bottom||0)===i?r=c:(o[ev(c,s,a,l)]=!0,r=u)),o[ev(r,s,a,l)]=!0,n.borderSkipped=o}function ev(n,e,t,i){return i?(n=iT(n,e,t),n=iv(n,t,e)):n=iv(n,e,t),n}function iT(n,e,t){return n===e?t:n===t?e:n}function iv(n,e,t){return n==="start"?e:n==="end"?t:n}function rT(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class ql extends Vo{parsePrimitiveData(e,t,i,r){return tv(e,t,i,r)}parseArrayData(e,t,i,r){return tv(e,t,i,r)}parseObjectData(e,t,i,r){const{iScale:o,vScale:s}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=o.axis==="x"?a:l,c=s.axis==="x"?a:l,d=[];let p,h,f,g;for(p=i,h=i+r;p<h;++p)g=t[p],f={},f[o.axis]=o.parse(io(g,u),p),d.push(iw(io(g,c),f,s,p));return d}updateRangeFromParsed(e,t,i,r){super.updateRangeFromParsed(e,t,i,r);const o=i._custom;o&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:i,vScale:r}=t,o=this.getParsed(e),s=o._custom,a=Jc(s)?"["+s.start+", "+s.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,i,r){const o=r==="reset",{index:s,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),u=a.isHorizontal(),c=this._getRuler(),{sharedOptions:d,includeOptions:p}=this._getSharedOptions(t,r);for(let h=t;h<t+i;h++){const f=this.getParsed(h),g=o||Ht(f[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(h),v=this._calculateBarIndexPixels(h,c),m=(f._stacks||{})[a.axis],w={horizontal:u,base:g.base,enableBorderRadius:!m||Jc(f._custom)||s===m._top||s===m._bottom,x:u?g.head:v.center,y:u?v.center:g.head,height:u?v.size:Math.abs(g.size),width:u?Math.abs(g.size):v.size};p&&(w.options=d||this.resolveDataElementOptions(h,e[h].active?"active":r));const b=w.options||e[h].options;eT(w,b,m,s),rT(w,b,c.ratio),this.updateElement(e[h],h,w,r)}}_getStacks(e,t){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(c=>c.controller.options.grouped),o=i.options.stacked,s=[],a=this._cachedMeta.controller.getParsed(t),l=a&&a[i.axis],u=c=>{const d=c._parsed.find(h=>h[i.axis]===l),p=d&&d[c.vScale.axis];if(Ht(p)||isNaN(p))return!0};for(const c of r)if(!(t!==void 0&&u(c))&&((o===!1||s.indexOf(c.stack)===-1||o===void 0&&c.stack===void 0)&&s.push(c.stack),c.index===e))break;return s.length||s.push(void 0),s}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,i){const r=this._getStacks(e,i),o=t!==void 0?r.indexOf(t):-1;return o===-1?r.length-1:o}_getRuler(){const e=this.options,t=this._cachedMeta,i=t.iScale,r=[];let o,s;for(o=0,s=t.data.length;o<s;++o)r.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const a=e.barThickness;return{min:a||qO(t),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:i,index:r},options:{base:o,minBarLength:s}}=this,a=o||0,l=this.getParsed(e),u=l._custom,c=Jc(u);let d=l[t.axis],p=0,h=i?this.applyStack(t,l,i):d,f,g;h!==d&&(p=h-d,h=d),c&&(d=u.barStart,h=u.barEnd-u.barStart,d!==0&&pn(d)!==pn(u.barEnd)&&(p=0),p+=d);const v=!Ht(o)&&!c?o:p;let m=t.getPixelForValue(v);if(this.chart.getDataVisibility(e)?f=t.getPixelForValue(p+h):f=m,g=f-m,Math.abs(g)<s){g=ZO(g,t,a)*s,d===a&&(m-=g/2);const w=t.getPixelForDecimal(0),b=t.getPixelForDecimal(1),E=Math.min(w,b),O=Math.max(w,b);m=Math.max(Math.min(m,O),E),f=m+g,i&&!c&&(l._stacks[t.axis]._visualValues[r]=t.getValueForPixel(f)-t.getValueForPixel(m))}if(m===t.getPixelForValue(a)){const w=pn(g)*t.getLineWidthForValue(a)/2;m+=w,g-=w}return{size:g,base:m,head:f,center:f+g/2}}_calculateBarIndexPixels(e,t){const i=t.scale,r=this.options,o=r.skipNull,s=Nt(r.maxBarThickness,1/0);let a,l;if(t.grouped){const u=o?this._getStackCount(e):t.stackCount,c=r.barThickness==="flex"?QO(e,t,r,u):XO(e,t,r,u),d=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0);a=c.start+c.chunk*d+c.chunk/2,l=Math.min(s,c.chunk*c.ratio)}else a=i.getPixelForValue(this.getParsed(e)[i.axis],e),l=Math.min(s,t.min*t.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,t=e.vScale,i=e.data,r=i.length;let o=0;for(;o<r;++o)this.getParsed(o)[t.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}dt(ql,"id","bar"),dt(ql,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),dt(ql,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function nT(n,e,t){let i=1,r=1,o=0,s=0;if(e<ee){const a=n,l=a+e,u=Math.cos(a),c=Math.sin(a),d=Math.cos(l),p=Math.sin(l),h=(b,E,O)=>gu(b,a,l,!0)?1:Math.max(E,E*t,O,O*t),f=(b,E,O)=>gu(b,a,l,!0)?-1:Math.min(E,E*t,O,O*t),g=h(0,u,d),v=h(se,c,p),m=f(re,u,d),w=f(re+se,c,p);i=(g-m)/2,r=(v-w)/2,o=-(g+m)/2,s=-(v+w)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:s}}class Us extends Vo{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let o=l=>+i[l];if(It(i[e])){const{key:l="value"}=this._parsing;o=u=>+io(i[u],l)}let s,a;for(s=e,a=e+t;s<a;++s)r._parsed[s]=o(s)}}_getRotation(){return dr(this.options.rotation-90)}_getCircumference(){return dr(this.options.circumference)}_getRotationExtents(){let e=ee,t=-ee;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,o=r._getRotation(),s=r._getCircumference();e=Math.min(e,o),t=Math.max(t,o+s)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:i}=t,r=this._cachedMeta,o=r.data,s=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-s)/2,0),l=Math.min(M0(this.options.cutout,a),1),u=this._getRingWeight(this.index),{circumference:c,rotation:d}=this._getRotationExtents(),{ratioX:p,ratioY:h,offsetX:f,offsetY:g}=nT(d,c,l),v=(i.width-s)/p,m=(i.height-s)/h,w=Math.max(Math.min(v,m)/2,0),b=NC(this.options.radius,w),E=Math.max(b*l,0),O=(b-E)/this._getVisibleDatasetWeightTotal();this.offsetX=f*b,this.offsetY=g*b,r.total=this.calculateTotal(),this.outerRadius=b-O*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-O*u,0),this.updateElements(o,0,o.length,e)}_circumference(e,t){const i=this.options,r=this._cachedMeta,o=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*o/ee)}updateElements(e,t,i,r){const o=r==="reset",s=this.chart,a=s.chartArea,u=s.options.animation,c=(a.left+a.right)/2,d=(a.top+a.bottom)/2,p=o&&u.animateScale,h=p?0:this.innerRadius,f=p?0:this.outerRadius,{sharedOptions:g,includeOptions:v}=this._getSharedOptions(t,r);let m=this._getRotation(),w;for(w=0;w<t;++w)m+=this._circumference(w,o);for(w=t;w<t+i;++w){const b=this._circumference(w,o),E=e[w],O={x:c+this.offsetX,y:d+this.offsetY,startAngle:m,endAngle:m+b,circumference:b,outerRadius:f,innerRadius:h};v&&(O.options=g||this.resolveDataElementOptions(w,E.active?"active":r)),m+=b,this.updateElement(E,w,O,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let i=0,r;for(r=0;r<t.length;r++){const o=e._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!t[r].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?ee*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=uc(t._parsed[e],i.options.locale);return{label:r[e]||"",value:o}}getMaxBorderWidth(e){let t=0;const i=this.chart;let r,o,s,a,l;if(!e){for(r=0,o=i.data.datasets.length;r<o;++r)if(i.isDatasetVisible(r)){s=i.getDatasetMeta(r),e=s.data,a=s.controller;break}}if(!e)return 0;for(r=0,o=e.length;r<o;++r)l=a.resolveDataElementOptions(r),l.borderAlign!=="inner"&&(t=Math.max(t,l.borderWidth||0,l.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let i=0,r=e.length;i<r;++i){const o=this.resolveDataElementOptions(i);t=Math.max(t,o.offset||0,o.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(Nt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}dt(Us,"id","doughnut"),dt(Us,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),dt(Us,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),dt(Us,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return t.labels.map((o,s)=>{const l=e.getDatasetMeta(0).controller.getStyle(s);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(s),index:s}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}});class bp extends Us{}dt(bp,"id","pie"),dt(bp,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Mn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Gh{constructor(e){dt(this,"options");this.options=e||{}}static override(e){Object.assign(Gh.prototype,e)}init(){}formats(){return Mn()}parse(){return Mn()}format(){return Mn()}add(){return Mn()}diff(){return Mn()}startOf(){return Mn()}endOf(){return Mn()}}var oT={_date:Gh};function sT(n,e,t,i){const{controller:r,data:o,_sorted:s}=n,a=r._cachedMeta.iScale,l=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&s&&o.length){const u=a._reversePixels?z0:_p;if(i){if(r._sharedOptions){const c=o[0],d=typeof c.getRange=="function"&&c.getRange(e);if(d){const p=u(o,e,t-d),h=u(o,e,t+d);return{lo:p.lo,hi:h.hi}}}}else{const c=u(o,e,t);if(l){const{vScale:d}=r._cachedMeta,{_parsed:p}=n,h=p.slice(0,c.lo+1).reverse().findIndex(g=>!Ht(g[d.axis]));c.lo-=Math.max(0,h);const f=p.slice(c.hi).findIndex(g=>!Ht(g[d.axis]));c.hi+=Math.max(0,f)}return c}}return{lo:0,hi:o.length-1}}function Na(n,e,t,i,r){const o=n.getSortedVisibleDatasetMetas(),s=t[e];for(let a=0,l=o.length;a<l;++a){const{index:u,data:c}=o[a],{lo:d,hi:p}=sT(o[a],e,s,r);for(let h=d;h<=p;++h){const f=c[h];f.skip||i(f,u,h)}}}function aT(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,r){const o=e?Math.abs(i.x-r.x):0,s=t?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(s,2))}}function Zc(n,e,t,i,r){const o=[];return!r&&!n.isPointInArea(e)||Na(n,t,e,function(a,l,u){!r&&!xo(a,n.chartArea,0)||a.inRange(e.x,e.y,i)&&o.push({element:a,datasetIndex:l,index:u})},!0),o}function lT(n,e,t,i){let r=[];function o(s,a,l){const{startAngle:u,endAngle:c}=s.getProps(["startAngle","endAngle"],i),{angle:d}=VC(s,{x:e.x,y:e.y});gu(d,u,c)&&r.push({element:s,datasetIndex:a,index:l})}return Na(n,t,e,o),r}function uT(n,e,t,i,r,o){let s=[];const a=aT(t);let l=Number.POSITIVE_INFINITY;function u(c,d,p){const h=c.inRange(e.x,e.y,r);if(i&&!h)return;const f=c.getCenterPoint(r);if(!(!!o||n.isPointInArea(f))&&!h)return;const v=a(e,f);v<l?(s=[{element:c,datasetIndex:d,index:p}],l=v):v===l&&s.push({element:c,datasetIndex:d,index:p})}return Na(n,t,e,u),s}function td(n,e,t,i,r,o){return!o&&!n.isPointInArea(e)?[]:t==="r"&&!i?lT(n,e,t,r):uT(n,e,t,i,r,o)}function rv(n,e,t,i,r){const o=[],s=t==="x"?"inXRange":"inYRange";let a=!1;return Na(n,t,e,(l,u,c)=>{l[s]&&l[s](e[t],r)&&(o.push({element:l,datasetIndex:u,index:c}),a=a||l.inRange(e.x,e.y,r))}),i&&!a?[]:o}var cT={evaluateInteractionItems:Na,modes:{index(n,e,t,i){const r=kn(e,n),o=t.axis||"x",s=t.includeInvisible||!1,a=t.intersect?Zc(n,r,o,i,s):td(n,r,o,!1,i,s),l=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(u=>{const c=a[0].index,d=u.data[c];d&&!d.skip&&l.push({element:d,datasetIndex:u.index,index:c})}),l):[]},dataset(n,e,t,i){const r=kn(e,n),o=t.axis||"xy",s=t.includeInvisible||!1;let a=t.intersect?Zc(n,r,o,i,s):td(n,r,o,!1,i,s);if(a.length>0){const l=a[0].datasetIndex,u=n.getDatasetMeta(l).data;a=[];for(let c=0;c<u.length;++c)a.push({element:u[c],datasetIndex:l,index:c})}return a},point(n,e,t,i){const r=kn(e,n),o=t.axis||"xy",s=t.includeInvisible||!1;return Zc(n,r,o,i,s)},nearest(n,e,t,i){const r=kn(e,n),o=t.axis||"xy",s=t.includeInvisible||!1;return td(n,r,o,t.intersect,i,s)},x(n,e,t,i){const r=kn(e,n);return rv(n,r,"x",t.intersect,i)},y(n,e,t,i){const r=kn(e,n);return rv(n,r,"y",t.intersect,i)}}};const rw=["left","top","right","bottom"];function as(n,e){return n.filter(t=>t.pos===e)}function nv(n,e){return n.filter(t=>rw.indexOf(t.pos)===-1&&t.box.axis===e)}function ls(n,e){return n.sort((t,i)=>{const r=e?i:t,o=e?t:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function dT(n){const e=[];let t,i,r,o,s,a;for(t=0,i=(n||[]).length;t<i;++t)r=n[t],{position:o,options:{stack:s,stackWeight:a=1}}=r,e.push({index:t,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:s&&o+s,stackWeight:a});return e}function pT(n){const e={};for(const t of n){const{stack:i,pos:r,stackWeight:o}=t;if(!i||!rw.includes(r))continue;const s=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=o}return e}function hT(n,e){const t=pT(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let o,s,a;for(o=0,s=n.length;o<s;++o){a=n[o];const{fullSize:l}=a.box,u=t[a.stack],c=u&&a.stackWeight/u.weight;a.horizontal?(a.width=c?c*i:l&&e.availableWidth,a.height=r):(a.width=i,a.height=c?c*r:l&&e.availableHeight)}return t}function fT(n){const e=dT(n),t=ls(e.filter(u=>u.box.fullSize),!0),i=ls(as(e,"left"),!0),r=ls(as(e,"right")),o=ls(as(e,"top"),!0),s=ls(as(e,"bottom")),a=nv(e,"x"),l=nv(e,"y");return{fullSize:t,leftAndTop:i.concat(o),rightAndBottom:r.concat(l).concat(s).concat(a),chartArea:as(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:o.concat(s).concat(a)}}function ov(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function nw(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function gT(n,e,t,i){const{pos:r,box:o}=t,s=n.maxPadding;if(!It(r)){t.size&&(n[r]-=t.size);const d=i[t.stack]||{size:0,count:1};d.size=Math.max(d.size,t.horizontal?o.height:o.width),t.size=d.size/d.count,n[r]+=t.size}o.getPadding&&nw(s,o.getPadding());const a=Math.max(0,e.outerWidth-ov(s,n,"left","right")),l=Math.max(0,e.outerHeight-ov(s,n,"top","bottom")),u=a!==n.w,c=l!==n.h;return n.w=a,n.h=l,t.horizontal?{same:u,other:c}:{same:c,other:u}}function vT(n){const e=n.maxPadding;function t(i){const r=Math.max(e[i]-n[i],0);return n[i]+=r,r}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function yT(n,e){const t=e.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(s=>{o[s]=Math.max(e[s],t[s])}),o}return i(n?["left","right"]:["top","bottom"])}function zs(n,e,t,i){const r=[];let o,s,a,l,u,c;for(o=0,s=n.length,u=0;o<s;++o){a=n[o],l=a.box,l.update(a.width||e.w,a.height||e.h,yT(a.horizontal,e));const{same:d,other:p}=gT(e,t,a,i);u|=d&&r.length,c=c||p,l.fullSize||r.push(a)}return u&&zs(r,e,t,i)||c}function Za(n,e,t,i,r){n.top=t,n.left=e,n.right=e+i,n.bottom=t+r,n.width=i,n.height=r}function sv(n,e,t,i){const r=t.padding;let{x:o,y:s}=e;for(const a of n){const l=a.box,u=i[a.stack]||{count:1,placed:0,weight:1},c=a.stackWeight/u.weight||1;if(a.horizontal){const d=e.w*c,p=u.size||l.height;ma(u.start)&&(s=u.start),l.fullSize?Za(l,r.left,s,t.outerWidth-r.right-r.left,p):Za(l,e.left+u.placed,s,d,p),u.start=s,u.placed+=d,s=l.bottom}else{const d=e.h*c,p=u.size||l.width;ma(u.start)&&(o=u.start),l.fullSize?Za(l,o,r.top,p,t.outerHeight-r.bottom-r.top):Za(l,o,e.top+u.placed,p,d),u.start=o,u.placed+=d,o=l.right}}e.x=o,e.y=s}var Ri={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const r=ke(n.options.layout.padding),o=Math.max(e-r.width,0),s=Math.max(t-r.height,0),a=fT(n.boxes),l=a.vertical,u=a.horizontal;kt(n.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const c=l.reduce((g,v)=>v.box.options&&v.box.options.display===!1?g:g+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:o,availableHeight:s,vBoxMaxWidth:o/2/c,hBoxMaxHeight:s/2}),p=Object.assign({},r);nw(p,ke(i));const h=Object.assign({maxPadding:p,w:o,h:s,x:r.left,y:r.top},r),f=hT(l.concat(u),d);zs(a.fullSize,h,d,f),zs(l,h,d,f),zs(u,h,d,f)&&zs(l,h,d,f),vT(h),sv(a.leftAndTop,h,d,f),h.x+=h.w,h.y+=h.h,sv(a.rightAndBottom,h,d,f),n.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},kt(a.chartArea,g=>{const v=g.box;Object.assign(v,n.chartArea),v.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class ow{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,r){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):i)}}isAttached(e){return!0}updateConfig(e){}}class mT extends ow{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Xl="$chartjs",CT={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},av=n=>n===null||n==="";function wT(n,e){const t=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[Xl]={initial:{height:i,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",av(r)){const o=Kg(n,"width");o!==void 0&&(n.width=o)}if(av(i))if(n.style.height==="")n.height=n.width/(e||2);else{const o=Kg(n,"height");o!==void 0&&(n.height=o)}return n}const sw=PO?{passive:!0}:!1;function ST(n,e,t){n&&n.addEventListener(e,t,sw)}function _T(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,sw)}function ET(n,e){const t=CT[n.type]||n.type,{x:i,y:r}=kn(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function mu(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function bT(n,e,t){const i=n.canvas,r=new MutationObserver(o=>{let s=!1;for(const a of o)s=s||mu(a.addedNodes,i),s=s&&!mu(a.removedNodes,i);s&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function RT(n,e,t){const i=n.canvas,r=new MutationObserver(o=>{let s=!1;for(const a of o)s=s||mu(a.removedNodes,i),s=s&&!mu(a.addedNodes,i);s&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}const wa=new Map;let lv=0;function aw(){const n=window.devicePixelRatio;n!==lv&&(lv=n,wa.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function OT(n,e){wa.size||window.addEventListener("resize",aw),wa.set(n,e)}function TT(n){wa.delete(n),wa.size||window.removeEventListener("resize",aw)}function xT(n,e,t){const i=n.canvas,r=i&&Nh(i);if(!r)return;const o=WC((a,l)=>{const u=r.clientWidth;t(a,l),u<r.clientWidth&&t()},window),s=new ResizeObserver(a=>{const l=a[0],u=l.contentRect.width,c=l.contentRect.height;u===0&&c===0||o(u,c)});return s.observe(r),OT(n,o),s}function ed(n,e,t){t&&t.disconnect(),e==="resize"&&TT(n)}function PT(n,e,t){const i=n.canvas,r=WC(o=>{n.ctx!==null&&t(ET(o,n))},n);return ST(i,e,r),r}class DT extends ow{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(wT(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[Xl])return!1;const i=t[Xl].initial;["height","width"].forEach(o=>{const s=i[o];Ht(s)?t.removeAttribute(o):t.setAttribute(o,s)});const r=i.style||{};return Object.keys(r).forEach(o=>{t.style[o]=r[o]}),t.width=t.width,delete t[Xl],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),s={attach:bT,detach:RT,resize:xT}[t]||PT;r[t]=s(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),r=i[t];if(!r)return;({attach:ed,detach:ed,resize:ed}[t]||_T)(e,t,r),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,r){return xO(e,t,i,r)}isAttached(e){const t=e&&Nh(e);return!!(t&&t.isConnected)}}function AT(n){return!Ih()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?mT:DT}var Gl;let co=(Gl=class{constructor(){dt(this,"x");dt(this,"y");dt(this,"active",!1);dt(this,"options");dt(this,"$animations")}tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return fu(this.x)&&fu(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const r={};return e.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}},dt(Gl,"defaults",{}),dt(Gl,"defaultRoutes"),Gl);function FT(n,e){const t=n.options.ticks,i=MT(n),r=Math.min(t.maxTicksLimit||i,i),o=t.major.enabled?IT(e):[],s=o.length,a=o[0],l=o[s-1],u=[];if(s>r)return NT(e,u,o,s/r),u;const c=LT(o,e,r);if(s>0){let d,p;const h=s>1?Math.round((l-a)/(s-1)):null;for(tl(e,u,c,Ht(h)?0:a-h,a),d=0,p=s-1;d<p;d++)tl(e,u,c,o[d],o[d+1]);return tl(e,u,c,l,Ht(h)?e.length:l+h),u}return tl(e,u,c),u}function MT(n){const e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),r=n._maxLength/t;return Math.floor(Math.min(i,r))}function LT(n,e,t){const i=GT(n),r=e.length/t;if(!i)return Math.max(r,1);const o=k0(i);for(let s=0,a=o.length-1;s<a;s++){const l=o[s];if(l>r)return l}return Math.max(r,1)}function IT(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function NT(n,e,t,i){let r=0,o=t[0],s;for(i=Math.ceil(i),s=0;s<n.length;s++)s===o&&(e.push(n[s]),r++,o=t[r*i])}function tl(n,e,t,i,r){const o=Nt(i,0),s=Math.min(Nt(r,n.length),n.length);let a=0,l,u,c;for(t=Math.ceil(t),r&&(l=r-i,t=l/Math.floor(l/t)),c=o;c<0;)a++,c=Math.round(o+a*t);for(u=Math.max(o,0);u<s;u++)u===c&&(e.push(n[u]),a++,c=Math.round(o+a*t))}function GT(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}const HT=n=>n==="left"?"right":n==="right"?"left":n,uv=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,cv=(n,e)=>Math.min(e||n,n);function dv(n,e){const t=[],i=n.length/e,r=n.length;let o=0;for(;o<r;o+=i)t.push(n[Math.floor(o)]);return t}function VT(n,e,t){const i=n.ticks.length,r=Math.min(e,i-1),o=n._startPixel,s=n._endPixel,a=1e-6;let l=n.getPixelForTick(r),u;if(!(t&&(i===1?u=Math.max(l-o,s-l):e===0?u=(n.getPixelForTick(1)-l)/2:u=(l-n.getPixelForTick(r-1))/2,l+=r<e?u:-u,l<o-a||l>s+a)))return l}function kT(n,e){kt(n,t=>{const i=t.gc,r=i.length/2;let o;if(r>e){for(o=0;o<r;++o)delete t.data[i[o]];i.splice(0,r)}})}function us(n){return n.drawTicks?n.tickLength:0}function pv(n,e){if(!n.display)return 0;const t=me(n.font,e),i=ke(n.padding);return(Qt(n.text)?n.text.length:1)*t.lineHeight+i.height}function BT(n,e){return uo(n,{scale:e,type:"scale"})}function jT(n,e,t){return uo(n,{tick:t,index:e,type:"tick"})}function WT(n,e,t){let i=xh(n);return(t&&e!=="right"||!t&&e==="right")&&(i=HT(i)),i}function UT(n,e,t,i){const{top:r,left:o,bottom:s,right:a,chart:l}=n,{chartArea:u,scales:c}=l;let d=0,p,h,f;const g=s-r,v=a-o;if(n.isHorizontal()){if(h=Me(i,o,a),It(t)){const m=Object.keys(t)[0],w=t[m];f=c[m].getPixelForValue(w)+g-e}else t==="center"?f=(u.bottom+u.top)/2+g-e:f=uv(n,t,e);p=a-o}else{if(It(t)){const m=Object.keys(t)[0],w=t[m];h=c[m].getPixelForValue(w)-v+e}else t==="center"?h=(u.left+u.right)/2-v+e:h=uv(n,t,e);f=Me(i,s,r),d=t==="left"?-se:se}return{titleX:h,titleY:f,maxWidth:p,rotation:d}}class po extends co{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:r}=this;return e=di(e,Number.POSITIVE_INFINITY),t=di(t,Number.NEGATIVE_INFINITY),i=di(i,Number.POSITIVE_INFINITY),r=di(r,Number.NEGATIVE_INFINITY),{min:di(e,i),max:di(t,r),minDefined:_e(e),maxDefined:_e(t)}}getMinMax(e){let{min:t,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),s;if(r&&o)return{min:t,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,u=a.length;l<u;++l)s=a[l].controller.getMinMax(this,e),r||(t=Math.min(t,s.min)),o||(i=Math.max(i,s.max));return t=o&&t>i?i:t,i=r&&t>i?t:i,{min:di(t,di(i,t)),max:di(i,di(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){zt(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:r,grace:o,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=hO(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?dv(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=FT(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){zt(this.options.afterUpdate,[this])}beforeSetDimensions(){zt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){zt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),zt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){zt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,r,o;for(i=0,r=e.length;i<r;i++)o=e[i],o.label=zt(t.callback,[o.value,i,e],this)}afterTickToLabelConversion(){zt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){zt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=cv(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,o=t.maxRotation;let s=r,a,l,u;if(!this._isVisible()||!t.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const c=this._getLabelSizes(),d=c.widest.width,p=c.highest.height,h=ei(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/i:h/(i-1),d+6>a&&(a=h/(i-(e.offset?.5:1)),l=this.maxHeight-us(e.grid)-t.padding-pv(e.title,this.chart.options.font),u=Math.sqrt(d*d+p*p),s=Oh(Math.min(Math.asin(ei((c.highest.height+6)/a,-1,1)),Math.asin(ei(l/u,-1,1))-Math.asin(ei(p/u,-1,1)))),s=Math.max(r,Math.min(o,s))),this.labelRotation=s}afterCalculateLabelRotation(){zt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){zt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:r,grid:o}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){const l=pv(r,t.options.font);if(a?(e.width=this.maxWidth,e.height=us(o)+l):(e.height=this.maxHeight,e.width=us(o)+l),i.display&&this.ticks.length){const{first:u,last:c,widest:d,highest:p}=this._getLabelSizes(),h=i.padding*2,f=dr(this.labelRotation),g=Math.cos(f),v=Math.sin(f);if(a){const m=i.mirror?0:v*d.width+g*p.height;e.height=Math.min(this.maxHeight,e.height+m+h)}else{const m=i.mirror?0:g*d.width+v*p.height;e.width=Math.min(this.maxWidth,e.width+m+h)}this._calculatePadding(u,c,v,g)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,r){const{ticks:{align:o,padding:s},position:a}=this.options,l=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const c=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,h=0;l?u?(p=r*e.width,h=i*t.height):(p=i*e.height,h=r*t.width):o==="start"?h=t.width:o==="end"?p=e.width:o!=="inner"&&(p=e.width/2,h=t.width/2),this.paddingLeft=Math.max((p-c+s)*this.width/(this.width-c),0),this.paddingRight=Math.max((h-d+s)*this.width/(this.width-d),0)}else{let c=t.height/2,d=e.height/2;o==="start"?(c=0,d=e.height):o==="end"&&(c=t.height,d=0),this.paddingTop=c+s,this.paddingBottom=d+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){zt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)Ht(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=dv(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:r,_longestTextCache:o}=this,s=[],a=[],l=Math.floor(t/cv(t,i));let u=0,c=0,d,p,h,f,g,v,m,w,b,E,O;for(d=0;d<t;d+=l){if(f=e[d].label,g=this._resolveTickFontOptions(d),r.font=v=g.string,m=o[v]=o[v]||{data:{},gc:[]},w=g.lineHeight,b=E=0,!Ht(f)&&!Qt(f))b=vu(r,m.data,m.gc,b,f),E=w;else if(Qt(f))for(p=0,h=f.length;p<h;++p)O=f[p],!Ht(O)&&!Qt(O)&&(b=vu(r,m.data,m.gc,b,O),E+=w);s.push(b),a.push(E),u=Math.max(b,u),c=Math.max(E,c)}kT(o,t);const P=s.indexOf(u),M=a.indexOf(c),D=F=>({width:s[F]||0,height:a[F]||0});return{first:D(0),last:D(t-1),widest:D(P),highest:D(M),widths:s,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return U0(this._alignToPixels?Fn(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=jT(this.getContext(),e,i))}return this.$context||(this.$context=BT(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=dr(this.labelRotation),i=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),o=this._getLabelSizes(),s=e.autoSkipPadding||0,a=o?o.widest.width+s:0,l=o?o.highest.height+s:0;return this.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,r=this.options,{grid:o,position:s,border:a}=r,l=o.offset,u=this.isHorizontal(),d=this.ticks.length+(l?1:0),p=us(o),h=[],f=a.setContext(this.getContext()),g=f.display?f.width:0,v=g/2,m=function(it){return Fn(i,it,g)};let w,b,E,O,P,M,D,F,V,B,G,lt;if(s==="top")w=m(this.bottom),M=this.bottom-p,F=w-v,B=m(e.top)+v,lt=e.bottom;else if(s==="bottom")w=m(this.top),B=e.top,lt=m(e.bottom)-v,M=w+v,F=this.top+p;else if(s==="left")w=m(this.right),P=this.right-p,D=w-v,V=m(e.left)+v,G=e.right;else if(s==="right")w=m(this.left),V=e.left,G=m(e.right)-v,P=w+v,D=this.left+p;else if(t==="x"){if(s==="center")w=m((e.top+e.bottom)/2+.5);else if(It(s)){const it=Object.keys(s)[0],J=s[it];w=m(this.chart.scales[it].getPixelForValue(J))}B=e.top,lt=e.bottom,M=w+v,F=M+p}else if(t==="y"){if(s==="center")w=m((e.left+e.right)/2);else if(It(s)){const it=Object.keys(s)[0],J=s[it];w=m(this.chart.scales[it].getPixelForValue(J))}P=w-v,D=P-p,V=e.left,G=e.right}const yt=Nt(r.ticks.maxTicksLimit,d),ut=Math.max(1,Math.ceil(d/yt));for(b=0;b<d;b+=ut){const it=this.getContext(b),J=o.setContext(it),ct=a.setContext(it),Rt=J.lineWidth,jt=J.color,ge=ct.dash||[],Pt=ct.dashOffset,ni=J.tickWidth,Mi=J.tickColor,vr=J.tickBorderDash||[],Jt=J.tickBorderDashOffset;E=VT(this,b,l),E!==void 0&&(O=Fn(i,E,Rt),u?P=D=V=G=O:M=F=B=lt=O,h.push({tx1:P,ty1:M,tx2:D,ty2:F,x1:V,y1:B,x2:G,y2:lt,width:Rt,color:jt,borderDash:ge,borderDashOffset:Pt,tickWidth:ni,tickColor:Mi,tickBorderDash:vr,tickBorderDashOffset:Jt}))}return this._ticksLength=d,this._borderValue=w,h}_computeLabelItems(e){const t=this.axis,i=this.options,{position:r,ticks:o}=i,s=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:u,padding:c,mirror:d}=o,p=us(i.grid),h=p+c,f=d?-c:h,g=-dr(this.labelRotation),v=[];let m,w,b,E,O,P,M,D,F,V,B,G,lt="middle";if(r==="top")P=this.bottom-f,M=this._getXAxisLabelAlignment();else if(r==="bottom")P=this.top+f,M=this._getXAxisLabelAlignment();else if(r==="left"){const ut=this._getYAxisLabelAlignment(p);M=ut.textAlign,O=ut.x}else if(r==="right"){const ut=this._getYAxisLabelAlignment(p);M=ut.textAlign,O=ut.x}else if(t==="x"){if(r==="center")P=(e.top+e.bottom)/2+h;else if(It(r)){const ut=Object.keys(r)[0],it=r[ut];P=this.chart.scales[ut].getPixelForValue(it)+h}M=this._getXAxisLabelAlignment()}else if(t==="y"){if(r==="center")O=(e.left+e.right)/2-h;else if(It(r)){const ut=Object.keys(r)[0],it=r[ut];O=this.chart.scales[ut].getPixelForValue(it)}M=this._getYAxisLabelAlignment(p).textAlign}t==="y"&&(l==="start"?lt="top":l==="end"&&(lt="bottom"));const yt=this._getLabelSizes();for(m=0,w=a.length;m<w;++m){b=a[m],E=b.label;const ut=o.setContext(this.getContext(m));D=this.getPixelForTick(m)+o.labelOffset,F=this._resolveTickFontOptions(m),V=F.lineHeight,B=Qt(E)?E.length:1;const it=B/2,J=ut.color,ct=ut.textStrokeColor,Rt=ut.textStrokeWidth;let jt=M;s?(O=D,M==="inner"&&(m===w-1?jt=this.options.reverse?"left":"right":m===0?jt=this.options.reverse?"right":"left":jt="center"),r==="top"?u==="near"||g!==0?G=-B*V+V/2:u==="center"?G=-yt.highest.height/2-it*V+V:G=-yt.highest.height+V/2:u==="near"||g!==0?G=V/2:u==="center"?G=yt.highest.height/2-it*V:G=yt.highest.height-B*V,d&&(G*=-1),g!==0&&!ut.showLabelBackdrop&&(O+=V/2*Math.sin(g))):(P=D,G=(1-B)*V/2);let ge;if(ut.showLabelBackdrop){const Pt=ke(ut.backdropPadding),ni=yt.heights[m],Mi=yt.widths[m];let vr=G-Pt.top,Jt=0-Pt.left;switch(lt){case"middle":vr-=ni/2;break;case"bottom":vr-=ni;break}switch(M){case"center":Jt-=Mi/2;break;case"right":Jt-=Mi;break;case"inner":m===w-1?Jt-=Mi:m>0&&(Jt-=Mi/2);break}ge={left:Jt,top:vr,width:Mi+Pt.width,height:ni+Pt.height,color:ut.backdropColor}}v.push({label:E,font:F,textOffset:G,options:{rotation:g,color:J,strokeColor:ct,strokeWidth:Rt,textAlign:jt,textBaseline:lt,translation:[O,P],backdrop:ge}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-dr(this.labelRotation))return e==="top"?"left":"right";let r="center";return t.align==="start"?r="left":t.align==="end"?r="right":t.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,s=this._getLabelSizes(),a=e+o,l=s.widest.width;let u,c;return t==="left"?r?(c=this.right+o,i==="near"?u="left":i==="center"?(u="center",c+=l/2):(u="right",c+=l)):(c=this.right-a,i==="near"?u="right":i==="center"?(u="center",c-=l/2):(u="left",c=this.left)):t==="right"?r?(c=this.left+o,i==="near"?u="right":i==="center"?(u="center",c-=l/2):(u="left",c-=l)):(c=this.left+a,i==="near"?u="left":i==="center"?(u="center",c+=l/2):(u="right",c=this.right)):u="right",{textAlign:u,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:r,width:o,height:s}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,r,o,s),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(o=>o.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,s;const a=(l,u,c)=>{!c.width||!c.color||(i.save(),i.lineWidth=c.width,i.strokeStyle=c.color,i.setLineDash(c.borderDash||[]),i.lineDashOffset=c.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(u.x,u.y),i.stroke(),i.restore())};if(t.display)for(o=0,s=r.length;o<s;++o){const l=r[o];t.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),t.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),s=i.display?o.width:0;if(!s)return;const a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,c,d,p;this.isHorizontal()?(u=Fn(e,this.left,s)-s/2,c=Fn(e,this.right,a)+a/2,d=p=l):(d=Fn(e,this.top,s)-s/2,p=Fn(e,this.bottom,a)+a/2,u=c=l),t.save(),t.lineWidth=o.width,t.strokeStyle=o.color,t.beginPath(),t.moveTo(u,d),t.lineTo(c,p),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&Ph(i,r);const o=this.getLabelItems(e);for(const s of o){const a=s.options,l=s.font,u=s.label,c=s.textOffset;no(i,u,0,c,l,a)}r&&Dh(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:r}}=this;if(!i.display)return;const o=me(i.font),s=ke(i.padding),a=i.align;let l=o.lineHeight/2;t==="bottom"||t==="center"||It(t)?(l+=s.bottom,Qt(i.text)&&(l+=o.lineHeight*(i.text.length-1))):l+=s.top;const{titleX:u,titleY:c,maxWidth:d,rotation:p}=UT(this,l,t,a);no(e,i.text,0,0,o,{color:i.color,maxWidth:d,rotation:p,textAlign:WT(a,t,r),textBaseline:"middle",translation:[u,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=Nt(e.grid&&e.grid.z,-1),r=Nt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==po.prototype.draw?[{z:t,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,s;for(o=0,s=t.length;o<s;++o){const a=t[o];a[i]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return me(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class el{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;KT(t)&&(i=this.register(t));const r=this.items,o=e.id,s=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in r||(r[o]=e,zT(e,s,i),this.override&&ie.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,r=this.scope;i in t&&delete t[i],r&&i in ie[r]&&(delete ie[r][i],this.override&&delete ro[i])}}function zT(n,e,t){const i=ya(Object.create(null),[t?ie.get(t):{},ie.get(e),n.defaults]);ie.set(e,i),n.defaultRoutes&&$T(e,n.defaultRoutes),n.descriptors&&ie.describe(e,n.descriptors)}function $T(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),r=i.pop(),o=[n].concat(i).join("."),s=e[t].split("."),a=s.pop(),l=s.join(".");ie.route(o,r,l,a)})}function KT(n){return"id"in n&&"defaults"in n}class YT{constructor(){this.controllers=new el(Vo,"datasets",!0),this.elements=new el(co,"elements"),this.plugins=new el(Object,"plugins"),this.scales=new el(po,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(e,o,r):kt(r,s=>{const a=i||this._getRegistryForType(s);this._exec(e,a,s)})})}_exec(e,t,i){const r=Rh(e);zt(i["before"+r],[],i),t[e](i),zt(i["after"+r],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const r=t.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var ir=new YT;class qT{constructor(){this._init=[]}notify(e,t,i,r){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=r?this._descriptors(e).filter(r):this._descriptors(e),s=this._notify(o,e,t,i);return t==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),s}_notify(e,t,i,r){r=r||{};for(const o of e){const s=o.plugin,a=s[i],l=[t,r,o.options];if(zt(a,l,s)===!1&&r.cancelable)return!1}return!0}invalidate(){Ht(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,r=Nt(i.options&&i.options.plugins,{}),o=XT(i);return r===!1&&!t?[]:JT(e,o,r,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,r=(o,s)=>o.filter(a=>!s.some(l=>a.plugin.id===l.plugin.id));this._notify(r(t,i),e,"stop"),this._notify(r(i,t),e,"start")}}function XT(n){const e={},t=[],i=Object.keys(ir.plugins.items);for(let o=0;o<i.length;o++)t.push(ir.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const s=r[o];t.indexOf(s)===-1&&(t.push(s),e[s.id]=!0)}return{plugins:t,localIds:e}}function QT(n,e){return!e&&n===!1?null:n===!0?{}:n}function JT(n,{plugins:e,localIds:t},i,r){const o=[],s=n.getContext();for(const a of e){const l=a.id,u=QT(i[l],r);u!==null&&o.push({plugin:a,options:ZT(n.config,{plugin:a,local:t[l]},u,s)})}return o}function ZT(n,{plugin:e,local:t},i,r){const o=n.pluginScopeKeys(e),s=n.getOptionScopes(i,o);return t&&e.defaults&&s.push(e.defaults),n.createResolver(s,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Rp(n,e){const t=ie.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function tx(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function ex(n,e){return n===e?"_index_":"_value_"}function hv(n){if(n==="x"||n==="y"||n==="r")return n}function ix(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Op(n,...e){if(hv(n))return n;for(const t of e){const i=t.axis||ix(t.position)||n.length>1&&hv(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function fv(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function rx(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return fv(n,"x",t[0])||fv(n,"y",t[0])}return{}}function nx(n,e){const t=ro[n.type]||{scales:{}},i=e.scales||{},r=Rp(n.type,e),o=Object.create(null);return Object.keys(i).forEach(s=>{const a=i[s];if(!It(a))return console.error(`Invalid scale configuration for scale: ${s}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);const l=Op(s,a,rx(s,n),ie.scales[a.type]),u=ex(l,r),c=t.scales||{};o[s]=ea(Object.create(null),[{axis:l},a,c[l],c[u]])}),n.data.datasets.forEach(s=>{const a=s.type||n.type,l=s.indexAxis||Rp(a,e),c=(ro[a]||{}).scales||{};Object.keys(c).forEach(d=>{const p=tx(d,l),h=s[p+"AxisID"]||p;o[h]=o[h]||Object.create(null),ea(o[h],[{axis:p},i[h],c[d]])})}),Object.keys(o).forEach(s=>{const a=o[s];ea(a,[ie.scales[a.type],ie.scale])}),o}function lw(n){const e=n.options||(n.options={});e.plugins=Nt(e.plugins,{}),e.scales=nx(n,e)}function uw(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function ox(n){return n=n||{},n.data=uw(n.data),lw(n),n}const gv=new Map,cw=new Set;function il(n,e){let t=gv.get(n);return t||(t=e(),gv.set(n,t),cw.add(t)),t}const cs=(n,e,t)=>{const i=io(e,t);i!==void 0&&n.add(i)};class sx{constructor(e){this._config=ox(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=uw(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),lw(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return il(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return il(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return il(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return il(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let r=i.get(e);return(!r||t)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,t,i){const{options:r,type:o}=this,s=this._cachedScopes(e,i),a=s.get(t);if(a)return a;const l=new Set;t.forEach(c=>{e&&(l.add(e),c.forEach(d=>cs(l,e,d))),c.forEach(d=>cs(l,r,d)),c.forEach(d=>cs(l,ro[o]||{},d)),c.forEach(d=>cs(l,ie,d)),c.forEach(d=>cs(l,Ep,d))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),cw.has(t)&&s.set(t,u),u}chartOptionScopes(){const{options:e,type:t}=this;return[e,ro[t]||{},ie.datasets[t]||{},{type:t},ie,Ep]}resolveNamedOptions(e,t,i,r=[""]){const o={$shared:!0},{resolver:s,subPrefixes:a}=vv(this._resolverCache,e,r);let l=s;if(lx(s,t)){o.$shared=!1,i=yn(i)?i():i;const u=this.createResolver(e,i,a);l=zo(s,i,u)}for(const u of t)o[u]=l[u];return o}createResolver(e,t,i=[""],r){const{resolver:o}=vv(this._resolverCache,e,i);return It(t)?zo(o,t,void 0,r):o}}function vv(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const r=t.join();let o=i.get(r);return o||(o={resolver:Fh(e,t),subPrefixes:t.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,o)),o}const ax=n=>It(n)&&Object.getOwnPropertyNames(n).some(e=>yn(n[e]));function lx(n,e){const{isScriptable:t,isIndexable:i}=YC(n);for(const r of e){const o=t(r),s=i(r),a=(s||o)&&n[r];if(o&&(yn(a)||ax(a))||s&&Qt(a))return!0}return!1}var ux="4.4.9";const cx=["top","bottom","left","right","chartArea"];function yv(n,e){return n==="top"||n==="bottom"||cx.indexOf(n)===-1&&e==="x"}function mv(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function Cv(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),zt(t&&t.onComplete,[n],e)}function dx(n){const e=n.chart,t=e.options.animation;zt(t&&t.onProgress,[n],e)}function dw(n){return Ih()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Ql={},wv=n=>{const e=dw(n);return Object.values(Ql).filter(t=>t.canvas===e).pop()};function px(n,e,t){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=e){const s=n[r];delete n[r],(t>0||o>e)&&(n[o+t]=s)}}}function hx(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}var Jr;let pc=(Jr=class{static register(...e){ir.add(...e),Sv()}static unregister(...e){ir.remove(...e),Sv()}constructor(e,t){const i=this.config=new sx(t),r=dw(e),o=wv(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const s=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||AT(r)),this.platform.updateConfig(i);const a=this.platform.acquireContext(r,s.aspectRatio),l=a&&a.canvas,u=l&&l.height,c=l&&l.width;if(this.id=F0(),this.ctx=a,this.canvas=l,this.width=c,this.height=u,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new qT,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Y0(d=>this.update(d),s.resizeDelay||0),this._dataChanges=[],Ql[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}_r.listen(this,"complete",Cv),_r.listen(this,"progress",dx),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:r,_aspectRatio:o}=this;return Ht(e)?t&&o?o:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ir}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():$g(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return jg(this.canvas,this.ctx),this}stop(){return _r.stop(this),this}resize(e,t){_r.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(r,e,t,o),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,$g(this,a,!0)&&(this.notifyPlugins("resize",{size:s}),zt(i.onResize,[this,s],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};kt(t,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,r=Object.keys(i).reduce((s,a)=>(s[a]=!1,s),{});let o=[];t&&(o=o.concat(Object.keys(t).map(s=>{const a=t[s],l=Op(s,a),u=l==="r",c=l==="x";return{options:a,dposition:u?"chartArea":c?"bottom":"left",dtype:u?"radialLinear":c?"category":"linear"}}))),kt(o,s=>{const a=s.options,l=a.id,u=Op(l,a),c=Nt(a.type,s.dtype);(a.position===void 0||yv(a.position,u)!==yv(s.dposition))&&(a.position=s.dposition),r[l]=!0;let d=null;if(l in i&&i[l].type===c)d=i[l];else{const p=ir.getScale(c);d=new p({id:l,type:c,ctx:this.ctx,chart:this}),i[d.id]=d}d.init(a,e)}),kt(r,(s,a)=>{s||delete i[a]}),kt(i,s=>{Ri.configure(this,s,s.options),Ri.addBox(this,s)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((r,o)=>r.index-o.index),i>t){for(let r=t;r<i;++r)this._destroyDatasetMeta(r);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(mv("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,r)=>{t.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=t.length;i<r;i++){const o=t[i];let s=this.getDatasetMeta(i);const a=o.type||this.config.type;if(s.type&&s.type!==a&&(this._destroyDatasetMeta(i),s=this.getDatasetMeta(i)),s.type=a,s.indexAxis=o.indexAxis||Rp(a,this.options),s.order=o.order||0,s.index=i,s.label=""+o.label,s.visible=this.isDatasetVisible(i),s.controller)s.controller.updateIndex(i),s.controller.linkScales();else{const l=ir.getController(a),{datasetElementType:u,dataElementType:c}=ie.datasets[a];Object.assign(l,{dataElementType:ir.getElement(c),datasetElementType:u&&ir.getElement(u)}),s.controller=new l(this,i),e.push(s.controller)}}return this._updateMetasets(),e}_resetElements(){kt(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let u=0,c=this.data.datasets.length;u<c;u++){const{controller:d}=this.getDatasetMeta(u),p=!r&&o.indexOf(d)===-1;d.buildOrUpdateElements(p),s=Math.max(+d.getMaxOverflow(),s)}s=this._minPadding=i.layout.autoPadding?s:0,this._updateLayout(s),r||kt(o,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(mv("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){kt(this.scales,e=>{Ri.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!Mg(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of t){const s=i==="_removeElements"?-o:o;px(e,r,s)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=o=>new Set(e.filter(s=>s[0]===o).map((s,a)=>a+","+s.splice(1).join(","))),r=i(0);for(let o=1;o<t;o++)if(!Mg(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ri.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],kt(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,yn(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(_r.has(this)?this.attached&&!_r.running(this)&&_r.start(this):(this.draw(),Cv({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let r,o;for(r=0,o=t.length;r<o;++r){const s=t[r];(!e||s.visible)&&i.push(s)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i={meta:e,index:e.index,cancelable:!0},r=MO(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&Ph(t,r),e.controller.draw(),r&&Dh(t),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return xo(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,r){const o=cT.modes[t];return typeof o=="function"?o(this,e,i,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let r=i.filter(o=>o&&o._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=uo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const r=i?"show":"hide",o=this.getDatasetMeta(e),s=o.controller._resolveAnimations(void 0,r);ma(t)?(o.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),s.update(o,{visible:i}),this.update(a=>a.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),_r.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),jg(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Ql[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(o,s)=>{t.addEventListener(this,o,s),e[o]=s},r=(o,s,a)=>{o.offsetX=s,o.offsetY=a,this._eventHandler(o)};kt(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(l,u)=>{t.addEventListener(this,l,u),e[l]=u},r=(l,u)=>{e[l]&&(t.removeEventListener(this,l,u),delete e[l])},o=(l,u)=>{this.canvas&&this.resize(l,u)};let s;const a=()=>{r("attach",a),this.attached=!0,this.resize(),i("resize",o),i("detach",s)};s=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",a)},t.isAttached(this.canvas)?a():s()}unbindEvents(){kt(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},kt(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const r=i?"set":"remove";let o,s,a,l;for(t==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){s=e[a];const u=s&&this.getDatasetMeta(s.datasetIndex).controller;u&&u[r+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:o,index:s})=>{const a=this.getDatasetMeta(o);if(!a)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:a.data[s],index:s}});!du(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const r=this.options.hover,o=(l,u)=>l.filter(c=>!u.some(d=>c.datasetIndex===d.datasetIndex&&c.index===d.index)),s=o(t,e),a=i?e:o(e,t);s.length&&this.updateHoverStyle(s,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=s=>(s.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:r=[],options:o}=this,s=t,a=this._getActiveElements(e,r,i,s),l=H0(e),u=hx(e,this._lastEvent,i,l);i&&(this._lastEvent=null,zt(o.onHover,[e,a,this],this),l&&zt(o.onClick,[e,a,this],this));const c=!du(a,r);return(c||t)&&(this._active=a,this._updateHoverStyles(a,r,t)),this._lastEvent=u,c}_getActiveElements(e,t,i,r){if(e.type==="mouseout")return[];if(!i)return t;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,r)}},dt(Jr,"defaults",ie),dt(Jr,"instances",Ql),dt(Jr,"overrides",ro),dt(Jr,"registry",ir),dt(Jr,"version",ux),dt(Jr,"getChart",wv),Jr);function Sv(){return kt(pc.instances,n=>n._plugins.invalidate())}function fx(n,e,t){const{startAngle:i,pixelMargin:r,x:o,y:s,outerRadius:a,innerRadius:l}=e;let u=r/a;n.beginPath(),n.arc(o,s,a,i-u,t+u),l>r?(u=r/l,n.arc(o,s,l,t+u,i-u,!0)):n.arc(o,s,r,t+se,i-se),n.closePath(),n.clip()}function gx(n){return Ah(n,["outerStart","outerEnd","innerStart","innerEnd"])}function vx(n,e,t,i){const r=gx(n.options.borderRadius),o=(t-e)/2,s=Math.min(o,i*e/2),a=l=>{const u=(t-Math.min(o,l))*i/2;return ei(l,0,Math.min(o,u))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:ei(r.innerStart,0,s),innerEnd:ei(r.innerEnd,0,s)}}function yo(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function Cu(n,e,t,i,r,o){const{x:s,y:a,startAngle:l,pixelMargin:u,innerRadius:c}=e,d=Math.max(e.outerRadius+i+t-u,0),p=c>0?c+i+t+u:0;let h=0;const f=r-l;if(i){const ut=c>0?c-i:0,it=d>0?d-i:0,J=(ut+it)/2,ct=J!==0?f*J/(J+i):f;h=(f-ct)/2}const g=Math.max(.001,f*d-t/re)/d,v=(f-g)/2,m=l+v+h,w=r-v-h,{outerStart:b,outerEnd:E,innerStart:O,innerEnd:P}=vx(e,p,d,w-m),M=d-b,D=d-E,F=m+b/M,V=w-E/D,B=p+O,G=p+P,lt=m+O/B,yt=w-P/G;if(n.beginPath(),o){const ut=(F+V)/2;if(n.arc(s,a,d,F,ut),n.arc(s,a,d,ut,V),E>0){const Rt=yo(D,V,s,a);n.arc(Rt.x,Rt.y,E,V,w+se)}const it=yo(G,w,s,a);if(n.lineTo(it.x,it.y),P>0){const Rt=yo(G,yt,s,a);n.arc(Rt.x,Rt.y,P,w+se,yt+Math.PI)}const J=(w-P/p+(m+O/p))/2;if(n.arc(s,a,p,w-P/p,J,!0),n.arc(s,a,p,J,m+O/p,!0),O>0){const Rt=yo(B,lt,s,a);n.arc(Rt.x,Rt.y,O,lt+Math.PI,m-se)}const ct=yo(M,m,s,a);if(n.lineTo(ct.x,ct.y),b>0){const Rt=yo(M,F,s,a);n.arc(Rt.x,Rt.y,b,m-se,F)}}else{n.moveTo(s,a);const ut=Math.cos(F)*d+s,it=Math.sin(F)*d+a;n.lineTo(ut,it);const J=Math.cos(V)*d+s,ct=Math.sin(V)*d+a;n.lineTo(J,ct)}n.closePath()}function yx(n,e,t,i,r){const{fullCircles:o,startAngle:s,circumference:a}=e;let l=e.endAngle;if(o){Cu(n,e,t,i,l,r);for(let u=0;u<o;++u)n.fill();isNaN(a)||(l=s+(a%ee||ee))}return Cu(n,e,t,i,l,r),n.fill(),l}function mx(n,e,t,i,r){const{fullCircles:o,startAngle:s,circumference:a,options:l}=e,{borderWidth:u,borderJoinStyle:c,borderDash:d,borderDashOffset:p}=l,h=l.borderAlign==="inner";if(!u)return;n.setLineDash(d||[]),n.lineDashOffset=p,h?(n.lineWidth=u*2,n.lineJoin=c||"round"):(n.lineWidth=u,n.lineJoin=c||"bevel");let f=e.endAngle;if(o){Cu(n,e,t,i,f,r);for(let g=0;g<o;++g)n.stroke();isNaN(a)||(f=s+(a%ee||ee))}h&&fx(n,e,f),o||(Cu(n,e,t,i,f,r),n.stroke())}class $s extends co{constructor(t){super();dt(this,"circumference");dt(this,"endAngle");dt(this,"fullCircles");dt(this,"innerRadius");dt(this,"outerRadius");dt(this,"pixelMargin");dt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,i,r){const o=this.getProps(["x","y"],r),{angle:s,distance:a}=VC(o,{x:t,y:i}),{startAngle:l,endAngle:u,innerRadius:c,outerRadius:d,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),h=(this.options.spacing+this.options.borderWidth)/2,f=Nt(p,u-l),g=gu(s,l,u)&&l!==u,v=f>=ee||g,m=Un(a,c+h,d+h);return v&&m}getCenterPoint(t){const{x:i,y:r,startAngle:o,endAngle:s,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:u,spacing:c}=this.options,d=(o+s)/2,p=(a+l+c+u)/2;return{x:i+Math.cos(d)*p,y:r+Math.sin(d)*p}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:i,circumference:r}=this,o=(i.offset||0)/4,s=(i.spacing||0)/2,a=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>ee?Math.floor(r/ee):0,r===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const l=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(l)*o,Math.sin(l)*o);const u=1-Math.sin(Math.min(re,r||0)),c=o*u;t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,yx(t,this,c,s,a),mx(t,this,c,s,a),t.restore()}}dt($s,"id","arc"),dt($s,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),dt($s,"defaultRoutes",{backgroundColor:"backgroundColor"}),dt($s,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function pw(n,e){const{x:t,y:i,base:r,width:o,height:s}=n.getProps(["x","y","base","width","height"],e);let a,l,u,c,d;return n.horizontal?(d=s/2,a=Math.min(t,r),l=Math.max(t,r),u=i-d,c=i+d):(d=o/2,a=t-d,l=t+d,u=Math.min(i,r),c=Math.max(i,r)),{left:a,top:u,right:l,bottom:c}}function an(n,e,t,i){return n?0:ei(e,t,i)}function Cx(n,e,t){const i=n.options.borderWidth,r=n.borderSkipped,o=KC(i);return{t:an(r.top,o.top,0,t),r:an(r.right,o.right,0,e),b:an(r.bottom,o.bottom,0,t),l:an(r.left,o.left,0,e)}}function wx(n,e,t){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=Yn(r),s=Math.min(e,t),a=n.borderSkipped,l=i||It(r);return{topLeft:an(!l||a.top||a.left,o.topLeft,0,s),topRight:an(!l||a.top||a.right,o.topRight,0,s),bottomLeft:an(!l||a.bottom||a.left,o.bottomLeft,0,s),bottomRight:an(!l||a.bottom||a.right,o.bottomRight,0,s)}}function Sx(n){const e=pw(n),t=e.right-e.left,i=e.bottom-e.top,r=Cx(n,t/2,i/2),o=wx(n,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:o},inner:{x:e.left+r.l,y:e.top+r.t,w:t-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function id(n,e,t,i){const r=e===null,o=t===null,a=n&&!(r&&o)&&pw(n,i);return a&&(r||Un(e,a.left,a.right))&&(o||Un(t,a.top,a.bottom))}function _x(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function Ex(n,e){n.rect(e.x,e.y,e.w,e.h)}function rd(n,e,t={}){const i=n.x!==t.x?-e:0,r=n.y!==t.y?-e:0,o=(n.x+n.w!==t.x+t.w?e:0)-i,s=(n.y+n.h!==t.y+t.h?e:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+o,h:n.h+s,radius:n.radius}}class Jl extends co{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:s}=Sx(this),a=_x(s.radius)?Ca:Ex;e.save(),(s.w!==o.w||s.h!==o.h)&&(e.beginPath(),a(e,rd(s,t,o)),e.clip(),a(e,rd(o,-t,s)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,rd(o,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,i){return id(this,e,t,i)}inXRange(e,t){return id(this,e,null,t)}inYRange(e,t){return id(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(t+r)/2:t,y:o?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}dt(Jl,"id","bar"),dt(Jl,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),dt(Jl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const _v=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},bx=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class Ev extends co{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=zt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=me(i.font),o=r.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=_v(i,o);let u,c;t.font=r.string,this.isHorizontal()?(u=this.maxWidth,c=this._fitRows(s,o,a,l)+10):(c=this.maxHeight,u=this._fitCols(s,r,a,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,r){const{ctx:o,maxWidth:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],c=r+a;let d=e;o.textAlign="left",o.textBaseline="middle";let p=-1,h=-c;return this.legendItems.forEach((f,g)=>{const v=i+t/2+o.measureText(f.text).width;(g===0||u[u.length-1]+v+2*a>s)&&(d+=c,u[u.length-(g>0?0:1)]=0,h+=c,p++),l[g]={left:0,top:h,row:p,width:v,height:r},u[u.length-1]+=v+a}),d}_fitCols(e,t,i,r){const{ctx:o,maxHeight:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],c=s-e;let d=a,p=0,h=0,f=0,g=0;return this.legendItems.forEach((v,m)=>{const{itemWidth:w,itemHeight:b}=Rx(i,t,o,v,r);m>0&&h+b+2*a>c&&(d+=p+a,u.push({width:p,height:h}),f+=p+a,g++,p=h=0),l[m]={left:f,top:h,col:g,width:w,height:b},p=Math.max(p,w),h+=b+a}),d+=p,u.push({width:p,height:h}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:r},rtl:o}}=this,s=Ho(o,this.left,this.width);if(this.isHorizontal()){let a=0,l=Me(i,this.left+r,this.right-this.lineWidths[a]);for(const u of t)a!==u.row&&(a=u.row,l=Me(i,this.left+r,this.right-this.lineWidths[a])),u.top+=this.top+e+r,u.left=s.leftForLtr(s.x(l),u.width),l+=u.width+r}else{let a=0,l=Me(i,this.top+e+r,this.bottom-this.columnSizes[a].height);for(const u of t)u.col!==a&&(a=u.col,l=Me(i,this.top+e+r,this.bottom-this.columnSizes[a].height)),u.top=l,u.left+=this.left+r,u.left=s.leftForLtr(s.x(u.left),u.width),l+=u.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Ph(e,this),this._draw(),Dh(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:r}=this,{align:o,labels:s}=e,a=ie.color,l=Ho(e.rtl,this.left,this.width),u=me(s.font),{padding:c}=s,d=u.size,p=d/2;let h;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=u.string;const{boxWidth:f,boxHeight:g,itemHeight:v}=_v(s,d),m=function(P,M,D){if(isNaN(f)||f<=0||isNaN(g)||g<0)return;r.save();const F=Nt(D.lineWidth,1);if(r.fillStyle=Nt(D.fillStyle,a),r.lineCap=Nt(D.lineCap,"butt"),r.lineDashOffset=Nt(D.lineDashOffset,0),r.lineJoin=Nt(D.lineJoin,"miter"),r.lineWidth=F,r.strokeStyle=Nt(D.strokeStyle,a),r.setLineDash(Nt(D.lineDash,[])),s.usePointStyle){const V={radius:g*Math.SQRT2/2,pointStyle:D.pointStyle,rotation:D.rotation,borderWidth:F},B=l.xPlus(P,f/2),G=M+p;$C(r,V,B,G,s.pointStyleWidth&&f)}else{const V=M+Math.max((d-g)/2,0),B=l.leftForLtr(P,f),G=Yn(D.borderRadius);r.beginPath(),Object.values(G).some(lt=>lt!==0)?Ca(r,{x:B,y:V,w:f,h:g,radius:G}):r.rect(B,V,f,g),r.fill(),F!==0&&r.stroke()}r.restore()},w=function(P,M,D){no(r,D.text,P,M+v/2,u,{strikethrough:D.hidden,textAlign:l.textAlign(D.textAlign)})},b=this.isHorizontal(),E=this._computeTitleHeight();b?h={x:Me(o,this.left+c,this.right-i[0]),y:this.top+c+E,line:0}:h={x:this.left+c,y:Me(o,this.top+E+c,this.bottom-t[0].height),line:0},JC(this.ctx,e.textDirection);const O=v+c;this.legendItems.forEach((P,M)=>{r.strokeStyle=P.fontColor,r.fillStyle=P.fontColor;const D=r.measureText(P.text).width,F=l.textAlign(P.textAlign||(P.textAlign=s.textAlign)),V=f+p+D;let B=h.x,G=h.y;l.setWidth(this.width),b?M>0&&B+V+c>this.right&&(G=h.y+=O,h.line++,B=h.x=Me(o,this.left+c,this.right-i[h.line])):M>0&&G+O>this.bottom&&(B=h.x=B+t[h.line].width+c,h.line++,G=h.y=Me(o,this.top+E+c,this.bottom-t[h.line].height));const lt=l.x(B);if(m(lt,G,P),B=q0(F,B+f+p,b?B+V:this.right,e.rtl),w(l.x(B),G,P),b)h.x+=V+c;else if(typeof P.text!="string"){const yt=u.lineHeight;h.y+=hw(P,yt)+c}else h.y+=O}),ZC(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=me(t.font),r=ke(t.padding);if(!t.display)return;const o=Ho(e.rtl,this.left,this.width),s=this.ctx,a=t.position,l=i.size/2,u=r.top+l;let c,d=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),c=this.top+u,d=Me(e.align,d,this.right-p);else{const f=this.columnSizes.reduce((g,v)=>Math.max(g,v.height),0);c=u+Me(e.align,this.top,this.bottom-f-e.labels.padding-this._computeTitleHeight())}const h=Me(a,d,d+p);s.textAlign=o.textAlign(xh(a)),s.textBaseline="middle",s.strokeStyle=t.color,s.fillStyle=t.color,s.font=i.string,no(s,t.text,h,c,i)}_computeTitleHeight(){const e=this.options.title,t=me(e.font),i=ke(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,r,o;if(Un(e,this.left,this.right)&&Un(t,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],Un(e,r.left,r.left+r.width)&&Un(t,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const t=this.options;if(!xx(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,o=bx(r,i);r&&!o&&zt(t.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!o&&zt(t.onHover,[e,i,this],this)}else i&&zt(t.onClick,[e,i,this],this)}}function Rx(n,e,t,i,r){const o=Ox(i,n,e,t),s=Tx(r,i,e.lineHeight);return{itemWidth:o,itemHeight:s}}function Ox(n,e,t,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,s)=>o.length>s.length?o:s)),e+t.size/2+i.measureText(r).width}function Tx(n,e,t){let i=n;return typeof e.text!="string"&&(i=hw(e,t)),i}function hw(n,e){const t=n.text?n.text.length:0;return e*t}function xx(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var Px={id:"legend",_element:Ev,start(n,e,t){const i=n.legend=new Ev({ctx:n.ctx,options:t,chart:n});Ri.configure(n,i,t),Ri.addBox(n,i)},stop(n){Ri.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;Ri.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,r=t.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:r,color:o,useBorderRadius:s,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(t?0:void 0),c=ke(u.borderWidth);return{text:e[l.index].label,fillStyle:u.backgroundColor,fontColor:o,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:u.borderColor,pointStyle:i||u.pointStyle,rotation:u.rotation,textAlign:r||u.textAlign,borderRadius:s&&(a||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class fw extends co{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const r=Qt(i.text)?i.text.length:1;this._padding=ke(i.padding);const o=r*me(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:i,bottom:r,right:o,options:s}=this,a=s.align;let l=0,u,c,d;return this.isHorizontal()?(c=Me(a,i,o),d=t+e,u=o-i):(s.position==="left"?(c=i+e,d=Me(a,r,t),l=re*-.5):(c=o-e,d=Me(a,t,r),l=re*.5),u=r-t),{titleX:c,titleY:d,maxWidth:u,rotation:l}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=me(t.font),o=i.lineHeight/2+this._padding.top,{titleX:s,titleY:a,maxWidth:l,rotation:u}=this._drawArgs(o);no(e,t.text,0,0,i,{color:t.color,maxWidth:l,rotation:u,textAlign:xh(t.align),textBaseline:"middle",translation:[s,a]})}}function Dx(n,e){const t=new fw({ctx:n.ctx,options:e,chart:n});Ri.configure(n,t,e),Ri.addBox(n,t),n.titleBlock=t}var Ax={id:"title",_element:fw,start(n,e,t){Dx(n,t)},stop(n){const e=n.titleBlock;Ri.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const i=n.titleBlock;Ri.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ks={average(n){if(!n.length)return!1;let e,t,i=new Set,r=0,o=0;for(e=0,t=n.length;e<t;++e){const a=n[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i.add(l.x),r+=l.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((a,l)=>a+l)/i.size,y:r/o}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,r=Number.POSITIVE_INFINITY,o,s,a;for(o=0,s=n.length;o<s;++o){const l=n[o].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),c=W0(e,u);c<r&&(r=c,a=l)}}if(a){const l=a.tooltipPosition();t=l.x,i=l.y}return{x:t,y:i}}};function tr(n,e){return e&&(Qt(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Er(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function Fx(n,e){const{element:t,datasetIndex:i,index:r}=e,o=n.getDatasetMeta(i).controller,{label:s,value:a}=o.getLabelAndValue(r);return{chart:n,label:s,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:a,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:t}}function bv(n,e){const t=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:s,boxHeight:a}=e,l=me(e.bodyFont),u=me(e.titleFont),c=me(e.footerFont),d=o.length,p=r.length,h=i.length,f=ke(e.padding);let g=f.height,v=0,m=i.reduce((E,O)=>E+O.before.length+O.lines.length+O.after.length,0);if(m+=n.beforeBody.length+n.afterBody.length,d&&(g+=d*u.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),m){const E=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=h*E+(m-h)*l.lineHeight+(m-1)*e.bodySpacing}p&&(g+=e.footerMarginTop+p*c.lineHeight+(p-1)*e.footerSpacing);let w=0;const b=function(E){v=Math.max(v,t.measureText(E).width+w)};return t.save(),t.font=u.string,kt(n.title,b),t.font=l.string,kt(n.beforeBody.concat(n.afterBody),b),w=e.displayColors?s+2+e.boxPadding:0,kt(i,E=>{kt(E.before,b),kt(E.lines,b),kt(E.after,b)}),w=0,t.font=c.string,kt(n.footer,b),t.restore(),v+=f.width,{width:v,height:g}}function Mx(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function Lx(n,e,t,i){const{x:r,width:o}=i,s=t.caretSize+t.caretPadding;if(n==="left"&&r+o+s>e.width||n==="right"&&r-o-s<0)return!0}function Ix(n,e,t,i){const{x:r,width:o}=t,{width:s,chartArea:{left:a,right:l}}=n;let u="center";return i==="center"?u=r<=(a+l)/2?"left":"right":r<=o/2?u="left":r>=s-o/2&&(u="right"),Lx(u,n,e,t)&&(u="center"),u}function Rv(n,e,t){const i=t.yAlign||e.yAlign||Mx(n,t);return{xAlign:t.xAlign||e.xAlign||Ix(n,e,t,i),yAlign:i}}function Nx(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function Gx(n,e,t){let{y:i,height:r}=n;return e==="top"?i+=t:e==="bottom"?i-=r+t:i-=r/2,i}function Ov(n,e,t,i){const{caretSize:r,caretPadding:o,cornerRadius:s}=n,{xAlign:a,yAlign:l}=t,u=r+o,{topLeft:c,topRight:d,bottomLeft:p,bottomRight:h}=Yn(s);let f=Nx(e,a);const g=Gx(e,l,u);return l==="center"?a==="left"?f+=u:a==="right"&&(f-=u):a==="left"?f-=Math.max(c,p)+r:a==="right"&&(f+=Math.max(d,h)+r),{x:ei(f,0,i.width-e.width),y:ei(g,0,i.height-e.height)}}function rl(n,e,t){const i=ke(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function Tv(n){return tr([],Er(n))}function Hx(n,e,t){return uo(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function xv(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const gw={beforeTitle:Cr,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:Cr,beforeBody:Cr,beforeLabel:Cr,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Ht(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Cr,afterBody:Cr,beforeFooter:Cr,footer:Cr,afterFooter:Cr};function Ke(n,e,t,i){const r=n[e].call(t,i);return typeof r>"u"?gw[e].call(t,i):r}class Tp extends co{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&t.options.animation&&i.animations,o=new tw(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=Hx(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,r=Ke(i,"beforeTitle",this,e),o=Ke(i,"title",this,e),s=Ke(i,"afterTitle",this,e);let a=[];return a=tr(a,Er(r)),a=tr(a,Er(o)),a=tr(a,Er(s)),a}getBeforeBody(e,t){return Tv(Ke(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,r=[];return kt(e,o=>{const s={before:[],lines:[],after:[]},a=xv(i,o);tr(s.before,Er(Ke(a,"beforeLabel",this,o))),tr(s.lines,Ke(a,"label",this,o)),tr(s.after,Er(Ke(a,"afterLabel",this,o))),r.push(s)}),r}getAfterBody(e,t){return Tv(Ke(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,r=Ke(i,"beforeFooter",this,e),o=Ke(i,"footer",this,e),s=Ke(i,"afterFooter",this,e);let a=[];return a=tr(a,Er(r)),a=tr(a,Er(o)),a=tr(a,Er(s)),a}_createItems(e){const t=this._active,i=this.chart.data,r=[],o=[],s=[];let a=[],l,u;for(l=0,u=t.length;l<u;++l)a.push(Fx(this.chart,t[l]));return e.filter&&(a=a.filter((c,d,p)=>e.filter(c,d,p,i))),e.itemSort&&(a=a.sort((c,d)=>e.itemSort(c,d,i))),kt(a,c=>{const d=xv(e.callbacks,c);r.push(Ke(d,"labelColor",this,c)),o.push(Ke(d,"labelPointStyle",this,c)),s.push(Ke(d,"labelTextColor",this,c))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=s,this.dataPoints=a,a}update(e,t){const i=this.options.setContext(this.getContext()),r=this._active;let o,s=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const a=Ks[i.position].call(this,r,this._eventPosition);s=this._createItems(i),this.title=this.getTitle(s,i),this.beforeBody=this.getBeforeBody(s,i),this.body=this.getBody(s,i),this.afterBody=this.getAfterBody(s,i),this.footer=this.getFooter(s,i);const l=this._size=bv(this,i),u=Object.assign({},a,l),c=Rv(this.chart,i,u),d=Ov(i,u,c,this.chart);this.xAlign=c.xAlign,this.yAlign=c.yAlign,o={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=s,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,r){const o=this.getCaretPosition(e,i,r);t.lineTo(o.x1,o.y1),t.lineTo(o.x2,o.y2),t.lineTo(o.x3,o.y3)}getCaretPosition(e,t,i){const{xAlign:r,yAlign:o}=this,{caretSize:s,cornerRadius:a}=i,{topLeft:l,topRight:u,bottomLeft:c,bottomRight:d}=Yn(a),{x:p,y:h}=e,{width:f,height:g}=t;let v,m,w,b,E,O;return o==="center"?(E=h+g/2,r==="left"?(v=p,m=v-s,b=E+s,O=E-s):(v=p+f,m=v+s,b=E-s,O=E+s),w=v):(r==="left"?m=p+Math.max(l,c)+s:r==="right"?m=p+f-Math.max(u,d)-s:m=this.caretX,o==="top"?(b=h,E=b-s,v=m-s,w=m+s):(b=h+g,E=b+s,v=m+s,w=m-s),O=b),{x1:v,x2:m,x3:w,y1:b,y2:E,y3:O}}drawTitle(e,t,i){const r=this.title,o=r.length;let s,a,l;if(o){const u=Ho(i.rtl,this.x,this.width);for(e.x=rl(this,i.titleAlign,i),t.textAlign=u.textAlign(i.titleAlign),t.textBaseline="middle",s=me(i.titleFont),a=i.titleSpacing,t.fillStyle=i.titleColor,t.font=s.string,l=0;l<o;++l)t.fillText(r[l],u.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+a,l+1===o&&(e.y+=i.titleMarginBottom-a)}}_drawColorBox(e,t,i,r,o){const s=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:u}=o,c=me(o.bodyFont),d=rl(this,"left",o),p=r.x(d),h=l<c.lineHeight?(c.lineHeight-l)/2:0,f=t.y+h;if(o.usePointStyle){const g={radius:Math.min(u,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},v=r.leftForLtr(p,u)+u/2,m=f+l/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,Wg(e,g,v,m),e.strokeStyle=s.borderColor,e.fillStyle=s.backgroundColor,Wg(e,g,v,m)}else{e.lineWidth=It(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,e.strokeStyle=s.borderColor,e.setLineDash(s.borderDash||[]),e.lineDashOffset=s.borderDashOffset||0;const g=r.leftForLtr(p,u),v=r.leftForLtr(r.xPlus(p,1),u-2),m=Yn(s.borderRadius);Object.values(m).some(w=>w!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,Ca(e,{x:g,y:f,w:u,h:l,radius:m}),e.fill(),e.stroke(),e.fillStyle=s.backgroundColor,e.beginPath(),Ca(e,{x:v,y:f+1,w:u-2,h:l-2,radius:m}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(g,f,u,l),e.strokeRect(g,f,u,l),e.fillStyle=s.backgroundColor,e.fillRect(v,f+1,u-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:r}=this,{bodySpacing:o,bodyAlign:s,displayColors:a,boxHeight:l,boxWidth:u,boxPadding:c}=i,d=me(i.bodyFont);let p=d.lineHeight,h=0;const f=Ho(i.rtl,this.x,this.width),g=function(D){t.fillText(D,f.x(e.x+h),e.y+p/2),e.y+=p+o},v=f.textAlign(s);let m,w,b,E,O,P,M;for(t.textAlign=s,t.textBaseline="middle",t.font=d.string,e.x=rl(this,v,i),t.fillStyle=i.bodyColor,kt(this.beforeBody,g),h=a&&v!=="right"?s==="center"?u/2+c:u+2+c:0,E=0,P=r.length;E<P;++E){for(m=r[E],w=this.labelTextColors[E],t.fillStyle=w,kt(m.before,g),b=m.lines,a&&b.length&&(this._drawColorBox(t,e,E,f,i),p=Math.max(d.lineHeight,l)),O=0,M=b.length;O<M;++O)g(b[O]),p=d.lineHeight;kt(m.after,g)}h=0,p=d.lineHeight,kt(this.afterBody,g),e.y-=o}drawFooter(e,t,i){const r=this.footer,o=r.length;let s,a;if(o){const l=Ho(i.rtl,this.x,this.width);for(e.x=rl(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=l.textAlign(i.footerAlign),t.textBaseline="middle",s=me(i.footerFont),t.fillStyle=i.footerColor,t.font=s.string,a=0;a<o;++a)t.fillText(r[a],l.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+i.footerSpacing}}drawBackground(e,t,i,r){const{xAlign:o,yAlign:s}=this,{x:a,y:l}=e,{width:u,height:c}=i,{topLeft:d,topRight:p,bottomLeft:h,bottomRight:f}=Yn(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(a+d,l),s==="top"&&this.drawCaret(e,t,i,r),t.lineTo(a+u-p,l),t.quadraticCurveTo(a+u,l,a+u,l+p),s==="center"&&o==="right"&&this.drawCaret(e,t,i,r),t.lineTo(a+u,l+c-f),t.quadraticCurveTo(a+u,l+c,a+u-f,l+c),s==="bottom"&&this.drawCaret(e,t,i,r),t.lineTo(a+h,l+c),t.quadraticCurveTo(a,l+c,a,l+c-h),s==="center"&&o==="left"&&this.drawCaret(e,t,i,r),t.lineTo(a,l+d),t.quadraticCurveTo(a,l,a+d,l),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const s=Ks[e.position].call(this,this._active,this._eventPosition);if(!s)return;const a=this._size=bv(this,e),l=Object.assign({},s,this._size),u=Rv(t,e,l),c=Ov(e,l,u,t);(r._to!==c.x||o._to!==c.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=s.x,this.caretY=s.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const s=ke(t.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&a&&(e.save(),e.globalAlpha=i,this.drawBackground(o,e,r,t),JC(e,t.textDirection),o.y+=s.top,this.drawTitle(o,e,t),this.drawBody(o,e,t),this.drawFooter(o,e,t),ZC(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,r=e.map(({datasetIndex:a,index:l})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[l],index:l}}),o=!du(i,r),s=this._positionChanged(r,t);(o||s)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],s=this._getActiveElements(e,o,t,i),a=this._positionChanged(s,e),l=t||!du(s,o)||a;return l&&(this._active=s,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),l}_getActiveElements(e,t,i,r){const o=this.options;if(e.type==="mouseout")return[];if(!r)return t.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const s=this.chart.getElementsAtEventForMode(e,o.mode,o,i);return o.reverse&&s.reverse(),s}_positionChanged(e,t){const{caretX:i,caretY:r,options:o}=this,s=Ks[o.position].call(this,e,t);return s!==!1&&(i!==s.x||r!==s.y)}}dt(Tp,"positioners",Ks);var Vx={id:"tooltip",_element:Tp,positioners:Ks,afterInit(n,e,t){t&&(n.tooltip=new Tp({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:gw},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const kx=(n,e,t,i)=>(typeof e=="string"?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function Bx(n,e,t,i){const r=n.indexOf(e);if(r===-1)return kx(n,e,t,i);const o=n.lastIndexOf(e);return r!==o?t:r}const jx=(n,e)=>n===null?null:ei(Math.round(n),0,e);function Pv(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class xp extends po{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:r,label:o}of t)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Ht(e))return null;const i=this.getLabels();return t=isFinite(t)&&i[t]===e?t:Bx(i,e,Nt(t,e),this._addedLabels),jx(t,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),t||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=e===0&&t===o.length-1?o:o.slice(e,t+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let s=e;s<=t;s++)r.push({value:s});return r}getLabelForValue(e){return Pv.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}dt(xp,"id","category"),dt(xp,"defaults",{ticks:{callback:Pv}});function Wx(n,e){const t=[],{bounds:r,step:o,min:s,max:a,precision:l,count:u,maxTicks:c,maxDigits:d,includeBounds:p}=n,h=o||1,f=c-1,{min:g,max:v}=e,m=!Ht(s),w=!Ht(a),b=!Ht(u),E=(v-g)/(d+1);let O=Ig((v-g)/f/h)*h,P,M,D,F;if(O<1e-14&&!m&&!w)return[{value:g},{value:v}];F=Math.ceil(v/O)-Math.floor(g/O),F>f&&(O=Ig(F*O/f/h)*h),Ht(l)||(P=Math.pow(10,l),O=Math.ceil(O*P)/P),r==="ticks"?(M=Math.floor(g/O)*O,D=Math.ceil(v/O)*O):(M=g,D=v),m&&w&&o&&j0((a-s)/o,O/1e3)?(F=Math.round(Math.min((a-s)/O,c)),O=(a-s)/F,M=s,D=a):b?(M=m?s:M,D=w?a:D,F=u-1,O=(D-M)/F):(F=(D-M)/O,Yl(F,Math.round(F),O/1e3)?F=Math.round(F):F=Math.ceil(F));const V=Math.max(Ng(O),Ng(M));P=Math.pow(10,Ht(l)?V:l),M=Math.round(M*P)/P,D=Math.round(D*P)/P;let B=0;for(m&&(p&&M!==s?(t.push({value:s}),M<s&&B++,Yl(Math.round((M+B*O)*P)/P,s,Dv(s,E,n))&&B++):M<s&&B++);B<F;++B){const G=Math.round((M+B*O)*P)/P;if(w&&G>a)break;t.push({value:G})}return w&&p&&D!==a?t.length&&Yl(t[t.length-1].value,a,Dv(a,E,n))?t[t.length-1].value=a:t.push({value:a}):(!w||D===a)&&t.push({value:D}),t}function Dv(n,e,{horizontal:t,minRotation:i}){const r=dr(i),o=(t?Math.sin(r):Math.cos(r))||.001,s=.75*e*(""+n).length;return Math.min(e/o,s)}class wu extends po{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Ht(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const s=l=>r=t?r:l,a=l=>o=i?o:l;if(e){const l=pn(r),u=pn(o);l<0&&u<0?a(0):l>0&&u>0&&s(0)}if(r===o){let l=o===0?1:Math.abs(o*.05);a(o+l),e||s(r-l)}this.min=r,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},o=this._range||this,s=Wx(r,o);return e.bounds==="ticks"&&HC(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-t)/Math.max(e.length-1,1)/2;t-=r,i+=r}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return uc(e,this.chart.options.locale,this.options.ticks.format)}}class Pp extends wu{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=_e(e)?e:0,this.max=_e(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=dr(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,o.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}dt(Pp,"id","linear"),dt(Pp,"defaults",{ticks:{callback:cc.formatters.numeric}});const Sa=n=>Math.floor(sn(n)),Ln=(n,e)=>Math.pow(10,Sa(n)+e);function Av(n){return n/Math.pow(10,Sa(n))===1}function Fv(n,e,t){const i=Math.pow(10,t),r=Math.floor(n/i);return Math.ceil(e/i)-r}function Ux(n,e){const t=e-n;let i=Sa(t);for(;Fv(n,e,i)>10;)i++;for(;Fv(n,e,i)<10;)i--;return Math.min(i,Sa(n))}function zx(n,{min:e,max:t}){e=di(n.min,e);const i=[],r=Sa(e);let o=Ux(e,t),s=o<0?Math.pow(10,Math.abs(o)):1;const a=Math.pow(10,o),l=r>o?Math.pow(10,r):0,u=Math.round((e-l)*s)/s,c=Math.floor((e-l)/a/10)*a*10;let d=Math.floor((u-c)/Math.pow(10,o)),p=di(n.min,Math.round((l+c+d*Math.pow(10,o))*s)/s);for(;p<t;)i.push({value:p,major:Av(p),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(o++,d=2,s=o>=0?1:s),p=Math.round((l+c+d*Math.pow(10,o))*s)/s;const h=di(n.max,p);return i.push({value:h,major:Av(h),significand:d}),i}class Mv extends po{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const i=wu.prototype.parse.apply(this,[e,t]);if(i===0){this._zero=!0;return}return _e(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=_e(e)?Math.max(0,e):null,this.max=_e(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!_e(this._userMin)&&(this.min=e===Ln(this.min,0)?Ln(this.min,-1):Ln(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let i=this.min,r=this.max;const o=a=>i=e?i:a,s=a=>r=t?r:a;i===r&&(i<=0?(o(1),s(10)):(o(Ln(i,-1)),s(Ln(r,1)))),i<=0&&o(Ln(r,-1)),r<=0&&s(Ln(i,1)),this.min=i,this.max=r}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},i=zx(t,this);return e.bounds==="ticks"&&HC(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":uc(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=sn(e),this._valueRange=sn(this.max)-sn(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(sn(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}dt(Mv,"id","logarithmic"),dt(Mv,"defaults",{ticks:{callback:cc.formatters.logarithmic,major:{enabled:!0}}});function Dp(n){const e=n.ticks;if(e.display&&n.display){const t=ke(e.backdropPadding);return Nt(e.font&&e.font.size,ie.font.size)+t.height}return 0}function $x(n,e,t){return t=Qt(t)?t:[t],{w:oO(n,e.string,t),h:t.length*e.lineHeight}}function Lv(n,e,t,i,r){return n===i||n===r?{start:e-t/2,end:e+t/2}:n<i||n>r?{start:e-t,end:e}:{start:e,end:e+t}}function Kx(n){const e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),i=[],r=[],o=n._pointLabels.length,s=n.options.pointLabels,a=s.centerPointLabels?re/o:0;for(let l=0;l<o;l++){const u=s.setContext(n.getPointLabelContext(l));r[l]=u.padding;const c=n.getPointPosition(l,n.drawingArea+r[l],a),d=me(u.font),p=$x(n.ctx,d,n._pointLabels[l]);i[l]=p;const h=or(n.getIndexAngle(l)+a),f=Math.round(Oh(h)),g=Lv(f,c.x,p.w,0,180),v=Lv(f,c.y,p.h,90,270);Yx(t,e,h,g,v)}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=Qx(n,i,r)}function Yx(n,e,t,i,r){const o=Math.abs(Math.sin(t)),s=Math.abs(Math.cos(t));let a=0,l=0;i.start<e.l?(a=(e.l-i.start)/o,n.l=Math.min(n.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/o,n.r=Math.max(n.r,e.r+a)),r.start<e.t?(l=(e.t-r.start)/s,n.t=Math.min(n.t,e.t-l)):r.end>e.b&&(l=(r.end-e.b)/s,n.b=Math.max(n.b,e.b+l))}function qx(n,e,t){const i=n.drawingArea,{extra:r,additionalAngle:o,padding:s,size:a}=t,l=n.getPointPosition(e,i+r+s,o),u=Math.round(Oh(or(l.angle+se))),c=tP(l.y,a.h,u),d=Jx(u),p=Zx(l.x,a.w,d);return{visible:!0,x:l.x,y:c,textAlign:d,left:p,top:c,right:p+a.w,bottom:c+a.h}}function Xx(n,e){if(!e)return!0;const{left:t,top:i,right:r,bottom:o}=n;return!(xo({x:t,y:i},e)||xo({x:t,y:o},e)||xo({x:r,y:i},e)||xo({x:r,y:o},e))}function Qx(n,e,t){const i=[],r=n._pointLabels.length,o=n.options,{centerPointLabels:s,display:a}=o.pointLabels,l={extra:Dp(o)/2,additionalAngle:s?re/r:0};let u;for(let c=0;c<r;c++){l.padding=t[c],l.size=e[c];const d=qx(n,c,l);i.push(d),a==="auto"&&(d.visible=Xx(d,u),d.visible&&(u=d))}return i}function Jx(n){return n===0||n===180?"center":n<180?"left":"right"}function Zx(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function tP(n,e,t){return t===90||t===270?n-=e/2:(t>270||t<90)&&(n-=e),n}function eP(n,e,t){const{left:i,top:r,right:o,bottom:s}=t,{backdropColor:a}=e;if(!Ht(a)){const l=Yn(e.borderRadius),u=ke(e.backdropPadding);n.fillStyle=a;const c=i-u.left,d=r-u.top,p=o-i+u.width,h=s-r+u.height;Object.values(l).some(f=>f!==0)?(n.beginPath(),Ca(n,{x:c,y:d,w:p,h,radius:l}),n.fill()):n.fillRect(c,d,p,h)}}function iP(n,e){const{ctx:t,options:{pointLabels:i}}=n;for(let r=e-1;r>=0;r--){const o=n._pointLabelItems[r];if(!o.visible)continue;const s=i.setContext(n.getPointLabelContext(r));eP(t,s,o);const a=me(s.font),{x:l,y:u,textAlign:c}=o;no(t,n._pointLabels[r],l,u+a.lineHeight/2,a,{color:s.color,textAlign:c,textBaseline:"middle"})}}function vw(n,e,t,i){const{ctx:r}=n;if(t)r.arc(n.xCenter,n.yCenter,e,0,ee);else{let o=n.getPointPosition(0,e);r.moveTo(o.x,o.y);for(let s=1;s<i;s++)o=n.getPointPosition(s,e),r.lineTo(o.x,o.y)}}function rP(n,e,t,i,r){const o=n.ctx,s=e.circular,{color:a,lineWidth:l}=e;!s&&!i||!a||!l||t<0||(o.save(),o.strokeStyle=a,o.lineWidth=l,o.setLineDash(r.dash||[]),o.lineDashOffset=r.dashOffset,o.beginPath(),vw(n,t,s,i),o.closePath(),o.stroke(),o.restore())}function nP(n,e,t){return uo(n,{label:t,index:e,type:"pointLabel"})}class nl extends wu{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=ke(Dp(this.options)/2),t=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(t,i)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=_e(e)&&!isNaN(e)?e:0,this.max=_e(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Dp(this.options))}generateTickLabels(e){wu.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,i)=>{const r=zt(this.options.pointLabels.callback,[t,i],this);return r||r===0?r:""}).filter((t,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?Kx(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,i,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,i,r))}getIndexAngle(e){const t=ee/(this._pointLabels.length||1),i=this.options.startAngle||0;return or(e*t+dr(i))}getDistanceFromCenterForValue(e){if(Ht(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Ht(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const i=t[e];return nP(this.getContext(),e,i)}}getPointPosition(e,t,i=0){const r=this.getIndexAngle(e)-se+i;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:i,right:r,bottom:o}=this._pointLabelItems[e];return{left:t,top:i,right:r,bottom:o}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),vw(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:i,grid:r,border:o}=t,s=this._pointLabels.length;let a,l,u;if(t.pointLabels.display&&iP(this,s),r.display&&this.ticks.forEach((c,d)=>{if(d!==0||d===0&&this.min<0){l=this.getDistanceFromCenterForValue(c.value);const p=this.getContext(d),h=r.setContext(p),f=o.setContext(p);rP(this,h,l,s,f)}}),i.display){for(e.save(),a=s-1;a>=0;a--){const c=i.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:p}=c;!p||!d||(e.lineWidth=p,e.strokeStyle=d,e.setLineDash(c.borderDash),e.lineDashOffset=c.borderDashOffset,l=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),u=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(u.x,u.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,i=t.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let o,s;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!t.reverse)return;const u=i.setContext(this.getContext(l)),c=me(u.font);if(o=this.getDistanceFromCenterForValue(this.ticks[l].value),u.showLabelBackdrop){e.font=c.string,s=e.measureText(a.label).width,e.fillStyle=u.backdropColor;const d=ke(u.backdropPadding);e.fillRect(-s/2-d.left,-o-c.size/2-d.top,s+d.width,c.size+d.height)}no(e,a.label,0,-o,c,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),e.restore()}drawTitle(){}}dt(nl,"id","radialLinear"),dt(nl,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:cc.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),dt(nl,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),dt(nl,"descriptors",{angleLines:{_fallback:"grid"}});const hc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ti=Object.keys(hc);function Iv(n,e){return n-e}function Nv(n,e){if(Ht(e))return null;const t=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let s=e;return typeof i=="function"&&(s=i(s)),_e(s)||(s=typeof i=="string"?t.parse(s,i):t.parse(s)),s===null?null:(r&&(s=r==="week"&&(fu(o)||o===!0)?t.startOf(s,"isoWeek",o):t.startOf(s,r)),+s)}function Gv(n,e,t,i){const r=ti.length;for(let o=ti.indexOf(n);o<r-1;++o){const s=hc[ti[o]],a=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((t-e)/(a*s.size))<=i)return ti[o]}return ti[r-1]}function oP(n,e,t,i,r){for(let o=ti.length-1;o>=ti.indexOf(t);o--){const s=ti[o];if(hc[s].common&&n._adapter.diff(r,i,s)>=e-1)return s}return ti[t?ti.indexOf(t):0]}function sP(n){for(let e=ti.indexOf(n)+1,t=ti.length;e<t;++e)if(hc[ti[e]].common)return ti[e]}function Hv(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:i,hi:r}=Th(t,e),o=t[i]>=e?t[i]:t[r];n[o]=!0}}function aP(n,e,t,i){const r=n._adapter,o=+r.startOf(e[0].value,i),s=e[e.length-1].value;let a,l;for(a=o;a<=s;a=+r.add(a,1,i))l=t[a],l>=0&&(e[l].major=!0);return e}function Vv(n,e,t){const i=[],r={},o=e.length;let s,a;for(s=0;s<o;++s)a=e[s],r[a]=s,i.push({value:a,major:!1});return o===0||!t?i:aP(n,i,r,t)}class Su extends po{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),r=this._adapter=new oT._date(e.adapters.date);r.init(t),ea(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:Nv(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:r,max:o,minDefined:s,maxDefined:a}=this.getUserBounds();function l(u){!s&&!isNaN(u.min)&&(r=Math.min(r,u.min)),!a&&!isNaN(u.max)&&(o=Math.max(o,u.max))}(!s||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=_e(r)&&!isNaN(r)?r:+t.startOf(Date.now(),i),o=_e(o)&&!isNaN(o)?o:+t.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,s=this.max,a=$0(r,o,s);return this._unit=t.unit||(i.autoSkip?Gv(t.minUnit,this.min,this.max,this._getLabelCapacity(o)):oP(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:sP(this._unit),this.initOffsets(r),e.reverse&&a.reverse(),Vv(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,r,o;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?t=1-r:t=(this.getDecimalForValue(e[1])-r)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?i=o:i=(o-this.getDecimalForValue(e[e.length-2]))/2);const s=e.length<3?.5:.25;t=ei(t,0,s),i=ei(i,0,s),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,r=this.options,o=r.time,s=o.unit||Gv(o.minUnit,t,i,this._getLabelCapacity(t)),a=Nt(r.ticks.stepSize,1),l=s==="week"?o.isoWeekday:!1,u=fu(l)||l===!0,c={};let d=t,p,h;if(u&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,u?"day":s),e.diff(i,t,s)>1e5*a)throw new Error(t+" and "+i+" are too far apart with stepSize of "+a+" "+s);const f=r.ticks.source==="data"&&this.getDataTimestamps();for(p=d,h=0;p<i;p=+e.add(p,a,s),h++)Hv(c,p,f);return(p===i||r.bounds==="ticks"||h===1)&&Hv(c,p,f),Object.keys(c).sort(Iv).map(g=>+g)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const r=this.options.time.displayFormats,o=this._unit,s=t||r[o];return this._adapter.format(e,s)}_tickFormatFunction(e,t,i,r){const o=this.options,s=o.ticks.callback;if(s)return zt(s,[e,t,i],this);const a=o.time.displayFormats,l=this._unit,u=this._majorUnit,c=l&&a[l],d=u&&a[u],p=i[t],h=u&&d&&p&&p.major;return this._adapter.format(e,r||(h?d:c))}generateTickLabels(e){let t,i,r;for(t=0,i=e.length;t<i;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,r=dr(this.isHorizontal()?t.maxRotation:t.minRotation),o=Math.cos(r),s=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:i*o+a*s,h:i*s+a*o}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,r=i[t.unit]||i.millisecond,o=this._tickFormatFunction(e,0,Vv(this,[e],this._majorUnit),r),s=this._getLabelSize(o),a=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,i=r.length;t<i;++t)e=e.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const r=this.getLabels();for(t=0,i=r.length;t<i;++t)e.push(Nv(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return BC(e.sort(Iv))}}dt(Su,"id","time"),dt(Su,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function ol(n,e,t){let i=0,r=n.length-1,o,s,a,l;t?(e>=n[i].pos&&e<=n[r].pos&&({lo:i,hi:r}=_p(n,"pos",e)),{pos:o,time:a}=n[i],{pos:s,time:l}=n[r]):(e>=n[i].time&&e<=n[r].time&&({lo:i,hi:r}=_p(n,"time",e)),{time:o,pos:a}=n[i],{time:s,pos:l}=n[r]);const u=s-o;return u?a+(l-a)*(e-o)/u:a}class kv extends Su{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=ol(t,this.min),this._tableRange=ol(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,r=[],o=[];let s,a,l,u,c;for(s=0,a=e.length;s<a;++s)u=e[s],u>=t&&u<=i&&r.push(u);if(r.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(s=0,a=r.length;s<a;++s)c=r[s+1],l=r[s-1],u=r[s],Math.round((c+l)/2)!==u&&o.push({time:u,pos:s/(a-1)});return o}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(ol(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return ol(this._table,i*this._tableRange+this._minPos,!0)}}dt(kv,"id","timeseries"),dt(kv,"defaults",Su.defaults);const yw={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},lP={ariaLabel:{type:String},ariaDescribedby:{type:String}},uP={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...yw,...lP},cP=oC[0]==="2"?(n,e)=>Object.assign(n,{attrs:e}):(n,e)=>Object.assign(n,e);function mo(n){return Aa(n)?Ot(n):n}function dP(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n;return Aa(e)?new Proxy(n,{}):n}function pP(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function mw(n,e){n.labels=e}function Cw(n,e,t){const i=[];n.datasets=e.map(r=>{const o=n.datasets.find(s=>s[t]===r[t]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function hP(n,e){const t={labels:[],datasets:[]};return mw(t,n.labels),Cw(t,n.datasets,e),t}const fP=lo({props:uP,setup(n,e){let{expose:t,slots:i}=e;const r=Mt(null),o=wm(null);t({chart:o});const s=()=>{if(!r.value)return;const{type:u,data:c,options:d,plugins:p,datasetIdKey:h}=n,f=hP(c,h),g=dP(f,c);o.value=new pc(r.value,{type:u,data:g,options:{...d},plugins:p})},a=()=>{const u=Ot(o.value);u&&(n.destroyDelay>0?setTimeout(()=>{u.destroy(),o.value=null},n.destroyDelay):(u.destroy(),o.value=null))},l=u=>{u.update(n.updateMode)};return Kn(s),dh(a),cr([()=>n.options,()=>n.data],(u,c)=>{let[d,p]=u,[h,f]=c;const g=Ot(o.value);if(!g)return;let v=!1;if(d){const m=mo(d),w=mo(h);m&&m!==w&&(pP(g,m),v=!0)}if(p){const m=mo(p.labels),w=mo(f.labels),b=mo(p.datasets),E=mo(f.datasets);m!==w&&(mw(g.config.data,m),v=!0),b&&b!==E&&(Cw(g.config.data,b,n.datasetIdKey),v=!0)}v&&bm(()=>{l(g)})},{deep:!0}),()=>ha("canvas",{role:"img",ariaLabel:n.ariaLabel,ariaDescribedby:n.ariaDescribedby,ref:r},[ha("p",{},[i.default?i.default():""])])}});function ww(n,e){return pc.register(e),lo({props:yw,setup(t,i){let{expose:r}=i;const o=wm(null),s=a=>{o.value=a==null?void 0:a.chart};return r({chart:o}),()=>ha(fP,cP({ref:s},{type:n,...t}))}})}const gP=ww("bar",ql),vP=ww("pie",bp),yP={class:"space-y-8"},mP={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},CP={class:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg"},wP={class:"text-3xl font-bold text-blue-500 dark:text-blue-400"},SP={class:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg"},_P={class:"text-3xl font-bold text-green-500 dark:text-green-400"},EP={class:"text-sm text-gray-600 dark:text-gray-400"},bP={class:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg"},RP={class:"text-3xl font-bold text-purple-500 dark:text-purple-400"},OP={class:"text-sm text-gray-600 dark:text-gray-400"},TP={class:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg"},xP={class:"text-3xl font-bold text-red-500 dark:text-red-400"},PP={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},DP={class:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg"},AP={class:"h-[300px]"},FP={class:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg"},MP={class:"h-[300px]"},LP={class:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg"},IP={class:"overflow-x-auto"},NP={class:"min-w-full"},GP={class:"py-2 px-4 text-gray-800 dark:text-white"},HP={class:"py-2 px-4 text-gray-600 dark:text-gray-400"},VP={class:"py-2 px-4 text-gray-600 dark:text-gray-400"},kP={class:"py-2 px-4 text-gray-600 dark:text-gray-400"},BP={class:"py-2 px-4 text-gray-600 dark:text-gray-400"},jP={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},WP={class:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg"},UP={class:"space-y-4"},zP=["src","alt"],$P={class:"font-medium text-gray-800 dark:text-white"},KP={class:"text-sm text-gray-600 dark:text-gray-400"},YP={class:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg"},qP={class:"space-y-4"},XP=["src","alt"],QP={class:"font-medium text-gray-800 dark:text-white"},JP={class:"text-sm text-gray-600 dark:text-gray-400"},ZP={class:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg"},tD={class:"space-y-4"},eD=["src","alt"],iD={class:"font-medium text-gray-800 dark:text-white"},rD={class:"text-sm text-gray-600 dark:text-gray-400"},nD=lo({__name:"Dashboard",props:{countries:{},isDarkMode:{type:Boolean}},setup(n){pc.register($s,Vx,Px,xp,Pp,Jl,Ax);const e=n,t=Oe(()=>e.countries.reduce((f,g)=>f+g.population,0)),i=Oe(()=>Math.round(t.value/e.countries.length)),r=Oe(()=>e.countries.reduce((f,g)=>f+g.area,0)),o=Oe(()=>Math.round(r.value/e.countries.length)),s=Oe(()=>{const f=e.countries.reduce((g,v)=>(g[v.region]||(g[v.region]={count:0,population:0,area:0}),g[v.region].count++,g[v.region].population+=v.population,g[v.region].area+=v.area,g),{});return Object.entries(f).map(([g,v])=>({region:g,count:v.count,population:v.population,area:v.area,populationDensity:Math.round(v.population/v.area)}))}),a=Oe(()=>[...e.countries].sort((f,g)=>g.population-f.population).slice(0,5)),l=Oe(()=>[...e.countries].sort((f,g)=>g.area-f.area).slice(0,5)),u=Oe(()=>[...e.countries].sort((f,g)=>Object.keys(g.languages||{}).length-Object.keys(f.languages||{}).length).slice(0,5)),c=Oe(()=>({labels:s.value.map(f=>f.region),datasets:[{data:s.value.map(f=>f.count),backgroundColor:["rgba(255, 99, 132, 0.8)","rgba(54, 162, 235, 0.8)","rgba(255, 206, 86, 0.8)","rgba(75, 192, 192, 0.8)","rgba(153, 102, 255, 0.8)","rgba(255, 159, 64, 0.8)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:2,hoverBackgroundColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],hoverBorderWidth:3}]})),d=Oe(()=>({labels:a.value.map(f=>f.name.common),datasets:[{label:"Poblacin",data:a.value.map(f=>f.population),backgroundColor:["rgba(54, 162, 235, 0.8)","rgba(75, 192, 192, 0.8)","rgba(255, 206, 86, 0.8)","rgba(153, 102, 255, 0.8)","rgba(255, 99, 132, 0.8)"],borderColor:["rgba(54, 162, 235, 1)","rgba(75, 192, 192, 1)","rgba(255, 206, 86, 1)","rgba(153, 102, 255, 1)","rgba(255, 99, 132, 1)"],borderWidth:2,borderRadius:8,hoverBackgroundColor:["rgba(54, 162, 235, 1)","rgba(75, 192, 192, 1)","rgba(255, 206, 86, 1)","rgba(153, 102, 255, 1)","rgba(255, 99, 132, 1)"],hoverBorderWidth:3}]})),p=Oe(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:e.isDarkMode?"#fff":"#000",font:{size:13},padding:20},position:"top"},tooltip:{backgroundColor:e.isDarkMode?"rgba(0, 0, 0, 0.8)":"rgba(255, 255, 255, 0.8)",titleColor:e.isDarkMode?"#fff":"#000",bodyColor:e.isDarkMode?"#fff":"#000",padding:12,cornerRadius:8,displayColors:!0,usePointStyle:!0,borderColor:e.isDarkMode?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",borderWidth:1}},animation:{duration:2e3,easing:"easeInOutQuart"},elements:{arc:{borderWidth:2}},layout:{padding:20}})),h=Oe(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:e.isDarkMode?"rgba(0, 0, 0, 0.8)":"rgba(255, 255, 255, 0.8)",titleColor:e.isDarkMode?"#fff":"#000",bodyColor:e.isDarkMode?"#fff":"#000",padding:12,cornerRadius:8,displayColors:!0,usePointStyle:!0,borderColor:e.isDarkMode?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",borderWidth:1}},scales:{y:{beginAtZero:!0,grid:{color:e.isDarkMode?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",drawBorder:!1},ticks:{color:e.isDarkMode?"#fff":"#000",font:{size:12},padding:8,callback:function(f){return f>=1e9?`${(f/1e9).toFixed(1)}B`:f>=1e6?`${(f/1e6).toFixed(1)}M`:f>=1e3?`${(f/1e3).toFixed(1)}K`:f}}},x:{grid:{display:!1},ticks:{color:e.isDarkMode?"#fff":"#000",font:{size:12},padding:8}}},animation:{duration:2e3,easing:"easeInOutQuart"},layout:{padding:{top:20,right:20,bottom:20,left:20}}}));return(f,g)=>(st(),at("div",yP,[S("div",mP,[S("div",CP,[g[0]||(g[0]=S("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white mb-2"},"Total de Pases",-1)),S("p",wP,nt(f.countries.length),1)]),S("div",SP,[g[1]||(g[1]=S("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white mb-2"},"Poblacin Total",-1)),S("p",_P,nt(t.value.toLocaleString()),1),S("p",EP,"Promedio: "+nt(i.value.toLocaleString()),1)]),S("div",bP,[g[2]||(g[2]=S("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white mb-2"},"rea Total (km)",-1)),S("p",RP,nt(r.value.toLocaleString()),1),S("p",OP,"Promedio: "+nt(o.value.toLocaleString()),1)]),S("div",TP,[g[3]||(g[3]=S("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white mb-2"},"Densidad Poblacional",-1)),S("p",xP,nt(Math.round(t.value/r.value).toLocaleString()),1),g[4]||(g[4]=S("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"habitantes/km",-1))])]),S("div",PP,[S("div",DP,[g[5]||(g[5]=S("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white mb-4"},"Distribucin por Regin",-1)),S("div",AP,[qt(tu(vP),{data:c.value,options:p.value},null,8,["data","options"])])]),S("div",FP,[g[6]||(g[6]=S("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white mb-4"},"Pases ms Poblados",-1)),S("div",MP,[qt(tu(gP),{data:d.value,options:h.value},null,8,["data","options"])])])]),S("div",LP,[g[8]||(g[8]=S("h3",{class:"text-xl font-semibold text-gray-800 dark:text-white mb-4"},"Estadsticas por Regin",-1)),S("div",IP,[S("table",NP,[g[7]||(g[7]=S("thead",null,[S("tr",{class:"text-left text-gray-600 dark:text-gray-400"},[S("th",{class:"py-2 px-4"},"Regin"),S("th",{class:"py-2 px-4"},"Pases"),S("th",{class:"py-2 px-4"},"Poblacin"),S("th",{class:"py-2 px-4"},"rea (km)"),S("th",{class:"py-2 px-4"},"Densidad (hab/km)")])],-1)),S("tbody",null,[(st(!0),at(Zt,null,Ei(s.value,v=>(st(),at("tr",{key:v.region,class:"border-t border-gray-200 dark:border-gray-700"},[S("td",GP,nt(v.region),1),S("td",HP,nt(v.count),1),S("td",VP,nt(v.population.toLocaleString()),1),S("td",kP,nt(v.area.toLocaleString()),1),S("td",BP,nt(v.populationDensity.toLocaleString()),1)]))),128))])])])]),S("div",jP,[S("div",WP,[g[9]||(g[9]=S("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white mb-4"},"Pases ms Poblados",-1)),S("ul",UP,[(st(!0),at(Zt,null,Ei(a.value,v=>(st(),at("li",{key:v.name.common,class:"flex items-center gap-4"},[S("img",{src:v.flags.png,alt:v.name.common,class:"w-8 h-6 object-cover rounded"},null,8,zP),S("div",null,[S("p",$P,nt(v.name.common),1),S("p",KP,nt(v.population.toLocaleString())+" habitantes",1)])]))),128))])]),S("div",YP,[g[10]||(g[10]=S("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white mb-4"},"Pases ms Extensos",-1)),S("ul",qP,[(st(!0),at(Zt,null,Ei(l.value,v=>(st(),at("li",{key:v.name.common,class:"flex items-center gap-4"},[S("img",{src:v.flags.png,alt:v.name.common,class:"w-8 h-6 object-cover rounded"},null,8,XP),S("div",null,[S("p",QP,nt(v.name.common),1),S("p",JP,nt(v.area.toLocaleString())+" km",1)])]))),128))])]),S("div",ZP,[g[11]||(g[11]=S("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white mb-4"},"Mayor Diversidad Lingstica",-1)),S("ul",tD,[(st(!0),at(Zt,null,Ei(u.value,v=>(st(),at("li",{key:v.name.common,class:"flex items-center gap-4"},[S("img",{src:v.flags.png,alt:v.name.common,class:"w-8 h-6 object-cover rounded"},null,8,eD),S("div",null,[S("p",iD,nt(v.name.common),1),S("p",rD,nt(Object.keys(v.languages||{}).length)+" idiomas ",1)])]))),128))])])])]))}});/**
          * @ag-grid-community/all-modules - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue * @version v30.2.1
          * @link https://www.ag-grid.com/
          * @license MIT
          */function pr(n){return n==null||n===""?null:n}function N(n,e){return e===void 0&&(e=!1),n!=null&&(n!==""||e)}function pt(n){return!N(n)}function hi(n){return n==null||n.length===0}function _a(n){return n!=null&&typeof n.toString=="function"?n.toString():null}function Oi(n){if(n!==void 0){if(n===null||n==="")return null;if(typeof n=="number")return isNaN(n)?void 0:n;var e=parseInt(n,10);return isNaN(e)?void 0:e}}function ar(n){if(n!==void 0)return n===null||n===""?!1:typeof n=="boolean"?n:/true/i.test(n)}function oD(n){if(!(n==null||n===""))return n}function sD(n,e){return n==null&&e==null?!0:n==null&&e!=null||n!=null&&e==null?!1:n===e}function aD(n,e){var t=n?JSON.stringify(n):null,i=e?JSON.stringify(e):null;return t===i}function lD(n,e,t){t===void 0&&(t=!1);var i=n==null,r=e==null;if(n&&n.toNumber&&(n=n.toNumber()),e&&e.toNumber&&(e=e.toNumber()),i&&r)return 0;if(i)return-1;if(r)return 1;function o(s,a){return s>a?1:s<a?-1:0}if(typeof n!="string"||!t)return o(n,e);try{return n.localeCompare(e)}catch{return o(n,e)}}function Xn(n){if(n instanceof Set||n instanceof Map){var e=[];return n.forEach(function(t){return e.push(t)}),e}return Object.values(n)}var uD=Object.freeze({__proto__:null,makeNull:pr,exists:N,missing:pt,missingOrEmpty:hi,toStringOrNull:_a,attrToNumber:Oi,attrToBoolean:ar,attrToString:oD,referenceCompare:sD,jsonEquals:aD,defaultComparator:lD,values:Xn}),cD=function(){function n(){this.existingKeys={}}return n.prototype.addExistingKeys=function(e){for(var t=0;t<e.length;t++)this.existingKeys[e[t]]=!0},n.prototype.getUniqueKey=function(e,t){e=_a(e);for(var i=0;;){var r=void 0;if(e?(r=e,i!==0&&(r+="_"+i)):t?(r=t,i!==0&&(r+="_"+i)):r=i,!this.existingKeys[r])return this.existingKeys[r]=!0,String(r);i++}},n}(),dD=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pD=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o};function Xt(n,e){var t,i;if(n!=null){if(Array.isArray(n)){for(var r=0;r<n.length;r++)e(r.toString(),n[r]);return}try{for(var o=dD(Object.entries(n)),s=o.next();!s.done;s=o.next()){var a=pD(s.value,2),l=a[0],u=a[1];e(l,u)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(t)throw t.error}}}}function Hh(n){for(var e={},t=Object.keys(n),i=0;i<t.length;i++){var r=t[i],o=n[r];e[r]=o}return e}function hD(n){return JSON.parse(JSON.stringify(n))}function _u(n,e){if(n){var t=n,i={};return Object.keys(t).forEach(function(r){if(!(e&&e.indexOf(r)>=0)){var o=t[r],s=Eu(o)&&o.constructor===Object;s?i[r]=_u(o):i[r]=o}}),i}}function Sw(n,e){return n[e]}function _w(n,e,t){n[e]=t}function fD(n,e){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];t.forEach(function(r){return Ew(n,e,r)})}function Ew(n,e,t,i){var r=Sw(n,t);r!==void 0&&_w(e,t,i?i(r):r)}function bw(n){var e={};return n.filter(function(t){return t!=null}).forEach(function(t){Object.keys(t).forEach(function(i){return e[i]=null})}),Object.keys(e)}function fr(n){if(!n)return[];var e=Object;if(typeof e.values=="function")return e.values(n);var t=[];for(var i in n)n.hasOwnProperty(i)&&n.propertyIsEnumerable(i)&&t.push(n[i]);return t}function vi(n,e,t,i){t===void 0&&(t=!0),i===void 0&&(i=!1),N(e)&&Xt(e,function(r,o){var s=n[r];if(s!==o){if(i){var a=s==null&&o!=null;if(a){var l=typeof o=="object"&&o.constructor===Object,u=l;u&&(s={},n[r]=s)}}Eu(o)&&Eu(s)&&!Array.isArray(s)?vi(s,o,t,i):(t||o!==void 0)&&(n[r]=o)}})}function gD(n){return pt(n)||Object.keys(n).length===0}function vD(n,e,t){if(n==null)return t;for(var i=e.split("."),r=n;i.length>1;)if(r=r[i.shift()],r==null)return t;var o=r[i[0]];return o??t}function yD(n,e,t){if(n!=null){var i=e.split("."),r=n;i.forEach(function(o,s){r[o]||(r[o]={}),s<i.length-1&&(r=r[o])}),r[i[i.length-1]]=t}}function ko(n,e,t){if(!(!e||!n)){if(!t)return n[e];for(var i=e.split("."),r=n,o=0;o<i.length;o++){if(r==null)return;r=r[i[o]]}return r}}function Rw(n,e){Object.keys(n).forEach(function(r){var o=n[r];typeof o=="object"&&(n[r]=void 0)});var t=Object.getPrototypeOf(n),i={};Object.keys(t).forEach(function(r){var o=t[r];if(typeof o=="function"){var s=function(){console.warn("AG Grid: "+e+" function "+r+`() cannot be called as the grid has been destroyed.
                     Please don't call grid API functions on destroyed grids - as a matter of fact you shouldn't
                     be keeping the API reference, your application has a memory leak! Remove the API reference
                     when the grid is destroyed.`)};i[r]={value:s,writable:!0}}}),Object.defineProperties(n,i)}function Eu(n){return typeof n=="object"&&n!==null}var mD=Object.freeze({__proto__:null,iterateObject:Xt,cloneObject:Hh,deepCloneObject:hD,deepCloneDefinition:_u,getProperty:Sw,setProperty:_w,copyPropertiesIfPresent:fD,copyPropertyIfPresent:Ew,getAllKeysInObjects:bw,getAllValuesInObject:fr,mergeDeep:vi,missingOrEmptyObject:gD,get:vD,set:yD,getValueUsingField:ko,removeAllReferences:Rw,isNonNullObject:Eu}),Bv={};function bt(n,e){Bv[e]||(n(),Bv[e]=!0)}function fc(n){if(n.name)return n.name;var e=/function\s+([^\(]+)/.exec(n.toString());return e&&e.length===2?e[1].trim():null}function gc(n){return!!(n&&n.constructor&&n.call&&n.apply)}function Ow(n){Tw(n,400)}var nd=[],od=!1;function Ap(n){nd.push(n),!od&&(od=!0,window.setTimeout(function(){var e=nd.slice();nd.length=0,od=!1,e.forEach(function(t){return t()})},0))}function Tw(n,e){e===void 0&&(e=0),n.length>0&&window.setTimeout(function(){return n.forEach(function(t){return t()})},e)}function Vi(n,e){var t;return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var o=this;window.clearTimeout(t),t=window.setTimeout(function(){n.apply(o,i)},e)}}function Fp(n,e){var t=0;return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var o=this,s=new Date().getTime();s-t<e||(t=s,n.apply(o,i))}}function Vh(n,e,t,i){t===void 0&&(t=100);var r=new Date().getTime(),o=null,s=!1,a=function(){var l=new Date().getTime()-r>t;(n()||l)&&(e(),s=!0,o!=null&&(window.clearInterval(o),o=null),l&&i&&console.warn(i))};a(),s||(o=window.setInterval(a,10))}function CD(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return function(t){return n.reduce(function(i,r){return r(i)},t)}}function xw(n){n&&n()}var wD=function(){},SD=Object.freeze({__proto__:null,doOnce:bt,getFunctionName:fc,isFunction:gc,executeInAWhile:Ow,executeNextVMTurn:Ap,executeAfter:Tw,debounce:Vi,throttle:Fp,waitUntil:Vh,compose:CD,callIfPresent:xw,noop:wD}),tt;(function(n){n.CommunityCoreModule="@ag-grid-community/core",n.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",n.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",n.CsvExportModule="@ag-grid-community/csv-export",n.EnterpriseCoreModule="@ag-grid-enterprise/core",n.RowGroupingModule="@ag-grid-enterprise/row-grouping",n.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",n.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",n.MenuModule="@ag-grid-enterprise/menu",n.SetFilterModule="@ag-grid-enterprise/set-filter",n.MultiFilterModule="@ag-grid-enterprise/multi-filter",n.StatusBarModule="@ag-grid-enterprise/status-bar",n.SideBarModule="@ag-grid-enterprise/side-bar",n.RangeSelectionModule="@ag-grid-enterprise/range-selection",n.MasterDetailModule="@ag-grid-enterprise/master-detail",n.RichSelectModule="@ag-grid-enterprise/rich-select",n.GridChartsModule="@ag-grid-enterprise/charts",n.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",n.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",n.ExcelExportModule="@ag-grid-enterprise/excel-export",n.ClipboardModule="@ag-grid-enterprise/clipboard",n.SparklinesModule="@ag-grid-enterprise/sparklines",n.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",n.AngularModule="@ag-grid-community/angular",n.ReactModule="@ag-grid-community/react",n.VueModule="@ag-grid-community/vue"})(tt||(tt={}));var ds=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},jv=function(n,e){for(var t=0,i=e.length,r=n.length;t<i;t++,r++)n[r]=e[t];return n},ft=function(){function n(){}return n.register=function(e){n.__register(e,!0,void 0)},n.registerModules=function(e){n.__registerModules(e,!0,void 0)},n.__register=function(e,t,i){n.runVersionChecks(e),i!==void 0?(n.areGridScopedModules=!0,n.gridModulesMap[i]===void 0&&(n.gridModulesMap[i]={}),n.gridModulesMap[i][e.moduleName]=e):n.globalModulesMap[e.moduleName]=e,n.setModuleBased(t)},n.__unRegisterGridModules=function(e){delete n.gridModulesMap[e]},n.__registerModules=function(e,t,i){n.setModuleBased(t),e&&e.forEach(function(r){return n.__register(r,t,i)})},n.isValidModuleVersion=function(e){var t=ds(e.version.split(".")||[],2),i=t[0],r=t[1],o=ds(n.currentModuleVersion.split(".")||[],2),s=o[0],a=o[1];return i===s&&r===a},n.runVersionChecks=function(e){if(n.currentModuleVersion||(n.currentModuleVersion=e.version),e.version?n.isValidModuleVersion(e)||console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '"+e.moduleName+"' is version "+e.version+" but the other modules are version "+this.currentModuleVersion+". Please update all modules to the same version."):console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '"+e.moduleName+"' is incompatible. Please update all modules to the same version."),e.validate){var t=e.validate();if(!t.isValid){var i=t;console.error("AG Grid: "+i.message)}}},n.setModuleBased=function(e){n.moduleBased===void 0?n.moduleBased=e:n.moduleBased!==e&&bt(function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")},n.__setIsBundled=function(){n.isBundled=!0},n.__assertRegistered=function(e,t,i){var r;if(this.__isRegistered(e,i))return!0;var o=t+e,s;if(n.isBundled)s="AG Grid: unable to use "+t+` as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:
        
        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>
        
For more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(n.moduleBased||n.moduleBased===void 0){var a=(r=Object.entries(tt).find(function(l){var u=ds(l,2);u[0];var c=u[1];return c===e}))===null||r===void 0?void 0:r[0];s="AG Grid: unable to use "+t+" as the "+a+" is not registered"+(n.areGridScopedModules?" for gridId: "+i:"")+`. Check if you have registered the module:
           
    import { ModuleRegistry } from '@ag-grid-community/core';
    import { `+a+" } from '"+e+`';
    
    ModuleRegistry.registerModules([ `+a+` ]);

For more info see: https://www.ag-grid.com/javascript-grid/modules/`}else s="AG Grid: unable to use "+t+` as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:
            
    import 'ag-grid-enterprise';
            
For more info see: https://www.ag-grid.com/javascript-grid/packages/`;return bt(function(){console.warn(s)},o),!1},n.__isRegistered=function(e,t){var i;return!!n.globalModulesMap[e]||!!(!((i=n.gridModulesMap[t])===null||i===void 0)&&i[e])},n.__getRegisteredModules=function(e){return jv(jv([],ds(Xn(n.globalModulesMap))),ds(Xn(n.gridModulesMap[e]||{})))},n.__getGridRegisteredModules=function(e){var t;return Xn((t=n.gridModulesMap[e])!==null&&t!==void 0?t:{})||[]},n.__isPackageBased=function(){return!n.moduleBased},n.globalModulesMap={},n.gridModulesMap={},n.areGridScopedModules=!1,n}(),_D=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},ED=function(n,e){for(var t=0,i=e.length,r=n.length;t<i;t++,r++)n[r]=e[t];return n},bD=function(){function n(e,t){if(this.beanWrappers={},this.destroyed=!1,!(!e||!e.beanClasses)){this.contextParams=e,this.logger=t,this.logger.log(">> creating ag-Application Context"),this.createBeans();var i=this.getBeanInstances();this.wireBeans(i),this.logger.log(">> ag-Application Context ready - component is alive")}}return n.prototype.getBeanInstances=function(){return Xn(this.beanWrappers).map(function(e){return e.beanInstance})},n.prototype.createBean=function(e,t){if(!e)throw Error("Can't wire to bean since it is null");return this.wireBeans([e],t),e},n.prototype.wireBeans=function(e,t){this.autoWireBeans(e),this.methodWireBeans(e),this.callLifeCycleMethods(e,"preConstructMethods"),N(t)&&e.forEach(t),this.callLifeCycleMethods(e,"postConstructMethods")},n.prototype.createBeans=function(){var e=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),Xt(this.beanWrappers,function(i,r){var o;r.bean.__agBeanMetaData&&r.bean.__agBeanMetaData.autowireMethods&&r.bean.__agBeanMetaData.autowireMethods.agConstructor&&(o=r.bean.__agBeanMetaData.autowireMethods.agConstructor);var s=e.getBeansForParameters(o,r.bean.name),a=new(r.bean.bind.apply(r.bean,ED([null],_D(s))));r.beanInstance=a});var t=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: "+t)},n.prototype.createBeanWrapper=function(e){var t=e.__agBeanMetaData;if(!t){var i=void 0;e.prototype.constructor?i=fc(e.prototype.constructor):i=""+e,console.error("Context item "+i+" is not a bean");return}var r={bean:e,beanInstance:null,beanName:t.beanName};this.beanWrappers[t.beanName]=r},n.prototype.autoWireBeans=function(e){var t=this;e.forEach(function(i){t.forEachMetaDataInHierarchy(i,function(r,o){var s=r.agClassAttributes;s&&s.forEach(function(a){var l=t.lookupBeanInstance(o,a.beanName,a.optional);i[a.attributeName]=l})})})},n.prototype.methodWireBeans=function(e){var t=this;e.forEach(function(i){t.forEachMetaDataInHierarchy(i,function(r,o){Xt(r.autowireMethods,function(s,a){if(s!=="agConstructor"){var l=t.getBeansForParameters(a,o);i[s].apply(i,l)}})})})},n.prototype.forEachMetaDataInHierarchy=function(e,t){for(var i=Object.getPrototypeOf(e);i!=null;){var r=i.constructor;if(r.hasOwnProperty("__agBeanMetaData")){var o=r.__agBeanMetaData,s=this.getBeanName(r);t(o,s)}i=Object.getPrototypeOf(i)}},n.prototype.getBeanName=function(e){if(e.__agBeanMetaData&&e.__agBeanMetaData.beanName)return e.__agBeanMetaData.beanName;var t=e.toString(),i=t.substring(9,t.indexOf("("));return i},n.prototype.getBeansForParameters=function(e,t){var i=this,r=[];return e&&Xt(e,function(o,s){var a=i.lookupBeanInstance(t,s);r[Number(o)]=a}),r},n.prototype.lookupBeanInstance=function(e,t,i){if(i===void 0&&(i=!1),this.destroyed)return this.logger.log("AG Grid: bean reference "+t+" is used after the grid is destroyed!"),null;if(t==="context")return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(t))return this.contextParams.providedBeanInstances[t];var r=this.beanWrappers[t];return r?r.beanInstance:(i||console.error("AG Grid: unable to find bean reference "+t+" while initialising "+e),null)},n.prototype.callLifeCycleMethods=function(e,t){var i=this;e.forEach(function(r){return i.callLifeCycleMethodsOnBean(r,t)})},n.prototype.callLifeCycleMethodsOnBean=function(e,t,i){var r={};this.forEachMetaDataInHierarchy(e,function(s){var a=s[t];a&&a.forEach(function(l){l!=i&&(r[l]=!0)})});var o=Object.keys(r);o.forEach(function(s){return e[s]()})},n.prototype.getBean=function(e){return this.lookupBeanInstance("getBean",e,!0)},n.prototype.destroy=function(){if(!this.destroyed){this.destroyed=!0,this.logger.log(">> Shutting down ag-Application Context");var e=this.getBeanInstances();this.destroyBeans(e),this.contextParams.providedBeanInstances=null,ft.__unRegisterGridModules(this.contextParams.gridId),this.logger.log(">> ag-Application Context shut down - component is dead")}},n.prototype.destroyBean=function(e){e&&this.destroyBeans([e])},n.prototype.destroyBeans=function(e){var t=this;return e?(e.forEach(function(i){t.callLifeCycleMethodsOnBean(i,"preDestroyMethods","destroy");var r=i;typeof r.destroy=="function"&&r.destroy()}),[]):[]},n.prototype.isDestroyed=function(){return this.destroyed},n.prototype.getGridId=function(){return this.contextParams.gridId},n}();function Wv(n,e,t){var i=oo(n.constructor);i.preConstructMethods||(i.preConstructMethods=[]),i.preConstructMethods.push(e)}function U(n,e,t){var i=oo(n.constructor);i.postConstructMethods||(i.postConstructMethods=[]),i.postConstructMethods.push(e)}function Ee(n,e,t){var i=oo(n.constructor);i.preDestroyMethods||(i.preDestroyMethods=[]),i.preDestroyMethods.push(e)}function Z(n){return function(e){var t=oo(e);t.beanName=n}}function y(n){return function(e,t,i){Pw(e,n,!1,e,t,null)}}function At(n){return function(e,t,i){Pw(e,n,!0,e,t,null)}}function Pw(n,e,t,i,r,o){if(e===null){console.error("AG Grid: Autowired name should not be null");return}if(typeof o=="number"){console.error("AG Grid: Autowired should be on an attribute");return}var s=oo(n.constructor);s.agClassAttributes||(s.agClassAttributes=[]),s.agClassAttributes.push({attributeName:r,beanName:e,optional:t})}function Ge(n){return function(e,t,i){var r=typeof e=="function"?e:e.constructor,o;if(typeof i=="number"){var s=void 0;t?(o=oo(r),s=t):(o=oo(r),s="agConstructor"),o.autowireMethods||(o.autowireMethods={}),o.autowireMethods[s]||(o.autowireMethods[s]={}),o.autowireMethods[s][i]=n}}}function oo(n){return n.hasOwnProperty("__agBeanMetaData")||(n.__agBeanMetaData={}),n.__agBeanMetaData}var Uv=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},ps=function(n,e){return function(t,i){e(t,i,n)}},Cn=function(){function n(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return n.prototype.setBeans=function(e,t,i,r,o){if(r===void 0&&(r=null),o===void 0&&(o=null),this.frameworkOverrides=i,this.gridOptionsService=t,r){var s=t.useAsyncEvents();this.addGlobalListener(r,s)}o&&this.addGlobalListener(o,!1)},n.prototype.getListeners=function(e,t,i){var r=t?this.allAsyncListeners:this.allSyncListeners,o=r.get(e);return!o&&i&&(o=new Set,r.set(e,o)),o},n.prototype.noRegisteredListenersExist=function(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0},n.prototype.addEventListener=function(e,t,i){i===void 0&&(i=!1),this.getListeners(e,i,!0).add(t)},n.prototype.removeEventListener=function(e,t,i){i===void 0&&(i=!1);var r=this.getListeners(e,i,!1);if(r&&(r.delete(t),r.size===0)){var o=i?this.allAsyncListeners:this.allSyncListeners;o.delete(e)}},n.prototype.addGlobalListener=function(e,t){t===void 0&&(t=!1),(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)},n.prototype.removeGlobalListener=function(e,t){t===void 0&&(t=!1),(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)},n.prototype.dispatchEvent=function(e){var t=e;if(this.gridOptionsService){var i=this.gridOptionsService,r=i.api,o=i.columnApi,s=i.context;t.api=r,t.columnApi=o,t.context=s}this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0},n.prototype.dispatchEventOnce=function(e){this.firedEvents[e.type]||this.dispatchEvent(e)},n.prototype.dispatchToListeners=function(e,t){var i=this,r=e.type;if(t&&"event"in e){var o=e.event;o instanceof Event&&(e.eventPath=o.composedPath())}var s=function(u){return u.forEach(function(c){t?i.dispatchAsync(function(){return c(e)}):c(e)})},a=new Set(this.getListeners(r,t,!1));a.size>0&&s(a);var l=new Set(t?this.globalAsyncListeners:this.globalSyncListeners);l.forEach(function(u){t?i.dispatchAsync(function(){return i.frameworkOverrides.dispatchEvent(r,function(){return u(r,e)},!0)}):i.frameworkOverrides.dispatchEvent(r,function(){return u(r,e)},!0)})},n.prototype.dispatchAsync=function(e){this.asyncFunctionsQueue.push(e),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},n.prototype.flushAsyncQueue=function(){this.scheduled=!1;var e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(function(t){return t()})},Uv([ps(0,Ge("loggerFactory")),ps(1,Ge("gridOptionsService")),ps(2,Ge("frameworkOverrides")),ps(3,Ge("globalEventListener")),ps(4,Ge("globalSyncEventListener"))],n.prototype,"setBeans",null),n=Uv([Z("eventService")],n),n}(),sl=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},zv=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},$v=function(n,e){for(var t=0,i=e.length,r=n.length;t<i;t++,r++)n[r]=e[t];return n},RD=0;function Dw(){return RD++}var Bt=function(){function n(e,t,i,r){this.instanceId=Dw(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.eventService=new Cn,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=t,this.colId=i,this.primary=r,this.setState(e)}return n.prototype.getInstanceId=function(){return this.instanceId},n.prototype.setState=function(e){e.sort!==void 0?(e.sort==="asc"||e.sort==="desc")&&(this.sort=e.sort):(e.initialSort==="asc"||e.initialSort==="desc")&&(this.sort=e.initialSort);var t=Oi(e.sortIndex),i=Oi(e.initialSortIndex);t!==void 0?t!==null&&(this.sortIndex=t):i!==null&&(this.sortIndex=i);var r=ar(e.hide),o=ar(e.initialHide);r!==void 0?this.visible=!r:this.visible=!o,e.pinned!==void 0?this.setPinned(e.pinned):this.setPinned(e.initialPinned);var s=Oi(e.flex),a=Oi(e.initialFlex);s!==void 0?this.flex=s:a!==void 0&&(this.flex=a)},n.prototype.setColDef=function(e,t){this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.eventService.dispatchEvent(this.createColumnEvent("colDefChanged","api"))},n.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},n.prototype.setParent=function(e){this.parent=e},n.prototype.getParent=function(){return this.parent},n.prototype.setOriginalParent=function(e){this.originalParent=e},n.prototype.getOriginalParent=function(){return this.originalParent},n.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.validate()},n.prototype.initDotNotation=function(){var e=this.gridOptionsService.is("suppressFieldDotNotation");this.fieldContainsDots=N(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=N(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e},n.prototype.initMinAndMaxWidths=function(){var e=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(e),this.maxWidth=this.columnUtils.calculateColMaxWidth(e)},n.prototype.initTooltip=function(){this.tooltipEnabled=N(this.colDef.tooltipField)||N(this.colDef.tooltipValueGetter)||N(this.colDef.tooltipComponent)},n.prototype.resetActualWidth=function(e){e===void 0&&(e="api");var t=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)},n.prototype.isEmptyGroup=function(){return!1},n.prototype.isRowGroupDisplayed=function(e){if(pt(this.colDef)||pt(this.colDef.showRowGroup))return!1;var t=this.colDef.showRowGroup===!0,i=this.colDef.showRowGroup===e;return t||i},n.prototype.isPrimary=function(){return this.primary},n.prototype.isFilterAllowed=function(){var e=!!this.colDef.filter;return e},n.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},n.prototype.isTooltipEnabled=function(){return this.tooltipEnabled},n.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},n.prototype.validate=function(){var e=this.colDef;function t(u,c,d){bt(function(){d?console.warn(u,d):bt(function(){return console.warn(u)},c)},c)}var i=this.gridOptionsService.isRowModelType("clientSide");if(i&&!ft.__isRegistered(tt.RowGroupingModule,this.gridOptionsService.getGridId())){var r=["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"],o=r.filter(function(u){return N(e[u])});o.length>0&&ft.__assertRegistered(tt.RowGroupingModule,o.map(function(u){return"colDef."+u}).join(", "),this.gridOptionsService.getGridId())}if((this.colDef.cellEditor==="agRichSelect"||this.colDef.cellEditor==="agRichSelectCellEditor")&&ft.__assertRegistered(tt.RichSelectModule,this.colDef.cellEditor,this.gridOptionsService.getGridId()),this.gridOptionsService.is("treeData")){var s=["rowGroup","rowGroupIndex","pivot","pivotIndex"],o=s.filter(function(c){return N(e[c])});o.length>0&&t("AG Grid: "+o.join()+" is not possible when doing tree data, your column definition should not have "+o.join(),"TreeDataCannotRowGroup")}if(N(e.menuTabs))if(Array.isArray(e.menuTabs)){var a=["filterMenuTab"],l=["columnsMenuTab","generalMenuTab"],o=l.filter(function(c){return e.menuTabs.includes(c)});o.length>0&&ft.__assertRegistered(tt.MenuModule,"menuTab(s): "+o.map(function(c){return"'"+c+"'"}).join(),this.gridOptionsService.getGridId()),e.menuTabs.forEach(function(c){!l.includes(c)&&!a.includes(c)&&t("AG Grid: '"+c+"' is not valid for 'colDef.menuTabs'. Valid values are: "+$v($v([],zv(a)),zv(l)).map(function(d){return"'"+d+"'"}).join()+".","wrongValue_menuTabs_"+c)})}else t("AG Grid: The typeof 'colDef.menuTabs' should be an array not:"+typeof e.menuTabs,"wrongType_menuTabs");N(e.columnsMenuParams)&&ft.__assertRegistered(tt.MenuModule,"columnsMenuParams",this.gridOptionsService.getGridId()),N(e.columnsMenuParams)&&ft.__assertRegistered(tt.ColumnsToolPanelModule,"columnsMenuParams",this.gridOptionsService.getGridId()),N(this.colDef.width)&&typeof this.colDef.width!="number"&&t("AG Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck"),N(e.columnGroupShow)&&e.columnGroupShow!=="closed"&&e.columnGroupShow!=="open"&&t("AG Grid: '"+e.columnGroupShow+"' is not valid for columnGroupShow. Valid values are 'open', 'closed', undefined, null","columnGroupShow_invalid")},n.prototype.addEventListener=function(e,t){this.eventService.addEventListener(e,t)},n.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},n.prototype.createColumnFunctionCallbackParams=function(e){return{node:e,data:e.data,column:this,colDef:this.colDef,context:this.gridOptionsService.context,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi}},n.prototype.isSuppressNavigable=function(e){if(typeof this.colDef.suppressNavigable=="boolean")return this.colDef.suppressNavigable;if(typeof this.colDef.suppressNavigable=="function"){var t=this.createColumnFunctionCallbackParams(e),i=this.colDef.suppressNavigable;return i(t)}return!1},n.prototype.isCellEditable=function(e){return e.group&&!this.gridOptionsService.is("enableGroupEdit")?!1:this.isColumnFunc(e,this.colDef.editable)},n.prototype.isSuppressFillHandle=function(){return!!ar(this.colDef.suppressFillHandle)},n.prototype.isAutoHeight=function(){return!!ar(this.colDef.autoHeight)},n.prototype.isAutoHeaderHeight=function(){return!!ar(this.colDef.autoHeaderHeight)},n.prototype.isRowDrag=function(e){return this.isColumnFunc(e,this.colDef.rowDrag)},n.prototype.isDndSource=function(e){return this.isColumnFunc(e,this.colDef.dndSource)},n.prototype.isCellCheckboxSelection=function(e){return this.isColumnFunc(e,this.colDef.checkboxSelection)},n.prototype.isSuppressPaste=function(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)},n.prototype.isResizable=function(){return!!ar(this.colDef.resizable)},n.prototype.isColumnFunc=function(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){var i=this.createColumnFunctionCallbackParams(e),r=t;return r(i)}return!1},n.prototype.setMoving=function(e,t){t===void 0&&(t="api"),this.moving=e,this.eventService.dispatchEvent(this.createColumnEvent("movingChanged",t))},n.prototype.createColumnEvent=function(e,t){return{type:e,column:this,columns:[this],source:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}},n.prototype.isMoving=function(){return this.moving},n.prototype.getSort=function(){return this.sort},n.prototype.setSort=function(e,t){t===void 0&&(t="api"),this.sort!==e&&(this.sort=e,this.eventService.dispatchEvent(this.createColumnEvent("sortChanged",t))),this.dispatchStateUpdatedEvent("sort")},n.prototype.setMenuVisible=function(e,t){t===void 0&&(t="api"),this.menuVisible!==e&&(this.menuVisible=e,this.eventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",t)))},n.prototype.isMenuVisible=function(){return this.menuVisible},n.prototype.isSortAscending=function(){return this.sort==="asc"},n.prototype.isSortDescending=function(){return this.sort==="desc"},n.prototype.isSortNone=function(){return pt(this.sort)},n.prototype.isSorting=function(){return N(this.sort)},n.prototype.getSortIndex=function(){return this.sortIndex},n.prototype.setSortIndex=function(e){this.sortIndex=e,this.dispatchStateUpdatedEvent("sortIndex")},n.prototype.setAggFunc=function(e){this.aggFunc=e,this.dispatchStateUpdatedEvent("aggFunc")},n.prototype.getAggFunc=function(){return this.aggFunc},n.prototype.getLeft=function(){return this.left},n.prototype.getOldLeft=function(){return this.oldLeft},n.prototype.getRight=function(){return this.left+this.actualWidth},n.prototype.setLeft=function(e,t){t===void 0&&(t="api"),this.oldLeft=this.left,this.left!==e&&(this.left=e,this.eventService.dispatchEvent(this.createColumnEvent("leftChanged",t)))},n.prototype.isFilterActive=function(){return this.filterActive},n.prototype.setFilterActive=function(e,t,i){t===void 0&&(t="api"),this.filterActive!==e&&(this.filterActive=e,this.eventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",t)));var r=this.createColumnEvent("filterChanged",t);i&&vi(r,i),this.eventService.dispatchEvent(r)},n.prototype.isHovered=function(){return this.columnHoverService.isHovered(this)},n.prototype.setPinned=function(e){e===!0||e==="left"?this.pinned="left":e==="right"?this.pinned="right":this.pinned=null,this.dispatchStateUpdatedEvent("pinned")},n.prototype.setFirstRightPinned=function(e,t){t===void 0&&(t="api"),this.firstRightPinned!==e&&(this.firstRightPinned=e,this.eventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",t)))},n.prototype.setLastLeftPinned=function(e,t){t===void 0&&(t="api"),this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.eventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",t)))},n.prototype.isFirstRightPinned=function(){return this.firstRightPinned},n.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},n.prototype.isPinned=function(){return this.pinned==="left"||this.pinned==="right"},n.prototype.isPinnedLeft=function(){return this.pinned==="left"},n.prototype.isPinnedRight=function(){return this.pinned==="right"},n.prototype.getPinned=function(){return this.pinned},n.prototype.setVisible=function(e,t){t===void 0&&(t="api");var i=e===!0;this.visible!==i&&(this.visible=i,this.eventService.dispatchEvent(this.createColumnEvent("visibleChanged",t))),this.dispatchStateUpdatedEvent("hide")},n.prototype.isVisible=function(){return this.visible},n.prototype.isSpanHeaderHeight=function(){var e=this.getColDef();return!e.suppressSpanHeaderHeight&&!e.autoHeaderHeight},n.prototype.getColDef=function(){return this.colDef},n.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},n.prototype.getColId=function(){return this.colId},n.prototype.getId=function(){return this.colId},n.prototype.getUniqueId=function(){return this.colId},n.prototype.getDefinition=function(){return this.colDef},n.prototype.getActualWidth=function(){return this.actualWidth},n.prototype.getAutoHeaderHeight=function(){return this.autoHeaderHeight},n.prototype.setAutoHeaderHeight=function(e){var t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t},n.prototype.createBaseColDefParams=function(e){var t={node:e,data:e.data,colDef:this.colDef,column:this,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};return t},n.prototype.getColSpan=function(e){if(pt(this.colDef.colSpan))return 1;var t=this.createBaseColDefParams(e),i=this.colDef.colSpan(t);return Math.max(i,1)},n.prototype.getRowSpan=function(e){if(pt(this.colDef.rowSpan))return 1;var t=this.createBaseColDefParams(e),i=this.colDef.rowSpan(t);return Math.max(i,1)},n.prototype.setActualWidth=function(e,t,i){t===void 0&&(t="api"),i===void 0&&(i=!1),this.minWidth!=null&&(e=Math.max(e,this.minWidth)),this.maxWidth!=null&&(e=Math.min(e,this.maxWidth)),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),i||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")},n.prototype.fireColumnWidthChangedEvent=function(e){this.eventService.dispatchEvent(this.createColumnEvent("widthChanged",e))},n.prototype.isGreaterThanMax=function(e){return this.maxWidth!=null?e>this.maxWidth:!1},n.prototype.getMinWidth=function(){return this.minWidth},n.prototype.getMaxWidth=function(){return this.maxWidth},n.prototype.getFlex=function(){return this.flex||0},n.prototype.setFlex=function(e){this.flex!==e&&(this.flex=e),this.dispatchStateUpdatedEvent("flex")},n.prototype.setMinimum=function(e){e===void 0&&(e="api"),N(this.minWidth)&&this.setActualWidth(this.minWidth,e)},n.prototype.setRowGroupActive=function(e,t){t===void 0&&(t="api"),this.rowGroupActive!==e&&(this.rowGroupActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",t))),this.dispatchStateUpdatedEvent("rowGroup")},n.prototype.isRowGroupActive=function(){return this.rowGroupActive},n.prototype.setPivotActive=function(e,t){t===void 0&&(t="api"),this.pivotActive!==e&&(this.pivotActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",t))),this.dispatchStateUpdatedEvent("pivot")},n.prototype.isPivotActive=function(){return this.pivotActive},n.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},n.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},n.prototype.setValueActive=function(e,t){t===void 0&&(t="api"),this.aggregationActive!==e&&(this.aggregationActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnValueChanged",t)))},n.prototype.isValueActive=function(){return this.aggregationActive},n.prototype.isAllowPivot=function(){return this.colDef.enablePivot===!0},n.prototype.isAllowValue=function(){return this.colDef.enableValue===!0},n.prototype.isAllowRowGroup=function(){return this.colDef.enableRowGroup===!0},n.prototype.getMenuTabs=function(e){var t=this.getColDef().menuTabs;return t==null&&(t=e),t},n.prototype.dispatchStateUpdatedEvent=function(e){this.eventService.dispatchEvent({type:n.EVENT_STATE_UPDATED,key:e})},n.EVENT_MOVING_CHANGED="movingChanged",n.EVENT_LEFT_CHANGED="leftChanged",n.EVENT_WIDTH_CHANGED="widthChanged",n.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",n.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",n.EVENT_VISIBLE_CHANGED="visibleChanged",n.EVENT_FILTER_CHANGED="filterChanged",n.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",n.EVENT_SORT_CHANGED="sortChanged",n.EVENT_COL_DEF_CHANGED="colDefChanged",n.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",n.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",n.EVENT_PIVOT_CHANGED="columnPivotChanged",n.EVENT_VALUE_CHANGED="columnValueChanged",n.EVENT_STATE_UPDATED="columnStateUpdated",sl([y("gridOptionsService")],n.prototype,"gridOptionsService",void 0),sl([y("columnUtils")],n.prototype,"columnUtils",void 0),sl([y("columnHoverService")],n.prototype,"columnHoverService",void 0),sl([U],n.prototype,"initialise",null),n}(),OD=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},oe=function(){function n(e,t,i,r){this.localEventService=new Cn,this.expandable=!1,this.instanceId=Dw(),this.expandableListenerRemoveCallback=null,this.colGroupDef=e,this.groupId=t,this.expanded=!!e&&!!e.openByDefault,this.padding=i,this.level=r}return n.prototype.destroy=function(){this.expandableListenerRemoveCallback&&this.reset(null,void 0)},n.prototype.reset=function(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0},n.prototype.getInstanceId=function(){return this.instanceId},n.prototype.setOriginalParent=function(e){this.originalParent=e},n.prototype.getOriginalParent=function(){return this.originalParent},n.prototype.getLevel=function(){return this.level},n.prototype.isVisible=function(){return this.children?this.children.some(function(e){return e.isVisible()}):!1},n.prototype.isPadding=function(){return this.padding},n.prototype.setExpanded=function(e){this.expanded=e===void 0?!1:e;var t={type:n.EVENT_EXPANDED_CHANGED};this.localEventService.dispatchEvent(t)},n.prototype.isExpandable=function(){return this.expandable},n.prototype.isExpanded=function(){return this.expanded},n.prototype.getGroupId=function(){return this.groupId},n.prototype.getId=function(){return this.getGroupId()},n.prototype.setChildren=function(e){this.children=e},n.prototype.getChildren=function(){return this.children},n.prototype.getColGroupDef=function(){return this.colGroupDef},n.prototype.getLeafColumns=function(){var e=[];return this.addLeafColumns(e),e},n.prototype.addLeafColumns=function(e){this.children&&this.children.forEach(function(t){t instanceof Bt?e.push(t):t instanceof n&&t.addLeafColumns(e)})},n.prototype.getColumnGroupShow=function(){var e=this.colGroupDef;if(e)return e.columnGroupShow},n.prototype.setupExpandable=function(){var e=this;this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();var t=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(function(i){return i.addEventListener("visibleChanged",t)}),this.expandableListenerRemoveCallback=function(){e.getLeafColumns().forEach(function(i){return i.removeEventListener("visibleChanged",t)}),e.expandableListenerRemoveCallback=null}},n.prototype.setExpandable=function(){if(!this.isPadding()){for(var e=!1,t=!1,i=!1,r=this.findChildrenRemovingPadding(),o=0,s=r.length;o<s;o++){var a=r[o];if(a.isVisible()){var l=a.getColumnGroupShow();l==="open"?(e=!0,i=!0):l==="closed"?(t=!0,i=!0):(e=!0,t=!0)}}var u=e&&t&&i;if(this.expandable!==u){this.expandable=u;var c={type:n.EVENT_EXPANDABLE_CHANGED};this.localEventService.dispatchEvent(c)}}},n.prototype.findChildrenRemovingPadding=function(){var e=[],t=function(i){i.forEach(function(r){var o=r instanceof n&&r.isPadding();o?t(r.children):e.push(r)})};return t(this.children),e},n.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},n.prototype.addEventListener=function(e,t){this.localEventService.addEventListener(e,t)},n.prototype.removeEventListener=function(e,t){this.localEventService.removeEventListener(e,t)},n.EVENT_EXPANDED_CHANGED="expandedChanged",n.EVENT_EXPANDABLE_CHANGED="expandableChanged",OD([Ee],n.prototype,"destroy",null),n}(),TD={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function Aw(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t=0;t<n.length;t++){var i=n[t];if(N(i))return i}return null}function xD(n){return n!=null&&n.length>0}function Vt(n){if(!(!n||!n.length))return n[n.length-1]}function ln(n,e,t){return n==null&&e==null?!0:n!=null&&e!=null&&n.length===e.length&&n.every(function(i,r){return t?t(i,e[r]):e[r]===i})}function PD(n,e){return ln(n,e)}function Fw(n){return n.sort(function(e,t){return e-t})}function DD(n,e){if(n)for(var t=n.length-2;t>=0;t--){var i=n[t]===e,r=n[t+1]===e;i&&r&&n.splice(t+1,1)}}function kh(n,e){var t=n.indexOf(e);t>=0&&(n[t]=n[n.length-1],n.pop())}function pi(n,e){var t=n.indexOf(e);t>=0&&n.splice(t,1)}function Mw(n,e){for(var t=0;t<e.length;t++)kh(n,e[t])}function Lw(n,e){for(var t=0;t<e.length;t++)pi(n,e[t])}function Ea(n,e,t){n.splice(t,0,e)}function AD(n,e,t){if(!(n==null||e==null))for(var i=e.length-1;i>=0;i--){var r=e[i];Ea(n,r,t)}}function Mp(n,e,t){Lw(n,e),e.slice().reverse().forEach(function(i){return Ea(n,i,t)})}function xi(n,e){return n.indexOf(e)>-1}function Iw(n){return[].concat.apply([],n)}function Lp(n,e){e==null||n==null||e.forEach(function(t){return n.push(t)})}function FD(n){return n.map(_a)}function MD(n,e){if(n!=null)for(var t=n.length-1;t>=0;t--)e(n[t],t)}var LD=Object.freeze({__proto__:null,firstExistingValue:Aw,existsAndNotEmpty:xD,last:Vt,areEqual:ln,shallowCompare:PD,sortNumerically:Fw,removeRepeatsFromArray:DD,removeFromUnorderedArray:kh,removeFromArray:pi,removeAllFromUnorderedArray:Mw,removeAllFromArray:Lw,insertIntoArray:Ea,insertArrayIntoArray:AD,moveInArray:Mp,includes:xi,flatten:Iw,pushAll:Lp,toStrings:FD,forEachReverse:MD}),Nw="__ag_Grid_Stop_Propagation",ID=["touchstart","touchend","touchmove","touchcancel","scroll"],sd={};function gr(n){n[Nw]=!0}function Ui(n){return n[Nw]===!0}var Bh=function(){var n={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},e=function(t){if(typeof sd[t]=="boolean")return sd[t];var i=document.createElement(n[t]||"div");return t="on"+t,sd[t]=t in i};return e}();function bu(n,e,t){for(var i=e;i;){var r=n.getDomData(i,t);if(r)return r;i=i.parentElement}return null}function Ru(n,e){return!e||!n?!1:Hw(e).indexOf(n)>=0}function Gw(n){for(var e=[],t=n.target;t;)e.push(t),t=t.parentElement;return e}function Hw(n){var e=n;return e.path?e.path:e.composedPath?e.composedPath():Gw(e)}function Vw(n,e,t,i){var r=xi(ID,t),o=r?{passive:!0}:void 0;n&&n.addEventListener&&n.addEventListener(e,t,i,o)}var ND=Object.freeze({__proto__:null,stopPropagationForAgGrid:gr,isStopPropagationForAgGrid:Ui,isEventSupported:Bh,getCtrlForEventTarget:bu,isElementInEventPath:Ru,createEventPath:Gw,getEventPath:Hw,addSafePassiveEventListener:Vw}),In=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},j=function(){function n(){var e=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.lastChangeSetIdLookup={},this.propertyListenerId=0,this.isAlive=function(){return!e.destroyed}}return n.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},n.prototype.getContext=function(){return this.context},n.prototype.destroy=function(){this.destroyFunctions.forEach(function(e){return e()}),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:n.EVENT_DESTROYED})},n.prototype.addEventListener=function(e,t){this.localEventService||(this.localEventService=new Cn),this.localEventService.addEventListener(e,t)},n.prototype.removeEventListener=function(e,t){this.localEventService&&this.localEventService.removeEventListener(e,t)},n.prototype.dispatchEventAsync=function(e){var t=this;window.setTimeout(function(){return t.dispatchEvent(e)},0)},n.prototype.dispatchEvent=function(e){this.localEventService&&this.localEventService.dispatchEvent(e)},n.prototype.addManagedListener=function(e,t,i){var r=this;if(!this.destroyed){e instanceof HTMLElement?Vw(this.getFrameworkOverrides(),e,t,i):e.addEventListener(t,i);var o=function(){return e.removeEventListener(t,i),r.destroyFunctions=r.destroyFunctions.filter(function(s){return s!==o}),null};return this.destroyFunctions.push(o),o}},n.prototype.setupGridOptionListener=function(e,t){var i=this;this.gridOptionsService.addEventListener(e,t);var r=function(){return i.gridOptionsService.removeEventListener(e,t),i.destroyFunctions=i.destroyFunctions.filter(function(o){return o!==r}),null};this.destroyFunctions.push(r)},n.prototype.addManagedPropertyListener=function(e,t){this.destroyed||this.setupGridOptionListener(e,t)},n.prototype.addManagedPropertyListeners=function(e,t){var i=this;if(!this.destroyed){var r=e.join("-")+this.propertyListenerId++,o=function(s){if(s.changeSet){if(s.changeSet&&s.changeSet.id===i.lastChangeSetIdLookup[r])return;i.lastChangeSetIdLookup[r]=s.changeSet.id}var a={type:"gridPropertyChanged",changeSet:s.changeSet};t(a)};e.forEach(function(s){return i.setupGridOptionListener(s,o)})}},n.prototype.addDestroyFunc=function(e){this.isAlive()?this.destroyFunctions.push(e):e()},n.prototype.createManagedBean=function(e,t){var i=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),i},n.prototype.createBean=function(e,t,i){return(t||this.getContext()).createBean(e,i)},n.prototype.destroyBean=function(e,t){return(t||this.getContext()).destroyBean(e)},n.prototype.destroyBeans=function(e,t){var i=this;return e&&e.forEach(function(r){return i.destroyBean(r,t)}),[]},n.EVENT_DESTROYED="destroyed",In([y("frameworkOverrides")],n.prototype,"frameworkOverrides",void 0),In([y("context")],n.prototype,"context",void 0),In([y("eventService")],n.prototype,"eventService",void 0),In([y("gridOptionsService")],n.prototype,"gridOptionsService",void 0),In([y("localeService")],n.prototype,"localeService",void 0),In([y("environment")],n.prototype,"environment",void 0),In([Ee],n.prototype,"destroy",null),n}(),GD=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),al=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},HD=function(n,e){return function(t,i){e(t,i,n)}},VD=function(n){GD(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.setBeans=function(t){this.logger=t.create("ColumnFactory")},e.prototype.createColumnTree=function(t,i,r){var o=new cD,s=this.extractExistingTreeData(r),a=s.existingCols,l=s.existingGroups,u=s.existingColKeys;o.addExistingKeys(u);var c=this.recursivelyCreateColumns(t,0,i,a,o,l),d=this.findMaxDept(c,0);this.logger.log("Number of levels for grouped columns is "+d);var p=this.balanceColumnTree(c,0,d,o),h=function(f,g){f instanceof oe&&f.setupExpandable(),f.setOriginalParent(g)};return this.columnUtils.depthFirstOriginalTreeSearch(null,p,h),{columnTree:p,treeDept:d}},e.prototype.extractExistingTreeData=function(t){var i=[],r=[],o=[];return t&&this.columnUtils.depthFirstOriginalTreeSearch(null,t,function(s){if(s instanceof oe){var a=s;r.push(a)}else{var l=s;o.push(l.getId()),i.push(l)}}),{existingCols:i,existingGroups:r,existingColKeys:o}},e.prototype.createForAutoGroups=function(t,i){var r=this;return t.map(function(o){return r.createAutoGroupTreeItem(i,o)})},e.prototype.createAutoGroupTreeItem=function(t,i){for(var r=this.findDepth(t),o=i,s=r-1;s>=0;s--){var a=new oe(null,"FAKE_PATH_"+i.getId()+"}_"+s,!0,s);this.createBean(a),a.setChildren([o]),o.setOriginalParent(a),o=a}return r===0&&i.setOriginalParent(null),o},e.prototype.findDepth=function(t){for(var i=0,r=t;r&&r[0]&&r[0]instanceof oe;)i++,r=r[0].getChildren();return i},e.prototype.balanceColumnTree=function(t,i,r,o){for(var s=[],a=0;a<t.length;a++){var l=t[a];if(l instanceof oe){var u=l,c=this.balanceColumnTree(u.getChildren(),i+1,r,o);u.setChildren(c),s.push(u)}else{for(var d=void 0,p=void 0,h=r-1;h>=i;h--){var f=o.getUniqueKey(null,null),g=this.createMergedColGroupDef(null),v=new oe(g,f,!0,i);this.createBean(v),p&&p.setChildren([v]),p=v,d||(d=p)}if(d&&p){s.push(d);var m=t.some(function(w){return w instanceof oe});if(m){p.setChildren([l]);continue}else{p.setChildren(t);break}}s.push(l)}}return s},e.prototype.findMaxDept=function(t,i){for(var r=i,o=0;o<t.length;o++){var s=t[o];if(s instanceof oe){var a=s,l=this.findMaxDept(a.getChildren(),i+1);r<l&&(r=l)}}return r},e.prototype.recursivelyCreateColumns=function(t,i,r,o,s,a){if(!t)return[];for(var l=new Array(t.length),u=0;u<l.length;u++){var c=t[u];this.isColumnGroup(c)?l[u]=this.createColumnGroup(r,c,i,o,s,a):l[u]=this.createColumn(r,c,o,s)}return l},e.prototype.createColumnGroup=function(t,i,r,o,s,a){var l=this.createMergedColGroupDef(i),u=s.getUniqueKey(l.groupId||null,null),c=new oe(l,u,!1,r);this.createBean(c);var d=this.findExistingGroup(i,a);d&&a.splice(d.idx,1);var p=d==null?void 0:d.group;p&&c.setExpanded(p.isExpanded());var h=this.recursivelyCreateColumns(l.children,r+1,t,o,s,a);return c.setChildren(h),c},e.prototype.createMergedColGroupDef=function(t){var i={};return Object.assign(i,this.gridOptionsService.get("defaultColGroupDef")),Object.assign(i,t),i},e.prototype.createColumn=function(t,i,r,o){var s=this.findExistingColumn(i,r);s&&(r==null||r.splice(s.idx,1));var a=s==null?void 0:s.column;if(a){var u=this.addColumnDefaultAndTypes(i,a.getColId());a.setColDef(u,i),this.applyColumnState(a,u)}else{var l=o.getUniqueKey(i.colId,i.field),u=this.addColumnDefaultAndTypes(i,l);a=new Bt(u,i,l,t),this.context.createBean(a)}return this.dataTypeService.addColumnListeners(a),a},e.prototype.applyColumnState=function(t,i){var r=Oi(i.flex);r!==void 0&&t.setFlex(r);var o=t.getFlex()<=0;if(o){var s=Oi(i.width);if(s!=null)t.setActualWidth(s);else{var a=t.getActualWidth();t.setActualWidth(a)}}i.sort!==void 0&&(i.sort=="asc"||i.sort=="desc"?t.setSort(i.sort):t.setSort(void 0));var l=Oi(i.sortIndex);l!==void 0&&t.setSortIndex(l);var u=ar(i.hide);u!==void 0&&t.setVisible(!u),i.pinned!==void 0&&t.setPinned(i.pinned)},e.prototype.findExistingColumn=function(t,i){if(i)for(var r=0;r<i.length;r++){var o=i[r].getUserProvidedColDef();if(o){var s=t.colId!=null;if(s){if(i[r].getId()===t.colId)return{idx:r,column:i[r]};continue}var a=t.field!=null;if(a){if(o.field===t.field)return{idx:r,column:i[r]};continue}if(o===t)return{idx:r,column:i[r]}}}},e.prototype.findExistingGroup=function(t,i){var r=t.groupId!=null;if(r)for(var o=0;o<i.length;o++){var s=i[o],a=s.getColGroupDef();if(a&&s.getId()===t.groupId)return{idx:o,group:s}}},e.prototype.addColumnDefaultAndTypes=function(t,i){var r={},o=this.gridOptionsService.get("defaultColDef");vi(r,o,!1,!0);var s=this.dataTypeService.updateColDefAndGetColumnType(r,t,i);s&&this.assignColumnTypes(s,r),vi(r,t,!1,!0);var a=this.gridOptionsService.get("autoGroupColumnDef"),l=this.gridOptionsService.isColumnsSortingCoupledToGroup();return t.rowGroup&&a&&l&&vi(r,{sort:a.sort,initialSort:a.initialSort},!1,!0),this.dataTypeService.validateColDef(r),r},e.prototype.assignColumnTypes=function(t,i){if(t.length){var r=Object.assign({},TD),o=this.gridOptionsService.get("columnTypes")||{};Xt(o,function(s,a){s in r?console.warn("AG Grid: the column type '"+s+"' is a default column type and cannot be overridden."):r[s]=a}),t.forEach(function(s){var a=r[s.trim()];a?vi(i,a,!1,!0):console.warn("AG Grid: colDef.type '"+s+"' does not correspond to defined gridOptions.columnTypes")})}},e.prototype.isColumnGroup=function(t){return t.children!==void 0},al([y("columnUtils")],e.prototype,"columnUtils",void 0),al([y("dataTypeService")],e.prototype,"dataTypeService",void 0),al([HD(0,Ge("loggerFactory"))],e.prototype,"setBeans",null),e=al([Z("columnFactory")],e),e}(j),kD=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Te=function(){function n(e,t,i,r){this.displayedChildren=[],this.localEventService=new Cn,this.groupId=t,this.partId=i,this.providedColumnGroup=e,this.pinned=r}return n.createUniqueId=function(e,t){return e+"_"+t},n.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},n.prototype.getParent=function(){return this.parent},n.prototype.setParent=function(e){this.parent=e},n.prototype.getUniqueId=function(){return n.createUniqueId(this.groupId,this.partId)},n.prototype.isEmptyGroup=function(){return this.displayedChildren.length===0},n.prototype.isMoving=function(){var e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(function(t){return t.isMoving()})},n.prototype.checkLeft=function(){if(this.displayedChildren.forEach(function(r){r instanceof n&&r.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsService.is("enableRtl")){var e=Vt(this.displayedChildren),t=e.getLeft();this.setLeft(t)}else{var i=this.displayedChildren[0].getLeft();this.setLeft(i)}else this.setLeft(null)},n.prototype.getLeft=function(){return this.left},n.prototype.getOldLeft=function(){return this.oldLeft},n.prototype.setLeft=function(e){this.oldLeft=e,this.left!==e&&(this.left=e,this.localEventService.dispatchEvent(this.createAgEvent(n.EVENT_LEFT_CHANGED)))},n.prototype.getPinned=function(){return this.pinned},n.prototype.createAgEvent=function(e){return{type:e}},n.prototype.addEventListener=function(e,t){this.localEventService.addEventListener(e,t)},n.prototype.removeEventListener=function(e,t){this.localEventService.removeEventListener(e,t)},n.prototype.getGroupId=function(){return this.groupId},n.prototype.getPartId=function(){return this.partId},n.prototype.isChildInThisGroupDeepSearch=function(e){var t=!1;return this.children.forEach(function(i){e===i&&(t=!0),i instanceof n&&i.isChildInThisGroupDeepSearch(e)&&(t=!0)}),t},n.prototype.getActualWidth=function(){var e=0;return this.displayedChildren&&this.displayedChildren.forEach(function(t){e+=t.getActualWidth()}),e},n.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var e=!1;return this.displayedChildren.forEach(function(t){t.isResizable()&&(e=!0)}),e},n.prototype.getMinWidth=function(){var e=0;return this.displayedChildren.forEach(function(t){e+=t.getMinWidth()||0}),e},n.prototype.addChild=function(e){this.children||(this.children=[]),this.children.push(e)},n.prototype.getDisplayedChildren=function(){return this.displayedChildren},n.prototype.getLeafColumns=function(){var e=[];return this.addLeafColumns(e),e},n.prototype.getDisplayedLeafColumns=function(){var e=[];return this.addDisplayedLeafColumns(e),e},n.prototype.getDefinition=function(){return this.providedColumnGroup.getColGroupDef()},n.prototype.getColGroupDef=function(){return this.providedColumnGroup.getColGroupDef()},n.prototype.isPadding=function(){return this.providedColumnGroup.isPadding()},n.prototype.isExpandable=function(){return this.providedColumnGroup.isExpandable()},n.prototype.isExpanded=function(){return this.providedColumnGroup.isExpanded()},n.prototype.setExpanded=function(e){this.providedColumnGroup.setExpanded(e)},n.prototype.addDisplayedLeafColumns=function(e){this.displayedChildren.forEach(function(t){t instanceof Bt?e.push(t):t instanceof n&&t.addDisplayedLeafColumns(e)})},n.prototype.addLeafColumns=function(e){this.children.forEach(function(t){t instanceof Bt?e.push(t):t instanceof n&&t.addLeafColumns(e)})},n.prototype.getChildren=function(){return this.children},n.prototype.getColumnGroupShow=function(){return this.providedColumnGroup.getColumnGroupShow()},n.prototype.getProvidedColumnGroup=function(){return this.providedColumnGroup},n.prototype.getPaddingLevel=function(){var e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()},n.prototype.calculateDisplayedColumns=function(){var e=this;this.displayedChildren=[];for(var t=this;t!=null&&t.isPadding();)t=t.getParent();var i=t?t.providedColumnGroup.isExpandable():!1;if(!i){this.displayedChildren=this.children,this.localEventService.dispatchEvent(this.createAgEvent(n.EVENT_DISPLAYED_CHILDREN_CHANGED));return}this.children.forEach(function(r){var o=r instanceof n&&(!r.displayedChildren||!r.displayedChildren.length);if(!o){var s=r.getColumnGroupShow();switch(s){case"open":t.providedColumnGroup.isExpanded()&&e.displayedChildren.push(r);break;case"closed":t.providedColumnGroup.isExpanded()||e.displayedChildren.push(r);break;default:e.displayedChildren.push(r);break}}}),this.localEventService.dispatchEvent(this.createAgEvent(n.EVENT_DISPLAYED_CHILDREN_CHANGED))},n.EVENT_LEFT_CHANGED="leftChanged",n.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",kD([y("gridOptionsService")],n.prototype,"gridOptionsService",void 0),n}(),C=function(){function n(){}return n.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",n.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",n.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",n.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",n.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",n.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",n.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",n.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",n.EVENT_COLUMN_MOVED="columnMoved",n.EVENT_COLUMN_VISIBLE="columnVisible",n.EVENT_COLUMN_PINNED="columnPinned",n.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",n.EVENT_COLUMN_RESIZED="columnResized",n.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",n.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",n.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",n.EVENT_ROW_GROUP_OPENED="rowGroupOpened",n.EVENT_ROW_DATA_CHANGED="rowDataChanged",n.EVENT_ROW_DATA_UPDATED="rowDataUpdated",n.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",n.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",n.EVENT_CHART_CREATED="chartCreated",n.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",n.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",n.EVENT_CHART_DESTROYED="chartDestroyed",n.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",n.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged",n.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",n.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",n.EVENT_MODEL_UPDATED="modelUpdated",n.EVENT_CUT_START="cutStart",n.EVENT_CUT_END="cutEnd",n.EVENT_PASTE_START="pasteStart",n.EVENT_PASTE_END="pasteEnd",n.EVENT_FILL_START="fillStart",n.EVENT_FILL_END="fillEnd",n.EVENT_RANGE_DELETE_START="rangeDeleteStart",n.EVENT_RANGE_DELETE_END="rangeDeleteEnd",n.EVENT_UNDO_STARTED="undoStarted",n.EVENT_UNDO_ENDED="undoEnded",n.EVENT_REDO_STARTED="redoStarted",n.EVENT_REDO_ENDED="redoEnded",n.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart",n.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd",n.EVENT_CELL_CLICKED="cellClicked",n.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",n.EVENT_CELL_MOUSE_DOWN="cellMouseDown",n.EVENT_CELL_CONTEXT_MENU="cellContextMenu",n.EVENT_CELL_VALUE_CHANGED="cellValueChanged",n.EVENT_CELL_EDIT_REQUEST="cellEditRequest",n.EVENT_ROW_VALUE_CHANGED="rowValueChanged",n.EVENT_CELL_FOCUSED="cellFocused",n.EVENT_CELL_FOCUS_CLEARED="cellFocusCleared",n.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",n.EVENT_ROW_SELECTED="rowSelected",n.EVENT_SELECTION_CHANGED="selectionChanged",n.EVENT_TOOLTIP_SHOW="tooltipShow",n.EVENT_TOOLTIP_HIDE="tooltipHide",n.EVENT_CELL_KEY_DOWN="cellKeyDown",n.EVENT_CELL_MOUSE_OVER="cellMouseOver",n.EVENT_CELL_MOUSE_OUT="cellMouseOut",n.EVENT_FILTER_CHANGED="filterChanged",n.EVENT_FILTER_MODIFIED="filterModified",n.EVENT_FILTER_OPENED="filterOpened",n.EVENT_ADVANCED_FILTER_BUILDER_VISIBLE_CHANGED="advancedFilterBuilderVisibleChanged",n.EVENT_SORT_CHANGED="sortChanged",n.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",n.EVENT_ROW_CLICKED="rowClicked",n.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",n.EVENT_GRID_READY="gridReady",n.EVENT_GRID_PRE_DESTROYED="gridPreDestroyed",n.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",n.EVENT_VIEWPORT_CHANGED="viewportChanged",n.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",n.EVENT_FIRST_DATA_RENDERED="firstDataRendered",n.EVENT_DRAG_STARTED="dragStarted",n.EVENT_DRAG_STOPPED="dragStopped",n.EVENT_CHECKBOX_CHANGED="checkboxChanged",n.EVENT_ROW_EDITING_STARTED="rowEditingStarted",n.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",n.EVENT_CELL_EDITING_STARTED="cellEditingStarted",n.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",n.EVENT_BODY_SCROLL="bodyScroll",n.EVENT_BODY_SCROLL_END="bodyScrollEnd",n.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",n.EVENT_PAGINATION_CHANGED="paginationChanged",n.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",n.EVENT_STORE_REFRESHED="storeRefreshed",n.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",n.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",n.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",n.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",n.EVENT_FLASH_CELLS="flashCells",n.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",n.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",n.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",n.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",n.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",n.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged",n.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged",n.EVENT_ROW_DRAG_ENTER="rowDragEnter",n.EVENT_ROW_DRAG_MOVE="rowDragMove",n.EVENT_ROW_DRAG_LEAVE="rowDragLeave",n.EVENT_ROW_DRAG_END="rowDragEnd",n.EVENT_GRID_STYLES_CHANGED="gridStylesChanged",n.EVENT_POPUP_TO_FRONT="popupToFront",n.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",n.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",n.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",n.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",n.EVENT_KEYBOARD_FOCUS="keyboardFocus",n.EVENT_MOUSE_FOCUS="mouseFocus",n.EVENT_STORE_UPDATED="storeUpdated",n.EVENT_FILTER_DESTROYED="filterDestroyed",n.EVENT_ROW_DATA_UPDATE_STARTED="rowDataUpdateStarted",n.EVENT_ADVANCED_FILTER_ENABLED_CHANGED="advancedFilterEnabledChanged",n.EVENT_DATA_TYPES_INFERRED="dataTypesInferred",n.EVENT_FIELD_VALUE_CHANGED="fieldValueChanged",n.EVENT_FIELD_PICKER_VALUE_SELECTED="fieldPickerValueSelected",n}(),kw=function(){function n(){this.existingIds={}}return n.prototype.getInstanceIdForKey=function(e){var t=this.existingIds[e],i;return typeof t!="number"?i=0:i=t+1,this.existingIds[e]=i,i},n}(),BD=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ad=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},$o="ag-Grid-AutoColumn",jD=function(n){BD(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.createAutoGroupColumns=function(t){var i=this,r=[],o=this.gridOptionsService.is("treeData"),s=this.gridOptionsService.isGroupMultiAutoColumn();return o&&s&&(console.warn('AG Grid: you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data'),s=!1),s?t.forEach(function(a,l){r.push(i.createOneAutoGroupColumn(a,l))}):r.push(this.createOneAutoGroupColumn()),r},e.prototype.updateAutoGroupColumns=function(t){var i=this;t.forEach(function(r,o){return i.updateOneAutoGroupColumn(r,o)})},e.prototype.createOneAutoGroupColumn=function(t,i){var r;t?r=$o+"-"+t.getId():r=$o;var o=this.createAutoGroupColDef(r,t,i);o.colId=r;var s=new Bt(o,null,r,!0);return this.context.createBean(s),s},e.prototype.updateOneAutoGroupColumn=function(t,i){var r=t.getColDef(),o=typeof r.showRowGroup=="string"?r.showRowGroup:void 0,s=o!=null?this.columnModel.getPrimaryColumn(o):void 0,a=this.createAutoGroupColDef(t.getId(),s??void 0,i);t.setColDef(a,null),this.columnFactory.applyColumnState(t,a)},e.prototype.createAutoGroupColDef=function(t,i,r){var o=this.createBaseColDef(i),s=this.gridOptionsService.get("autoGroupColumnDef");if(vi(o,s),o=this.columnFactory.addColumnDefaultAndTypes(o,t),!this.gridOptionsService.is("treeData")){var a=pt(o.field)&&pt(o.valueGetter)&&pt(o.filterValueGetter)&&o.filter!=="agGroupColumnFilter";a&&(o.filter=!1)}r&&r>0&&(o.headerCheckboxSelection=!1);var l=this.gridOptionsService.isColumnsSortingCoupledToGroup(),u=o.valueGetter||o.field!=null;return l&&!u&&(o.sortIndex=void 0,o.initialSort=void 0),o},e.prototype.createBaseColDef=function(t){var i=this.gridOptionsService.get("autoGroupColumnDef"),r=this.localeService.getLocaleTextFunc(),o={headerName:r("group","Group")},s=i&&(i.cellRenderer||i.cellRendererSelector);if(s||(o.cellRenderer="agGroupCellRenderer"),t){var a=t.getColDef();Object.assign(o,{headerName:this.columnModel.getDisplayNameForColumn(t,"header"),headerValueGetter:a.headerValueGetter}),a.cellRenderer&&Object.assign(o,{cellRendererParams:{innerRenderer:a.cellRenderer,innerRendererParams:a.cellRendererParams}}),o.showRowGroup=t.getColId()}else o.showRowGroup=!0;return o},ad([y("columnModel")],e.prototype,"columnModel",void 0),ad([y("columnFactory")],e.prototype,"columnFactory",void 0),e=ad([Z("autoGroupColService")],e),e}(j),WD=/[&<>"']/g,UD={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function zD(n){var e=String.fromCharCode;function t(d){var p=[];if(!d)return[];for(var h=d.length,f=0,g,v;f<h;)g=d.charCodeAt(f++),g>=55296&&g<=56319&&f<h?(v=d.charCodeAt(f++),(v&64512)==56320?p.push(((g&1023)<<10)+(v&1023)+65536):(p.push(g),f--)):p.push(g);return p}function i(d){if(d>=55296&&d<=57343)throw Error("Lone surrogate U+"+d.toString(16).toUpperCase()+" is not a scalar value")}function r(d,p){return e(d>>p&63|128)}function o(d){if(d>=0&&d<=31&&d!==10){var p=d.toString(16).toUpperCase(),h=p.padStart(4,"0");return"_x"+h+"_"}if(!(d&4294967168))return e(d);var f="";return d&4294965248?d&4294901760?d&4292870144||(f=e(d>>18&7|240),f+=r(d,12),f+=r(d,6)):(i(d),f=e(d>>12&15|224),f+=r(d,6)):f=e(d>>6&31|192),f+=e(d&63|128),f}for(var s=t(n),a=s.length,l=-1,u,c="";++l<a;)u=s[l],c+=o(u);return c}function $D(n){return n[0].toUpperCase()+n.substr(1).toLowerCase()}function pe(n,e){if(n==null)return null;var t=n.toString().toString();return e?t:t.replace(WD,function(i){return UD[i]})}function Bw(n){if(!n||n==null)return null;var e=/([a-z])([A-Z])/g,t=/([A-Z]+)([A-Z])([a-z])/g,i=n.replace(e,"$1 $2").replace(t,"$1 $2$3").replace(/\./g," ").split(" ");return i.map(function(r){return r.substring(0,1).toUpperCase()+(r.length>1?r.substring(1,r.length):"")}).join(" ")}function jw(n){return n.replace(/[A-Z]/g,function(e){return"-"+e.toLocaleLowerCase()})}var KD=Object.freeze({__proto__:null,utf8_encode:zD,capitalise:$D,escapeString:pe,camelCaseToHumanText:Bw,camelCaseToHyphenated:jw});function nn(n){var e=new Map;return n.forEach(function(t){return e.set(t[0],t[1])}),e}function YD(n,e){var t=new Map;return n.forEach(function(i){return t.set(e(i),i)}),t}function qD(n){var e=[];return n.forEach(function(t,i){return e.push(i)}),e}var XD=Object.freeze({__proto__:null,convertToMap:nn,mapById:YD,keys:qD}),QD=function(){function n(){}return n.ColDefPropertyMap={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0},n.ALL_PROPERTIES=Object.keys(n.ColDefPropertyMap),n}(),Hr=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},Vr=function(n,e){for(var t=0,i=e.length,r=n.length;t<i;t++,r++)n[r]=e[t];return n},br=function(){function n(){}return n.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","serverSideStoreType","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator"],n.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams"],n.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass"],n.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"],n.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHorizontalScroll","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSelectsChildren","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","excludeHiddenColumnsFromQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDown","enterMovesDownAfterEdit","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","enableChartToolPanelsButton","suppressChartToolPanelsButton","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilteringAlwaysResets","serverSideFilterAllLevels","serverSideSortingAlwaysResets","serverSideSortAllLevels","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","suppressReactUi","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","suppressCutToClipboard","enableAdvancedFilter","includeHiddenColumnsInAdvancedFilter"],n.FUNCTIONAL_PROPERTIES=["doesExternalFilterPass","processSecondaryColDef","processSecondaryColGroupDef","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher"],n.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideStoreParams","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering"],n.FUNCTION_PROPERTIES=Vr(Vr([],Hr(n.FUNCTIONAL_PROPERTIES)),Hr(n.CALLBACK_PROPERTIES)),n.ALL_PROPERTIES=Vr(Vr(Vr(Vr(Vr(Vr([],Hr(n.ARRAY_PROPERTIES)),Hr(n.OBJECT_PROPERTIES)),Hr(n.STRING_PROPERTIES)),Hr(n.NUMBER_PROPERTIES)),Hr(n.FUNCTION_PROPERTIES)),Hr(n.BOOLEAN_PROPERTIES)),n}(),Ip=function(){return Ip=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Ip.apply(this,arguments)},hs=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},fs=function(n,e){for(var t=0,i=e.length,r=n.length;t<i;t++,r++)n[r]=e[t];return n},hn=function(){function n(){}return n.getCallbackForEvent=function(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substr(1)},n.getCoercionLookup=function(){var e={};return fs(fs(fs(fs(fs([],hs(n.ARRAY_PROPERTIES)),hs(n.OBJECT_PROPERTIES)),hs(n.STRING_PROPERTIES)),hs(n.FUNCTION_PROPERTIES)),hs(n.EVENT_CALLBACKS)).forEach(function(t){return e[t]="none"}),n.BOOLEAN_PROPERTIES.forEach(function(t){return e[t]="boolean"}),n.NUMBER_PROPERTIES.forEach(function(t){return e[t]="number"}),e},n.getValue=function(e,t){var i=n.coercionLookup[e];if(i){var r=t;switch(i){case"number":{r=n.toNumber(t);break}case"boolean":{r=n.toBoolean(t);break}case"none":{e==="groupAggFiltering"&&typeof t!="function"&&(r=n.toBoolean(t));break}}return r}},n.getGridOptionKeys=function(e,t){return Object.keys(t?n.coercionLookup:e)},n.copyAttributesToGridOptions=function(e,t,i){i===void 0&&(i=!1),typeof e!="object"&&(e={});var r=e,o=n.getGridOptionKeys(t,i);return o.forEach(function(s){var a=t[s];if(typeof a<"u"){var l=n.getValue(s,a);l!==void 0&&(r[s]=l)}}),e},n.processOnChange=function(e,t){var i=this;if(!(!e||Object.keys(e).length===0)){this.changeSetId++;var r=Ip({},e);r.columnTypes&&(t.setColumnTypes(r.columnTypes.currentValue,"gridOptionsChanged"),delete r.columnTypes),r.autoGroupColumnDef&&(t.setAutoGroupColumnDef(r.autoGroupColumnDef.currentValue,"gridOptionsChanged"),delete r.autoGroupColumnDef),r.defaultColDef&&(t.setDefaultColDef(r.defaultColDef.currentValue,"gridOptionsChanged"),delete r.defaultColDef),r.columnDefs&&(t.setColumnDefs(r.columnDefs.currentValue,"gridOptionsChanged"),delete r.columnDefs);var o=Object.keys(r).map(function(l){var u=l,c=n.getValue(u,r[u].currentValue),d=t.__setPropertyOnly(u,c);return{gridKey:u,coercedValue:c,isChanged:d}}).filter(function(l){return l.isChanged}),s=o.map(function(l){return l.gridKey});o.forEach(function(l){return t.__updateProperty(l.gridKey,l.coercedValue,l.isChanged,{id:i.changeSetId,properties:s})});var a={type:C.EVENT_COMPONENT_STATE_CHANGED};Xt(e,function(l,u){a[l]=u}),t.dispatchEvent(a)}},n.toBoolean=function(e){return typeof e=="boolean"?e:typeof e=="string"?e.toUpperCase()==="TRUE"||e=="":!1},n.toNumber=function(e){if(typeof e=="number")return e;if(typeof e=="string")return Number(e)},n.EVENTS=Xn(C),n.EXCLUDED_INTERNAL_EVENTS=[C.EVENT_SCROLLBAR_WIDTH_CHANGED,C.EVENT_CHECKBOX_CHANGED,C.EVENT_HEIGHT_SCALE_CHANGED,C.EVENT_BODY_HEIGHT_CHANGED,C.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,C.EVENT_SCROLL_VISIBILITY_CHANGED,C.EVENT_COLUMN_HOVER_CHANGED,C.EVENT_FLASH_CELLS,C.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,C.EVENT_DISPLAYED_ROWS_CHANGED,C.EVENT_LEFT_PINNED_WIDTH_CHANGED,C.EVENT_RIGHT_PINNED_WIDTH_CHANGED,C.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,C.EVENT_POPUP_TO_FRONT,C.EVENT_KEYBOARD_FOCUS,C.EVENT_MOUSE_FOCUS,C.EVENT_STORE_UPDATED,C.EVENT_COLUMN_PANEL_ITEM_DRAG_START,C.EVENT_COLUMN_PANEL_ITEM_DRAG_END,C.EVENT_FILL_START,C.EVENT_FILL_END,C.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,C.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,C.EVENT_FULL_WIDTH_ROW_FOCUSED,C.EVENT_HEADER_HEIGHT_CHANGED,C.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,C.EVENT_CELL_FOCUS_CLEARED,C.EVENT_GRID_STYLES_CHANGED,C.EVENT_FILTER_DESTROYED,C.EVENT_ROW_DATA_UPDATE_STARTED,C.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,C.EVENT_DATA_TYPES_INFERRED,C.EVENT_FIELD_VALUE_CHANGED,C.EVENT_FIELD_PICKER_VALUE_SELECTED],n.PUBLIC_EVENTS=n.EVENTS.filter(function(e){return!xi(n.EXCLUDED_INTERNAL_EVENTS,e)}),n.EVENT_CALLBACKS=n.EVENTS.map(function(e){return n.getCallbackForEvent(e)}),n.STRING_PROPERTIES=br.STRING_PROPERTIES,n.OBJECT_PROPERTIES=br.OBJECT_PROPERTIES,n.ARRAY_PROPERTIES=br.ARRAY_PROPERTIES,n.NUMBER_PROPERTIES=br.NUMBER_PROPERTIES,n.BOOLEAN_PROPERTIES=br.BOOLEAN_PROPERTIES,n.FUNCTION_PROPERTIES=br.FUNCTION_PROPERTIES,n.ALL_PROPERTIES=br.ALL_PROPERTIES,n.ALL_PROPERTIES_SET=new Set(br.ALL_PROPERTIES),n.changeSetId=0,n.coercionLookup=n.getCoercionLookup(),n}(),JD=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function Ww(n,e,t){var i={},r=n.filter(function(o){return!e.some(function(s){return s===o})});return r.length>0&&r.forEach(function(o){return i[o]=Ga(o,t).values}),i}function Ga(n,e,t,i){var r,o,s=e.map(function(f,g){return{value:f,relevance:ZD(n.toLowerCase(),f.toLocaleLowerCase()),idx:g}});if(s.sort(function(f,g){return g.relevance-f.relevance}),t&&(s=s.filter(function(f){return f.relevance!==0})),s.length>0&&i&&i>0){var a=s[0].relevance,l=a*i;s=s.filter(function(f){return l-f.relevance<0})}var u=[],c=[];try{for(var d=JD(s),p=d.next();!p.done;p=d.next()){var h=p.value;u.push(h.value),c.push(h.idx)}}catch(f){r={error:f}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}return{values:u,indices:c}}function ZD(n,e){for(var t=n.replace(/\s/g,""),i=e.replace(/\s/g,""),r=0,o=-1,s=0;s<t.length;s++){var a=i.indexOf(t[s],o+1);a!==-1&&(o=a,r+=100-o*100/1e4*100)}return r}var tA=Object.freeze({__proto__:null,fuzzyCheckStrings:Ww,fuzzySuggestions:Ga}),ll=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},kr=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},Br=function(n,e){for(var t=0,i=e.length,r=n.length;t<i;t++,r++)n[r]=e[t];return n};function bi(n,e,t,i){var r=t?"Please use '"+t+"' instead. ":"";bt(function(){return console.warn("AG Grid: since v"+n+", '"+e+"' is deprecated. "+r+(i??""))},"Deprecated_"+e)}var Kv=["__ob__","__v_skip","__metadata__"],eA=function(){function n(){this.deprecatedProperties={rememberGroupStateWhenNewData:{version:"24",message:"Now that transaction updates are possible and they keep group state, this feature is no longer needed."},serverSideFilteringAlwaysResets:{version:"28.0",newProp:"serverSideOnlyRefreshFilteredGroups",copyToNewProp:!0},serverSideSortingAlwaysResets:{version:"28.0",newProp:"serverSideSortAllLevels",copyToNewProp:!0},suppressReactUi:{version:"28",message:"The legacy React rendering engine is deprecated and will be removed in the next major version of the grid."},processSecondaryColDef:{version:"28",newProp:"processPivotResultColDef",copyToNewProp:!0},processSecondaryColGroupDef:{version:"28",newProp:"processPivotResultColGroupDef",copyToNewProp:!0},getServerSideStoreParams:{version:"28",newProp:"getServerSideGroupLevelParams",copyToNewProp:!0},serverSideInfiniteScroll:{version:"29",message:"Infinite Scrolling is now the default behaviour. This can be suppressed with `suppressServerSideInfiniteScroll`."},enableChartToolPanelsButton:{version:"29",message:"The Chart Tool Panels button is now enabled by default. To hide the Chart Tool Panels button and display the hamburger button instead, set suppressChartToolPanelsButton=true."},functionsPassive:{version:"29.2"},onColumnRowGroupChangeRequest:{version:"29.2"},onColumnPivotChangeRequest:{version:"29.2"},onColumnValueChangeRequest:{version:"29.2"},onColumnAggFuncChangeRequest:{version:"29.2"},serverSideFilterAllLevels:{version:"30",message:"All server-side group levels are now filtered by default. This can be toggled using `serverSideOnlyRefreshFilteredGroups`."},suppressAggAtRootLevel:{version:"30",message:"The root level aggregation is now suppressed by default. This can be toggled using  `alwaysAggregateAtRootLevel`."},excludeHiddenColumnsFromQuickFilter:{version:"30",message:"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `includeHiddenColumnsInQuickFilter`."},enterMovesDown:{version:"30",newProp:"enterNavigatesVertically",copyToNewProp:!0},enterMovesDownAfterEdit:{version:"30",newProp:"enterNavigatesVerticallyAfterEdit",copyToNewProp:!0},suppressParentsInRowNodes:{version:"30.2",message:"Using suppressParentsInRowNodes is no longer recommended. To serialize nodes it is now recommended to instead remove the parent node reference before serialization."}}}return n.prototype.pickOneWarning=function(e,t){console.warn("AG Grid: "+e+" and "+t+" do not work with each other, you need to pick one.")},n.prototype.init=function(){var e=this;if(this.checkForDeprecated(),this.checkForViolations(),this.gridOptions.suppressPropertyNamesCheck!==!0&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),this.checkColumnDefViolations(),this.gridOptionsService.is("groupSelectsChildren")&&this.gridOptionsService.is("suppressParentsInRowNodes")&&console.warn("AG Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.gridOptionsService.is("groupSelectsChildren")&&this.gridOptionsService.get("rowSelection")!=="multiple"&&console.warn("AG Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.gridOptionsService.is("groupRemoveSingleChildren")&&this.gridOptionsService.is("groupHideOpenParents")&&this.pickOneWarning("groupRemoveSingleChildren","groupHideOpenParents"),this.gridOptionsService.isRowModelType("serverSide")){var t=function(r,o){return"AG Grid: '"+r+"' is not supported on the Server-Side Row Model."+(o?" Please use "+o+" instead.":"")};this.gridOptionsService.exists("groupDefaultExpanded")&&console.warn(t("groupDefaultExpanded","isServerSideGroupOpenByDefault callback")),this.gridOptionsService.exists("groupIncludeFooter")&&this.gridOptionsService.is("suppressServerSideInfiniteScroll")&&console.warn(t("groupIncludeFooter")),this.gridOptionsService.exists("groupIncludeTotalFooter")&&console.warn(t("groupIncludeTotalFooter"))}this.gridOptionsService.is("enableRangeSelection")?ft.__assertRegistered(tt.RangeSelectionModule,"enableRangeSelection",this.gridOptionsService.getGridId()):(this.gridOptionsService.is("enableRangeHandle")||this.gridOptionsService.is("enableFillHandle"))&&console.warn("AG Grid: 'enableRangeHandle' or 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true");var i=function(r,o){return e.gridOptionsService.exists(r)&&ft.__assertRegistered(o,r,e.gridOptionsService.getGridId())};i("sideBar",tt.SideBarModule),i("statusBar",tt.StatusBarModule),i("enableCharts",tt.GridChartsModule),i("getMainMenuItems",tt.MenuModule),i("getContextMenuItems",tt.MenuModule),i("allowContextMenuWithControlKey",tt.MenuModule),i("enableAdvancedFilter",tt.AdvancedFilterModule),i("treeData",tt.RowGroupingModule),i("enableRangeSelection",tt.RangeSelectionModule),i("masterDetail",tt.MasterDetailModule)},n.prototype.checkColumnDefProperties=function(){var e=this;if(this.gridOptions.columnDefs!=null){var t=QD.ALL_PROPERTIES,i=function(r,o){var s=Object.getOwnPropertyNames(r);e.checkProperties(s,Br(Br([],kr(t)),kr(Kv)),t,o,"https://www.ag-grid.com/javascript-data-grid/column-properties/"),r.children&&r.children.forEach(function(a){return i(a,"columnDefs.children")})};this.gridOptions.columnDefs.forEach(function(r){return i(r,"columnDefs")}),this.gridOptions.defaultColDef&&i(this.gridOptions.defaultColDef,"defaultColDef")}},n.prototype.checkColumnDefViolations=function(){var e,t=(e=this.gridOptionsService.get("rowModelType"))!==null&&e!==void 0?e:"clientSide",i={infinite:["headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],viewport:["headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],serverSide:["headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],clientSide:[]},r=i[t];if(r){var o=this.gridOptionsService.get("rowSelection")==="multiple",s=["headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],a=function(l){o||s.forEach(function(u){u in l&&l[u]&&console.warn("AG Grid: Column property "+u+" is not supported unless rowSelection='multiple'.")}),r.forEach(function(u){u in l&&l[u]&&console.warn("AG Grid: Column property "+u+" is not supported with the row model type "+t+".")})};this.gridOptions.columnDefs!=null&&this.gridOptions.columnDefs.forEach(function(l){return a(l)}),this.gridOptions.autoGroupColumnDef!=null&&a(this.gridOptions.autoGroupColumnDef),this.gridOptions.defaultColDef!=null&&a(this.gridOptions.defaultColDef)}},n.prototype.checkGridOptionsProperties=function(){var e=Object.getOwnPropertyNames(this.gridOptions),t=Br(Br([],kr(br.ALL_PROPERTIES)),kr(hn.EVENT_CALLBACKS)),i=Br(Br(Br(Br([],kr(t)),["api","columnApi"]),kr(Kv)),kr(Object.keys(this.deprecatedProperties)));this.checkProperties(e,i,t,"gridOptions","https://www.ag-grid.com/javascript-data-grid/grid-options/")},n.prototype.checkProperties=function(e,t,i,r,o){var s=Ww(e,t,i);Xt(s,function(a,l){bt(function(){return console.warn("AG Grid: invalid "+r+" property '"+a+"' did you mean any of these: "+l.slice(0,8).join(", "))},"invalidProperty"+r+a)}),Object.keys(s).length>0&&bt(function(){return console.warn("AG Grid: to see all the valid "+r+" properties please check: "+o)},"invalidProperties"+r+o)},n.prototype.checkForDeprecated=function(){var e=this.gridOptions;Object.entries(this.deprecatedProperties).forEach(function(t){var i,r=kr(t,2),o=r[0],s=r[1],a=e[o];a&&(bi(s.version,o,s.newProp,s.message),s.copyToNewProp&&s.newProp&&e[s.newProp]==null&&(e[s.newProp]=(i=s.newPropValue)!==null&&i!==void 0?i:a))}),e.serverSideStoreType&&(console.warn("AG Grid: since v29.0, `serverSideStoreType` has been replaced by `suppressServerSideInfiniteScroll`. Set to false to use Partial Store, and true to use Full Store."),e.suppressServerSideInfiniteScroll=e.serverSideStoreType!=="partial")},n.prototype.checkForViolations=function(){this.gridOptionsService.is("treeData")&&this.treeDataViolations()},n.prototype.treeDataViolations=function(){this.gridOptionsService.isRowModelType("clientSide")&&(this.gridOptionsService.exists("getDataPath")||console.warn("AG Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data.")),this.gridOptionsService.isRowModelType("serverSide")&&(this.gridOptionsService.exists("isServerSideGroup")||console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),this.gridOptionsService.exists("getServerSideGroupKey")||console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))},ll([y("gridOptions")],n.prototype,"gridOptions",void 0),ll([y("gridOptionsService")],n.prototype,"gridOptionsService",void 0),ll([U],n.prototype,"init",null),n=ll([Z("gridOptionsValidator")],n),n}();function Np(n,e){var t=["groupRows","multipleColumns","custom","singleColumn"];return t.indexOf(e)<0?(console.warn("AG Grid: '"+e+"' is not a valid groupDisplayType value - possible values are: '"+t.join("', '")+"'"),!1):e===n}function iA(n,e){var t=["auto","custom"];return t.indexOf(e)<0?(console.warn("AG Grid: '"+e+"' is not a valid treeDataDisplayType value - possible values are: '"+t.join("', '")+"'"),!1):e===n}var rA=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Re=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},nA=function(n,e){return function(t,i){e(t,i,n)}},oA=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t},Li=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},Ii=function(n,e){for(var t=0,i=e.length,r=n.length;t<i;t++,r++)n[r]=e[t];return n},Yv=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},sA=function(n){rA(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.primaryHeaderRowCount=0,t.secondaryHeaderRowCount=0,t.gridHeaderRowCount=0,t.displayedColumnsLeft=[],t.displayedColumnsRight=[],t.displayedColumnsCenter=[],t.displayedColumns=[],t.displayedColumnsAndGroupsMap={},t.viewportColumns=[],t.viewportColumnsHash="",t.headerViewportColumns=[],t.viewportColumnsCenter=[],t.headerViewportColumnsCenter=[],t.autoHeightActiveAtLeastOnce=!1,t.rowGroupColumns=[],t.valueColumns=[],t.pivotColumns=[],t.ready=!1,t.autoGroupsNeedBuilding=!1,t.forceRecreateAutoGroups=!1,t.pivotMode=!1,t.bodyWidth=0,t.leftWidth=0,t.rightWidth=0,t.bodyWidthDirty=!0,t.shouldQueueResizeOperations=!1,t.resizeOperationQueue=[],t}return e.prototype.init=function(){var t=this;this.suppressColumnVirtualisation=this.gridOptionsService.is("suppressColumnVirtualisation");var i=this.gridOptionsService.is("pivotMode");this.isPivotSettingAllowed(i)&&(this.pivotMode=i),this.addManagedPropertyListeners(["groupDisplayType","treeData"],function(){return t.buildAutoGroupColumns()}),this.addManagedPropertyListener("autoGroupColumnDef",function(){return t.onAutoGroupColumnDefChanged()}),this.addManagedPropertyListener("defaultColDef",function(r){return t.onSharedColDefChanged(r.source)}),this.addManagedPropertyListener("columnTypes",function(r){return t.onSharedColDefChanged(r.source)})},e.prototype.buildAutoGroupColumns=function(){this.columnDefs&&(this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged"))},e.prototype.onAutoGroupColumnDefChanged=function(){this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns)},e.prototype.onSharedColDefChanged=function(t){t===void 0&&(t="api"),this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns),this.createColumnsFromColumnDefs(!0,t)},e.prototype.setColumnDefs=function(t,i){i===void 0&&(i="api");var r=!!this.columnDefs;this.columnDefs=t,this.createColumnsFromColumnDefs(r,i)},e.prototype.recreateColumnDefs=function(t){t===void 0&&(t="api"),this.onSharedColDefChanged(t)},e.prototype.destroyOldColumns=function(t,i){var r={};if(t){this.columnUtils.depthFirstOriginalTreeSearch(null,t,function(s){r[s.getInstanceId()]=s}),i&&this.columnUtils.depthFirstOriginalTreeSearch(null,i,function(s){r[s.getInstanceId()]=null});var o=Object.values(r).filter(function(s){return s!=null});this.destroyBeans(o)}},e.prototype.destroyColumns=function(){this.destroyOldColumns(this.primaryColumnTree),this.destroyOldColumns(this.secondaryBalancedTree),this.destroyOldColumns(this.groupAutoColsBalancedTree)},e.prototype.createColumnsFromColumnDefs=function(t,i){var r=this;i===void 0&&(i="api");var o=t?this.compareColumnStatesAndDispatchEvents(i):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var s=this.primaryColumns,a=this.primaryColumnTree,l=this.columnFactory.createColumnTree(this.columnDefs,!0,a);this.destroyOldColumns(this.primaryColumnTree,l.columnTree),this.primaryColumnTree=l.columnTree,this.primaryHeaderRowCount=l.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(function(d){return r.primaryColumnsMap[d.getId()]=d}),this.extractRowGroupColumns(i,s),this.extractPivotColumns(i,s),this.extractValueColumns(i,s),this.ready=!0;var u=this.gridColsArePrimary===void 0,c=this.gridColsArePrimary||u||this.autoGroupsNeedBuilding;c&&(this.updateGridColumns(),t&&this.gridColsArePrimary&&!this.gridOptionsService.is("maintainColumnOrder")&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(i),this.checkViewportColumns()),this.dispatchEverythingChanged(i),o&&o(),this.dispatchNewColumnsLoaded(i)},e.prototype.dispatchNewColumnsLoaded=function(t){var i={type:C.EVENT_NEW_COLUMNS_LOADED,source:t};this.eventService.dispatchEvent(i)},e.prototype.dispatchEverythingChanged=function(t){t===void 0&&(t="api");var i={type:C.EVENT_COLUMN_EVERYTHING_CHANGED,source:t};this.eventService.dispatchEvent(i)},e.prototype.orderGridColumnsLikePrimary=function(){var t=this,i=this.primaryColumns;if(i){var r=i.filter(function(s){return t.gridColumns.indexOf(s)>=0}),o=this.gridColumns.filter(function(s){return r.indexOf(s)<0});this.gridColumns=Ii(Ii([],Li(o)),Li(r)),this.gridColumns=this.placeLockedColumns(this.gridColumns)}},e.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},e.prototype.setViewport=function(){this.gridOptionsService.is("enableRtl")?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},e.prototype.getDisplayedColumnsStartingAt=function(t){for(var i=t,r=[];i!=null;)r.push(i),i=this.getDisplayedColAfter(i);return r},e.prototype.checkViewportColumns=function(t){if(t===void 0&&(t=!1),this.displayedColumnsCenter!=null){var i=this.extractViewport();if(i){var r={type:C.EVENT_VIRTUAL_COLUMNS_CHANGED,afterScroll:t};this.eventService.dispatchEvent(r)}}},e.prototype.setViewportPosition=function(t,i,r){r===void 0&&(r=!1),(t!==this.scrollWidth||i!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=t,this.scrollPosition=i,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns(r))},e.prototype.isPivotMode=function(){return this.pivotMode},e.prototype.isPivotSettingAllowed=function(t){return t&&this.gridOptionsService.is("treeData")?(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1):!0},e.prototype.setPivotMode=function(t,i){if(i===void 0&&(i="api"),!(t===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode))){this.pivotMode=t,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(i);var r={type:C.EVENT_COLUMN_PIVOT_MODE_CHANGED};this.eventService.dispatchEvent(r)}},e.prototype.getSecondaryPivotColumn=function(t,i){if(pt(this.secondaryColumns))return null;var r=this.getPrimaryColumn(i),o=null;return this.secondaryColumns.forEach(function(s){var a=s.getColDef().pivotKeys,l=s.getColDef().pivotValueColumn,u=ln(a,t),c=l===r;u&&c&&(o=s)}),o},e.prototype.setBeans=function(t){this.logger=t.create("columnModel")},e.prototype.setFirstRightAndLastLeftPinned=function(t){var i,r;this.gridOptionsService.is("enableRtl")?(i=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,r=this.displayedColumnsRight?Vt(this.displayedColumnsRight):null):(i=this.displayedColumnsLeft?Vt(this.displayedColumnsLeft):null,r=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(function(o){o.setLastLeftPinned(o===i,t),o.setFirstRightPinned(o===r,t)})},e.prototype.autoSizeColumns=function(t){var i=this;if(this.shouldQueueResizeOperations){this.resizeOperationQueue.push(function(){return i.autoSizeColumns(t)});return}var r=t.columns,o=t.skipHeader,s=t.skipHeaderGroups,a=t.stopAtGroup,l=t.source,u=l===void 0?"api":l;this.animationFrameService.flushAllFrames();for(var c=[],d=-1,p=o??this.gridOptionsService.is("skipHeaderOnAutoSize"),h=s??p;d!==0;)d=0,this.actionOnGridColumns(r,function(f){if(c.indexOf(f)>=0)return!1;var g=i.autoWidthCalculator.getPreferredWidthForColumn(f,p);if(g>0){var v=i.normaliseColumnWidth(f,g);f.setActualWidth(v,u),c.push(f),d++}return!0},u);h||this.autoSizeColumnGroupsByColumns(r,u,a),this.dispatchColumnResizedEvent(c,!0,"autosizeColumns")},e.prototype.dispatchColumnResizedEvent=function(t,i,r,o){if(o===void 0&&(o=null),t&&t.length){var s={type:C.EVENT_COLUMN_RESIZED,columns:t,column:t.length===1?t[0]:null,flexColumns:o,finished:i,source:r};this.eventService.dispatchEvent(s)}},e.prototype.dispatchColumnChangedEvent=function(t,i,r){var o={type:t,columns:i,column:i&&i.length==1?i[0]:null,source:r};this.eventService.dispatchEvent(o)},e.prototype.dispatchColumnMovedEvent=function(t){var i=t.movedColumns,r=t.source,o=t.toIndex,s=t.finished,a={type:C.EVENT_COLUMN_MOVED,columns:i,column:i&&i.length===1?i[0]:null,toIndex:o,finished:s,source:r};this.eventService.dispatchEvent(a)},e.prototype.dispatchColumnPinnedEvent=function(t,i){if(t.length){var r=t.length===1?t[0]:null,o=this.getCommonValue(t,function(a){return a.getPinned()}),s={type:C.EVENT_COLUMN_PINNED,pinned:o??null,columns:t,column:r,source:i};this.eventService.dispatchEvent(s)}},e.prototype.dispatchColumnVisibleEvent=function(t,i){if(t.length){var r=t.length===1?t[0]:null,o=this.getCommonValue(t,function(a){return a.isVisible()}),s={type:C.EVENT_COLUMN_VISIBLE,visible:o,columns:t,column:r,source:i};this.eventService.dispatchEvent(s)}},e.prototype.autoSizeColumn=function(t,i,r){r===void 0&&(r="api"),t&&this.autoSizeColumns({columns:[t],skipHeader:i,skipHeaderGroups:!0,source:r})},e.prototype.autoSizeColumnGroupsByColumns=function(t,i,r){var o,s,a,l,u=new Set,c=this.getGridColumns(t);c.forEach(function(b){for(var E=b.getParent();E&&E!=r;)E.isPadding()||u.add(E),E=E.getParent()});var d,p=[];try{for(var h=Yv(u),f=h.next();!f.done;f=h.next()){var g=f.value;try{for(var v=(a=void 0,Yv(this.ctrlsService.getHeaderRowContainerCtrls())),m=v.next();!m.done;m=v.next()){var w=m.value;if(d=w.getHeaderCtrlForColumn(g),d)break}}catch(b){a={error:b}}finally{try{m&&!m.done&&(l=v.return)&&l.call(v)}finally{if(a)throw a.error}}d&&d.resizeLeafColumnsToFit(i)}}catch(b){o={error:b}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(o)throw o.error}}return p},e.prototype.autoSizeAllColumns=function(t,i){var r=this;if(i===void 0&&(i="api"),this.shouldQueueResizeOperations){this.resizeOperationQueue.push(function(){return r.autoSizeAllColumns(t,i)});return}var o=this.getAllDisplayedColumns();this.autoSizeColumns({columns:o,skipHeader:t,source:i})},e.prototype.getColumnsFromTree=function(t){var i=[],r=function(o){for(var s=0;s<o.length;s++){var a=o[s];a instanceof Bt?i.push(a):a instanceof oe&&r(a.getChildren())}};return r(t),i},e.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},e.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},e.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},e.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},e.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},e.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},e.prototype.isColumnDisplayed=function(t){return this.getAllDisplayedColumns().indexOf(t)>=0},e.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},e.prototype.getViewportColumns=function(){return this.viewportColumns},e.prototype.getDisplayedLeftColumnsForRow=function(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedColumnsLeft):this.displayedColumnsLeft},e.prototype.getDisplayedRightColumnsForRow=function(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedColumnsRight):this.displayedColumnsRight},e.prototype.isColSpanActive=function(){return this.colSpanActive},e.prototype.getDisplayedColumnsForRow=function(t,i,r,o){for(var s=[],a=null,l=function(d){var p=i[d],h=i.length-d,f=Math.min(p.getColSpan(t),h),g=[p];if(f>1){for(var v=f-1,m=1;m<=v;m++)g.push(i[d+m]);d+=v}var w;if(r?(w=!1,g.forEach(function(E){r(E)&&(w=!0)})):w=!0,w){if(s.length===0&&a){var b=o?o(p):!1;b&&s.push(a)}s.push(p)}a=p,u=d},u,c=0;c<i.length;c++)l(c),c=u;return s},e.prototype.getViewportCenterColumnsForRow=function(t){var i=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var r=function(s){var a=s.getLeft();return N(a)&&a>i.viewportLeft},o=this.suppressColumnVirtualisation?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(t,this.displayedColumnsCenter,o,r)},e.prototype.getAriaColumnIndex=function(t){return this.getAllGridColumns().indexOf(t)+1},e.prototype.isColumnInHeaderViewport=function(t){return t.isAutoHeaderHeight()?!0:this.isColumnInRowViewport(t)},e.prototype.isColumnInRowViewport=function(t){if(t.isAutoHeight())return!0;var i=t.getLeft()||0,r=i+t.getActualWidth(),o=this.viewportLeft-200,s=this.viewportRight+200,a=i<o&&r<o,l=i>s&&r>s;return!a&&!l},e.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},e.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},e.prototype.updatePrimaryColumnList=function(t,i,r,o,s,a){var l=this;if(a===void 0&&(a="api"),!(!t||hi(t))){var u=!1;if(t.forEach(function(d){var p=l.getPrimaryColumn(d);if(p){if(r){if(i.indexOf(p)>=0)return;i.push(p)}else{if(i.indexOf(p)<0)return;pi(i,p)}o(p),u=!0}}),!!u){this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(a);var c={type:s,columns:i,column:i.length===1?i[0]:null,source:a};this.eventService.dispatchEvent(c)}}},e.prototype.setRowGroupColumns=function(t,i){i===void 0&&(i="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(t,this.rowGroupColumns,C.EVENT_COLUMN_ROW_GROUP_CHANGED,!0,this.setRowGroupActive.bind(this),i)},e.prototype.setRowGroupActive=function(t,i,r){t!==i.isRowGroupActive()&&(i.setRowGroupActive(t,r),t&&!this.gridOptionsService.is("suppressRowGroupHidesColumns")&&this.setColumnVisible(i,!1,r),!t&&!this.gridOptionsService.is("suppressMakeColumnVisibleAfterUnGroup")&&this.setColumnVisible(i,!0,r))},e.prototype.addRowGroupColumn=function(t,i){i===void 0&&(i="api"),t&&this.addRowGroupColumns([t],i)},e.prototype.addRowGroupColumns=function(t,i){i===void 0&&(i="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),C.EVENT_COLUMN_ROW_GROUP_CHANGED,i)},e.prototype.removeRowGroupColumns=function(t,i){i===void 0&&(i="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),C.EVENT_COLUMN_ROW_GROUP_CHANGED,i)},e.prototype.removeRowGroupColumn=function(t,i){i===void 0&&(i="api"),t&&this.removeRowGroupColumns([t],i)},e.prototype.addPivotColumns=function(t,i){i===void 0&&(i="api"),this.updatePrimaryColumnList(t,this.pivotColumns,!0,function(r){return r.setPivotActive(!0,i)},C.EVENT_COLUMN_PIVOT_CHANGED,i)},e.prototype.setPivotColumns=function(t,i){i===void 0&&(i="api"),this.setPrimaryColumnList(t,this.pivotColumns,C.EVENT_COLUMN_PIVOT_CHANGED,!0,function(r,o){o.setPivotActive(r,i)},i)},e.prototype.addPivotColumn=function(t,i){i===void 0&&(i="api"),this.addPivotColumns([t],i)},e.prototype.removePivotColumns=function(t,i){i===void 0&&(i="api"),this.updatePrimaryColumnList(t,this.pivotColumns,!1,function(r){return r.setPivotActive(!1,i)},C.EVENT_COLUMN_PIVOT_CHANGED,i)},e.prototype.removePivotColumn=function(t,i){i===void 0&&(i="api"),this.removePivotColumns([t],i)},e.prototype.setPrimaryColumnList=function(t,i,r,o,s,a){var l=this,u=new Map;i.forEach(function(c,d){return u.set(c,d)}),i.length=0,N(t)&&t.forEach(function(c){var d=l.getPrimaryColumn(c);d&&i.push(d)}),i.forEach(function(c,d){var p=u.get(c);if(p===void 0){u.set(c,0);return}o&&p!==d||u.delete(c)}),(this.primaryColumns||[]).forEach(function(c){var d=i.indexOf(c)>=0;s(d,c)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(a),this.dispatchColumnChangedEvent(r,Ii([],Li(u.keys())),a)},e.prototype.setValueColumns=function(t,i){i===void 0&&(i="api"),this.setPrimaryColumnList(t,this.valueColumns,C.EVENT_COLUMN_VALUE_CHANGED,!1,this.setValueActive.bind(this),i)},e.prototype.setValueActive=function(t,i,r){if(t!==i.isValueActive()&&(i.setValueActive(t,r),t&&!i.getAggFunc())){var o=this.aggFuncService.getDefaultAggFunc(i);i.setAggFunc(o)}},e.prototype.addValueColumns=function(t,i){i===void 0&&(i="api"),this.updatePrimaryColumnList(t,this.valueColumns,!0,this.setValueActive.bind(this,!0),C.EVENT_COLUMN_VALUE_CHANGED,i)},e.prototype.addValueColumn=function(t,i){i===void 0&&(i="api"),t&&this.addValueColumns([t],i)},e.prototype.removeValueColumn=function(t,i){i===void 0&&(i="api"),this.removeValueColumns([t],i)},e.prototype.removeValueColumns=function(t,i){i===void 0&&(i="api"),this.updatePrimaryColumnList(t,this.valueColumns,!1,this.setValueActive.bind(this,!1),C.EVENT_COLUMN_VALUE_CHANGED,i)},e.prototype.normaliseColumnWidth=function(t,i){var r=t.getMinWidth();N(r)&&i<r&&(i=r);var o=t.getMaxWidth();return N(o)&&t.isGreaterThanMax(i)&&(i=o),i},e.prototype.getPrimaryOrGridColumn=function(t){var i=this.getPrimaryColumn(t);return i||this.getGridColumn(t)},e.prototype.setColumnWidths=function(t,i,r,o){var s=this;o===void 0&&(o="api");var a=[];t.forEach(function(l){var u=s.getPrimaryOrGridColumn(l.key);if(u){a.push({width:l.newWidth,ratios:[1],columns:[u]});var c=s.gridOptionsService.get("colResizeDefault")==="shift";if(c&&(i=!i),i){var d=s.getDisplayedColAfter(u);if(!d)return;var p=u.getActualWidth()-l.newWidth,h=d.getActualWidth()+p;a.push({width:h,ratios:[1],columns:[d]})}}}),a.length!==0&&this.resizeColumnSets({resizeSets:a,finished:r,source:o})},e.prototype.checkMinAndMaxWidthsForSet=function(t){var i=t.columns,r=t.width,o=0,s=0,a=!0;i.forEach(function(c){var d=c.getMinWidth();o+=d||0;var p=c.getMaxWidth();N(p)&&p>0?s+=p:a=!1});var l=r>=o,u=!a||r<=s;return l&&u},e.prototype.resizeColumnSets=function(t){var i=this,r=t.resizeSets,o=t.finished,s=t.source,a=!r||r.every(function(f){return i.checkMinAndMaxWidthsForSet(f)});if(!a){if(o){var l=r&&r.length>0?r[0].columns:null;this.dispatchColumnResizedEvent(l,o,s)}return}var u=[],c=[];r.forEach(function(f){var g=f.width,v=f.columns,m=f.ratios,w={},b={};v.forEach(function(D){return c.push(D)});for(var E=!0,O=0,P=function(){if(O++,O>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";E=!1;var D=[],F=0,V=g;v.forEach(function(G,lt){var yt=b[G.getId()];if(yt)V-=w[G.getId()];else{D.push(G);var ut=m[lt];F+=ut}});var B=1/F;D.forEach(function(G,lt){var yt=lt===D.length-1,ut;yt?ut=V:(ut=Math.round(m[lt]*g*B),V-=ut);var it=G.getMinWidth(),J=G.getMaxWidth();N(it)&&ut<it?(ut=it,b[G.getId()]=!0,E=!0):N(J)&&J>0&&ut>J&&(ut=J,b[G.getId()]=!0,E=!0),w[G.getId()]=ut})};E;){var M=P();if(M==="break")break}v.forEach(function(D){var F=w[D.getId()],V=D.getActualWidth();V!==F&&(D.setActualWidth(F,s),u.push(D))})});var d=u.length>0,p=[];d&&(p=this.refreshFlexedColumns({resizingCols:c,skipSetLeft:!0}),this.setLeftValues(s),this.updateBodyWidths(),this.checkViewportColumns());var h=c.concat(p);(d||o)&&this.dispatchColumnResizedEvent(h,o,s,p)},e.prototype.setColumnAggFunc=function(t,i,r){if(r===void 0&&(r="api"),!!t){var o=this.getPrimaryColumn(t);o&&(o.setAggFunc(i),this.dispatchColumnChangedEvent(C.EVENT_COLUMN_VALUE_CHANGED,[o],r))}},e.prototype.moveRowGroupColumn=function(t,i,r){r===void 0&&(r="api");var o=this.rowGroupColumns[t],s=this.rowGroupColumns.slice(t,i);this.rowGroupColumns.splice(t,1),this.rowGroupColumns.splice(i,0,o);var a={type:C.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:s,column:s.length===1?s[0]:null,source:r};this.eventService.dispatchEvent(a)},e.prototype.moveColumns=function(t,i,r,o){if(r===void 0&&(r="api"),o===void 0&&(o=!0),this.columnAnimationService.start(),i>this.gridColumns.length-t.length){console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+i),console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");return}var s=this.getGridColumns(t),a=!this.doesMovePassRules(s,i);a||(Mp(this.gridColumns,s,i),this.updateDisplayedColumns(r),this.dispatchColumnMovedEvent({movedColumns:s,source:r,toIndex:i,finished:o}),this.columnAnimationService.finish())},e.prototype.doesMovePassRules=function(t,i){var r=this.getProposedColumnOrder(t,i);return this.doesOrderPassRules(r)},e.prototype.doesOrderPassRules=function(t){return!(!this.doesMovePassMarryChildren(t)||!this.doesMovePassLockedPositions(t))},e.prototype.getProposedColumnOrder=function(t,i){var r=this.gridColumns.slice();return Mp(r,t,i),r},e.prototype.sortColumnsLikeGridColumns=function(t){var i=this;if(!(!t||t.length<=1)){var r=t.filter(function(o){return i.gridColumns.indexOf(o)<0}).length>0;r||t.sort(function(o,s){var a=i.gridColumns.indexOf(o),l=i.gridColumns.indexOf(s);return a-l})}},e.prototype.doesMovePassLockedPositions=function(t){var i=0,r=!0,o=function(s){return s?s===!0||s==="left"?0:2:1};return t.forEach(function(s){var a=o(s.getColDef().lockPosition);a<i&&(r=!1),i=a}),r},e.prototype.doesMovePassMarryChildren=function(t){var i=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(r){if(r instanceof oe){var o=r,s=o.getColGroupDef(),a=s&&s.marryChildren;if(a){var l=[];o.getLeafColumns().forEach(function(h){var f=t.indexOf(h);l.push(f)});var u=Math.max.apply(Math,l),c=Math.min.apply(Math,l),d=u-c,p=o.getLeafColumns().length-1;d>p&&(i=!1)}}}),i},e.prototype.moveColumn=function(t,i,r){r===void 0&&(r="api"),this.moveColumns([t],i,r)},e.prototype.moveColumnByIndex=function(t,i,r){r===void 0&&(r="api");var o=this.gridColumns[t];this.moveColumn(o,i,r)},e.prototype.getColumnDefs=function(){var t=this;if(this.primaryColumns){var i=this.primaryColumns.slice();return this.gridColsArePrimary?i.sort(function(r,o){return t.gridColumns.indexOf(r)-t.gridColumns.indexOf(o)}):this.lastPrimaryOrder&&i.sort(function(r,o){return t.lastPrimaryOrder.indexOf(r)-t.lastPrimaryOrder.indexOf(o)}),this.columnDefFactory.buildColumnDefs(i,this.rowGroupColumns,this.pivotColumns)}},e.prototype.getBodyContainerWidth=function(){return this.bodyWidth},e.prototype.getContainerWidth=function(t){switch(t){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}},e.prototype.updateBodyWidths=function(){var t=this.getWidthOfColsInList(this.displayedColumnsCenter),i=this.getWidthOfColsInList(this.displayedColumnsLeft),r=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==t;var o=this.bodyWidth!==t||this.leftWidth!==i||this.rightWidth!==r;if(o){this.bodyWidth=t,this.leftWidth=i,this.rightWidth=r;var s={type:C.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED};this.eventService.dispatchEvent(s)}},e.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},e.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},e.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},e.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},e.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},e.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},e.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},e.prototype.getDisplayedColumns=function(t){switch(t){case"left":return this.getDisplayedLeftColumns();case"right":return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},e.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},e.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},e.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},e.prototype.getAllGridColumns=function(){return this.gridColumns},e.prototype.isEmpty=function(){return hi(this.gridColumns)},e.prototype.isRowGroupEmpty=function(){return hi(this.rowGroupColumns)},e.prototype.setColumnVisible=function(t,i,r){r===void 0&&(r="api"),this.setColumnsVisible([t],i,r)},e.prototype.setColumnsVisible=function(t,i,r){i===void 0&&(i=!1),r===void 0&&(r="api"),this.applyColumnState({state:t.map(function(o){return{colId:typeof o=="string"?o:o.getColId(),hide:!i}})},r)},e.prototype.setColumnPinned=function(t,i,r){r===void 0&&(r="api"),t&&this.setColumnsPinned([t],i,r)},e.prototype.setColumnsPinned=function(t,i,r){if(r===void 0&&(r="api"),this.gridOptionsService.isDomLayout("print")){console.warn("AG Grid: Changing the column pinning status is not allowed with domLayout='print'");return}this.columnAnimationService.start();var o;i===!0||i==="left"?o="left":i==="right"?o="right":o=null,this.actionOnGridColumns(t,function(s){return s.getPinned()!==o?(s.setPinned(o),!0):!1},r,function(){var s={type:C.EVENT_COLUMN_PINNED,pinned:o,column:null,columns:null,source:r};return s}),this.columnAnimationService.finish()},e.prototype.actionOnGridColumns=function(t,i,r,o){var s=this;if(!hi(t)){var a=[];if(t.forEach(function(u){var c=s.getGridColumn(u);if(c){var d=i(c);d!==!1&&a.push(c)}}),!!a.length&&(this.updateDisplayedColumns(r),N(o)&&o)){var l=o();l.columns=a,l.column=a.length===1?a[0]:null,this.eventService.dispatchEvent(l)}}},e.prototype.getDisplayedColBefore=function(t){var i=this.getAllDisplayedColumns(),r=i.indexOf(t);return r>0?i[r-1]:null},e.prototype.getDisplayedColAfter=function(t){var i=this.getAllDisplayedColumns(),r=i.indexOf(t);return r<i.length-1?i[r+1]:null},e.prototype.getDisplayedGroupAfter=function(t){return this.getDisplayedGroupAtDirection(t,"After")},e.prototype.getDisplayedGroupBefore=function(t){return this.getDisplayedGroupAtDirection(t,"Before")},e.prototype.getDisplayedGroupAtDirection=function(t,i){for(var r=t.getProvidedColumnGroup().getLevel()+t.getPaddingLevel(),o=t.getDisplayedLeafColumns(),s=i==="After"?Vt(o):o[0],a="getDisplayedCol"+i;;){var l=this[a](s);if(!l)return null;var u=this.getColumnGroupAtLevel(l,r);if(u!==t)return u}},e.prototype.getColumnGroupAtLevel=function(t,i){for(var r=t.getParent(),o,s;;){var a=r.getProvidedColumnGroup();if(o=a.getLevel(),s=r.getPaddingLevel(),o+s<=i)break;r=r.getParent()}return r},e.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},e.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},e.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var t;return(t=[]).concat.apply(t,[this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[]])},e.prototype.createStateItemFromColumn=function(t){var i=t.isRowGroupActive()?this.rowGroupColumns.indexOf(t):null,r=t.isPivotActive()?this.pivotColumns.indexOf(t):null,o=t.isValueActive()?t.getAggFunc():null,s=t.getSort()!=null?t.getSort():null,a=t.getSortIndex()!=null?t.getSortIndex():null,l=t.getFlex()!=null&&t.getFlex()>0?t.getFlex():null,u={colId:t.getColId(),width:t.getActualWidth(),hide:!t.isVisible(),pinned:t.getPinned(),sort:s,sortIndex:a,aggFunc:o,rowGroup:t.isRowGroupActive(),rowGroupIndex:i,pivot:t.isPivotActive(),pivotIndex:r,flex:l};return u},e.prototype.getColumnState=function(){if(pt(this.primaryColumns)||!this.isAlive())return[];var t=this.getPrimaryAndSecondaryAndAutoColumns(),i=t.map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(i),i},e.prototype.orderColumnStateList=function(t){var i=nn(this.gridColumns.map(function(r,o){return[r.getColId(),o]}));t.sort(function(r,o){var s=i.has(r.colId)?i.get(r.colId):-1,a=i.has(o.colId)?i.get(o.colId):-1;return s-a})},e.prototype.resetColumnState=function(t){var i=this;t===void 0&&(t="api");var r=this.getColumnsFromTree(this.primaryColumnTree),o=[],s=1e3,a=1e3,l=[];this.groupAutoColumns&&(l=l.concat(this.groupAutoColumns)),r&&(l=l.concat(r)),l.forEach(function(u){var c=i.getColumnStateFromColDef(u);pt(c.rowGroupIndex)&&c.rowGroup&&(c.rowGroupIndex=s++),pt(c.pivotIndex)&&c.pivot&&(c.pivotIndex=a++),o.push(c)}),this.applyColumnState({state:o,applyOrder:!0},t)},e.prototype.getColumnStateFromColDef=function(t){var i=function(v,m){return v??m??null},r=t.getColDef(),o=i(r.sort,r.initialSort),s=i(r.sortIndex,r.initialSortIndex),a=i(r.hide,r.initialHide),l=i(r.pinned,r.initialPinned),u=i(r.width,r.initialWidth),c=i(r.flex,r.initialFlex),d=i(r.rowGroupIndex,r.initialRowGroupIndex),p=i(r.rowGroup,r.initialRowGroup);d==null&&(p==null||p==!1)&&(d=null,p=null);var h=i(r.pivotIndex,r.initialPivotIndex),f=i(r.pivot,r.initialPivot);h==null&&(f==null||f==!1)&&(h=null,f=null);var g=i(r.aggFunc,r.initialAggFunc);return{colId:t.getColId(),sort:o,sortIndex:s,hide:a,pinned:l,width:u,flex:c,rowGroup:p,rowGroupIndex:d,pivot:f,pivotIndex:h,aggFunc:g}},e.prototype.applyColumnState=function(t,i){var r=this;if(hi(this.primaryColumns))return!1;if(t&&t.state&&!t.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;var o=function(u,c,d){var p=r.compareColumnStatesAndDispatchEvents(i);r.autoGroupsNeedBuilding=!0;var h=c.slice(),f={},g={},v=[],m=[],w=0,b=r.rowGroupColumns.slice(),E=r.pivotColumns.slice();u.forEach(function(D){var F=D.colId||"",V=F.startsWith($o);if(V){v.push(D),m.push(D);return}var B=d(F);B?(r.syncColumnWithStateItem(B,D,t.defaultState,f,g,!1,i),pi(h,B)):(m.push(D),w+=1)});var O=function(D){return r.syncColumnWithStateItem(D,null,t.defaultState,f,g,!1,i)};h.forEach(O);var P=function(D,F,V,B){var G=D[V.getId()],lt=D[B.getId()],yt=G!=null,ut=lt!=null;if(yt&&ut)return G-lt;if(yt)return-1;if(ut)return 1;var it=F.indexOf(V),J=F.indexOf(B),ct=it>=0,Rt=J>=0;return ct&&Rt?it-J:ct?-1:1};r.rowGroupColumns.sort(P.bind(r,f,b)),r.pivotColumns.sort(P.bind(r,g,E)),r.updateGridColumns();var M=r.groupAutoColumns?r.groupAutoColumns.slice():[];return v.forEach(function(D){var F=r.getAutoColumn(D.colId);pi(M,F),r.syncColumnWithStateItem(F,D,t.defaultState,null,null,!0,i)}),M.forEach(O),r.applyOrderAfterApplyState(t),r.updateDisplayedColumns(i),r.dispatchEverythingChanged(i),p(),{unmatchedAndAutoStates:m,unmatchedCount:w}};this.columnAnimationService.start();var s=o(t.state||[],this.primaryColumns||[],function(u){return r.getPrimaryColumn(u)}),a=s.unmatchedAndAutoStates,l=s.unmatchedCount;return(a.length>0||N(t.defaultState))&&(l=o(a,this.secondaryColumns||[],function(u){return r.getSecondaryColumn(u)}).unmatchedCount),this.columnAnimationService.finish(),l===0},e.prototype.applyOrderAfterApplyState=function(t){var i=this;if(!(!t.applyOrder||!t.state)){var r=[],o={};t.state.forEach(function(a){if(!(!a.colId||o[a.colId])){var l=i.gridColumnsMap[a.colId];l&&(r.push(l),o[a.colId]=!0)}});var s=0;if(this.gridColumns.forEach(function(a){var l=a.getColId(),u=o[l]!=null;if(!u){var c=l.startsWith($o);c?Ea(r,a,s++):r.push(a)}}),r=this.placeLockedColumns(r),!this.doesMovePassMarryChildren(r)){console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");return}this.gridColumns=r}},e.prototype.compareColumnStatesAndDispatchEvents=function(t){var i=this,r={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},o=this.getColumnState(),s={};return o.forEach(function(a){s[a.colId]=a}),function(){var a=i.getPrimaryAndSecondaryAndAutoColumns(),l=function(m,w,b,E){var O=w.map(E),P=b.map(E),M=ln(O,P);if(!M){var D=new Set(w);b.forEach(function(B){D.delete(B)||D.add(B)});var F=Ii([],Li(D)),V={type:m,columns:F,column:F.length===1?F[0]:null,source:t};i.eventService.dispatchEvent(V)}},u=function(m){var w=[];return a.forEach(function(b){var E=s[b.getColId()];E&&m(E,b)&&w.push(b)}),w},c=function(m){return m.getColId()};l(C.EVENT_COLUMN_ROW_GROUP_CHANGED,r.rowGroupColumns,i.rowGroupColumns,c),l(C.EVENT_COLUMN_PIVOT_CHANGED,r.pivotColumns,i.pivotColumns,c);var d=function(m,w){var b=m.aggFunc!=null,E=b!=w.isValueActive(),O=b&&m.aggFunc!=w.getAggFunc();return E||O},p=u(d);p.length>0&&i.dispatchColumnChangedEvent(C.EVENT_COLUMN_VALUE_CHANGED,p,t);var h=function(m,w){return m.width!=w.getActualWidth()};i.dispatchColumnResizedEvent(u(h),!0,t);var f=function(m,w){return m.pinned!=w.getPinned()};i.dispatchColumnPinnedEvent(u(f),t);var g=function(m,w){return m.hide==w.isVisible()};i.dispatchColumnVisibleEvent(u(g),t);var v=function(m,w){return m.sort!=w.getSort()||m.sortIndex!=w.getSortIndex()};u(v).length>0&&i.sortController.dispatchSortChangedEvents(t),i.normaliseColumnMovedEventForColumnState(o,t)}},e.prototype.getCommonValue=function(t,i){if(!(!t||t.length==0)){for(var r=i(t[0]),o=1;o<t.length;o++)if(r!==i(t[o]))return;return r}},e.prototype.normaliseColumnMovedEventForColumnState=function(t,i){var r=this,o=this.getColumnState(),s={};o.forEach(function(d){return s[d.colId]=d});var a={};t.forEach(function(d){s[d.colId]&&(a[d.colId]=!0)});var l=t.filter(function(d){return a[d.colId]}),u=o.filter(function(d){return a[d.colId]}),c=[];u.forEach(function(d,p){var h=l&&l[p];if(h&&h.colId!==d.colId){var f=r.getGridColumn(h.colId);f&&c.push(f)}}),c.length&&this.dispatchColumnMovedEvent({movedColumns:c,source:i,finished:!0})},e.prototype.syncColumnWithStateItem=function(t,i,r,o,s,a,l){if(t){var u=function(F,V){var B={value1:void 0,value2:void 0},G=!1;return i&&(i[F]!==void 0&&(B.value1=i[F],G=!0),N(V)&&i[V]!==void 0&&(B.value2=i[V],G=!0)),!G&&r&&(r[F]!==void 0&&(B.value1=r[F]),N(V)&&r[V]!==void 0&&(B.value2=r[V])),B},c=u("hide").value1;c!==void 0&&t.setVisible(!c,l);var d=u("pinned").value1;d!==void 0&&t.setPinned(d);var p=this.columnUtils.calculateColMinWidth(t.getColDef()),h=u("flex").value1;h!==void 0&&t.setFlex(h);var f=t.getFlex()<=0;if(f){var g=u("width").value1;g!=null&&p!=null&&g>=p&&t.setActualWidth(g,l)}var v=u("sort").value1;v!==void 0&&(v==="desc"||v==="asc"?t.setSort(v,l):t.setSort(void 0,l));var m=u("sortIndex").value1;if(m!==void 0&&t.setSortIndex(m),!(a||!t.isPrimary())){var w=u("aggFunc").value1;w!==void 0&&(typeof w=="string"?(t.setAggFunc(w),t.isValueActive()||(t.setValueActive(!0,l),this.valueColumns.push(t))):(N(w)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),t.isValueActive()&&(t.setValueActive(!1,l),pi(this.valueColumns,t))));var b=u("rowGroup","rowGroupIndex"),E=b.value1,O=b.value2;(E!==void 0||O!==void 0)&&(typeof O=="number"||E?(t.isRowGroupActive()||(t.setRowGroupActive(!0,l),this.rowGroupColumns.push(t)),o&&typeof O=="number"&&(o[t.getId()]=O)):t.isRowGroupActive()&&(t.setRowGroupActive(!1,l),pi(this.rowGroupColumns,t)));var P=u("pivot","pivotIndex"),M=P.value1,D=P.value2;(M!==void 0||D!==void 0)&&(typeof D=="number"||M?(t.isPivotActive()||(t.setPivotActive(!0,l),this.pivotColumns.push(t)),s&&typeof D=="number"&&(s[t.getId()]=D)):t.isPivotActive()&&(t.setPivotActive(!1,l),pi(this.pivotColumns,t)))}}},e.prototype.getGridColumns=function(t){return this.getColumns(t,this.getGridColumn.bind(this))},e.prototype.getColumns=function(t,i){var r=[];return t&&t.forEach(function(o){var s=i(o);s&&r.push(s)}),r},e.prototype.getColumnWithValidation=function(t){if(t==null)return null;var i=this.getGridColumn(t);return i||console.warn("AG Grid: could not find column "+t),i},e.prototype.getPrimaryColumn=function(t){return this.primaryColumns?this.getColumn(t,this.primaryColumns,this.primaryColumnsMap):null},e.prototype.getGridColumn=function(t){return this.getColumn(t,this.gridColumns,this.gridColumnsMap)},e.prototype.lookupGridColumn=function(t){return this.gridColumnsMap[t]},e.prototype.getSecondaryColumn=function(t){return this.secondaryColumns?this.getColumn(t,this.secondaryColumns,this.secondaryColumnsMap):null},e.prototype.getColumn=function(t,i,r){if(!t)return null;if(typeof t=="string"&&r[t])return r[t];for(var o=0;o<i.length;o++)if(this.columnsMatch(i[o],t))return i[o];return this.getAutoColumn(t)},e.prototype.getSourceColumnsForGroupColumn=function(t){var i=t.getColDef().showRowGroup;if(!i)return null;if(i===!0)return this.rowGroupColumns.slice(0);var r=this.getPrimaryColumn(i);return r?[r]:null},e.prototype.getAutoColumn=function(t){var i=this;return!this.groupAutoColumns||!N(this.groupAutoColumns)||pt(this.groupAutoColumns)?null:this.groupAutoColumns.find(function(r){return i.columnsMatch(r,t)})||null},e.prototype.columnsMatch=function(t,i){var r=t===i,o=t.getColDef()===i,s=t.getColId()==i;return r||o||s},e.prototype.getDisplayNameForColumn=function(t,i,r){if(r===void 0&&(r=!1),!t)return null;var o=this.getHeaderName(t.getColDef(),t,null,null,i);return r?this.wrapHeaderNameWithAggFunc(t,o):o},e.prototype.getDisplayNameForProvidedColumnGroup=function(t,i,r){var o=i?i.getColGroupDef():null;return o?this.getHeaderName(o,null,t,i,r):null},e.prototype.getDisplayNameForColumnGroup=function(t,i){return this.getDisplayNameForProvidedColumnGroup(t,t.getProvidedColumnGroup(),i)},e.prototype.getHeaderName=function(t,i,r,o,s){var a=t.headerValueGetter;if(a){var l={colDef:t,column:i,columnGroup:r,providedColumnGroup:o,location:s,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};return typeof a=="function"?a(l):typeof a=="string"?this.expressionService.evaluate(a,l):(console.warn("AG Grid: headerValueGetter must be a function or a string"),"")}else{if(t.headerName!=null)return t.headerName;if(t.field)return Bw(t.field)}return""},e.prototype.wrapHeaderNameWithAggFunc=function(t,i){if(this.gridOptionsService.is("suppressAggFuncInHeader"))return i;var r=t.getColDef().pivotValueColumn,o=N(r),s=null,a;if(o){var l=this.gridOptionsService.is("removePivotHeaderRowWhenSingleValueColumn")&&this.valueColumns.length===1,u=t.getColDef().pivotTotalColumnIds!==void 0;if(l&&!u)return i;s=r?r.getAggFunc():null,a=!0}else{var c=t.isValueActive(),d=this.pivotMode||!this.isRowGroupEmpty();c&&d?(s=t.getAggFunc(),a=!0):a=!1}if(a){var p=typeof s=="string"?s:"func",h=this.localeService.getLocaleTextFunc(),f=h(p,p);return f+"("+i+")"}return i},e.prototype.getColumnGroup=function(t,i){if(!t)return null;if(t instanceof Te)return t;var r=this.getAllDisplayedTrees(),o=typeof i=="number",s=null;return this.columnUtils.depthFirstAllColumnTreeSearch(r,function(a){if(a instanceof Te){var l=a,u=void 0;o?u=t===l.getGroupId()&&i===l.getPartId():u=t===l.getGroupId(),u&&(s=l)}}),s},e.prototype.isReady=function(){return this.ready},e.prototype.extractValueColumns=function(t,i){this.valueColumns=this.extractColumns(i,this.valueColumns,function(r,o){return r.setValueActive(o,t)},function(){},function(){},function(r){var o=r.aggFunc;if(o===null||o==="")return null;if(o!==void 0)return!!o},function(r){return r.initialAggFunc!=null&&r.initialAggFunc!=""}),this.valueColumns.forEach(function(r){var o=r.getColDef();o.aggFunc!=null&&o.aggFunc!=""?r.setAggFunc(o.aggFunc):r.getAggFunc()||r.setAggFunc(o.initialAggFunc)})},e.prototype.extractRowGroupColumns=function(t,i){this.rowGroupColumns=this.extractColumns(i,this.rowGroupColumns,function(r,o){return r.setRowGroupActive(o,t)},function(r){return r.rowGroupIndex},function(r){return r.initialRowGroupIndex},function(r){return r.rowGroup},function(r){return r.initialRowGroup})},e.prototype.extractColumns=function(t,i,r,o,s,a,l){t===void 0&&(t=[]),i===void 0&&(i=[]);var u=[],c=[];(this.primaryColumns||[]).forEach(function(h){var f=t.indexOf(h)<0,g=h.getColDef(),v=ar(a(g)),m=ar(l(g)),w=Oi(o(g)),b=Oi(s(g)),E,O=v!==void 0,P=w!==void 0,M=m!==void 0,D=b!==void 0;if(O?E=v:P?w===null?E=!1:E=w>=0:f?M?E=m:D?E=b!=null&&b>=0:E=!1:E=i.indexOf(h)>=0,E){var F=f?w!=null||b!=null:w!=null;F?u.push(h):c.push(h)}});var d=function(h){var f=o(h.getColDef()),g=s(h.getColDef());return f??g};u.sort(function(h,f){var g=d(h),v=d(f);return g===v?0:g<v?-1:1});var p=[].concat(u);return i.forEach(function(h){c.indexOf(h)>=0&&p.push(h)}),c.forEach(function(h){p.indexOf(h)<0&&p.push(h)}),i.forEach(function(h){p.indexOf(h)<0&&r(h,!1)}),p.forEach(function(h){i.indexOf(h)<0&&r(h,!0)}),p},e.prototype.extractPivotColumns=function(t,i){this.pivotColumns=this.extractColumns(i,this.pivotColumns,function(r,o){return r.setPivotActive(o,t)},function(r){return r.pivotIndex},function(r){return r.initialPivotIndex},function(r){return r.pivot},function(r){return r.initialPivot})},e.prototype.resetColumnGroupState=function(t){t===void 0&&(t="api");var i=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,function(r){if(r instanceof oe){var o=r.getColGroupDef(),s={groupId:r.getGroupId(),open:o?o.openByDefault:void 0};i.push(s)}}),this.setColumnGroupState(i,t)},e.prototype.getColumnGroupState=function(){var t=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(i){i instanceof oe&&t.push({groupId:i.getGroupId(),open:i.isExpanded()})}),t},e.prototype.setColumnGroupState=function(t,i){var r=this;i===void 0&&(i="api"),this.columnAnimationService.start();var o=[];t.forEach(function(s){var a=s.groupId,l=s.open,u=r.getProvidedColumnGroup(a);u&&u.isExpanded()!==l&&(r.logger.log("columnGroupOpened("+u.getGroupId()+","+l+")"),u.setExpanded(l),o.push(u))}),this.updateGroupsAndDisplayedColumns(i),this.setFirstRightAndLastLeftPinned(i),o.forEach(function(s){var a={type:C.EVENT_COLUMN_GROUP_OPENED,columnGroup:s};r.eventService.dispatchEvent(a)}),this.columnAnimationService.finish()},e.prototype.setColumnGroupOpened=function(t,i,r){r===void 0&&(r="api");var o;t instanceof oe?o=t.getId():o=t||"",this.setColumnGroupState([{groupId:o,open:i}],r)},e.prototype.getProvidedColumnGroup=function(t){typeof t!="string"&&console.error("AG Grid: group key must be a string");var i=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(r){r instanceof oe&&r.getId()===t&&(i=r)}),i},e.prototype.calculateColumnsForDisplay=function(){var t=this,i;return this.pivotMode&&pt(this.secondaryColumns)?i=this.gridColumns.filter(function(r){var o=t.groupAutoColumns&&xi(t.groupAutoColumns,r),s=t.valueColumns&&xi(t.valueColumns,r);return o||s}):i=this.gridColumns.filter(function(r){var o=t.groupAutoColumns&&xi(t.groupAutoColumns,r);return o||r.isVisible()}),i},e.prototype.checkColSpanActiveInCols=function(t){var i=!1;return t.forEach(function(r){N(r.getColDef().colSpan)&&(i=!0)}),i},e.prototype.calculateColumnsForGroupDisplay=function(){var t=this;this.groupDisplayColumns=[],this.groupDisplayColumnsMap={};var i=function(r){var o=r.getColDef(),s=o.showRowGroup;o&&N(s)&&(t.groupDisplayColumns.push(r),typeof s=="string"?t.groupDisplayColumnsMap[s]=r:s===!0&&t.getRowGroupColumns().forEach(function(a){t.groupDisplayColumnsMap[a.getId()]=r}))};this.gridColumns.forEach(i)},e.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},e.prototype.getGroupDisplayColumnForGroup=function(t){return this.groupDisplayColumnsMap[t]},e.prototype.updateDisplayedColumns=function(t){var i=this.calculateColumnsForDisplay();this.buildDisplayedTrees(i),this.updateGroupsAndDisplayedColumns(t),this.setFirstRightAndLastLeftPinned(t)},e.prototype.isSecondaryColumnsPresent=function(){return N(this.secondaryColumns)},e.prototype.setSecondaryColumns=function(t,i){var r=this;i===void 0&&(i="api");var o=t&&t.length>0;if(!(!o&&pt(this.secondaryColumns))){if(o){this.processSecondaryColumnDefinitions(t);var s=this.columnFactory.createColumnTree(t,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0);this.destroyOldColumns(this.secondaryBalancedTree,s.columnTree),this.secondaryBalancedTree=s.columnTree,this.secondaryHeaderRowCount=s.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(function(a){return r.secondaryColumnsMap[a.getId()]=a}),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(i)}},e.prototype.processSecondaryColumnDefinitions=function(t){var i=this.gridOptionsService.get("processPivotResultColDef")||this.gridOptionsService.get("processSecondaryColDef"),r=this.gridOptionsService.get("processPivotResultColGroupDef")||this.gridOptionsService.get("processSecondaryColGroupDef");if(!(!i&&!r)){var o=function(s){s.forEach(function(a){var l=N(a.children);if(l){var u=a;r&&r(u),o(u.children)}else{var c=a;i&&i(c)}})};t&&o(t)}},e.prototype.updateGridColumns=function(){var t=this,i=this.gridBalancedTree;this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns;var r;if(this.secondaryColumns&&this.secondaryBalancedTree){var o=this.secondaryColumns.every(function(u){return t.gridColumnsMap[u.getColId()]!==void 0});this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,o&&(r=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,r=this.lastPrimaryOrder);var s=this.createGroupAutoColumnsIfNeeded();if(s&&r){var a=nn(this.groupAutoColumns.map(function(u){return[u,!0]}));r=r.filter(function(u){return!a.has(u)}),r=Ii(Ii([],Li(this.groupAutoColumns)),Li(r))}if(this.addAutoGroupToGridColumns(),this.orderGridColsLike(r),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.calculateColumnsForGroupDisplay(),this.refreshQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(function(u){return t.gridColumnsMap[u.getId()]=u}),this.setAutoHeightActive(),!ln(i,this.gridBalancedTree)){var l={type:C.EVENT_GRID_COLUMNS_CHANGED};this.eventService.dispatchEvent(l)}},e.prototype.setAutoHeightActive=function(){if(this.autoHeightActive=this.gridColumns.filter(function(r){return r.isAutoHeight()}).length>0,this.autoHeightActive){this.autoHeightActiveAtLeastOnce=!0;var t=this.gridOptionsService.isRowModelType("clientSide")||this.gridOptionsService.isRowModelType("serverSide");if(!t){var i="AG Grid - autoHeight columns only work with Client Side Row Model and Server Side Row Model.";bt(function(){return console.warn(i)},"autoHeightActive.wrongRowModel")}}},e.prototype.orderGridColsLike=function(t){if(!pt(t)){var i=nn(t.map(function(c,d){return[c,d]})),r=!0;if(this.gridColumns.forEach(function(c){i.has(c)&&(r=!1)}),!r){var o=nn(this.gridColumns.map(function(c){return[c,!0]})),s=t.filter(function(c){return o.has(c)}),a=nn(s.map(function(c){return[c,!0]})),l=this.gridColumns.filter(function(c){return!a.has(c)}),u=s.slice();l.forEach(function(c){var d=c.getOriginalParent();if(!d){u.push(c);return}for(var p=[];!p.length&&d;){var h=d.getLeafColumns();h.forEach(function(v){var m=u.indexOf(v)>=0,w=p.indexOf(v)<0;m&&w&&p.push(v)}),d=d.getOriginalParent()}if(!p.length){u.push(c);return}var f=p.map(function(v){return u.indexOf(v)}),g=Math.max.apply(Math,Ii([],Li(f)));Ea(u,c,g+1)}),this.gridColumns=u}}},e.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},e.prototype.refreshQuickFilterColumns=function(){var t,i=(t=this.isPivotMode()?this.secondaryColumns:this.primaryColumns)!==null&&t!==void 0?t:[];this.groupAutoColumns&&(i=i.concat(this.groupAutoColumns)),this.columnsForQuickFilter=this.gridOptionsService.is("includeHiddenColumnsInQuickFilter")?i:i.filter(function(r){return r.isVisible()||r.isRowGroupActive()})},e.prototype.placeLockedColumns=function(t){var i=[],r=[],o=[];return t.forEach(function(s){var a=s.getColDef().lockPosition;a==="right"?o.push(s):a==="left"||a===!0?i.push(s):r.push(s)}),Ii(Ii(Ii([],Li(i)),Li(r)),Li(o))},e.prototype.addAutoGroupToGridColumns=function(){if(pt(this.groupAutoColumns)){this.destroyOldColumns(this.groupAutoColsBalancedTree),this.groupAutoColsBalancedTree=null;return}this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var t=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.destroyOldColumns(this.groupAutoColsBalancedTree,t),this.groupAutoColsBalancedTree=t,this.gridBalancedTree=t.concat(this.gridBalancedTree)},e.prototype.clearDisplayedAndViewportColumns=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""},e.prototype.updateGroupsAndDisplayedColumns=function(t){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(t),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths();var i={type:C.EVENT_DISPLAYED_COLUMNS_CHANGED};this.eventService.dispatchEvent(i)},e.prototype.deriveDisplayedColumns=function(t){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(t),this.displayedAutoHeightCols=this.displayedColumns.filter(function(i){return i.isAutoHeight()})},e.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},e.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},e.prototype.joinDisplayedColumns=function(){this.gridOptionsService.is("enableRtl")?this.displayedColumns=this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumns=this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},e.prototype.setLeftValues=function(t){this.setLeftValuesOfColumns(t),this.setLeftValuesOfGroups()},e.prototype.setLeftValuesOfColumns=function(t){var i=this;if(this.primaryColumns){var r=this.primaryColumns.slice(0),o=this.gridOptionsService.is("enableRtl");[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(function(s){if(o){var a=i.getWidthOfColsInList(s);s.forEach(function(u){a-=u.getActualWidth(),u.setLeft(a,t)})}else{var l=0;s.forEach(function(u){u.setLeft(l,t),l+=u.getActualWidth()})}Mw(r,s)}),r.forEach(function(s){s.setLeft(null,t)})}},e.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(function(t){t.forEach(function(i){if(i instanceof Te){var r=i;r.checkLeft()}})})},e.prototype.derivedDisplayedColumnsFromDisplayedTree=function(t,i){i.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(t,function(r){r instanceof Bt&&i.push(r)})},e.prototype.extractViewportColumns=function(){this.suppressColumnVirtualisation?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},e.prototype.getVirtualHeaderGroupRow=function(t,i){var r;switch(t){case"left":r=this.viewportRowLeft[i];break;case"right":r=this.viewportRowRight[i];break;default:r=this.viewportRowCenter[i];break}return pt(r)&&(r=[]),r},e.prototype.calculateHeaderRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var t={};this.headerViewportColumns.forEach(function(r){return t[r.getId()]=!0});var i=function(r,o,s){for(var a=!1,l=0;l<r.length;l++){var u=r[l],c=!1;if(u instanceof Bt)c=t[u.getId()]===!0;else{var d=u,p=d.getDisplayedChildren();p&&(c=i(p,o,s+1))}c&&(a=!0,o[s]||(o[s]=[]),o[s].push(u))}return a};i(this.displayedTreeLeft,this.viewportRowLeft,0),i(this.displayedTreeRight,this.viewportRowRight,0),i(this.displayedTreeCentre,this.viewportRowCenter,0)},e.prototype.extractViewport=function(){var t=function(o){return o.getId()+"-"+(o.getPinned()||"normal")};this.extractViewportColumns();var i=this.viewportColumns.map(t).join("#"),r=this.viewportColumnsHash!==i;return r&&(this.viewportColumnsHash=i,this.calculateHeaderRows()),r},e.prototype.refreshFlexedColumns=function(t){var i;t===void 0&&(t={});var r=t.source?t.source:"flex";if(t.viewportWidth!=null&&(this.flexViewportWidth=t.viewportWidth),!this.flexViewportWidth)return[];var o=-1;if(t.resizingCols){for(var s=new Set(t.resizingCols),a=this.displayedColumnsCenter,l=a.length-1;l>=0;l--)if(s.has(a[l])){o=l;break}}for(var u=0,c=[],d=0,p=0,l=0;l<this.displayedColumnsCenter.length;l++){var h=this.displayedColumnsCenter[l].getFlex()&&l>o;h?(c.push(this.displayedColumnsCenter[l]),p+=this.displayedColumnsCenter[l].getFlex(),d+=(i=this.displayedColumnsCenter[l].getMinWidth())!==null&&i!==void 0?i:0):u+=this.displayedColumnsCenter[l].getActualWidth()}if(!c.length)return[];var f=[];u+d>this.flexViewportWidth&&(c.forEach(function(D){var F;return D.setActualWidth((F=D.getMinWidth())!==null&&F!==void 0?F:0,r)}),f=c,c=[]);var g=[],v;t:for(;;){v=this.flexViewportWidth-u;for(var m=v/p,l=0;l<c.length;l++){var w=c[l],b=m*w.getFlex(),E=0,O=w.getMinWidth(),P=w.getMaxWidth();if(N(O)&&b<O?E=O:N(P)&&b>P&&(E=P),E){w.setActualWidth(E,r),kh(c,w),p-=w.getFlex(),f.push(w),u+=w.getActualWidth();continue t}g[l]=Math.round(b)}break}var M=v;return c.forEach(function(D,F){D.setActualWidth(Math.min(g[F],M),r),f.push(D),M-=g[F]}),t.skipSetLeft||this.setLeftValues(r),t.updateBodyWidths&&this.updateBodyWidths(),t.fireResizedEvent&&this.dispatchColumnResizedEvent(f,!0,r,c),c},e.prototype.sizeColumnsToFit=function(t,i,r,o){var s=this,a,l,u,c,d;if(i===void 0&&(i="sizeColumnsToFit"),this.shouldQueueResizeOperations){this.resizeOperationQueue.push(function(){return s.sizeColumnsToFit(t,i,r,o)});return}var p={};o&&((a=o==null?void 0:o.columnLimits)===null||a===void 0||a.forEach(function(J){var ct=J.key,Rt=oA(J,["key"]);p[typeof ct=="string"?ct:ct.getColId()]=Rt}));var h=this.getAllDisplayedColumns(),f=t===this.getWidthOfColsInList(h);if(!(t<=0||!h.length||f)){var g=[],v=[];h.forEach(function(J){J.getColDef().suppressSizeToFit===!0?v.push(J):g.push(J)});var m=g.slice(0),w=!1,b=function(J){pi(g,J),v.push(J)};for(g.forEach(function(J){var ct,Rt;J.resetActualWidth(i);var jt=p==null?void 0:p[J.getId()],ge=(ct=jt==null?void 0:jt.minWidth)!==null&&ct!==void 0?ct:o==null?void 0:o.defaultMinWidth,Pt=(Rt=jt==null?void 0:jt.maxWidth)!==null&&Rt!==void 0?Rt:o==null?void 0:o.defaultMaxWidth,ni=J.getActualWidth();typeof ge=="number"&&ni<ge?J.setActualWidth(ge,i,!0):typeof Pt=="number"&&ni>Pt&&J.setActualWidth(Pt,i,!0)});!w;){w=!0;var E=t-this.getWidthOfColsInList(v);if(E<=0)g.forEach(function(J){var ct,Rt,jt=(Rt=(ct=p==null?void 0:p[J.getId()])===null||ct===void 0?void 0:ct.minWidth)!==null&&Rt!==void 0?Rt:o==null?void 0:o.defaultMinWidth;if(typeof jt=="number"){J.setActualWidth(jt,i,!0);return}J.setMinimum(i)});else for(var O=E/this.getWidthOfColsInList(g),P=E,M=g.length-1;M>=0;M--){var D=g[M],F=p==null?void 0:p[D.getId()],V=(l=F==null?void 0:F.minWidth)!==null&&l!==void 0?l:o==null?void 0:o.defaultMinWidth,B=(u=F==null?void 0:F.maxWidth)!==null&&u!==void 0?u:o==null?void 0:o.defaultMaxWidth,G=(c=D.getMinWidth())!==null&&c!==void 0?c:0,lt=(d=D.getMaxWidth())!==null&&d!==void 0?d:Number.MAX_VALUE,yt=typeof V=="number"&&V>G?V:D.getMinWidth(),ut=typeof B=="number"&&B<lt?B:D.getMaxWidth(),it=Math.round(D.getActualWidth()*O);N(yt)&&it<yt?(it=yt,b(D),w=!1):N(ut)&&it>ut?(it=ut,b(D),w=!1):M===0&&(it=P),D.setActualWidth(it,i,!0),P-=it}}m.forEach(function(J){J.fireColumnWidthChangedEvent(i)}),this.setLeftValues(i),this.updateBodyWidths(),!r&&this.dispatchColumnResizedEvent(m,!0,i)}},e.prototype.buildDisplayedTrees=function(t){var i=[],r=[],o=[];t.forEach(function(a){switch(a.getPinned()){case"left":i.push(a);break;case"right":r.push(a);break;default:o.push(a);break}});var s=new kw;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(i,s,"left",this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(r,s,"right",this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(o,s,null,this.displayedTreeCentre),this.updateDisplayedMap()},e.prototype.updateDisplayedMap=function(){var t=this;this.displayedColumnsAndGroupsMap={};var i=function(r){t.displayedColumnsAndGroupsMap[r.getUniqueId()]=r};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,i),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,i),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,i)},e.prototype.isDisplayed=function(t){var i=this.displayedColumnsAndGroupsMap[t.getUniqueId()];return i===t},e.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var t=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(t,function(i){i instanceof Te&&i.calculateDisplayedColumns()})},e.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},e.prototype.createGroupAutoColumnsIfNeeded=function(){var t=this.forceRecreateAutoGroups;if(this.forceRecreateAutoGroups=!1,!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;var i=this.gridOptionsService.isGroupUseEntireRow(this.pivotMode),r=this.pivotMode?this.gridOptionsService.is("pivotSuppressAutoColumn"):this.isGroupSuppressAutoColumn(),o=this.rowGroupColumns.length>0||this.gridOptionsService.is("treeData"),s=o&&!r&&!i;if(s){var a=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns),l=!this.autoColsEqual(a,this.groupAutoColumns);if(l||t)return this.groupAutoColumns=a,!0}else this.groupAutoColumns=null;return!1},e.prototype.isGroupSuppressAutoColumn=function(){var t=this.gridOptionsService.get("groupDisplayType"),i=t?Np("custom",t):!1;if(i)return!0;var r=this.gridOptionsService.get("treeDataDisplayType");return r?iA("custom",r):!1},e.prototype.autoColsEqual=function(t,i){return ln(t,i,function(r,o){return r.getColId()===o.getColId()})},e.prototype.getWidthOfColsInList=function(t){return t.reduce(function(i,r){return i+r.getActualWidth()},0)},e.prototype.getGridBalancedTree=function(){return this.gridBalancedTree},e.prototype.getFirstDisplayedColumn=function(){var t=this.gridOptionsService.is("enableRtl"),i=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];t&&i.reverse();for(var r=0;r<i.length;r++){var o=this[i[r]]();if(o.length)return t?Vt(o):o[0]}return null},e.prototype.setColumnHeaderHeight=function(t,i){var r=t.setAutoHeaderHeight(i);if(r){var o={type:C.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:t,columns:[t],source:"autosizeColumnHeaderHeight"};this.eventService.dispatchEvent(o)}},e.prototype.getColumnGroupHeaderRowHeight=function(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()},e.prototype.getColumnHeaderRowHeight=function(){var t=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),i=this.getAllDisplayedColumns().filter(function(r){return r.isAutoHeaderHeight()}).map(function(r){return r.getAutoHeaderHeight()||0});return Math.max.apply(Math,Ii([t],Li(i)))},e.prototype.getHeaderHeight=function(){var t;return(t=this.gridOptionsService.getNum("headerHeight"))!==null&&t!==void 0?t:this.environment.getFromTheme(25,"headerHeight")},e.prototype.getFloatingFiltersHeight=function(){var t;return(t=this.gridOptionsService.getNum("floatingFiltersHeight"))!==null&&t!==void 0?t:this.getHeaderHeight()},e.prototype.getGroupHeaderHeight=function(){var t;return(t=this.gridOptionsService.getNum("groupHeaderHeight"))!==null&&t!==void 0?t:this.getHeaderHeight()},e.prototype.getPivotHeaderHeight=function(){var t;return(t=this.gridOptionsService.getNum("pivotHeaderHeight"))!==null&&t!==void 0?t:this.getHeaderHeight()},e.prototype.getPivotGroupHeaderHeight=function(){var t;return(t=this.gridOptionsService.getNum("pivotGroupHeaderHeight"))!==null&&t!==void 0?t:this.getGroupHeaderHeight()},e.prototype.queueResizeOperations=function(){this.shouldQueueResizeOperations=!0},e.prototype.processResizeOperations=function(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(function(t){return t()}),this.resizeOperationQueue=[]},e.prototype.resetColumnDefIntoColumn=function(t){var i=t.getUserProvidedColDef();if(!i)return!1;var r=this.columnFactory.addColumnDefaultAndTypes(i,t.getColId());return t.setColDef(r,i),!0},e.prototype.generateColumnStateForRowGroupAndPivotIndexes=function(t,i){var r=this,o={},s=function(a,l,u,c,d,p){if(!l.length||!r.primaryColumns)return[];for(var h=Object.keys(a),f=new Set(h),g=new Set(h),v=new Set(l.map(function(V){var B=V.getColId();return g.delete(B),B}).concat(h)),m=[],w={},b=0,E=0;E<r.primaryColumns.length;E++){var O=r.primaryColumns[E].getColId();v.has(O)&&(m.push(O),w[O]=b++)}var P=1e3,M=!1,D=0,F=function(V){for(var B=w[V],G=D;G<B;G++){var lt=m[G];g.has(lt)&&(a[lt][d]=P++,g.delete(lt))}D=B};l.forEach(function(V){var B=V.getColId();if(f.has(B))F(B),a[B][d]=P++;else{var G=V.getColDef(),lt=G[d]===null||G[d]===void 0&&G[p]==null;if(lt){if(!M){var yt=G[u]||G[u]===void 0&&G[c];yt?F(B):(g.forEach(function(ut){a[ut][d]=P+w[ut]}),P+=m.length,M=!0)}o[B]||(o[B]={colId:B}),o[B][d]=P++}}})};return s(t,this.rowGroupColumns,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),s(i,this.pivotColumns,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(o)},Re([y("expressionService")],e.prototype,"expressionService",void 0),Re([y("columnFactory")],e.prototype,"columnFactory",void 0),Re([y("displayedGroupCreator")],e.prototype,"displayedGroupCreator",void 0),Re([y("ctrlsService")],e.prototype,"ctrlsService",void 0),Re([y("autoWidthCalculator")],e.prototype,"autoWidthCalculator",void 0),Re([y("columnUtils")],e.prototype,"columnUtils",void 0),Re([y("columnAnimationService")],e.prototype,"columnAnimationService",void 0),Re([y("autoGroupColService")],e.prototype,"autoGroupColService",void 0),Re([At("aggFuncService")],e.prototype,"aggFuncService",void 0),Re([At("valueCache")],e.prototype,"valueCache",void 0),Re([At("animationFrameService")],e.prototype,"animationFrameService",void 0),Re([y("sortController")],e.prototype,"sortController",void 0),Re([y("columnDefFactory")],e.prototype,"columnDefFactory",void 0),Re([U],e.prototype,"init",null),Re([Ee],e.prototype,"destroyColumns",null),Re([nA(0,Ge("loggerFactory"))],e.prototype,"setBeans",null),e=Re([Z("columnModel")],e),e}(j),aA=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),lA=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},uA=function(n){aA(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.calculateColMinWidth=function(t){return t.minWidth!=null?t.minWidth:this.environment.getMinColWidth()},e.prototype.calculateColMaxWidth=function(t){return t.maxWidth!=null?t.maxWidth:Number.MAX_SAFE_INTEGER},e.prototype.calculateColInitialWidth=function(t){var i=this.calculateColMinWidth(t),r=this.calculateColMaxWidth(t),o,s=Oi(t.width),a=Oi(t.initialWidth);return s!=null?o=s:a!=null?o=a:o=200,Math.max(Math.min(o,r),i)},e.prototype.getOriginalPathForColumn=function(t,i){var r=[],o=!1,s=function(a,l){for(var u=0;u<a.length;u++){if(o)return;var c=a[u];if(c instanceof oe){var d=c;s(d.getChildren(),l+1),r[l]=c}else c===t&&(o=!0)}};return s(i,0),o?r:null},e.prototype.depthFirstOriginalTreeSearch=function(t,i,r){var o=this;i&&i.forEach(function(s){s instanceof oe&&o.depthFirstOriginalTreeSearch(s,s.getChildren(),r),r(s,t)})},e.prototype.depthFirstAllColumnTreeSearch=function(t,i){var r=this;t&&t.forEach(function(o){o instanceof Te&&r.depthFirstAllColumnTreeSearch(o.getChildren(),i),i(o)})},e.prototype.depthFirstDisplayedColumnTreeSearch=function(t,i){var r=this;t&&t.forEach(function(o){o instanceof Te&&r.depthFirstDisplayedColumnTreeSearch(o.getDisplayedChildren(),i),i(o)})},e=lA([Z("columnUtils")],e),e}(j),cA=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),dA=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},pA=function(n){cA(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.createDisplayedGroups=function(t,i,r,o){for(var s=this,a=this.mapOldGroupsById(o),l=[],u=t,c=function(){var d=u;u=[];for(var p=0,h=function(O){var P=p;p=O;var M=d[P],D=M instanceof Te?M.getProvidedColumnGroup():M,F=D.getOriginalParent();if(F==null){for(var V=P;V<O;V++)l.push(d[V]);return}for(var B=s.createColumnGroup(F,i,a,r),V=P;V<O;V++)B.addChild(d[V]);u.push(B)},f=1;f<d.length;f++){var g=d[f],v=g instanceof Te?g.getProvidedColumnGroup():g,m=v.getOriginalParent(),w=d[p],b=w instanceof Te?w.getProvidedColumnGroup():w,E=b.getOriginalParent();m!==E&&h(f)}p<d.length&&h(d.length)};u.length;)c();return this.setupParentsIntoColumns(l,null),l},e.prototype.createColumnGroup=function(t,i,r,o){var s=t.getGroupId(),a=i.getInstanceIdForKey(s),l=Te.createUniqueId(s,a),u=r[l];return u&&u.getProvidedColumnGroup()!==t&&(u=null),N(u)?u.reset():(u=new Te(t,s,a,o),this.context.createBean(u)),u},e.prototype.mapOldGroupsById=function(t){var i={},r=function(o){o.forEach(function(s){if(s instanceof Te){var a=s;i[s.getUniqueId()]=a,r(a.getChildren())}})};return t&&r(t),i},e.prototype.setupParentsIntoColumns=function(t,i){var r=this;t.forEach(function(o){if(o.setParent(i),o instanceof Te){var s=o;r.setupParentsIntoColumns(s.getChildren(),s)}})},e=dA([Z("displayedGroupCreator")],e),e}(j),hA=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),fA=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},gA=function(n){hA(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.componentsMappedByName={},t}return e.prototype.setupComponents=function(t){var i=this;t&&t.forEach(function(r){return i.addComponent(r)})},e.prototype.addComponent=function(t){var i=t.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=i.toUpperCase();this.componentsMappedByName[r]=t.componentClass},e.prototype.getComponentClass=function(t){return this.componentsMappedByName[t]},e=fA([Z("agStackComponentsRegistry")],e),e}(j);function Ki(n,e,t){t==null||t==""?jh(n,e):Fi(n,e,t)}function Fi(n,e,t){n.setAttribute(Uw(e),t.toString())}function jh(n,e){n.removeAttribute(Uw(e))}function Uw(n){return"aria-"+n}function Ce(n,e){e?n.setAttribute("role",e):n.removeAttribute("role")}function zw(n){var e;return n==="asc"?e="ascending":n==="desc"?e="descending":n==="mixed"?e="other":e="none",e}function $w(n){return parseInt(n.getAttribute("aria-level"),10)}function Kw(n){return parseInt(n.getAttribute("aria-posinset"),10)}function vA(n){return n.getAttribute("aria-describedby")||""}function Lr(n,e){Ki(n,"label",e)}function vc(n,e){Ki(n,"labelledby",e)}function Yw(n,e){Ki(n,"description",e)}function qw(n,e){Ki(n,"describedby",e)}function Xw(n,e){Ki(n,"live",e)}function Qw(n,e){Ki(n,"level",e)}function Wh(n,e){Ki(n,"disabled",e)}function yc(n,e){Ki(n,"hidden",e)}function Uh(n,e){Ki(n,"activedescendant",e)}function ki(n,e){Fi(n,"expanded",e)}function Jw(n){jh(n,"expanded")}function zh(n,e){Fi(n,"setsize",e)}function $h(n,e){Fi(n,"posinset",e)}function Zw(n,e){Fi(n,"multiselectable",e)}function tS(n,e){Fi(n,"rowcount",e)}function Kh(n,e){Fi(n,"rowindex",e)}function eS(n,e){Fi(n,"colcount",e)}function Yh(n,e){Fi(n,"colindex",e)}function iS(n,e){Fi(n,"colspan",e)}function rS(n,e){Fi(n,"sort",e)}function nS(n){jh(n,"sort")}function so(n,e){Ki(n,"selected",e)}function oS(n,e){Fi(n,"checked",e===void 0?"mixed":e)}function sS(n,e){Ki(n,"controls",e.id),vc(e,n.id)}function mc(n,e){return e===void 0?n("ariaIndeterminate","indeterminate"):e===!0?n("ariaChecked","checked"):n("ariaUnchecked","unchecked")}var yA=Object.freeze({__proto__:null,setAriaRole:Ce,getAriaSortState:zw,getAriaLevel:$w,getAriaPosInSet:Kw,getAriaDescribedBy:vA,setAriaLabel:Lr,setAriaLabelledBy:vc,setAriaDescription:Yw,setAriaDescribedBy:qw,setAriaLive:Xw,setAriaLevel:Qw,setAriaDisabled:Wh,setAriaHidden:yc,setAriaActiveDescendant:Uh,setAriaExpanded:ki,removeAriaExpanded:Jw,setAriaSetSize:zh,setAriaPosInSet:$h,setAriaMultiSelectable:Zw,setAriaRowCount:tS,setAriaRowIndex:Kh,setAriaColCount:eS,setAriaColIndex:Yh,setAriaColSpan:iS,setAriaSort:rS,removeAriaSort:nS,setAriaSelected:so,setAriaChecked:oS,setAriaControls:sS,getAriaCheckboxStateName:mc}),ld,ul,ud,cd,dd,pd,Gp,Hp;function Ai(){return ld===void 0&&(ld=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),ld}function qh(){if(ul===void 0)if(Ai()){var n=navigator.userAgent.match(/version\/(\d+)/i);n&&(ul=n[1]!=null?parseFloat(n[1]):0)}else ul=0;return ul}function Cc(){if(ud===void 0){var n=window;ud=!!n.chrome&&(!!n.chrome.webstore||!!n.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return ud}function Xh(){return cd===void 0&&(cd=/(firefox)/i.test(navigator.userAgent)),cd}function Qh(){return dd===void 0&&(dd=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),dd}function wn(){return pd===void 0&&(pd=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),pd}function wc(){return!Ai()||qh()>=15}function Ou(n){if(!n)return null;var e=n.tabIndex,t=n.getAttribute("tabIndex");return e===-1&&(t===null||t===""&&!Xh())?null:e.toString()}function aS(){if(!document.body)return-1;var n=1e6,e=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,t=document.createElement("div");for(document.body.appendChild(t);;){var i=n*2;if(t.style.height=i+"px",i>e||t.clientHeight!==i)break;n=i}return document.body.removeChild(t),n}function lS(){var n,e,t;return(e=(n=document.body)===null||n===void 0?void 0:n.clientWidth)!==null&&e!==void 0?e:window.innerHeight||((t=document.documentElement)===null||t===void 0?void 0:t.clientWidth)||-1}function uS(){var n,e,t;return(e=(n=document.body)===null||n===void 0?void 0:n.clientHeight)!==null&&e!==void 0?e:window.innerHeight||((t=document.documentElement)===null||t===void 0?void 0:t.clientHeight)||-1}function cS(){return Hp==null&&dS(),Hp}function dS(){var n=document.body,e=document.createElement("div");e.style.width=e.style.height="100px",e.style.opacity="0",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",e.style.position="absolute",n.appendChild(e);var t=e.offsetWidth-e.clientWidth;t===0&&e.clientWidth===0&&(t=null),e.parentNode&&e.parentNode.removeChild(e),t!=null&&(Hp=t,Gp=t===0)}function ba(){return Gp==null&&dS(),Gp}var mA=Object.freeze({__proto__:null,isBrowserSafari:Ai,getSafariVersion:qh,isBrowserChrome:Cc,isBrowserFirefox:Xh,isMacOsUserAgent:Qh,isIOSUserAgent:wn,browserSupportsPreventScroll:wc,getTabIndex:Ou,getMaxDivHeight:aS,getBodyWidth:lS,getBodyHeight:uS,getScrollbarWidth:cS,isInvisibleScrollbar:ba});function Bo(n,e){return n.toString().padStart(e,"0")}function pS(n,e){for(var t=[],i=n;i<=e;i++)t.push(i);return t}function CA(n){return typeof n=="string"&&(n=parseInt(n,10)),typeof n=="number"?Math.floor(n):null}function wA(n,e){for(var t="",i=0;i<e;i++)t+=String.fromCharCode(n&255),n>>>=8;return t}function SA(n,e,t){return typeof n!="number"?"":Jh(Math.round(n*100)/100,e,t)}function Jh(n,e,t){return typeof n!="number"?"":n.toString().replace(".",t).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+e)}function _A(n){return n==null?null:n.reduce(function(e,t){return e+t},0)}function EA(n,e){return n>=0?n:e}function bA(n,e){var t=parseInt(n,10);return!isNaN(t)&&isFinite(t)&&t>0?t:e}var RA=Object.freeze({__proto__:null,padStartWidthZeros:Bo,createArrayOfNumbers:pS,cleanNumber:CA,decToHex:wA,formatNumberTwoDecimalPlacesAndCommas:SA,formatNumberCommas:Jh,sum:_A,zeroOrGreater:EA,oneOrGreater:bA}),hd=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o};function Pi(n,e,t){if(e===void 0&&(e=!0),t===void 0&&(t="-"),!n)return null;var i=[n.getFullYear(),n.getMonth()+1,n.getDate()].map(function(r){return Bo(r,2)}).join(t);return e&&(i+=" "+[n.getHours(),n.getMinutes(),n.getSeconds()].map(function(r){return Bo(r,2)}).join(":")),i}var fd=function(n){if(n>3&&n<21)return"th";var e=n%10;switch(e){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function jo(n,e){e===void 0&&(e="YYYY-MM-DD");var t=Bo(n.getFullYear(),4),i=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o={YYYY:function(){return t.slice(t.length-4,t.length)},YY:function(){return t.slice(t.length-2,t.length)},Y:function(){return""+n.getFullYear()},MMMM:function(){return i[n.getMonth()]},MMM:function(){return i[n.getMonth()].slice(0,3)},MM:function(){return Bo(n.getMonth()+1,2)},Mo:function(){return""+(n.getMonth()+1)+fd(n.getMonth()+1)},M:function(){return""+(n.getMonth()+1)},Do:function(){return""+n.getDate()+fd(n.getDate())},DD:function(){return Bo(n.getDate(),2)},D:function(){return""+n.getDate()},dddd:function(){return r[n.getDay()]},ddd:function(){return r[n.getDay()].slice(0,3)},dd:function(){return r[n.getDay()].slice(0,2)},do:function(){return""+n.getDay()+fd(n.getDay())},d:function(){return""+n.getDay()}},s=new RegExp(Object.keys(o).join("|"),"g");return e.replace(s,function(a){return a in o?o[a]():a})}function ii(n){if(!n)return null;var e=hd(n.split(" "),2),t=e[0],i=e[1];if(!t)return null;var r=t.split("-").map(function(f){return parseInt(f,10)});if(r.filter(function(f){return!isNaN(f)}).length!==3)return null;var o=hd(r,3),s=o[0],a=o[1],l=o[2],u=new Date(s,a-1,l);if(u.getFullYear()!==s||u.getMonth()!==a-1||u.getDate()!==l)return null;if(!i||i==="00:00:00")return u;var c=hd(i.split(":").map(function(f){return parseInt(f,10)}),3),d=c[0],p=c[1],h=c[2];return d>=0&&d<24&&u.setHours(d),p>=0&&p<60&&u.setMinutes(p),h>=0&&h<60&&u.setSeconds(h),u}var OA=Object.freeze({__proto__:null,serialiseDate:Pi,dateToFormattedString:jo,parseDateTimeFromString:ii}),TA=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xA=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},cl;function Vp(n,e,t){for(var i=n.parentElement,r=i&&i.firstChild;r;)e&&r.classList.toggle(e,r===n),t&&r.classList.toggle(t,r!==n),r=r.nextSibling}var hS="[tabindex], input, select, button, textarea, [href]",Zh=".ag-hidden, .ag-hidden *, [disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function tf(n){var e=Element.prototype.matches||Element.prototype.msMatchesSelector,t="input, select, button, textarea",i=e.call(n,t),r=e.call(n,Zh),o=_n(n),s=i&&!r&&o;return s}function Tt(n,e,t){t===void 0&&(t={});var i=t.skipAriaHidden;n.classList.toggle("ag-hidden",!e),i||yc(n,!e)}function fS(n,e,t){t===void 0&&(t={});var i=t.skipAriaHidden;n.classList.toggle("ag-invisible",!e),i||yc(n,!e)}function Ko(n,e){var t="disabled",i=e?function(r){return r.setAttribute(t,"")}:function(r){return r.removeAttribute(t)};i(n),af(n.querySelectorAll("input"),function(r){return i(r)})}function Qn(n,e,t){for(var i=0;n;){if(n.classList.contains(e))return!0;if(n=n.parentElement,typeof t=="number"){if(++i>t)break}else if(n===t)break}return!1}function Sn(n){var e=window.getComputedStyle(n),t=e.height,i=e.width,r=e.borderTopWidth,o=e.borderRightWidth,s=e.borderBottomWidth,a=e.borderLeftWidth,l=e.paddingTop,u=e.paddingRight,c=e.paddingBottom,d=e.paddingLeft,p=e.marginTop,h=e.marginRight,f=e.marginBottom,g=e.marginLeft,v=e.boxSizing;return{height:parseFloat(t),width:parseFloat(i),borderTopWidth:parseFloat(r),borderRightWidth:parseFloat(o),borderBottomWidth:parseFloat(s),borderLeftWidth:parseFloat(a),paddingTop:parseFloat(l),paddingRight:parseFloat(u),paddingBottom:parseFloat(c),paddingLeft:parseFloat(d),marginTop:parseFloat(p),marginRight:parseFloat(h),marginBottom:parseFloat(f),marginLeft:parseFloat(g),boxSizing:v}}function Ha(n){var e=Sn(n);return e.boxSizing==="border-box"?e.height-e.paddingTop-e.paddingBottom:e.height}function Sc(n){var e=Sn(n);return e.boxSizing==="border-box"?e.width-e.paddingLeft-e.paddingRight:e.width}function ef(n){var e=Sn(n),t=e.marginBottom+e.marginTop;return Math.ceil(n.offsetHeight+t)}function Ra(n){var e=Sn(n),t=e.marginLeft+e.marginRight;return Math.ceil(n.offsetWidth+t)}function rf(n){var e=n.getBoundingClientRect(),t=Sn(n),i=t.borderTopWidth,r=t.borderLeftWidth,o=t.borderRightWidth,s=t.borderBottomWidth;return{top:e.top+(i||0),left:e.left+(r||0),right:e.right+(o||0),bottom:e.bottom+(s||0)}}function Oa(){if(typeof cl=="boolean")return cl;var n=document.createElement("div");return n.style.direction="rtl",n.style.width="1px",n.style.height="1px",n.style.position="fixed",n.style.top="0px",n.style.overflow="hidden",n.dir="rtl",n.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(n),n.scrollLeft=1,cl=Math.floor(n.scrollLeft)===0,document.body.removeChild(n),cl}function Ta(n,e){var t=n.scrollLeft;return e&&(t=Math.abs(t),Cc()&&!Oa()&&(t=n.scrollWidth-n.clientWidth-t)),t}function xa(n,e,t){t&&(Oa()?e*=-1:(Ai()||Cc())&&(e=n.scrollWidth-n.clientWidth-e)),n.scrollLeft=e}function Ve(n){for(;n&&n.firstChild;)n.removeChild(n.firstChild)}function PA(n,e){Pr(n.querySelector(e))}function Pr(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function _n(n){return n.offsetParent!==null}function Pe(n){var e=document.createElement("div");return e.innerHTML=(n||"").trim(),e.firstChild}function DA(n,e){n.lastChild?n.insertAdjacentHTML("afterbegin",e):n.innerHTML=e}function AA(n,e){if(n.attributes&&n.attributes[e]){var t=n.attributes[e];return t.value}return null}function kp(n){return n&&n.clientHeight?n.clientHeight:0}function Bp(n){return n&&n.clientWidth?n.clientWidth:0}function nf(n,e,t){if(!(t&&t.nextSibling===e)){var i=document.activeElement,r=e.contains(i);t?t.nextSibling?n.insertBefore(e,t.nextSibling):n.appendChild(e):n.firstChild&&n.firstChild!==e&&n.insertAdjacentElement("afterbegin",e),r&&i&&wc()&&i.focus({preventScroll:!0})}}function of(n,e){for(var t=0;t<e.length;t++){var i=e[t],r=n.children[t];r!==i&&n.insertBefore(i,r)}}function gS(n,e,t){t?t.insertAdjacentElement("afterend",e):n.firstChild?n.insertAdjacentElement("afterbegin",e):n.appendChild(e)}function FA(n,e){N(n.firstChild)?n.insertBefore(e,n.firstChild):n.appendChild(e)}function sf(n,e){var t,i;if(e)try{for(var r=TA(Object.entries(e)),o=r.next();!o.done;o=r.next()){var s=xA(o.value,2),a=s[0],l=s[1];if(!(!a||!a.length||l==null)){var u=jw(a),c=l.toString(),d=c.replace(/\s*!important/g,""),p=d.length!=c.length?"important":void 0;n.style.setProperty(u,d,p)}}}catch(h){t={error:h}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(t)throw t.error}}}function vS(n){return n.clientWidth<n.scrollWidth}function yS(n){return n.clientHeight<n.scrollHeight}function Pa(n,e){e==="flex"?(n.style.removeProperty("width"),n.style.removeProperty("minWidth"),n.style.removeProperty("maxWidth"),n.style.flex="1 1 auto"):Di(n,e)}function Di(n,e){e=_c(e),n.style.width=e.toString(),n.style.maxWidth=e.toString(),n.style.minWidth=e.toString()}function MA(n,e){e==="flex"?(n.style.removeProperty("height"),n.style.removeProperty("minHeight"),n.style.removeProperty("maxHeight"),n.style.flex="1 1 auto"):Jn(n,e)}function Jn(n,e){e=_c(e),n.style.height=e.toString(),n.style.maxHeight=e.toString(),n.style.minHeight=e.toString()}function _c(n){return typeof n=="number"?n+"px":n}function Va(n){return n instanceof Node||n instanceof HTMLElement}function mS(n){if(n==null)return[];var e=[];return af(n,function(t){return e.push(t)}),e}function CS(n,e){if(n)for(var t=0;t<n.length;t++){var i=n[t];e(i.name,i.value)}}function hr(n,e,t){t==null?n.removeAttribute(e):n.setAttribute(e,t.toString())}function af(n,e){if(n!=null)for(var t=0;t<n.length;t++)e(n[t])}function lf(n,e){n.then(function(t){var i=t.getGui();i!=null&&(typeof i=="object"?e.appendChild(i):e.innerHTML=i)})}var LA=Object.freeze({__proto__:null,radioCssClass:Vp,FOCUSABLE_SELECTOR:hS,FOCUSABLE_EXCLUDE:Zh,isFocusableFormField:tf,setDisplayed:Tt,setVisible:fS,setDisabled:Ko,isElementChildOfClass:Qn,getElementSize:Sn,getInnerHeight:Ha,getInnerWidth:Sc,getAbsoluteHeight:ef,getAbsoluteWidth:Ra,getElementRectWithOffset:rf,isRtlNegativeScroll:Oa,getScrollLeft:Ta,setScrollLeft:xa,clearElement:Ve,removeElement:PA,removeFromParent:Pr,isVisible:_n,loadTemplate:Pe,appendHtml:DA,getElementAttribute:AA,offsetHeight:kp,offsetWidth:Bp,ensureDomOrder:nf,setDomChildOrder:of,insertWithDomOrder:gS,prependDC:FA,addStylesToElement:sf,isHorizontalScrollShowing:vS,isVerticalScrollShowing:yS,setElementWidth:Pa,setFixedWidth:Di,setElementHeight:MA,setFixedHeight:Jn,formatSize:_c,isNodeOrElement:Va,copyNodeList:mS,iterateNamedNodeMap:CS,addOrRemoveAttribute:hr,nodeListForEach:af,bindCellRendererToHtmlElement:lf}),wS={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus"};function _i(n,e,t){var i=ae(n,e,t);if(i){var r=i.className;if(typeof r=="string"&&r.indexOf("ag-icon")>-1||typeof r=="object"&&r["ag-icon"])return i}var o=document.createElement("span");return o.appendChild(i),o}function ae(n,e,t,i){var r=null,o=t&&t.getColDef().icons;if(o&&(r=o[n]),e&&!r){var s=e.get("icons");s&&(r=s[n])}if(r){var a=void 0;if(typeof r=="function")a=r();else if(typeof r=="string")a=r;else throw new Error("icon from grid options needs to be a string or a function");if(typeof a=="string")return Pe(a);if(Va(a))return a;console.warn("AG Grid: iconRenderer should return back a string or a dom object")}else{var l=document.createElement("span"),u=wS[n];return u||(i?u=n:(console.warn("AG Grid: Did not find icon "+n),u="")),l.setAttribute("class","ag-icon ag-icon-"+u),l.setAttribute("unselectable","on"),Ce(l,"presentation"),l}}var IA=Object.freeze({__proto__:null,iconNameClassMap:wS,createIcon:_i,createIconNoSpan:ae}),A=function(){function n(){}return n.BACKSPACE="Backspace",n.TAB="Tab",n.ENTER="Enter",n.ESCAPE="Escape",n.SPACE=" ",n.LEFT="ArrowLeft",n.UP="ArrowUp",n.RIGHT="ArrowRight",n.DOWN="ArrowDown",n.DELETE="Delete",n.F2="F2",n.PAGE_UP="PageUp",n.PAGE_DOWN="PageDown",n.PAGE_HOME="Home",n.PAGE_END="End",n.A="KeyA",n.C="KeyC",n.D="KeyD",n.V="KeyV",n.X="KeyX",n.Y="KeyY",n.Z="KeyZ",n}(),NA=65,GA=67,HA=86,VA=68,kA=90,BA=89;function Ec(n){if(n.altKey||n.ctrlKey||n.metaKey)return!1;var e=n.key.length===1;return e}function Tu(n,e,t,i,r){var o=i?i.getColDef().suppressKeyboardEvent:void 0;if(!o)return!1;var s={event:e,editing:r,column:i,api:n.api,node:t,data:t.data,colDef:i.getColDef(),context:n.context,columnApi:n.columnApi};if(o){var a=o(s);if(a)return!0}return!1}function SS(n,e,t,i){var r=i.getDefinition(),o=r&&r.suppressHeaderKeyboardEvent;if(!N(o))return!1;var s={api:n.api,columnApi:n.columnApi,context:n.context,colDef:r,column:i,headerRowIndex:t,event:e};return!!o(s)}function _S(n){var e=n.keyCode,t;switch(e){case NA:t=A.A;break;case GA:t=A.C;break;case HA:t=A.V;break;case VA:t=A.D;break;case kA:t=A.Z;break;case BA:t=A.Y;break;default:t=n.code}return t}function ES(n,e){return e===void 0&&(e=!1),n===A.DELETE?!0:!e&&n===A.BACKSPACE?Qh():!1}var jA=Object.freeze({__proto__:null,isEventFromPrintableCharacter:Ec,isUserSuppressingKeyboardEvent:Tu,isUserSuppressingHeaderKeyboardEvent:SS,normaliseQwertyAzerty:_S,isDeleteKey:ES});function uf(n,e,t){if(t===0)return!1;var i=Math.abs(n.clientX-e.clientX),r=Math.abs(n.clientY-e.clientY);return Math.max(i,r)<=t}var WA=Object.freeze({__proto__:null,areEventsNear:uf});function UA(n,e){if(!n)return!1;for(var t=function(a,l){var u=e[a.id],c=e[l.id],d=u!==void 0,p=c!==void 0,h=d&&p,f=!d&&!p;return h?u-c:f?a.__objectId-l.__objectId:d?1:-1},i,r,o=!1,s=0;s<n.length-1;s++)if(i=n[s],r=n[s+1],t(i,r)>0){o=!0;break}return o?(n.sort(t),!0):!1}function zA(n,e){var t=[];i(n);function i(r){r&&r.forEach(function(o){if(o.group||o.hasChildren()){t.push(o.key);var s=t.join("|");e(o,s),i(o.childrenAfterGroup),t.pop()}})}}var $A=Object.freeze({__proto__:null,sortRowNodesByOrder:UA,traverseNodesWithKey:zA});function cf(n){var e=new Set;return n.forEach(function(t){return e.add(t)}),e}var KA=Object.freeze({__proto__:null,convertToSet:cf}),ce=function(){return ce=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},ce.apply(this,arguments)},YA=ce(ce(ce(ce(ce(ce(ce(ce(ce(ce(ce(ce(ce(ce(ce(ce(ce(ce({},yA),LD),mA),OA),LA),ND),SD),tA),uD),IA),jA),XD),WA),RA),mD),$A),KA),KD),gt=YA,Yo=function(){function n(e,t){e===void 0&&(e=0),t===void 0&&(t=1),this.nextValue=e,this.step=t}return n.prototype.next=function(){var e=this.nextValue;return this.nextValue+=this.step,e},n.prototype.peek=function(){return this.nextValue},n.prototype.skip=function(e){this.nextValue+=e},n}(),Po;(function(n){n[n.IN_PROGRESS=0]="IN_PROGRESS",n[n.RESOLVED=1]="RESOLVED"})(Po||(Po={}));var Hi=function(){function n(e){var t=this;this.status=Po.IN_PROGRESS,this.resolution=null,this.waiters=[],e(function(i){return t.onDone(i)},function(i){return t.onReject(i)})}return n.all=function(e){return new n(function(t){var i=e.length,r=new Array(i);e.forEach(function(o,s){o.then(function(a){r[s]=a,i--,i===0&&t(r)})})})},n.resolve=function(e){return e===void 0&&(e=null),new n(function(t){return t(e)})},n.prototype.then=function(e){var t=this;return new n(function(i){t.status===Po.RESOLVED?i(e(t.resolution)):t.waiters.push(function(r){return i(e(r))})})},n.prototype.resolveNow=function(e,t){return this.status===Po.RESOLVED?t(this.resolution):e},n.prototype.onDone=function(e){this.status=Po.RESOLVED,this.resolution=e,this.waiters.forEach(function(t){return t(e)})},n.prototype.onReject=function(e){console.warn("TBI")},n}(),qA=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),jn=function(){return jn=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},jn.apply(this,arguments)},gd=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Gi;(function(n){n[n.NOTHING=0]="NOTHING",n[n.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",n[n.SHOWING=2]="SHOWING"})(Gi||(Gi={}));var rr;(function(n){n[n.HOVER=0]="HOVER",n[n.FOCUS=1]="FOCUS"})(rr||(rr={}));var df=function(n){qA(e,n);function e(t,i,r){var o=n.call(this)||this;return o.parentComp=t,o.tooltipShowDelayOverride=i,o.tooltipHideDelayOverride=r,o.DEFAULT_SHOW_TOOLTIP_DELAY=2e3,o.DEFAULT_HIDE_TOOLTIP_DELAY=1e4,o.SHOW_QUICK_TOOLTIP_DIFF=1e3,o.FADE_OUT_TOOLTIP_TIMEOUT=1e3,o.INTERACTIVE_HIDE_DELAY=100,o.interactionEnabled=!1,o.isInteractingWithTooltip=!1,o.state=Gi.NOTHING,o.tooltipInstanceCount=0,o.tooltipMouseTrack=!1,o}return e.prototype.postConstruct=function(){this.gridOptionsService.is("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipShowDelay=this.getTooltipDelay("show"),this.tooltipHideDelay=this.getTooltipDelay("hide"),this.tooltipMouseTrack=this.gridOptionsService.is("tooltipMouseTrack");var t=this.parentComp.getGui();this.tooltipTrigger===rr.HOVER&&(this.addManagedListener(t,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(t,"mouseleave",this.onMouseLeave.bind(this))),this.tooltipTrigger===rr.FOCUS&&(this.addManagedListener(t,"focusin",this.onFocusIn.bind(this)),this.addManagedListener(t,"focusout",this.onFocusOut.bind(this))),this.addManagedListener(t,"mousemove",this.onMouseMove.bind(this)),this.interactionEnabled||(this.addManagedListener(t,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(t,"keydown",this.onKeyDown.bind(this)))},e.prototype.getGridOptionsTooltipDelay=function(t){var i=this.gridOptionsService.getNum(t);if(N(i))return i<0&&bt(function(){return console.warn("AG Grid: "+t+" should not be lower than 0")},t+"Warn"),Math.max(200,i)},e.prototype.getTooltipDelay=function(t){var i,r,o,s;return t==="show"?(r=(i=this.getGridOptionsTooltipDelay("tooltipShowDelay"))!==null&&i!==void 0?i:this.tooltipShowDelayOverride)!==null&&r!==void 0?r:this.DEFAULT_SHOW_TOOLTIP_DELAY:(s=(o=this.getGridOptionsTooltipDelay("tooltipHideDelay"))!==null&&o!==void 0?o:this.tooltipHideDelayOverride)!==null&&s!==void 0?s:this.DEFAULT_HIDE_TOOLTIP_DELAY},e.prototype.destroy=function(){this.setToDoNothing(),n.prototype.destroy.call(this)},e.prototype.getTooltipTrigger=function(){var t=this.gridOptionsService.get("tooltipTrigger");return!t||t==="hover"?rr.HOVER:rr.FOCUS},e.prototype.onMouseEnter=function(t){var i=this;this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!wn()&&(e.isLocked?this.showTooltipTimeoutId=window.setTimeout(function(){i.prepareToShowTooltip(t)},this.INTERACTIVE_HIDE_DELAY):this.prepareToShowTooltip(t))},e.prototype.onMouseMove=function(t){this.lastMouseEvent&&(this.lastMouseEvent=t),this.tooltipMouseTrack&&this.state===Gi.SHOWING&&this.tooltipComp&&this.positionTooltip()},e.prototype.onMouseDown=function(){this.setToDoNothing()},e.prototype.onMouseLeave=function(){this.interactionEnabled?this.lockService():this.setToDoNothing()},e.prototype.onFocusIn=function(){this.prepareToShowTooltip()},e.prototype.onFocusOut=function(t){var i,r=t.relatedTarget,o=this.parentComp.getGui(),s=(i=this.tooltipComp)===null||i===void 0?void 0:i.getGui();this.isInteractingWithTooltip||o.contains(r)||this.interactionEnabled&&(s!=null&&s.contains(r))||this.setToDoNothing()},e.prototype.onKeyDown=function(){this.setToDoNothing()},e.prototype.prepareToShowTooltip=function(t){if(this.state!=Gi.NOTHING||e.isLocked)return!1;var i=0;return t&&(i=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay),this.lastMouseEvent=t||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),i),this.state=Gi.WAITING_TO_SHOW,!0},e.prototype.isLastTooltipHiddenRecently=function(){var t=new Date().getTime(),i=e.lastTooltipHideTime;return t-i<this.SHOW_QUICK_TOOLTIP_DIFF},e.prototype.setToDoNothing=function(){this.state===Gi.SHOWING&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=Gi.NOTHING,this.lastMouseEvent=null},e.prototype.showTooltip=function(){var t=jn({},this.parentComp.getTooltipParams());if(!N(t.value)){this.setToDoNothing();return}this.state=Gi.SHOWING,this.tooltipInstanceCount++;var i=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount),r=this.userComponentFactory.getTooltipCompDetails(t);r.newAgStackInstance().then(i)},e.prototype.hideTooltip=function(t){if(!(!t&&this.isInteractingWithTooltip)){this.tooltipComp&&(this.destroyTooltipComp(),e.lastTooltipHideTime=new Date().getTime());var i={type:C.EVENT_TOOLTIP_HIDE,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(i),this.state=Gi.NOTHING}},e.prototype.newTooltipComponentCallback=function(t,i){var r=this.state!==Gi.SHOWING||this.tooltipInstanceCount!==t;if(r){this.getContext().destroyBean(i);return}var o=i.getGui();this.tooltipComp=i,o.classList.contains("ag-tooltip")||o.classList.add("ag-tooltip-custom"),this.tooltipTrigger===rr.HOVER&&o.classList.add("ag-tooltip-animate"),this.interactionEnabled&&o.classList.add("ag-tooltip-interactive");var s=this.localeService.getLocaleTextFunc(),a=this.popupService.addPopup({eChild:o,ariaLabel:s("ariaLabelTooltip","Tooltip")});a&&(this.tooltipPopupDestroyFunc=a.hideFunc),this.positionTooltip(),this.tooltipTrigger===rr.FOCUS&&(this.onBodyScrollEventCallback=this.addManagedListener(this.eventService,C.EVENT_BODY_SCROLL,this.setToDoNothing.bind(this)),this.onColumnMovedEventCallback=this.addManagedListener(this.eventService,C.EVENT_COLUMN_MOVED,this.setToDoNothing.bind(this))),this.interactionEnabled&&(this.tooltipTrigger===rr.HOVER?(this.tooltipMouseEnterListener=this.addManagedListener(o,"mouseenter",this.onTooltipMouseEnter.bind(this))||null,this.tooltipMouseLeaveListener=this.addManagedListener(o,"mouseleave",this.onTooltipMouseLeave.bind(this))||null):(this.tooltipFocusInListener=this.addManagedListener(o,"focusin",this.onTooltipFocusIn.bind(this))||null,this.tooltipFocusOutListener=this.addManagedListener(o,"focusout",this.onTooltipFocusOut.bind(this))||null));var l={type:C.EVENT_TOOLTIP_SHOW,tooltipGui:o,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(l),this.startHideTimeout()},e.prototype.onTooltipMouseEnter=function(){this.isInteractingWithTooltip=!0,this.unlockService()},e.prototype.onTooltipMouseLeave=function(){this.isInteractingWithTooltip=!1,this.lockService()},e.prototype.onTooltipFocusIn=function(){this.isInteractingWithTooltip=!0},e.prototype.onTooltipFocusOut=function(t){var i,r=this.parentComp.getGui(),o=(i=this.tooltipComp)===null||i===void 0?void 0:i.getGui(),s=t.relatedTarget;o!=null&&o.contains(s)||(this.isInteractingWithTooltip=!1,r.contains(s)?this.startHideTimeout():this.hideTooltip())},e.prototype.positionTooltip=function(){var t={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent(jn(jn({},t),{mouseEvent:this.lastMouseEvent})):this.popupService.positionPopupByComponent(jn(jn({},t),{eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}))},e.prototype.destroyTooltipComp=function(){var t=this;this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");var i=this.tooltipPopupDestroyFunc,r=this.tooltipComp,o=this.tooltipTrigger===rr.HOVER?this.FADE_OUT_TOOLTIP_TIMEOUT:0;window.setTimeout(function(){i(),t.getContext().destroyBean(r)},o),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},e.prototype.clearTooltipListeners=function(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(function(t){t&&t()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null},e.prototype.lockService=function(){var t=this;e.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(function(){t.unlockService(),t.setToDoNothing()},this.INTERACTIVE_HIDE_DELAY)},e.prototype.unlockService=function(){e.isLocked=!1,this.clearInteractiveTimeout()},e.prototype.startHideTimeout=function(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.tooltipHideDelay)},e.prototype.clearShowTimeout=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)},e.prototype.clearHideTimeout=function(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},e.prototype.clearInteractiveTimeout=function(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)},e.prototype.clearTimeouts=function(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()},e.isLocked=!1,gd([y("popupService")],e.prototype,"popupService",void 0),gd([y("userComponentFactory")],e.prototype,"userComponentFactory",void 0),gd([U],e.prototype,"postConstruct",null),e}(j),XA=function(){function n(e){this.cssClassStates={},this.getGui=e}return n.prototype.addCssClass=function(e){var t=this,i=(e||"").split(" ");if(i.length>1){i.forEach(function(s){return t.addCssClass(s)});return}var r=this.cssClassStates[e]!==!0;if(r&&e.length){var o=this.getGui();o&&o.classList.add(e),this.cssClassStates[e]=!0}},n.prototype.removeCssClass=function(e){var t=this,i=(e||"").split(" ");if(i.length>1){i.forEach(function(s){return t.removeCssClass(s)});return}var r=this.cssClassStates[e]!==!1;if(r&&e.length){var o=this.getGui();o&&o.classList.remove(e),this.cssClassStates[e]=!1}},n.prototype.containsCssClass=function(e){var t=this.getGui();return t?t.classList.contains(e):!1},n.prototype.addOrRemoveCssClass=function(e,t){var i=this;if(e){if(e.indexOf(" ")>=0){var r=(e||"").split(" ");if(r.length>1){r.forEach(function(a){return i.addOrRemoveCssClass(a,t)});return}}var o=this.cssClassStates[e]!==t;if(o&&e.length){var s=this.getGui();s&&s.classList.toggle(e,t),this.cssClassStates[e]=t}}},n}(),QA=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),vd=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},JA=new Yo,wt=function(n){QA(e,n);function e(t){var i=n.call(this)||this;return i.displayed=!0,i.visible=!0,i.compId=JA.next(),i.cssClassManager=new XA(function(){return i.eGui}),t&&i.setTemplate(t),i}return e.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsService.is("enableBrowserTooltips")},e.prototype.getCompId=function(){return this.compId},e.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},e.prototype.setTooltip=function(t,i,r){var o=this,s=function(){o.usingBrowserTooltips?o.getGui().removeAttribute("title"):o.tooltipFeature=o.destroyBean(o.tooltipFeature)},a=function(){o.usingBrowserTooltips?o.getGui().setAttribute("title",o.tooltipText):o.tooltipFeature=o.createBean(new df(o,i,r))};this.tooltipText!=t&&(this.tooltipText&&s(),t!=null&&(this.tooltipText=t,this.tooltipText&&a()))},e.prototype.createChildComponentsFromTags=function(t,i){var r=this,o=mS(t.childNodes);o.forEach(function(s){if(s instanceof HTMLElement){var a=r.createComponentFromElement(s,function(u){var c=u.getGui();c&&r.copyAttributesFromNode(s,u.getGui())},i);if(a){if(a.addItems&&s.children.length){r.createChildComponentsFromTags(s,i);var l=Array.prototype.slice.call(s.children);a.addItems(l)}r.swapComponentForNode(a,t,s)}else s.childNodes&&r.createChildComponentsFromTags(s,i)}})},e.prototype.createComponentFromElement=function(t,i,r){var o=t.nodeName,s=r?r[t.getAttribute("ref")]:void 0,a=this.agStackComponentsRegistry.getComponentClass(o);if(a){e.elementGettingCreated=t;var l=new a(s);return l.setParentComponent(this),this.createBean(l,null,i),l}return null},e.prototype.copyAttributesFromNode=function(t,i){CS(t.attributes,function(r,o){return i.setAttribute(r,o)})},e.prototype.swapComponentForNode=function(t,i,r){var o=t.getGui();i.replaceChild(o,r),i.insertBefore(document.createComment(r.nodeName),o),this.addDestroyFunc(this.destroyBean.bind(this,t)),this.swapInComponentForQuerySelectors(t,r)},e.prototype.swapInComponentForQuerySelectors=function(t,i){var r=this;this.iterateOverQuerySelectors(function(o){r[o.attributeName]===i&&(r[o.attributeName]=t)})},e.prototype.iterateOverQuerySelectors=function(t){for(var i=Object.getPrototypeOf(this);i!=null;){var r=i.__agComponentMetaData,o=fc(i.constructor);r&&r[o]&&r[o].querySelectors&&r[o].querySelectors.forEach(function(s){return t(s)}),i=Object.getPrototypeOf(i)}},e.prototype.activateTabIndex=function(t){var i=this.gridOptionsService.getNum("tabIndex")||0;t||(t=[]),t.length||t.push(this.getGui()),t.forEach(function(r){return r.setAttribute("tabindex",i.toString())})},e.prototype.setTemplate=function(t,i){var r=Pe(t);this.setTemplateFromElement(r,i)},e.prototype.setTemplateFromElement=function(t,i){this.eGui=t,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),i)},e.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},e.prototype.wireQuerySelectors=function(){var t=this;if(this.eGui){var i=this;this.iterateOverQuerySelectors(function(r){var o=function(l){return i[r.attributeName]=l},s=r.refSelector&&t.getAttribute("ref")===r.refSelector;if(s)o(t.eGui);else{var a=t.eGui.querySelector(r.querySelector);a&&o(a.__agComponent||a)}})}},e.prototype.getGui=function(){return this.eGui},e.prototype.getFocusableElement=function(){return this.eGui},e.prototype.getAriaElement=function(){return this.getFocusableElement()},e.prototype.setParentComponent=function(t){this.parentComponent=t},e.prototype.getParentComponent=function(){return this.parentComponent},e.prototype.setGui=function(t){this.eGui=t},e.prototype.queryForHtmlElement=function(t){return this.eGui.querySelector(t)},e.prototype.queryForHtmlInputElement=function(t){return this.eGui.querySelector(t)},e.prototype.appendChild=function(t,i){if(t!=null)if(i||(i=this.eGui),Va(t))i.appendChild(t);else{var r=t;i.appendChild(r.getGui())}},e.prototype.isDisplayed=function(){return this.displayed},e.prototype.setVisible=function(t,i){if(i===void 0&&(i={}),t!==this.visible){this.visible=t;var r=i.skipAriaHidden;fS(this.eGui,t,{skipAriaHidden:r})}},e.prototype.setDisplayed=function(t,i){if(i===void 0&&(i={}),t!==this.displayed){this.displayed=t;var r=i.skipAriaHidden;Tt(this.eGui,t,{skipAriaHidden:r});var o={type:e.EVENT_DISPLAYED_CHANGED,visible:this.displayed};this.dispatchEvent(o)}},e.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.parentComponent&&(this.parentComponent=void 0);var t=this.eGui;t&&t.__agComponent&&(t.__agComponent=void 0),n.prototype.destroy.call(this)},e.prototype.addGuiEventListener=function(t,i,r){var o=this;this.eGui.addEventListener(t,i,r),this.addDestroyFunc(function(){return o.eGui.removeEventListener(t,i)})},e.prototype.addCssClass=function(t){this.cssClassManager.addCssClass(t)},e.prototype.removeCssClass=function(t){this.cssClassManager.removeCssClass(t)},e.prototype.containsCssClass=function(t){return this.cssClassManager.containsCssClass(t)},e.prototype.addOrRemoveCssClass=function(t,i){this.cssClassManager.addOrRemoveCssClass(t,i)},e.prototype.getAttribute=function(t){var i=this.eGui;return i?i.getAttribute(t):null},e.prototype.getRefElement=function(t){return this.queryForHtmlElement('[ref="'+t+'"]')},e.EVENT_DISPLAYED_CHANGED="displayedChanged",vd([y("agStackComponentsRegistry")],e.prototype,"agStackComponentsRegistry",void 0),vd([Wv],e.prototype,"preConstructOnComponent",null),vd([Wv],e.prototype,"createChildComponentsPreConstruct",null),e}(j);function K(n){return ZA.bind(this,"[ref="+n+"]",n)}function ZA(n,e,t,i,r){if(n===null){console.error("AG Grid: QuerySelector selector should not be null");return}if(typeof r=="number"){console.error("AG Grid: QuerySelector should be on an attribute");return}tF(t,"querySelectors",{attributeName:i,querySelector:n,refSelector:e})}function tF(n,e,t){var i=eF(n,fc(n.constructor));i[e]||(i[e]=[]),i[e].push(t)}function eF(n,e){return n.__agComponentMetaData||(n.__agComponentMetaData={}),n.__agComponentMetaData[e]||(n.__agComponentMetaData[e]={}),n.__agComponentMetaData[e]}var iF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),qv=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},rF=function(n){iF(e,n);function e(){return n.call(this,`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>
            </div>`)||this}return e.prototype.destroy=function(){n.prototype.destroy.call(this)},e.prototype.init=function(t){this.params=t;var i=this.columnModel.getDisplayNameForColumn(t.column,"header",!0),r=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(i+" "+r("ariaFilterInput","Filter Input"))},e.prototype.onParentModelChanged=function(t){var i=this;if(!t){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(function(r){if(r.getModelAsString){var o=r.getModelAsString(t);i.eFloatingFilterText.setValue(o)}})},e.prototype.onParamsUpdated=function(t){this.init(t)},qv([K("eFloatingFilterText")],e.prototype,"eFloatingFilterText",void 0),qv([y("columnModel")],e.prototype,"columnModel",void 0),e}(wt),bS=function(){function n(e,t,i,r){var o=this;this.alive=!0,this.context=e,this.eParent=r;var s=t.getDateCompDetails(i),a=s.newAgStackInstance();a.then(function(l){if(!o.alive){e.destroyBean(l);return}o.dateComp=l,l&&(r.appendChild(l.getGui()),l.afterGuiAttached&&l.afterGuiAttached(),o.tempValue&&l.setDate(o.tempValue),o.disabled!=null&&o.setDateCompDisabled(o.disabled))})}return n.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},n.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},n.prototype.setDate=function(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e},n.prototype.setDisabled=function(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e},n.prototype.setDisplayed=function(e){Tt(this.eParent,e)},n.prototype.setInputPlaceholder=function(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)},n.prototype.setInputAriaLabel=function(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)},n.prototype.afterGuiAttached=function(e){this.dateComp&&typeof this.dateComp.afterGuiAttached=="function"&&this.dateComp.afterGuiAttached(e)},n.prototype.updateParams=function(e){var t;!((t=this.dateComp)===null||t===void 0)&&t.onParamsUpdated&&typeof this.dateComp.onParamsUpdated=="function"&&this.dateComp.onParamsUpdated(e)},n.prototype.setDateCompDisabled=function(e){this.dateComp!=null&&this.dateComp.setDisabled!=null&&this.dateComp.setDisabled(e)},n}(),RS=function(){function n(){this.customFilterOptions={}}return n.prototype.init=function(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)},n.prototype.getFilterOptions=function(){return this.filterOptions},n.prototype.mapCustomOptions=function(){var e=this;this.filterOptions&&this.filterOptions.forEach(function(t){if(typeof t!="string"){var i=[["displayKey"],["displayName"],["predicate","test"]],r=function(o){return o.some(function(s){return t[s]!=null})?!0:(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '"+o+"'"),!1)};if(!i.every(r)){e.filterOptions=e.filterOptions.filter(function(o){return o===t})||[];return}e.customFilterOptions[t.displayKey]=t}})},n.prototype.selectDefaultItem=function(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){var t=this.filterOptions[0];typeof t=="string"?this.defaultOption=t:t.displayKey?this.defaultOption=t.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},n.prototype.getDefaultOption=function(){return this.defaultOption},n.prototype.getCustomOption=function(e){return this.customFilterOptions[e]},n}(),OS={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},nF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),jp=function(){return jp=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},jp.apply(this,arguments)},Xv=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},En=function(n){nF(e,n);function e(t,i){i===void 0&&(i={});var r=n.call(this)||this;return r.eFocusableElement=t,r.callbacks=i,r.callbacks=jp({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(o){if(!o.defaultPrevented){var s=r.focusService.findNextFocusableElement(r.eFocusableElement,!1,o.shiftKey);s&&(s.focus(),o.preventDefault())}}},i),r}return e.prototype.postConstruct=function(){this.eFocusableElement.classList.add(e.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},e.prototype.addKeyDownListeners=function(t){var i=this;this.addManagedListener(t,"keydown",function(r){if(!(r.defaultPrevented||Ui(r))){if(i.callbacks.shouldStopEventPropagation(r)){gr(r);return}r.key===A.TAB?i.callbacks.onTabKeyDown(r):i.callbacks.handleKeyDown&&i.callbacks.handleKeyDown(r)}})},e.FOCUS_MANAGED_CLASS="ag-focus-managed",Xv([y("focusService")],e.prototype,"focusService",void 0),Xv([U],e.prototype,"postConstruct",null),e}(j),oF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),yd=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},TS="ag-resizer-wrapper",sF='<div class="'+TS+`">
        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>
        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>
        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>
        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>
        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>
        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>
        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>
        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>
    </div>`,xS=function(n){oF(e,n);function e(t,i){var r=n.call(this)||this;return r.element=t,r.dragStartPosition={x:0,y:0},r.position={x:0,y:0},r.lastSize={width:-1,height:-1},r.positioned=!1,r.resizersAdded=!1,r.resizeListeners=[],r.boundaryEl=null,r.isResizing=!1,r.isMoving=!1,r.resizable={},r.movable=!1,r.currentResizer=null,r.config=Object.assign({},{popup:!1},i),r}return e.prototype.center=function(){var t=this.offsetParent,i=t.clientHeight,r=t.clientWidth,o=r/2-this.getWidth()/2,s=i/2-this.getHeight()/2;this.offsetElement(o,s)},e.prototype.initialisePosition=function(){if(!this.positioned){var t=this.config,i=t.centered,r=t.forcePopupParentAsOffsetParent,o=t.minWidth,s=t.width,a=t.minHeight,l=t.height,u=t.x,c=t.y;this.offsetParent||this.setOffsetParent();var d=0,p=0,h=!!this.element.offsetParent;if(h){var f=this.findBoundaryElement(),g=window.getComputedStyle(f);if(g.minWidth!=null){var v=f.offsetWidth-this.element.offsetWidth;p=parseInt(g.minWidth,10)-v}if(g.minHeight!=null){var m=f.offsetHeight-this.element.offsetHeight;d=parseInt(g.minHeight,10)-m}}if(this.minHeight=a||d,this.minWidth=o||p,s&&this.setWidth(s),l&&this.setHeight(l),(!s||!l)&&this.refreshSize(),i)this.center();else if(u||c)this.offsetElement(u,c);else if(h&&r){var f=this.boundaryEl,w=!0;if(f||(f=this.findBoundaryElement(),w=!1),f){var b=parseFloat(f.style.top),E=parseFloat(f.style.left);w?this.offsetElement(isNaN(E)?0:E,isNaN(b)?0:b):this.setPosition(E,b)}}this.positioned=!!this.offsetParent}},e.prototype.isPositioned=function(){return this.positioned},e.prototype.getPosition=function(){return this.position},e.prototype.setMovable=function(t,i){if(!(!this.config.popup||t===this.movable)){this.movable=t;var r=this.moveElementDragListener||{eElement:i,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};t?(this.dragService.addDragSource(r),this.moveElementDragListener=r):(this.dragService.removeDragSource(r),this.moveElementDragListener=void 0)}},e.prototype.setResizable=function(t){var i=this;if(this.clearResizeListeners(),t?this.addResizers():this.removeResizers(),typeof t=="boolean"){if(t===!1)return;t={topLeft:t,top:t,topRight:t,right:t,bottomRight:t,bottom:t,bottomLeft:t,left:t}}Object.keys(t).forEach(function(r){var o=t,s=!!o[r],a=i.getResizerElement(r),l={dragStartPixels:0,eElement:a,onDragStart:function(u){return i.onResizeStart(u,r)},onDragging:i.onResize.bind(i),onDragStop:function(u){return i.onResizeEnd(u,r)}};(s||!i.isAlive()&&!s)&&(s?(i.dragService.addDragSource(l),i.resizeListeners.push(l),a.style.pointerEvents="all"):a.style.pointerEvents="none",i.resizable[r]=s)})},e.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},e.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var t=this.lastSize,i=t.height,r=t.width;r!==-1&&(this.element.style.width=r+"px"),i!==-1&&(this.element.style.height=i+"px")},e.prototype.getHeight=function(){return this.element.offsetHeight},e.prototype.setHeight=function(t){var i=this.config.popup,r=this.element,o=!1;if(typeof t=="string"&&t.indexOf("%")!==-1)Jn(r,t),t=ef(r),o=!0;else if(t=Math.max(this.minHeight,t),this.positioned){var s=this.getAvailableHeight();s&&t>s&&(t=s)}this.getHeight()!==t&&(o?(r.style.maxHeight="unset",r.style.minHeight="unset"):i?Jn(r,t):(r.style.height=t+"px",r.style.flex="0 0 auto",this.lastSize.height=typeof t=="number"?t:parseFloat(t)))},e.prototype.getAvailableHeight=function(){var t=this.config,i=t.popup,r=t.forcePopupParentAsOffsetParent;this.positioned||this.initialisePosition();var o=this.offsetParent.clientHeight;if(!o)return null;var s=this.element.getBoundingClientRect(),a=this.offsetParent.getBoundingClientRect(),l=i?this.position.y:s.top,u=i?0:a.top,c=0;if(r){var d=this.element.parentElement;if(d){var p=d.getBoundingClientRect().bottom;c=p-s.bottom}}var h=o+u-l-c;return h},e.prototype.getWidth=function(){return this.element.offsetWidth},e.prototype.setWidth=function(t){var i=this.element,r=this.config.popup,o=!1;if(typeof t=="string"&&t.indexOf("%")!==-1)Di(i,t),t=Ra(i),o=!0;else if(this.positioned){t=Math.max(this.minWidth,t);var s=this.offsetParent.clientWidth,a=r?this.position.x:this.element.getBoundingClientRect().left;s&&t+a>s&&(t=s-a)}this.getWidth()!==t&&(o?(i.style.maxWidth="unset",i.style.minWidth="unset"):this.config.popup?Di(i,t):(i.style.width=t+"px",i.style.flex=" unset",this.lastSize.width=typeof t=="number"?t:parseFloat(t)))},e.prototype.offsetElement=function(t,i){t===void 0&&(t=0),i===void 0&&(i=0);var r=this.config.forcePopupParentAsOffsetParent,o=r?this.boundaryEl:this.element;o&&(this.popupService.positionPopup({ePopup:o,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:function(){return{x:t,y:i}}}),this.setPosition(parseFloat(o.style.left),parseFloat(o.style.top)))},e.prototype.constrainSizeToAvailableHeight=function(t){var i=this;if(this.config.forcePopupParentAsOffsetParent){var r=function(){var o=i.getAvailableHeight();i.element.style.setProperty("max-height",o+"px")};t?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),r):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}},e.prototype.setPosition=function(t,i){this.position.x=t,this.position.y=i},e.prototype.updateDragStartPosition=function(t,i){this.dragStartPosition={x:t,y:i}},e.prototype.calculateMouseMovement=function(t){var i=t.e,r=t.isLeft,o=t.isTop,s=t.anywhereWithin,a=t.topBuffer,l=i.clientX-this.dragStartPosition.x,u=i.clientY-this.dragStartPosition.y,c=this.shouldSkipX(i,!!r,!!s,l)?0:l,d=this.shouldSkipY(i,!!o,a,u)?0:u;return{movementX:c,movementY:d}},e.prototype.shouldSkipX=function(t,i,r,o){var s=this.element.getBoundingClientRect(),a=this.offsetParent.getBoundingClientRect(),l=this.boundaryEl.getBoundingClientRect(),u=this.config.popup?this.position.x:s.left,c=u<=0&&a.left>=t.clientX||a.right<=t.clientX&&a.right<=l.right;return c?!0:(i?c=o<0&&t.clientX>u+a.left||o>0&&t.clientX<u+a.left:r?c=o<0&&t.clientX>l.right||o>0&&t.clientX<u+a.left:c=o<0&&t.clientX>l.right||o>0&&t.clientX<l.right,c)},e.prototype.shouldSkipY=function(t,i,r,o){r===void 0&&(r=0);var s=this.element.getBoundingClientRect(),a=this.offsetParent.getBoundingClientRect(),l=this.boundaryEl.getBoundingClientRect(),u=this.config.popup?this.position.y:s.top,c=u<=0&&a.top>=t.clientY||a.bottom<=t.clientY&&a.bottom<=l.bottom;return c?!0:(i?c=o<0&&t.clientY>u+a.top+r||o>0&&t.clientY<u+a.top:c=o<0&&t.clientY>l.bottom||o>0&&t.clientY<l.bottom,c)},e.prototype.createResizeMap=function(){var t=this.element;this.resizerMap={topLeft:{element:t.querySelector("[ref=eTopLeftResizer]")},top:{element:t.querySelector("[ref=eTopResizer]")},topRight:{element:t.querySelector("[ref=eTopRightResizer]")},right:{element:t.querySelector("[ref=eRightResizer]")},bottomRight:{element:t.querySelector("[ref=eBottomRightResizer]")},bottom:{element:t.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:t.querySelector("[ref=eBottomLeftResizer]")},left:{element:t.querySelector("[ref=eLeftResizer]")}}},e.prototype.addResizers=function(){if(!this.resizersAdded){var t=this.element;if(t){var i=new DOMParser,r=i.parseFromString(sF,"text/html").body;t.appendChild(r.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},e.prototype.removeResizers=function(){this.resizerMap=void 0;var t=this.element.querySelector("."+TS);t&&this.element.removeChild(t),this.resizersAdded=!1},e.prototype.getResizerElement=function(t){return this.resizerMap[t].element},e.prototype.onResizeStart=function(t,i){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!i.match(/top/i),isRight:!!i.match(/right/i),isBottom:!!i.match(/bottom/i),isLeft:!!i.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[i].element.classList.add("ag-active");var r=this.config,o=r.popup,s=r.forcePopupParentAsOffsetParent;!o&&!s&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(t.clientX,t.clientY)},e.prototype.getSiblings=function(){var t=this.element,i=t.parentElement;return i?Array.prototype.slice.call(i.children).filter(function(r){return!r.classList.contains("ag-hidden")}):null},e.prototype.getMinSizeOfSiblings=function(){for(var t=this.getSiblings()||[],i=0,r=0,o=0;o<t.length;o++){var s=t[o],a=!!s.style.flex&&s.style.flex!=="0 0 auto";if(s!==this.element){var l=this.minHeight||0,u=this.minWidth||0;if(a){var c=window.getComputedStyle(s);c.minHeight&&(l=parseInt(c.minHeight,10)),c.minWidth&&(u=parseInt(c.minWidth,10))}else l=s.offsetHeight,u=s.offsetWidth;i+=l,r+=u}}return{height:i,width:r}},e.prototype.applySizeToSiblings=function(t){var i=null,r=this.getSiblings();if(r){for(var o=0;o<r.length;o++){var s=r[o];s!==i&&(t?s.style.height=s.offsetHeight+"px":s.style.width=s.offsetWidth+"px",s.style.flex="0 0 auto",s===this.element&&(i=r[o+1]))}i&&(i.style.removeProperty("height"),i.style.removeProperty("min-height"),i.style.removeProperty("max-height"),i.style.flex="1 1 auto")}},e.prototype.isResizable=function(){return Object.values(this.resizable).some(function(t){return t})},e.prototype.onResize=function(t){if(!(!this.isResizing||!this.currentResizer)){var i=this.config,r=i.popup,o=i.forcePopupParentAsOffsetParent,s=this.currentResizer,a=s.isTop,l=s.isRight,u=s.isBottom,c=s.isLeft,d=l||c,p=u||a,h=this.calculateMouseMovement({e:t,isLeft:c,isTop:a}),f=h.movementX,g=h.movementY,v=this.position.x,m=this.position.y,w=0,b=0;if(d&&f){var E=c?-1:1,O=this.getWidth(),P=O+f*E,M=!1;c&&(w=O-P,(v+w<=0||P<=this.minWidth)&&(M=!0,w=0)),M||this.setWidth(P)}if(p&&g){var E=a?-1:1,D=this.getHeight(),F=D+g*E,V=!1;a?(b=D-F,(m+b<=0||F<=this.minHeight)&&(V=!0,b=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&D<F&&this.getMinSizeOfSiblings().height+F>this.element.parentElement.offsetHeight&&(V=!0),V||this.setHeight(F)}this.updateDragStartPosition(t.clientX,t.clientY),((r||o)&&w||b)&&this.offsetElement(v+w,m+b)}},e.prototype.onResizeEnd=function(t,i){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;var r={type:"resize",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi};this.element.classList.remove("ag-resizing"),this.resizerMap[i].element.classList.remove("ag-active"),this.dispatchEvent(r)},e.prototype.refreshSize=function(){var t=this.element;this.config.popup&&(this.config.width||this.setWidth(t.offsetWidth),this.config.height||this.setHeight(t.offsetHeight))},e.prototype.onMoveStart=function(t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(t.clientX,t.clientY)},e.prototype.onMove=function(t){if(this.isMoving){var i=this.position,r=i.x,o=i.y,s;this.config.calculateTopBuffer&&(s=this.config.calculateTopBuffer());var a=this.calculateMouseMovement({e:t,isTop:!0,anywhereWithin:!0,topBuffer:s}),l=a.movementX,u=a.movementY;this.offsetElement(r+l,o+u),this.updateDragStartPosition(t.clientX,t.clientY)}},e.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")},e.prototype.setOffsetParent=function(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent},e.prototype.findBoundaryElement=function(){for(var t=this.element;t;){if(window.getComputedStyle(t).position!=="static")return t;t=t.parentElement}return this.element},e.prototype.clearResizeListeners=function(){for(;this.resizeListeners.length;){var t=this.resizeListeners.pop();this.dragService.removeDragSource(t)}},e.prototype.destroy=function(){n.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()},yd([y("popupService")],e.prototype,"popupService",void 0),yd([y("resizeObserverService")],e.prototype,"resizeObserverService",void 0),yd([y("dragService")],e.prototype,"dragService",void 0),e}(j),aF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),md=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},xu=function(n){aF(e,n);function e(t){var i=n.call(this)||this;return i.filterNameKey=t,i.applyActive=!1,i.hidePopup=null,i.debouncePending=!1,i.appliedModel=null,i}return e.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new En(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new xS(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)},e.prototype.handleKeyDown=function(t){},e.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},e.prototype.isFilterActive=function(){return!!this.appliedModel},e.prototype.resetTemplate=function(t){var i=this.getGui();i&&i.removeEventListener("submit",this.onFormSubmit);var r=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-`+this.getCssIdentifier()+`-body-wrapper" ref="eFilterBody">
                    `+this.createBodyTemplate()+`
                </div>
            </form>`;this.setTemplate(r,t),i=this.getGui(),i&&i.addEventListener("submit",this.onFormSubmit)},e.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},e.prototype.init=function(t){var i=this;this.setParams(t),this.resetUiToDefaults(!0).then(function(){i.updateUiVisibility(),i.setupOnBtApplyDebounce()})},e.prototype.setParams=function(t){this.providedFilterParams=t,this.applyActive=e.isUseApplyButton(t),this.createButtonPanel()},e.prototype.createButtonPanel=function(){var t=this,i=this.providedFilterParams.buttons;if(!(!i||i.length<1||this.isReadOnly())){var r=document.createElement("div");r.classList.add("ag-filter-apply-panel");var o=function(s){var a,l;switch(s){case"apply":a=t.translate("applyFilter"),l=function(d){return t.onBtApply(!1,!1,d)};break;case"clear":a=t.translate("clearFilter"),l=function(){return t.onBtClear()};break;case"reset":a=t.translate("resetFilter"),l=function(){return t.onBtReset()};break;case"cancel":a=t.translate("cancelFilter"),l=function(d){t.onBtCancel(d)};break;default:console.warn("AG Grid: Unknown button type specified");return}var u=s==="apply"?"submit":"button",c=Pe(`<button
                    type="`+u+`"
                    ref="`+s+`FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >`+a+`
                </button>`);r.appendChild(c),t.addManagedListener(c,"click",l)};cf(i).forEach(function(s){return o(s)}),this.getGui().appendChild(r)}},e.prototype.getDefaultDebounceMs=function(){return 0},e.prototype.setupOnBtApplyDebounce=function(){var t=this,i=e.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs()),r=Vi(this.checkApplyDebounce.bind(this),i);this.onBtApplyDebounce=function(){t.debouncePending=!0,r()}},e.prototype.checkApplyDebounce=function(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())},e.prototype.getModel=function(){return this.appliedModel?this.appliedModel:null},e.prototype.setModel=function(t){var i=this,r=t!=null?this.setModelIntoUi(t):this.resetUiToDefaults();return r.then(function(){i.updateUiVisibility(),i.applyModel("api")})},e.prototype.onBtCancel=function(t){var i=this;this.resetUiToActiveModel(this.getModel(),function(){i.handleCancelEnd(t)})},e.prototype.handleCancelEnd=function(t){this.providedFilterParams.closeOnApply&&this.close(t)},e.prototype.resetUiToActiveModel=function(t,i){var r=this,o=function(){r.onUiChanged(!1,"prevent"),i==null||i()};t!=null?this.setModelIntoUi(t).then(o):this.resetUiToDefaults().then(o)},e.prototype.onBtClear=function(){var t=this;this.resetUiToDefaults().then(function(){return t.onUiChanged()})},e.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},e.prototype.applyModel=function(t){var i=this.getModelFromUi();if(!this.isModelValid(i))return!1;var r=this.appliedModel;return this.appliedModel=i,!this.areModelsEqual(r,i)},e.prototype.isModelValid=function(t){return!0},e.prototype.onFormSubmit=function(t){t.preventDefault()},e.prototype.onBtApply=function(t,i,r){if(t===void 0&&(t=!1),i===void 0&&(i=!1),r&&r.preventDefault(),this.applyModel(i?"rowDataUpdated":"ui")){var o="columnFilter";this.providedFilterParams.filterChangedCallback({afterFloatingFilter:t,afterDataChange:i,source:o})}var s=this.providedFilterParams.closeOnApply;s&&this.applyActive&&!t&&!i&&this.close(r)},e.prototype.onNewRowsLoaded=function(){},e.prototype.close=function(t){if(this.hidePopup){var i=t,r=i&&i.key,o;(r==="Enter"||r==="Space")&&(o={keyboardEvent:i}),this.hidePopup(o),this.hidePopup=null}},e.prototype.onUiChanged=function(t,i){if(t===void 0&&(t=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){var r=this.isModelValid(this.getModelFromUi());Ko(this.getRefElement("applyFilterButton"),!r)}t&&!i||i==="immediately"?this.onBtApply(t):(!this.applyActive&&!i||i==="debounce")&&this.onBtApplyDebounce()},e.prototype.afterGuiAttached=function(t){t&&(this.hidePopup=t.hidePopup),this.refreshFilterResizer(t==null?void 0:t.container)},e.prototype.refreshFilterResizer=function(t){if(!(!this.positionableFeature||t==="toolPanel")){var i=t==="floatingFilter",r=this,o=r.positionableFeature,s=r.gridOptionsService;i?(o.restoreLastSize(),o.setResizable(s.is("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}},e.prototype.afterGuiDetached=function(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)},e.getDebounceMs=function(t,i){return e.isUseApplyButton(t)?(t.debounceMs!=null&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):t.debounceMs!=null?t.debounceMs:i},e.isUseApplyButton=function(t){return!!t.buttons&&t.buttons.indexOf("apply")>=0},e.prototype.destroy=function(){var t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),n.prototype.destroy.call(this)},e.prototype.translate=function(t){var i=this.localeService.getLocaleTextFunc();return i(t,OS[t])},e.prototype.getCellValue=function(t){var i=this.providedFilterParams,r=i.api,o=i.colDef,s=i.column,a=i.columnApi,l=i.context;return this.providedFilterParams.valueGetter({api:r,colDef:o,column:s,columnApi:a,context:l,data:t.data,getValue:function(u){return t.data[u]},node:t})},e.prototype.getPositionableElement=function(){return this.eFilterBody},md([y("rowModel")],e.prototype,"rowModel",void 0),md([K("eFilterBody")],e.prototype,"eFilterBody",void 0),md([U],e.prototype,"postConstruct",null),e}(wt),lF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),uF=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},PS=function(n){lF(e,n);function e(t,i){var r=n.call(this,i)||this;return r.labelSeparator="",r.labelAlignment="left",r.disabled=!1,r.label="",r.config=t||{},r}return e.prototype.postConstruct=function(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");var t=this.config,i=t.labelSeparator,r=t.label,o=t.labelWidth,s=t.labelAlignment;i!=null&&this.setLabelSeparator(i),r!=null&&this.setLabel(r),o!=null&&this.setLabelWidth(o),this.setLabelAlignment(s||this.labelAlignment),this.refreshLabel()},e.prototype.refreshLabel=function(){Ve(this.eLabel),typeof this.label=="string"?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),this.label===""?(Tt(this.eLabel,!1),Ce(this.eLabel,"presentation")):(Tt(this.eLabel,!0),Ce(this.eLabel,null))},e.prototype.setLabelSeparator=function(t){return this.labelSeparator===t?this:(this.labelSeparator=t,this.label!=null&&this.refreshLabel(),this)},e.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-"+this.getCompId()+"-label",this.eLabel.id},e.prototype.getLabel=function(){return this.label},e.prototype.setLabel=function(t){return this.label===t?this:(this.label=t,this.refreshLabel(),this)},e.prototype.setLabelAlignment=function(t){var i=this.getGui(),r=i.classList;return r.toggle("ag-label-align-left",t==="left"),r.toggle("ag-label-align-right",t==="right"),r.toggle("ag-label-align-top",t==="top"),this},e.prototype.setLabelEllipsis=function(t){return this.eLabel.classList.toggle("ag-label-ellipsis",t),this},e.prototype.setLabelWidth=function(t){return this.label==null?this:(Pa(this.eLabel,t),this)},e.prototype.setDisabled=function(t){t=!!t;var i=this.getGui();return Ko(i,t),i.classList.toggle("ag-disabled",t),this.disabled=t,this},e.prototype.isDisabled=function(){return!!this.disabled},uF([U],e.prototype,"postConstruct",null),e}(wt),cF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),DS=function(n){cF(e,n);function e(t,i,r){var o=n.call(this,t,i)||this;return o.className=r,o}return e.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.className&&this.addCssClass(this.className)},e.prototype.onValueChange=function(t){var i=this;return this.addManagedListener(this,C.EVENT_FIELD_VALUE_CHANGED,function(){return t(i.getValue())}),this},e.prototype.getWidth=function(){return this.getGui().clientWidth},e.prototype.setWidth=function(t){return Di(this.getGui(),t),this},e.prototype.getPreviousValue=function(){return this.previousValue},e.prototype.getValue=function(){return this.value},e.prototype.setValue=function(t,i){return this.value===t?this:(this.previousValue=this.value,this.value=t,i||this.dispatchEvent({type:C.EVENT_FIELD_VALUE_CHANGED}),this)},e}(PS),dF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),gs=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},pF=`
    <div class="ag-picker-field" role="presentation">
        <div ref="eLabel"></div>
            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
            <div ref="eDisplayField" class="ag-picker-field-display"></div>
            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
        </div>
    </div>`,AS=function(n){dF(e,n);function e(t){var i=n.call(this,t,(t==null?void 0:t.template)||pF,t==null?void 0:t.className)||this;if(i.isPickerDisplayed=!1,i.skipClick=!1,i.pickerGap=4,i.hideCurrentPicker=null,i.ariaRole=t==null?void 0:t.ariaRole,i.onPickerFocusIn=i.onPickerFocusIn.bind(i),i.onPickerFocusOut=i.onPickerFocusOut.bind(i),!t)return i;var r=t.pickerGap,o=t.maxPickerHeight,s=t.variableWidth,a=t.minPickerWidth,l=t.maxPickerWidth;return r!=null&&(i.pickerGap=r),i.variableWidth=!!s,o!=null&&i.setPickerMaxHeight(o),a!=null&&i.setPickerMinWidth(a),l!=null&&i.setPickerMaxWidth(l),i}return e.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.setupAria();var t="ag-"+this.getCompId()+"-display";this.eDisplayField.setAttribute("id",t);var i=this.getAriaElement();qw(i,t),this.addManagedListener(i,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(this.eLabel,"mousedown",this.onLabelOrWrapperMouseDown.bind(this)),this.addManagedListener(this.eWrapper,"mousedown",this.onLabelOrWrapperMouseDown.bind(this));var r=this.config.pickerIcon;if(r){var o=ae(r,this.gridOptionsService);o&&this.eIcon.appendChild(o)}},e.prototype.setupAria=function(){var t=this.getAriaElement();t.setAttribute("tabindex",(this.gridOptionsService.getNum("tabIndex")||0).toString()),ki(t,!1),this.ariaRole&&Ce(t,this.ariaRole)},e.prototype.refreshLabel=function(){var t,i=this.getAriaElement();vc(i,(t=this.getLabelId())!==null&&t!==void 0?t:""),n.prototype.refreshLabel.call(this)},e.prototype.onLabelOrWrapperMouseDown=function(t){if(t&&(t.preventDefault(),this.getFocusableElement().focus()),this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())},e.prototype.onKeyDown=function(t){switch(t.key){case A.UP:case A.DOWN:case A.ENTER:case A.SPACE:t.preventDefault(),this.onLabelOrWrapperMouseDown();break;case A.ESCAPE:this.isPickerDisplayed&&(t.preventDefault(),t.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}},e.prototype.showPicker=function(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());var t=this.pickerComponent.getGui();t.addEventListener("focusin",this.onPickerFocusIn),t.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)},e.prototype.renderAndPositionPicker=function(){var t=this,i=this.gridOptionsService.getDocument(),r=this.pickerComponent.getGui();this.gridOptionsService.is("suppressScrollWhenPopupsAreOpen")||(this.destroyMouseWheelFunc=this.addManagedListener(i.body,"wheel",function(P){r.contains(P.target)||t.hidePicker()}));var o=this.localeService.getLocaleTextFunc(),s=this.config,a=s.pickerType,l=s.pickerAriaLabelKey,u=s.pickerAriaLabelValue,c=s.modalPicker,d=c===void 0?!0:c,p={modal:d,eChild:r,closeOnEsc:!0,closedCallback:function(){var P=i.activeElement===i.body;t.beforeHidePicker(),P&&t.isAlive()&&t.getFocusableElement().focus()},ariaLabel:o(l,u)},h=this.popupService.addPopup(p),f=this,g=f.maxPickerHeight,v=f.minPickerWidth,m=f.maxPickerWidth,w=f.pickerGap,b=f.variableWidth;b?(v&&(r.style.minWidth=v),r.style.width=_c(Ra(this.eWrapper)),m&&(r.style.maxWidth=m)):Pa(r,m??Ra(this.eWrapper));var E=g??Ha(this.popupService.getPopupParent())+"px";r.style.setProperty("max-height",E),r.style.position="absolute";var O=this.gridOptionsService.is("enableRtl")?"right":"left";return this.popupService.positionPopupByComponent({type:a,eventSource:this.eWrapper,ePopup:r,position:"under",alignSide:O,keepWithinBounds:!0,nudgeY:w}),h.hideFunc},e.prototype.beforeHidePicker=function(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);var t=this.pickerComponent.getGui();t.removeEventListener("focusin",this.onPickerFocusIn),t.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null},e.prototype.toggleExpandedStyles=function(t){if(this.isAlive()){var i=this.getAriaElement();ki(i,t),this.eWrapper.classList.toggle("ag-picker-expanded",t),this.eWrapper.classList.toggle("ag-picker-collapsed",!t)}},e.prototype.onPickerFocusIn=function(){this.togglePickerHasFocus(!0)},e.prototype.onPickerFocusOut=function(t){var i;!((i=this.pickerComponent)===null||i===void 0)&&i.getGui().contains(t.relatedTarget)||this.togglePickerHasFocus(!1)},e.prototype.togglePickerHasFocus=function(t){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",t)},e.prototype.hidePicker=function(){this.hideCurrentPicker&&this.hideCurrentPicker()},e.prototype.setAriaLabel=function(t){return Lr(this.getAriaElement(),t),this},e.prototype.setInputWidth=function(t){return Pa(this.eWrapper,t),this},e.prototype.getFocusableElement=function(){return this.eWrapper},e.prototype.setPickerGap=function(t){return this.pickerGap=t,this},e.prototype.setPickerMinWidth=function(t){return typeof t=="number"&&(t=t+"px"),this.minPickerWidth=t??void 0,this},e.prototype.setPickerMaxWidth=function(t){return typeof t=="number"&&(t=t+"px"),this.maxPickerWidth=t??void 0,this},e.prototype.setPickerMaxHeight=function(t){return typeof t=="number"&&(t=t+"px"),this.maxPickerHeight=t??void 0,this},e.prototype.destroy=function(){this.hidePicker(),n.prototype.destroy.call(this)},gs([y("popupService")],e.prototype,"popupService",void 0),gs([K("eLabel")],e.prototype,"eLabel",void 0),gs([K("eWrapper")],e.prototype,"eWrapper",void 0),gs([K("eDisplayField")],e.prototype,"eDisplayField",void 0),gs([K("eIcon")],e.prototype,"eIcon",void 0),e}(DS),hF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),fF=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Qv=function(n){hF(e,n);function e(t){t===void 0&&(t="default");var i=n.call(this,'<div class="ag-list ag-'+t+'-list" role="listbox"></div>')||this;return i.cssIdentifier=t,i.options=[],i.itemEls=[],i}return e.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},e.prototype.handleKeyDown=function(t){var i=t.key;switch(i){case A.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{var r=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(r)}break;case A.DOWN:case A.UP:var o=i===A.DOWN,s=void 0;if(t.preventDefault(),!this.highlightedEl)s=this.itemEls[o?0:this.itemEls.length-1];else{var a=this.itemEls.indexOf(this.highlightedEl),l=a+(o?1:-1);l=Math.min(Math.max(l,0),this.itemEls.length-1),s=this.itemEls[l]}this.highlightItem(s);break}},e.prototype.addOptions=function(t){var i=this;return t.forEach(function(r){return i.addOption(r)}),this},e.prototype.addOption=function(t){var i=t.value,r=t.text,o=pe(r||i);return this.options.push({value:i,text:o}),this.renderOption(i,o),this.updateIndices(),this},e.prototype.updateIndices=function(){var t=this.getGui().querySelectorAll(".ag-list-item");t.forEach(function(i,r){$h(i,r+1),zh(i,t.length)})},e.prototype.renderOption=function(t,i){var r=this,o=document.createElement("div");Ce(o,"option"),o.classList.add("ag-list-item","ag-"+this.cssIdentifier+"-list-item"),o.innerHTML="<span>"+i+"</span>",o.tabIndex=-1,this.itemEls.push(o),this.addManagedListener(o,"mouseover",function(){return r.highlightItem(o)}),this.addManagedListener(o,"mouseleave",function(){return r.clearHighlighted()}),this.addManagedListener(o,"click",function(){return r.setValue(t)}),this.getGui().appendChild(o)},e.prototype.setValue=function(t,i){if(this.value===t)return this.fireItemSelected(),this;if(t==null)return this.reset(),this;var r=this.options.findIndex(function(s){return s.value===t});if(r!==-1){var o=this.options[r];this.value=o.value,this.displayValue=o.text!=null?o.text:o.value,this.highlightItem(this.itemEls[r]),i||this.fireChangeEvent()}return this},e.prototype.setValueByIndex=function(t){return this.setValue(this.options[t].value)},e.prototype.getValue=function(){return this.value},e.prototype.getDisplayValue=function(){return this.displayValue},e.prototype.refreshHighlighted=function(){var t=this;this.clearHighlighted();var i=this.options.findIndex(function(r){return r.value===t.value});i!==-1&&this.highlightItem(this.itemEls[i])},e.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},e.prototype.highlightItem=function(t){t.offsetParent&&(this.clearHighlighted(),this.highlightedEl=t,this.highlightedEl.classList.add(e.ACTIVE_CLASS),so(this.highlightedEl,!0),this.highlightedEl.focus())},e.prototype.clearHighlighted=function(){!this.highlightedEl||!this.highlightedEl.offsetParent||(this.highlightedEl.classList.remove(e.ACTIVE_CLASS),so(this.highlightedEl,!1),this.highlightedEl=null)},e.prototype.fireChangeEvent=function(){this.dispatchEvent({type:C.EVENT_FIELD_VALUE_CHANGED}),this.fireItemSelected()},e.prototype.fireItemSelected=function(){this.dispatchEvent({type:e.EVENT_ITEM_SELECTED})},e.EVENT_ITEM_SELECTED="selectedItem",e.ACTIVE_CLASS="ag-active-item",fF([U],e.prototype,"init",null),e}(wt),gF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Wp=function(){return Wp=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Wp.apply(this,arguments)},pf=function(n){gF(e,n);function e(t){return n.call(this,Wp({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"listbox"},t))||this}return e.prototype.postConstruct=function(){var t;n.prototype.postConstruct.call(this),this.createListComponent(),this.eWrapper.tabIndex=(t=this.gridOptionsService.getNum("tabIndex"))!==null&&t!==void 0?t:0},e.prototype.createListComponent=function(){var t=this;this.listComponent=this.createBean(new Qv("select")),this.listComponent.setParentComponent(this),this.listComponent.addGuiEventListener("keydown",function(i){i.key===A.TAB&&(i.preventDefault(),i.stopImmediatePropagation(),t.getGui().dispatchEvent(new KeyboardEvent("keydown",{key:i.key,shiftKey:i.shiftKey,ctrlKey:i.ctrlKey,bubbles:!0})))}),this.listComponent.addManagedListener(this.listComponent,Qv.EVENT_ITEM_SELECTED,function(){t.hidePicker(),t.dispatchEvent({type:e.EVENT_ITEM_SELECTED})}),this.listComponent.addManagedListener(this.listComponent,C.EVENT_FIELD_VALUE_CHANGED,function(){t.listComponent&&(t.setValue(t.listComponent.getValue(),!1,!0),t.hidePicker())})},e.prototype.createPickerComponent=function(){return this.listComponent},e.prototype.showPicker=function(){this.listComponent&&(n.prototype.showPicker.call(this),this.listComponent.refreshHighlighted())},e.prototype.addOptions=function(t){var i=this;return t.forEach(function(r){return i.addOption(r)}),this},e.prototype.addOption=function(t){return this.listComponent.addOption(t),this},e.prototype.setValue=function(t,i,r){if(this.value===t||!this.listComponent)return this;r||this.listComponent.setValue(t,!0);var o=this.listComponent.getValue();return o===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),n.prototype.setValue.call(this,t,i))},e.prototype.destroy=function(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),n.prototype.destroy.call(this)},e.EVENT_ITEM_SELECTED="selectedItem",e}(AS),vF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Cd=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},un=function(n){vF(e,n);function e(t,i,r,o){r===void 0&&(r="text"),o===void 0&&(o="input");var s=n.call(this,t,`
            <div role="presentation">
                <div ref="eLabel" class="ag-input-field-label"></div>
                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <`+o+' ref="eInput" class="ag-input-field-input"></'+o+`>
                </div>
            </div>`,i)||this;return s.inputType=r,s.displayFieldTag=o,s}return e.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.setInputType(),this.eLabel.classList.add(this.className+"-label"),this.eWrapper.classList.add(this.className+"-input-wrapper"),this.eInput.classList.add(this.className+"-input"),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-"+this.getCompId()+"-input";var t=this.config,i=t.width,r=t.value;i!=null&&this.setWidth(i),r!=null&&this.setValue(r),this.addInputListeners(),this.activateTabIndex([this.eInput])},e.prototype.refreshLabel=function(){N(this.getLabel())?vc(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),n.prototype.refreshLabel.call(this)},e.prototype.addInputListeners=function(){var t=this;this.addManagedListener(this.eInput,"input",function(i){return t.setValue(i.target.value)})},e.prototype.setInputType=function(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)},e.prototype.getInputElement=function(){return this.eInput},e.prototype.setInputWidth=function(t){return Pa(this.eWrapper,t),this},e.prototype.setInputName=function(t){return this.getInputElement().setAttribute("name",t),this},e.prototype.getFocusableElement=function(){return this.eInput},e.prototype.setMaxLength=function(t){var i=this.eInput;return i.maxLength=t,this},e.prototype.setInputPlaceholder=function(t){return hr(this.eInput,"placeholder",t),this},e.prototype.setInputAriaLabel=function(t){return Lr(this.eInput,t),this},e.prototype.setDisabled=function(t){return Ko(this.eInput,t),n.prototype.setDisabled.call(this,t)},e.prototype.setAutoComplete=function(t){if(t===!0)hr(this.eInput,"autocomplete",null);else{var i=typeof t=="string"?t:"off";hr(this.eInput,"autocomplete",i)}return this},Cd([K("eLabel")],e.prototype,"eLabel",void 0),Cd([K("eWrapper")],e.prototype,"eWrapper",void 0),Cd([K("eInput")],e.prototype,"eInput",void 0),e}(DS),yF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),bc=function(n){yF(e,n);function e(t,i,r){i===void 0&&(i="ag-checkbox"),r===void 0&&(r="checkbox");var o=n.call(this,t,i,r)||this;return o.labelAlignment="right",o.selected=!1,o.readOnly=!1,o.passive=!1,o}return e.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},e.prototype.getNextValue=function(){return this.selected===void 0?!0:!this.selected},e.prototype.setPassive=function(t){this.passive=t},e.prototype.isReadOnly=function(){return this.readOnly},e.prototype.setReadOnly=function(t){this.eWrapper.classList.toggle("ag-disabled",t),this.eInput.disabled=t,this.readOnly=t},e.prototype.setDisabled=function(t){return this.eWrapper.classList.toggle("ag-disabled",t),n.prototype.setDisabled.call(this,t)},e.prototype.toggle=function(){if(!this.eInput.disabled){var t=this.isSelected(),i=this.getNextValue();this.passive?this.dispatchChange(i,t):this.setValue(i)}},e.prototype.getValue=function(){return this.isSelected()},e.prototype.setValue=function(t,i){return this.refreshSelectedClass(t),this.setSelected(t,i),this},e.prototype.setName=function(t){var i=this.getInputElement();return i.name=t,this},e.prototype.isSelected=function(){return this.selected},e.prototype.setSelected=function(t,i){this.isSelected()!==t&&(this.previousValue=this.isSelected(),t=this.selected=typeof t=="boolean"?t:void 0,this.eInput.checked=t,this.eInput.indeterminate=t===void 0,i||this.dispatchChange(this.selected,this.previousValue))},e.prototype.dispatchChange=function(t,i,r){this.dispatchEvent({type:C.EVENT_FIELD_VALUE_CHANGED,selected:t,previousValue:i,event:r});var o=this.getInputElement(),s={type:C.EVENT_CHECKBOX_CHANGED,id:o.id,name:o.name,selected:t,previousValue:i};this.eventService.dispatchEvent(s)},e.prototype.onCheckboxClick=function(t){if(!(this.passive||this.eInput.disabled)){var i=this.isSelected(),r=this.selected=t.target.checked;this.refreshSelectedClass(r),this.dispatchChange(r,i,t)}},e.prototype.refreshSelectedClass=function(t){this.eWrapper.classList.toggle("ag-checked",t===!0),this.eWrapper.classList.toggle("ag-indeterminate",t==null)},e}(un),mF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),FS=function(n){mF(e,n);function e(t){return n.call(this,t,"ag-radio-button","radio")||this}return e.prototype.isSelected=function(){return this.eInput.checked},e.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},e.prototype.addInputListeners=function(){n.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,C.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},e.prototype.onChange=function(t){t.selected&&t.name&&this.eInput.name&&this.eInput.name===t.name&&t.id&&this.eInput.id!==t.id&&this.setValue(!1,!0)},e}(bc),CF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),wF=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},SF=function(n,e){for(var t=0,i=e.length,r=n.length;t<i;t++,r++)n[r]=e[t];return n},hf=function(){function n(e,t,i){this.localeService=e,this.optionsFactory=t,this.valueFormatter=i}return n.prototype.getModelAsString=function(e){var t=this;if(!e)return null;var i=e.operator!=null,r=this.localeService.getLocaleTextFunc();if(i){var o=e,s=o.conditions;if(!s){var a=o.condition1,l=o.condition2;s=[a,l]}var u=s.map(function(m){return t.getModelAsString(m)}),c=o.operator==="AND"?"andCondition":"orCondition";return u.join(" "+r(c,OS[c])+" ")}else{if(e.type===Yt.BLANK||e.type===Yt.NOT_BLANK)return r(e.type,e.type);var d=e,p=this.optionsFactory.getCustomOption(d.type),h=p||{},f=h.displayKey,g=h.displayName,v=h.numberOfInputs;return f&&g&&v===0?(r(f,g),g):this.conditionToString(d,p)}},n.prototype.updateParams=function(e){this.optionsFactory=e.optionsFactory},n.prototype.formatValue=function(e){var t;return this.valueFormatter?(t=this.valueFormatter(e??null))!==null&&t!==void 0?t:"":String(e)},n}(),Yt=function(n){CF(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.eTypes=[],t.eJoinOperatorPanels=[],t.eJoinOperatorsAnd=[],t.eJoinOperatorsOr=[],t.eConditionBodies=[],t.listener=function(){return t.onUiChanged()},t.lastUiCompletePosition=null,t.joinOperatorId=0,t}return e.prototype.getNumberOfInputs=function(t){var i=this.optionsFactory.getCustomOption(t);if(i){var r=i.numberOfInputs;return r??1}var o=[e.EMPTY,e.NOT_BLANK,e.BLANK];return t&&o.indexOf(t)>=0?0:t===e.IN_RANGE?2:1},e.prototype.onFloatingFilterChanged=function(t,i){this.setTypeFromFloatingFilter(t),this.setValueFromFloatingFilter(i),this.onUiChanged(!0)},e.prototype.setTypeFromFloatingFilter=function(t){var i=this;this.eTypes.forEach(function(r,o){o===0?r.setValue(t,!0):r.setValue(i.optionsFactory.getDefaultOption(),!0)})},e.prototype.getModelFromUi=function(){var t=this.getUiCompleteConditions();return t.length===0?null:this.maxNumConditions>1&&t.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:t[0],condition2:t[1],conditions:t}:t[0]},e.prototype.getConditionTypes=function(){return this.eTypes.map(function(t){return t.getValue()})},e.prototype.getConditionType=function(t){return this.eTypes[t].getValue()},e.prototype.getJoinOperator=function(){return this.eJoinOperatorsOr.length===0?this.defaultJoinOperator:this.eJoinOperatorsOr[0].getValue()===!0?"OR":"AND"},e.prototype.areModelsEqual=function(t,i){var r=this;if(!t&&!i)return!0;if(!t&&i||t&&!i)return!1;var o=!t.operator,s=!i.operator,a=!o&&s||o&&!s;if(a)return!1;var l;if(o){var u=t,c=i;l=this.areSimpleModelsEqual(u,c)}else{var d=t,p=i;l=d.operator===p.operator&&ln(d.conditions,p.conditions,function(h,f){return r.areSimpleModelsEqual(h,f)})}return l},e.prototype.setModelIntoUi=function(t){var i=this,r=t.operator;if(r){var o=t;o.conditions||(o.conditions=[o.condition1,o.condition2]);var s=this.validateAndUpdateConditions(o.conditions),a=this.getNumConditions();if(s<a)this.removeConditionsAndOperators(s);else if(s>a)for(var l=a;l<s;l++)this.createJoinOperatorPanel(),this.createOption();var u=o.operator==="OR";this.eJoinOperatorsAnd.forEach(function(d){return d.setValue(!u,!0)}),this.eJoinOperatorsOr.forEach(function(d){return d.setValue(u,!0)}),o.conditions.forEach(function(d,p){i.eTypes[p].setValue(d.type,!0),i.setConditionIntoUi(d,p)})}else{var c=t;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(c.type,!0),this.setConditionIntoUi(c,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),Hi.resolve()},e.prototype.validateAndUpdateConditions=function(t){var i=t.length;return i>this.maxNumConditions&&(t.splice(this.maxNumConditions),bt(function(){return console.warn('AG Grid: Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.')},"simpleFilterSetModelMaxNumConditions"),i=this.maxNumConditions),i},e.prototype.doesFilterPass=function(t){var i=this,r,o=this.getModel();if(o==null)return!0;var s=o.operator,a=[];if(s){var l=o;a.push.apply(a,SF([],wF((r=l.conditions)!==null&&r!==void 0?r:[])))}else a.push(o);var u=s&&s==="OR"?"some":"every";return a[u](function(c){return i.individualConditionPasses(t,c)})},e.prototype.setParams=function(t){n.prototype.setParams.call(this,t),this.setNumConditions(t),this.defaultJoinOperator=this.getDefaultJoinOperator(t.defaultJoinOperator),this.filterPlaceholder=t.filterPlaceholder,this.optionsFactory=new RS,this.optionsFactory.init(t,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")},e.prototype.setNumConditions=function(t){var i,r;t.suppressAndOrCondition!=null&&bt(function(){return console.warn('AG Grid: Since v29.2 "filterParams.suppressAndOrCondition" is deprecated. Use "filterParams.maxNumConditions = 1" instead.')},"simpleFilterSuppressAndOrCondition"),t.alwaysShowBothConditions!=null&&bt(function(){return console.warn('AG Grid: Since v29.2 "filterParams.alwaysShowBothConditions" is deprecated. Use "filterParams.numAlwaysVisibleConditions = 2" instead.')},"simpleFilterAlwaysShowBothConditions"),this.maxNumConditions=(i=t.maxNumConditions)!==null&&i!==void 0?i:t.suppressAndOrCondition?1:2,this.maxNumConditions<1&&(bt(function(){return console.warn('AG Grid: "filterParams.maxNumConditions" must be greater than or equal to zero.')},"simpleFilterMaxNumConditions"),this.maxNumConditions=1),this.numAlwaysVisibleConditions=(r=t.numAlwaysVisibleConditions)!==null&&r!==void 0?r:t.alwaysShowBothConditions?2:1,this.numAlwaysVisibleConditions<1&&(bt(function(){return console.warn('AG Grid: "filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.')},"simpleFilterNumAlwaysVisibleConditions"),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(bt(function(){return console.warn('AG Grid: "filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".')},"simpleFilterNumAlwaysVisibleGreaterThanMaxNumConditions"),this.numAlwaysVisibleConditions=this.maxNumConditions)},e.prototype.createOption=function(){var t=this,i=this.createManagedBean(new pf);this.eTypes.push(i),i.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(i.getGui());var r=this.createValueElement();this.eConditionBodies.push(r),this.eFilterBody.appendChild(r),this.putOptionsIntoDropdown(i),this.resetType(i);var o=this.getNumConditions()-1;this.forEachPositionInput(o,function(s){return t.resetInput(s)}),this.addChangedListeners(i,o)},e.prototype.createJoinOperatorPanel=function(){var t=document.createElement("div");this.eJoinOperatorPanels.push(t),t.classList.add("ag-filter-condition");var i=this.createJoinOperator(this.eJoinOperatorsAnd,t,"and"),r=this.createJoinOperator(this.eJoinOperatorsOr,t,"or");this.eFilterBody.appendChild(t);var o=this.eJoinOperatorPanels.length-1,s=this.joinOperatorId++;this.resetJoinOperatorAnd(i,o,s),this.resetJoinOperatorOr(r,o,s),this.isReadOnly()||(i.onValueChange(this.listener),r.onValueChange(this.listener))},e.prototype.createJoinOperator=function(t,i,r){var o=this.createManagedBean(new FS);return t.push(o),o.addCssClass("ag-filter-condition-operator"),o.addCssClass("ag-filter-condition-operator-"+r),i.appendChild(o.getGui()),o},e.prototype.getDefaultJoinOperator=function(t){return t==="AND"||t==="OR"?t:"AND"},e.prototype.createFilterListOptions=function(){var t=this,i=this.optionsFactory.getFilterOptions();this.filterListOptions=i.map(function(r){return typeof r=="string"?t.createBoilerplateListOption(r):t.createCustomListOption(r)})},e.prototype.putOptionsIntoDropdown=function(t){this.filterListOptions.forEach(function(i){t.addOption(i)}),t.setDisabled(this.filterListOptions.length<=1)},e.prototype.createBoilerplateListOption=function(t){return{value:t,text:this.translate(t)}},e.prototype.createCustomListOption=function(t){var i=t.displayKey,r=this.optionsFactory.getCustomOption(t.displayKey);return{value:i,text:r?this.localeService.getLocaleTextFunc()(r.displayKey,r.displayName):this.translate(i)}},e.prototype.isAllowTwoConditions=function(){return this.maxNumConditions>=2},e.prototype.createBodyTemplate=function(){return""},e.prototype.getCssIdentifier=function(){return"simple-filter"},e.prototype.updateUiVisibility=function(){var t=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,t)},e.prototype.updateNumConditions=function(){for(var t,i=-1,r=!0,o=0;o<this.getNumConditions();o++)this.isConditionUiComplete(o)?i=o:r=!1;if(this.shouldAddNewConditionAtEnd(r))this.createJoinOperatorPanel(),this.createOption();else{var s=(t=this.lastUiCompletePosition)!==null&&t!==void 0?t:this.getNumConditions()-2;if(i<s){this.removeConditionsAndOperators(s+1);var a=i+1,l=s-a;l>0&&this.removeConditionsAndOperators(a,l),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=i},e.prototype.updateConditionStatusesAndValues=function(t,i){var r=this;this.eTypes.forEach(function(s,a){var l=r.isConditionDisabled(a,t);s.setDisabled(l||r.filterListOptions.length<=1),a===1&&(Ko(r.eJoinOperatorPanels[0],l),r.eJoinOperatorsAnd[0].setDisabled(l),r.eJoinOperatorsOr[0].setDisabled(l))}),this.eConditionBodies.forEach(function(s,a){Tt(s,r.isConditionBodyVisible(a))});var o=(i??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(function(s,a){s.setValue(!o,!0)}),this.eJoinOperatorsOr.forEach(function(s,a){s.setValue(o,!0)}),this.forEachInput(function(s,a,l,u){r.setElementDisplayed(s,a<u),r.setElementDisabled(s,r.isConditionDisabled(l,t))}),this.resetPlaceholder()},e.prototype.shouldAddNewConditionAtEnd=function(t){return t&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()},e.prototype.removeConditionsAndOperators=function(t,i){if(!(t>=this.getNumConditions())){this.removeComponents(this.eTypes,t,i),this.removeElements(this.eConditionBodies,t,i),this.removeValueElements(t,i);var r=Math.max(t-1,0);this.removeElements(this.eJoinOperatorPanels,r,i),this.removeComponents(this.eJoinOperatorsAnd,r,i),this.removeComponents(this.eJoinOperatorsOr,r,i)}},e.prototype.removeElements=function(t,i,r){var o=this.removeItems(t,i,r);o.forEach(function(s){return Pr(s)})},e.prototype.removeComponents=function(t,i,r){var o=this,s=this.removeItems(t,i,r);s.forEach(function(a){Pr(a.getGui()),o.destroyBean(a)})},e.prototype.removeItems=function(t,i,r){return r==null?t.splice(i):t.splice(i,r)},e.prototype.afterGuiAttached=function(t){if(n.prototype.afterGuiAttached.call(this,t),this.resetPlaceholder(),!(t!=null&&t.suppressFocus))if(this.isReadOnly())this.eFilterBody.focus();else{var i=this.getInputs(0)[0];if(!i)return;i instanceof un&&i.getInputElement().focus()}},e.prototype.afterGuiDetached=function(){n.prototype.afterGuiDetached.call(this);var t=this.getModel();(!this.areModelsEqual(t,this.getModelFromUi())||this.hasInvalidInputs())&&this.resetUiToActiveModel(t);for(var i=-1,r=-1,o=!1,s=this.getJoinOperator(),a=this.getNumConditions()-1;a>=0;a--)if(this.isConditionUiComplete(a))i===-1&&(i=a,r=a);else{var l=a>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(a-1),u=a<i;(l||u)&&(this.removeConditionsAndOperators(a,1),o=!0,u&&r--)}var c=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),c=!0),this.shouldAddNewConditionAtEnd(r===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),c=!0),c&&this.updateConditionStatusesAndValues(r,s),o&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=r},e.prototype.getPlaceholderText=function(t,i){var r=this.translate(t);if(gc(this.filterPlaceholder)){var o=this.filterPlaceholder,s=this.eTypes[i].getValue(),a=this.translate(s);r=o({filterOptionKey:s,filterOption:a,placeholder:r})}else typeof this.filterPlaceholder=="string"&&(r=this.filterPlaceholder);return r},e.prototype.resetPlaceholder=function(){var t=this,i=this.localeService.getLocaleTextFunc();this.forEachInput(function(r,o,s,a){if(r instanceof un){var l=o===0&&a>1?"inRangeStart":o===0?"filterOoo":"inRangeEnd",u=o===0&&a>1?i("ariaFilterFromValue","Filter from value"):o===0?i("ariaFilterValue","Filter Value"):i("ariaFilterToValue","Filter to Value");r.setInputPlaceholder(t.getPlaceholderText(l,s)),r.setInputAriaLabel(u)}})},e.prototype.setElementValue=function(t,i,r){t instanceof un&&t.setValue(i!=null?String(i):null,!0)},e.prototype.setElementDisplayed=function(t,i){t instanceof wt&&Tt(t.getGui(),i)},e.prototype.setElementDisabled=function(t,i){t instanceof wt&&Ko(t.getGui(),i)},e.prototype.attachElementOnChange=function(t,i){t instanceof un&&t.onValueChange(i)},e.prototype.forEachInput=function(t){var i=this;this.getConditionTypes().forEach(function(r,o){i.forEachPositionTypeInput(o,r,t)})},e.prototype.forEachPositionInput=function(t,i){var r=this.getConditionType(t);this.forEachPositionTypeInput(t,r,i)},e.prototype.forEachPositionTypeInput=function(t,i,r){for(var o=this.getNumberOfInputs(i),s=this.getInputs(t),a=0;a<s.length;a++){var l=s[a];l!=null&&r(l,a,t,o)}},e.prototype.isConditionDisabled=function(t,i){return this.isReadOnly()?!0:t===0?!1:t>i+1},e.prototype.isConditionBodyVisible=function(t){var i=this.getConditionType(t),r=this.getNumberOfInputs(i);return r>0},e.prototype.isConditionUiComplete=function(t){if(t>=this.getNumConditions())return!1;var i=this.getConditionType(t);return!(i===e.EMPTY||this.getValues(t).some(function(r){return r==null}))},e.prototype.getNumConditions=function(){return this.eTypes.length},e.prototype.getUiCompleteConditions=function(){for(var t=[],i=0;i<this.getNumConditions();i++)this.isConditionUiComplete(i)&&t.push(this.createCondition(i));return t},e.prototype.createMissingConditionsAndOperators=function(){if(!this.isReadOnly())for(var t=this.getNumConditions();t<this.numAlwaysVisibleConditions;t++)this.createJoinOperatorPanel(),this.createOption()},e.prototype.resetUiToDefaults=function(t){var i=this;return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(function(r){return i.resetType(r)}),this.eJoinOperatorsAnd.forEach(function(r,o){return i.resetJoinOperatorAnd(r,o,i.joinOperatorId+o)}),this.eJoinOperatorsOr.forEach(function(r,o){return i.resetJoinOperatorOr(r,o,i.joinOperatorId+o)}),this.joinOperatorId++,this.forEachInput(function(r){return i.resetInput(r)}),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,t||this.onUiChanged(),Hi.resolve()},e.prototype.resetType=function(t){var i=this.localeService.getLocaleTextFunc(),r=i("ariaFilteringOperator","Filtering operator");t.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(r).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)},e.prototype.resetJoinOperatorAnd=function(t,i,r){this.resetJoinOperator(t,i,this.isDefaultOperator("AND"),this.translate("andCondition"),r)},e.prototype.resetJoinOperatorOr=function(t,i,r){this.resetJoinOperator(t,i,this.isDefaultOperator("OR"),this.translate("orCondition"),r)},e.prototype.resetJoinOperator=function(t,i,r,o,s){this.updateJoinOperatorDisabled(t.setValue(r,!0).setName("ag-simple-filter-and-or-"+this.getCompId()+"-"+s).setLabel(o),i)},e.prototype.updateJoinOperatorsDisabled=function(){var t=this;this.eJoinOperatorsAnd.forEach(function(i,r){return t.updateJoinOperatorDisabled(i,r)}),this.eJoinOperatorsOr.forEach(function(i,r){return t.updateJoinOperatorDisabled(i,r)})},e.prototype.updateJoinOperatorDisabled=function(t,i){t.setDisabled(this.isReadOnly()||i>0)},e.prototype.resetInput=function(t){this.setElementValue(t,null),this.setElementDisabled(t,this.isReadOnly())},e.prototype.setConditionIntoUi=function(t,i){var r=this,o=this.mapValuesFromModel(t);this.forEachInput(function(s,a,l,u){l===i&&r.setElementValue(s,o[a]!=null?o[a]:null)})},e.prototype.setValueFromFloatingFilter=function(t){var i=this;this.forEachInput(function(r,o,s,a){i.setElementValue(r,o===0&&s===0?t:null,!0)})},e.prototype.isDefaultOperator=function(t){return t===this.defaultJoinOperator},e.prototype.addChangedListeners=function(t,i){var r=this;this.isReadOnly()||(t.onValueChange(this.listener),this.forEachPositionInput(i,function(o){r.attachElementOnChange(o,r.listener)}))},e.prototype.individualConditionPasses=function(t,i){var r=this.getCellValue(t.node),o=this.mapValuesFromModel(i),s=this.optionsFactory.getCustomOption(i.type),a=this.evaluateCustomFilter(s,o,r);return a??(r==null?this.evaluateNullValue(i.type):this.evaluateNonNullValue(o,r,i,t))},e.prototype.evaluateCustomFilter=function(t,i,r){if(t!=null){var o=t.predicate;if(o!=null&&!i.some(function(s){return s==null}))return o(i,r)}},e.prototype.isBlank=function(t){return t==null||typeof t=="string"&&t.trim().length===0},e.prototype.hasInvalidInputs=function(){return!1},e.EMPTY="empty",e.BLANK="blank",e.NOT_BLANK="notBlank",e.EQUALS="equals",e.NOT_EQUAL="notEqual",e.LESS_THAN="lessThan",e.LESS_THAN_OR_EQUAL="lessThanOrEqual",e.GREATER_THAN="greaterThan",e.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",e.IN_RANGE="inRange",e.CONTAINS="contains",e.NOT_CONTAINS="notContains",e.STARTS_WITH="startsWith",e.ENDS_WITH="endsWith",e}(xu),_F=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),we=function(n){_F(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.setParams=function(t){n.prototype.setParams.call(this,t),this.scalarFilterParams=t},e.prototype.evaluateNullValue=function(t){switch(t){case e.EQUALS:case e.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case e.GREATER_THAN:case e.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case e.LESS_THAN:case e.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case e.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case e.BLANK:return!0;case e.NOT_BLANK:return!1}return!1},e.prototype.evaluateNonNullValue=function(t,i,r){var o=this.comparator(),s=t[0]!=null?o(t[0],i):0;switch(r.type){case e.EQUALS:return s===0;case e.NOT_EQUAL:return s!==0;case e.GREATER_THAN:return s>0;case e.GREATER_THAN_OR_EQUAL:return s>=0;case e.LESS_THAN:return s<0;case e.LESS_THAN_OR_EQUAL:return s<=0;case e.IN_RANGE:{var a=o(t[1],i);return this.scalarFilterParams.inRangeInclusive?s>=0&&a<=0:s>0&&a<0}case e.BLANK:return this.isBlank(i);case e.NOT_BLANK:return!this.isBlank(i);default:return console.warn('AG Grid: Unexpected type of filter "'+r.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}},e}(Yt),MS=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Up=function(){return Up=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Up.apply(this,arguments)},EF=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Jv=1e3,Zv=1/0,LS=function(n){MS(e,n);function e(t,i,r){var o=n.call(this,i,r)||this;return o.dateFilterParams=t,o}return e.prototype.conditionToString=function(t,i){var r=t.type,o=(i||{}).numberOfInputs,s=r==Yt.IN_RANGE||o===2,a=ii(t.dateFrom),l=ii(t.dateTo),u=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(s){var c=a!==null?jo(a,u):"null",d=l!==null?jo(l,u):"null";return c+"-"+d}return a!=null?jo(a,u):""+r},e.prototype.updateParams=function(t){n.prototype.updateParams.call(this,t),this.dateFilterParams=t.dateFilterParams},e}(hf),IS=function(n){MS(e,n);function e(){var t=n.call(this,"dateFilter")||this;return t.eConditionPanelsFrom=[],t.eConditionPanelsTo=[],t.dateConditionFromComps=[],t.dateConditionToComps=[],t.minValidYear=Jv,t.maxValidYear=Zv,t.minValidDate=null,t.maxValidDate=null,t}return e.prototype.afterGuiAttached=function(t){n.prototype.afterGuiAttached.call(this,t),this.dateConditionFromComps[0].afterGuiAttached(t)},e.prototype.mapValuesFromModel=function(t){var i=t||{},r=i.dateFrom,o=i.dateTo,s=i.type;return[r&&ii(r)||null,o&&ii(o)||null].slice(0,this.getNumberOfInputs(s))},e.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},e.prototype.defaultComparator=function(t,i){var r=i;return i==null||r<t?-1:r>t?1:0},e.prototype.setParams=function(t){this.dateFilterParams=t,n.prototype.setParams.call(this,t);var i=function(r,o){if(t[r]!=null)if(isNaN(t[r]))console.warn("AG Grid: DateFilter "+r+" is not a number");else return t[r]==null?o:Number(t[r]);return o};this.minValidYear=i("minValidYear",Jv),this.maxValidYear=i("maxValidYear",Zv),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),t.minValidDate?this.minValidDate=t.minValidDate instanceof Date?t.minValidDate:ii(t.minValidDate):this.minValidDate=null,t.maxValidDate?this.maxValidDate=t.maxValidDate instanceof Date?t.maxValidDate:ii(t.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&console.warn("AG Grid: DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new LS(this.dateFilterParams,this.localeService,this.optionsFactory)},e.prototype.createDateCompWrapper=function(t){var i=this,r=new bS(this.getContext(),this.userComponentFactory,{onDateChanged:function(){return i.onUiChanged()},filterParams:this.dateFilterParams},t);return this.addDestroyFunc(function(){return r.destroy()}),r},e.prototype.setElementValue=function(t,i){t.setDate(i)},e.prototype.setElementDisplayed=function(t,i){t.setDisplayed(i)},e.prototype.setElementDisabled=function(t,i){t.setDisabled(i)},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.createValueElement=function(){var t=document.createElement("div");return t.classList.add("ag-filter-body"),this.createFromToElement(t,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(t,this.eConditionPanelsTo,this.dateConditionToComps,"to"),t},e.prototype.createFromToElement=function(t,i,r,o){var s=document.createElement("div");s.classList.add("ag-filter-"+o),s.classList.add("ag-filter-date-"+o),i.push(s),t.appendChild(s),r.push(this.createDateCompWrapper(s))},e.prototype.removeValueElements=function(t,i){this.removeDateComps(this.dateConditionFromComps,t,i),this.removeDateComps(this.dateConditionToComps,t,i),this.removeItems(this.eConditionPanelsFrom,t,i),this.removeItems(this.eConditionPanelsTo,t,i)},e.prototype.removeDateComps=function(t,i,r){var o=this.removeItems(t,i,r);o.forEach(function(s){return s.destroy()})},e.prototype.isValidDateValue=function(t){if(t===null)return!1;if(this.minValidDate){if(t<this.minValidDate)return!1}else if(t.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(t>this.maxValidDate)return!1}else if(t.getUTCFullYear()>this.maxValidYear)return!1;return!0},e.prototype.isConditionUiComplete=function(t){var i=this;if(!n.prototype.isConditionUiComplete.call(this,t))return!1;var r=!0;return this.forEachInput(function(o,s,a,l){a!==t||!r||s>=l||(r=r&&i.isValidDateValue(o.getDate()))}),r},e.prototype.areSimpleModelsEqual=function(t,i){return t.dateFrom===i.dateFrom&&t.dateTo===i.dateTo&&t.type===i.type},e.prototype.getFilterType=function(){return"date"},e.prototype.createCondition=function(t){var i=this.getConditionType(t),r={},o=this.getValues(t);return o.length>0&&(r.dateFrom=Pi(o[0])),o.length>1&&(r.dateTo=Pi(o[1])),Up({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:i},r)},e.prototype.resetPlaceholder=function(){var t=this.localeService.getLocaleTextFunc(),i=this.translate("dateFormatOoo"),r=t("ariaFilterValue","Filter Value");this.forEachInput(function(o){o.setInputPlaceholder(i),o.setInputAriaLabel(r)})},e.prototype.getInputs=function(t){return t>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[t],this.dateConditionToComps[t]]},e.prototype.getValues=function(t){var i=[];return this.forEachPositionInput(t,function(r,o,s,a){o<a&&i.push(r.getDate())}),i},e.prototype.getModelAsString=function(t){var i;return(i=this.filterModelFormatter.getModelAsString(t))!==null&&i!==void 0?i:""},e.DEFAULT_FILTER_OPTIONS=[we.EQUALS,we.GREATER_THAN,we.LESS_THAN,we.NOT_EQUAL,we.IN_RANGE,we.BLANK,we.NOT_BLANK],EF([y("userComponentFactory")],e.prototype,"userComponentFactory",void 0),e}(we),bF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),NS=function(n){bF(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getDefaultDebounceMs=function(){return 0},e.prototype.destroy=function(){n.prototype.destroy.call(this)},e.prototype.isEventFromFloatingFilter=function(t){return t&&t.afterFloatingFilter},e.prototype.isEventFromDataChange=function(t){return t==null?void 0:t.afterDataChange},e.prototype.getLastType=function(){return this.lastType},e.prototype.isReadOnly=function(){return this.readOnly},e.prototype.setLastTypeFromModel=function(t){if(!t){this.lastType=this.optionsFactory.getDefaultOption();return}var i=t.operator,r;if(i){var o=t;r=o.conditions[0]}else r=t;this.lastType=r.type},e.prototype.canWeEditAfterModelFromParentFilter=function(t){if(!t)return this.isTypeEditable(this.lastType);var i=t.operator;if(i)return!1;var r=t;return this.isTypeEditable(r.type)},e.prototype.init=function(t){this.setSimpleParams(t)},e.prototype.setSimpleParams=function(t){this.optionsFactory=new RS,this.optionsFactory.init(t.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption(),this.readOnly=!!t.filterParams.readOnly;var i=this.isTypeEditable(this.lastType);this.setEditable(i)},e.prototype.onParamsUpdated=function(t){this.setSimpleParams(t)},e.prototype.doesFilterHaveSingleInput=function(t){var i=this.optionsFactory.getCustomOption(t),r=(i||{}).numberOfInputs;return r==null||r==1},e.prototype.isTypeEditable=function(t){var i=[Yt.IN_RANGE,Yt.EMPTY,Yt.BLANK,Yt.NOT_BLANK];return!!t&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(t)&&i.indexOf(t)<0},e}(wt),RF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),wd=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},OF=function(n){RF(e,n);function e(){return n.call(this,`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>
                <div ref="eDateWrapper" style="display: flex;"></div>
            </div>`)||this}return e.prototype.getDefaultFilterOptions=function(){return IS.DEFAULT_FILTER_OPTIONS},e.prototype.init=function(t){n.prototype.init.call(this,t),this.params=t,this.filterParams=t.filterParams,this.createDateComponent(),this.filterModelFormatter=new LS(this.filterParams,this.localeService,this.optionsFactory);var i=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(i("ariaDateFilterInput","Date Filter Input"))},e.prototype.onParamsUpdated=function(t){n.prototype.onParamsUpdated.call(this,t),this.params=t,this.filterParams=t.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams})},e.prototype.setEditable=function(t){Tt(this.eDateWrapper,t),Tt(this.eReadOnlyText.getGui(),!t)},e.prototype.onParentModelChanged=function(t,i){if(!(this.isEventFromFloatingFilter(i)||this.isEventFromDataChange(i))){n.prototype.setLastTypeFromModel.call(this,t);var r=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(t);if(this.setEditable(r),r){if(t){var o=t;this.dateComp.setDate(ii(o.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(t)),this.dateComp.setDate(null)}},e.prototype.onDateChanged=function(){var t=this,i=this.dateComp.getDate(),r=Pi(i);this.params.parentFilterInstance(function(o){if(o){var s=ii(r);o.onFloatingFilterChanged(t.getLastType()||null,s)}})},e.prototype.getDateComponentParams=function(){var t=xu.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:Vi(this.onDateChanged.bind(this),t),filterParams:this.params.column.getColDef().filterParams}},e.prototype.createDateComponent=function(){var t=this;this.dateComp=new bS(this.getContext(),this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper),this.addDestroyFunc(function(){return t.dateComp.destroy()})},e.prototype.updateDateComponent=function(){var t=this.getDateComponentParams(),i=this.gridOptionsService,r=i.api,o=i.columnApi,s=i.context;t.api=r,t.columnApi=o,t.context=s,this.dateComp.updateParams(t)},e.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},wd([y("userComponentFactory")],e.prototype,"userComponentFactory",void 0),wd([K("eReadOnlyText")],e.prototype,"eReadOnlyText",void 0),wd([K("eDateWrapper")],e.prototype,"eDateWrapper",void 0),e}(NS),TF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),xF=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},PF=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},DF=function(n){TF(e,n);function e(){return n.call(this,`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>
            </div>`)||this}return e.prototype.destroy=function(){n.prototype.destroy.call(this)},e.prototype.init=function(t){var i=this;this.params=t,this.setParams(t);var r=this.gridOptionsService.getDocument(),o=this.eDateInput.getInputElement();this.addManagedListener(o,"mousedown",function(){i.eDateInput.isDisabled()||i.usingSafariDatePicker||o.focus()}),this.addManagedListener(o,"input",function(s){s.target===r.activeElement&&(i.eDateInput.isDisabled()||i.params.onDateChanged())})},e.prototype.setParams=function(t){var i=this.eDateInput.getInputElement(),r=this.shouldUseBrowserDatePicker(t);this.usingSafariDatePicker=r&&Ai(),i.type=r?"date":"text";var o=t.filterParams||{},s=o.minValidYear,a=o.maxValidYear,l=o.minValidDate,u=o.maxValidDate;if(l&&s&&bt(function(){return console.warn("AG Grid: DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.")},"DateFilter.minValidDateAndMinValidYearWarning"),u&&a&&bt(function(){return console.warn("AG Grid: DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.")},"DateFilter.maxValidDateAndMaxValidYearWarning"),l&&u){var c=PF([l,u].map(function(h){return h instanceof Date?h:ii(h)}),2),d=c[0],p=c[1];d&&p&&d.getTime()>p.getTime()&&bt(function(){return console.warn("AG Grid: DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")},"DateFilter.minValidDateAndMaxValidDateWarning")}l?l instanceof Date?i.min=jo(l):i.min=l:s&&(i.min=s+"-01-01"),u?u instanceof Date?i.max=jo(u):i.max=u:a&&(i.max=a+"-12-31")},e.prototype.onParamsUpdated=function(t){this.params=t,this.setParams(t)},e.prototype.getDate=function(){return ii(this.eDateInput.getValue())},e.prototype.setDate=function(t){this.eDateInput.setValue(Pi(t,!1))},e.prototype.setInputPlaceholder=function(t){this.eDateInput.setInputPlaceholder(t)},e.prototype.setDisabled=function(t){this.eDateInput.setDisabled(t)},e.prototype.afterGuiAttached=function(t){(!t||!t.suppressFocus)&&this.eDateInput.getInputElement().focus()},e.prototype.shouldUseBrowserDatePicker=function(t){return t.filterParams&&t.filterParams.browserDatePicker!=null?t.filterParams.browserDatePicker:Cc()||Xh()||Ai()&&qh()>=14.1},xF([K("eDateInput")],e.prototype,"eDateInput",void 0),e}(wt),AF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ho=function(n){AF(e,n);function e(t,i,r){return i===void 0&&(i="ag-text-field"),r===void 0&&(r="text"),n.call(this,t,i,r)||this}return e.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},e.prototype.setValue=function(t,i){return this.eInput.value!==t&&(this.eInput.value=N(t)?t:""),n.prototype.setValue.call(this,t,i)},e.prototype.setStartValue=function(t){this.setValue(t,!0)},e.prototype.preventDisallowedCharacters=function(){var t=new RegExp("["+this.config.allowedCharPattern+"]"),i=function(r){Ec(r)&&r.key&&!t.test(r.key)&&r.preventDefault()};this.addManagedListener(this.eInput,"keydown",i),this.addManagedListener(this.eInput,"paste",function(r){var o,s=(o=r.clipboardData)===null||o===void 0?void 0:o.getData("text");s&&s.split("").some(function(a){return!t.test(a)})&&r.preventDefault()})},e}(un),FF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ff=function(n){FF(e,n);function e(t){return n.call(this,t,"ag-number-field","number")||this}return e.prototype.postConstruct=function(){var t=this;n.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",function(){var i=parseFloat(t.eInput.value),r=isNaN(i)?"":t.normalizeValue(i.toString());t.value!==r&&t.setValue(r)}),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any"},e.prototype.onWheel=function(t){document.activeElement===this.eInput&&t.preventDefault()},e.prototype.normalizeValue=function(t){if(t==="")return"";this.precision!=null&&(t=this.adjustPrecision(t));var i=parseFloat(t);return this.min!=null&&i<this.min?t=this.min.toString():this.max!=null&&i>this.max&&(t=this.max.toString()),t},e.prototype.adjustPrecision=function(t,i){if(this.precision==null)return t;if(i){var r=parseFloat(t).toFixed(this.precision);return parseFloat(r).toString()}var o=String(t).split(".");if(o.length>1){if(o[1].length<=this.precision)return t;if(this.precision>0)return o[0]+"."+o[1].slice(0,this.precision)}return o[0]},e.prototype.setMin=function(t){return this.min===t?this:(this.min=t,hr(this.eInput,"min",t),this)},e.prototype.setMax=function(t){return this.max===t?this:(this.max=t,hr(this.eInput,"max",t),this)},e.prototype.setPrecision=function(t){return this.precision=t,this},e.prototype.setStep=function(t){return this.step===t?this:(this.step=t,hr(this.eInput,"step",t),this)},e.prototype.setValue=function(t,i){var r=this;return this.setValueOrInputValue(function(o){return n.prototype.setValue.call(r,o,i)},function(){return r},t)},e.prototype.setStartValue=function(t){var i=this;return this.setValueOrInputValue(function(r){return n.prototype.setValue.call(i,r,!0)},function(r){i.eInput.value=r},t)},e.prototype.setValueOrInputValue=function(t,i,r){if(N(r)){var o=this.isScientificNotation(r);if(o&&this.eInput.validity.valid)return t(r);if(!o){r=this.adjustPrecision(r);var s=this.normalizeValue(r);o=r!=s}if(o)return i(r)}return t(r)},e.prototype.getValue=function(){if(this.eInput.validity.valid){var t=this.eInput.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):n.prototype.getValue.call(this)}},e.prototype.isScientificNotation=function(t){return typeof t=="string"&&t.includes("e")},e}(ho),GS=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),HS=function(n){GS(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.conditionToString=function(t,i){var r=(i||{}).numberOfInputs,o=t.type==Yt.IN_RANGE||r===2;return o?this.formatValue(t.filter)+"-"+this.formatValue(t.filterTo):t.filter!=null?this.formatValue(t.filter):""+t.type},e}(hf);function zp(n){var e=(n??{}).allowedCharPattern;return e??null}var VS=function(n){GS(e,n);function e(){var t=n.call(this,"numberFilter")||this;return t.eValuesFrom=[],t.eValuesTo=[],t}return e.prototype.mapValuesFromModel=function(t){var i=t||{},r=i.filter,o=i.filterTo,s=i.type;return[this.processValue(r),this.processValue(o)].slice(0,this.getNumberOfInputs(s))},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.comparator=function(){return function(t,i){return t===i?0:t<i?1:-1}},e.prototype.setParams=function(t){this.numberFilterParams=t,n.prototype.setParams.call(this,t),this.filterModelFormatter=new HS(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.setElementValue=function(t,i,r){var o=!r&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(i??null):i;n.prototype.setElementValue.call(this,t,o)},e.prototype.createValueElement=function(){var t=zp(this.numberFilterParams),i=document.createElement("div");return i.classList.add("ag-filter-body"),Ce(i,"presentation"),this.createFromToElement(i,this.eValuesFrom,"from",t),this.createFromToElement(i,this.eValuesTo,"to",t),i},e.prototype.createFromToElement=function(t,i,r,o){var s=this.createManagedBean(o?new ho({allowedCharPattern:o}):new ff);s.addCssClass("ag-filter-"+r),s.addCssClass("ag-filter-filter"),i.push(s),t.appendChild(s.getGui())},e.prototype.removeValueElements=function(t,i){this.removeComponents(this.eValuesFrom,t,i),this.removeComponents(this.eValuesTo,t,i)},e.prototype.getValues=function(t){var i=this,r=[];return this.forEachPositionInput(t,function(o,s,a,l){s<l&&r.push(i.processValue(i.stringToFloat(o.getValue())))}),r},e.prototype.areSimpleModelsEqual=function(t,i){return t.filter===i.filter&&t.filterTo===i.filterTo&&t.type===i.type},e.prototype.getFilterType=function(){return"number"},e.prototype.processValue=function(t){return t==null||isNaN(t)?null:t},e.prototype.stringToFloat=function(t){if(typeof t=="number")return t;var i=pr(t);return i!=null&&i.trim()===""&&(i=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(i):i==null||i.trim()==="-"?null:parseFloat(i)},e.prototype.createCondition=function(t){var i=this.getConditionType(t),r={filterType:this.getFilterType(),type:i},o=this.getValues(t);return o.length>0&&(r.filter=o[0]),o.length>1&&(r.filterTo=o[1]),r},e.prototype.getInputs=function(t){return t>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[t],this.eValuesTo[t]]},e.prototype.getModelAsString=function(t){var i;return(i=this.filterModelFormatter.getModelAsString(t))!==null&&i!==void 0?i:""},e.prototype.hasInvalidInputs=function(){var t=!1;return this.forEachInput(function(i){if(!i.getInputElement().validity.valid){t=!0;return}}),t},e.DEFAULT_FILTER_OPTIONS=[we.EQUALS,we.NOT_EQUAL,we.LESS_THAN,we.LESS_THAN_OR_EQUAL,we.GREATER_THAN,we.GREATER_THAN_OR_EQUAL,we.IN_RANGE,we.BLANK,we.NOT_BLANK],e}(we),kS=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Pu=function(){return Pu=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Pu.apply(this,arguments)},BS=function(n){kS(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.conditionToString=function(t,i){var r=(i||{}).numberOfInputs,o=t.type==Yt.IN_RANGE||r===2;return o?t.filter+"-"+t.filterTo:t.filter!=null?""+t.filter:""+t.type},e}(hf),gf=function(n){kS(e,n);function e(){var t=n.call(this,"textFilter")||this;return t.eValuesFrom=[],t.eValuesTo=[],t}return e.trimInput=function(t){var i=t&&t.trim();return i===""?t:i},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.setParams=function(t){this.textFilterParams=t,n.prototype.setParams.call(this,t),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?e.DEFAULT_FORMATTER:e.DEFAULT_LOWERCASE_FORMATTER),this.filterModelFormatter=new BS(this.localeService,this.optionsFactory)},e.prototype.getTextMatcher=function(){var t=this.textFilterParams.textCustomComparator;return t?(gt.doOnce(function(){return console.warn("AG Grid - textCustomComparator is deprecated, use textMatcher instead.")},"textCustomComparator.deprecated"),function(i){var r=i.filterOption,o=i.value,s=i.filterText;return t(r,o,s)}):this.textFilterParams.textMatcher||e.DEFAULT_MATCHER},e.prototype.createCondition=function(t){var i=this.getConditionType(t),r={filterType:this.getFilterType(),type:i},o=this.getValuesWithSideEffects(t,!0);return o.length>0&&(r.filter=o[0]),o.length>1&&(r.filterTo=o[1]),r},e.prototype.getFilterType=function(){return"text"},e.prototype.areSimpleModelsEqual=function(t,i){return t.filter===i.filter&&t.filterTo===i.filterTo&&t.type===i.type},e.prototype.getInputs=function(t){return t>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[t],this.eValuesTo[t]]},e.prototype.getValues=function(t){return this.getValuesWithSideEffects(t,!1)},e.prototype.getValuesWithSideEffects=function(t,i){var r=this,o=[];return this.forEachPositionInput(t,function(s,a,l,u){var c;if(a<u){var d=pr(s.getValue());i&&r.textFilterParams.trimInput&&(d=(c=e.trimInput(d))!==null&&c!==void 0?c:null,s.setValue(d,!0)),o.push(d)}}),o},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.createValueElement=function(){var t=document.createElement("div");return t.classList.add("ag-filter-body"),Ce(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from"),this.createFromToElement(t,this.eValuesTo,"to"),t},e.prototype.createFromToElement=function(t,i,r){var o=this.createManagedBean(new ho);o.addCssClass("ag-filter-"+r),o.addCssClass("ag-filter-filter"),i.push(o),t.appendChild(o.getGui())},e.prototype.removeValueElements=function(t,i){this.removeComponents(this.eValuesFrom,t,i),this.removeComponents(this.eValuesTo,t,i)},e.prototype.mapValuesFromModel=function(t){var i=t||{},r=i.filter,o=i.filterTo,s=i.type;return[r||null,o||null].slice(0,this.getNumberOfInputs(s))},e.prototype.evaluateNullValue=function(t){var i=[Yt.NOT_EQUAL,Yt.NOT_CONTAINS,Yt.BLANK];return t?i.indexOf(t)>=0:!1},e.prototype.evaluateNonNullValue=function(t,i,r,o){var s=this,a=t.map(function(m){return s.formatter(m)})||[],l=this.formatter(i),u=this.textFilterParams,c=u.api,d=u.colDef,p=u.column,h=u.columnApi,f=u.context,g=u.textFormatter;if(r.type===Yt.BLANK)return this.isBlank(i);if(r.type===Yt.NOT_BLANK)return!this.isBlank(i);var v={api:c,colDef:d,column:p,columnApi:h,context:f,node:o.node,data:o.data,filterOption:r.type,value:l,textFormatter:g};return a.some(function(m){return s.matcher(Pu(Pu({},v),{filterText:m}))})},e.prototype.getModelAsString=function(t){var i;return(i=this.filterModelFormatter.getModelAsString(t))!==null&&i!==void 0?i:""},e.DEFAULT_FILTER_OPTIONS=[Yt.CONTAINS,Yt.NOT_CONTAINS,Yt.EQUALS,Yt.NOT_EQUAL,Yt.STARTS_WITH,Yt.ENDS_WITH,Yt.BLANK,Yt.NOT_BLANK],e.DEFAULT_FORMATTER=function(t){return t},e.DEFAULT_LOWERCASE_FORMATTER=function(t){return t==null?null:t.toString().toLowerCase()},e.DEFAULT_MATCHER=function(t){var i=t.filterOption,r=t.value,o=t.filterText;if(o==null)return!1;switch(i){case e.CONTAINS:return r.indexOf(o)>=0;case e.NOT_CONTAINS:return r.indexOf(o)<0;case e.EQUALS:return r===o;case e.NOT_EQUAL:return r!=o;case e.STARTS_WITH:return r.indexOf(o)===0;case e.ENDS_WITH:var s=r.lastIndexOf(o);return s>=0&&s===r.length-o.length;default:return!1}},e}(Yt),jS=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Sd=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},WS=function(n){jS(e,n);function e(t){var i=n.call(this)||this;return i.params=t,i.valueChangedListener=function(){},i}return e.prototype.setupGui=function(t){var i=this,r;this.eFloatingFilterTextInput=this.createManagedBean(new ho((r=this.params)===null||r===void 0?void 0:r.config));var o=this.eFloatingFilterTextInput.getGui();t.appendChild(o),this.addManagedListener(o,"input",function(s){return i.valueChangedListener(s)}),this.addManagedListener(o,"keydown",function(s){return i.valueChangedListener(s)})},e.prototype.setEditable=function(t){this.eFloatingFilterTextInput.setDisabled(!t)},e.prototype.setAutoComplete=function(t){this.eFloatingFilterTextInput.setAutoComplete(t)},e.prototype.getValue=function(){return this.eFloatingFilterTextInput.getValue()},e.prototype.setValue=function(t,i){this.eFloatingFilterTextInput.setValue(t,i)},e.prototype.setValueChangedListener=function(t){this.valueChangedListener=t},e.prototype.setParams=function(t){this.setAriaLabel(t.ariaLabel),t.autoComplete!==void 0&&this.setAutoComplete(t.autoComplete)},e.prototype.setAriaLabel=function(t){this.eFloatingFilterTextInput.setInputAriaLabel(t)},e}(j),US=function(n){jS(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.postConstruct=function(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" ref="eFloatingFilterInputContainer"></div>
        `)},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.onParentModelChanged=function(t,i){this.isEventFromFloatingFilter(i)||this.isEventFromDataChange(i)||(this.setLastTypeFromModel(t),this.setEditable(this.canWeEditAfterModelFromParentFilter(t)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(t)))},e.prototype.init=function(t){this.setupFloatingFilterInputService(t),n.prototype.init.call(this,t),this.setTextInputParams(t)},e.prototype.setupFloatingFilterInputService=function(t){this.floatingFilterInputService=this.createFloatingFilterInputService(t),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)},e.prototype.setTextInputParams=function(t){var i;this.params=t;var r=(i=t.browserAutoComplete)!==null&&i!==void 0?i:!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(t),autoComplete:r}),this.applyActive=xu.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){var o=xu.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),s=Vi(this.syncUpWithParentFilter.bind(this),o);this.floatingFilterInputService.setValueChangedListener(s)}},e.prototype.onParamsUpdated=function(t){n.prototype.onParamsUpdated.call(this,t),this.setTextInputParams(t)},e.prototype.recreateFloatingFilterInputService=function(t){var i=this.floatingFilterInputService.getValue();Ve(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(t),this.floatingFilterInputService.setValue(i,!0)},e.prototype.getAriaLabel=function(t){var i=this.columnModel.getDisplayNameForColumn(t.column,"header",!0),r=this.localeService.getLocaleTextFunc();return i+" "+r("ariaFilterInput","Filter Input")},e.prototype.syncUpWithParentFilter=function(t){var i=this,r=t.key===A.ENTER;if(!(this.applyActive&&!r)){var o=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(o=gf.trimInput(o),this.floatingFilterInputService.setValue(o,!0)),this.params.parentFilterInstance(function(s){s&&s.onFloatingFilterChanged(i.getLastType()||null,o||null)})}},e.prototype.setEditable=function(t){this.floatingFilterInputService.setEditable(t)},Sd([y("columnModel")],e.prototype,"columnModel",void 0),Sd([K("eFloatingFilterInputContainer")],e.prototype,"eFloatingFilterInputContainer",void 0),Sd([U],e.prototype,"postConstruct",null),e}(NS),zS=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),MF=function(n){zS(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.valueChangedListener=function(){},t.numberInputActive=!0,t}return e.prototype.setupGui=function(t){var i=this;this.eFloatingFilterNumberInput=this.createManagedBean(new ff),this.eFloatingFilterTextInput=this.createManagedBean(new ho),this.eFloatingFilterTextInput.setDisabled(!0);var r=this.eFloatingFilterNumberInput.getGui(),o=this.eFloatingFilterTextInput.getGui();t.appendChild(r),t.appendChild(o),this.setupListeners(r,function(s){return i.valueChangedListener(s)}),this.setupListeners(o,function(s){return i.valueChangedListener(s)})},e.prototype.setEditable=function(t){this.numberInputActive=t,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)},e.prototype.setAutoComplete=function(t){this.eFloatingFilterNumberInput.setAutoComplete(t),this.eFloatingFilterTextInput.setAutoComplete(t)},e.prototype.getValue=function(){return this.getActiveInputElement().getValue()},e.prototype.setValue=function(t,i){this.getActiveInputElement().setValue(t,i)},e.prototype.getActiveInputElement=function(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput},e.prototype.setValueChangedListener=function(t){this.valueChangedListener=t},e.prototype.setupListeners=function(t,i){this.addManagedListener(t,"input",i),this.addManagedListener(t,"keydown",i)},e.prototype.setParams=function(t){this.setAriaLabel(t.ariaLabel),t.autoComplete!==void 0&&this.setAutoComplete(t.autoComplete)},e.prototype.setAriaLabel=function(t){this.eFloatingFilterNumberInput.setInputAriaLabel(t),this.eFloatingFilterTextInput.setInputAriaLabel(t)},e}(j),LF=function(n){zS(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(t){var i;n.prototype.init.call(this,t),this.filterModelFormatter=new HS(this.localeService,this.optionsFactory,(i=t.filterParams)===null||i===void 0?void 0:i.numberFormatter)},e.prototype.onParamsUpdated=function(t){var i=zp(t.filterParams);i!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(t),n.prototype.onParamsUpdated.call(this,t),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})},e.prototype.getDefaultFilterOptions=function(){return VS.DEFAULT_FILTER_OPTIONS},e.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},e.prototype.createFloatingFilterInputService=function(t){return this.allowedCharPattern=zp(t.filterParams),this.allowedCharPattern?this.createManagedBean(new WS({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new MF)},e}(US),IF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),NF=function(n){IF(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(t){n.prototype.init.call(this,t),this.filterModelFormatter=new BS(this.localeService,this.optionsFactory)},e.prototype.onParamsUpdated=function(t){n.prototype.onParamsUpdated.call(this,t),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})},e.prototype.getDefaultFilterOptions=function(){return gf.DEFAULT_FILTER_OPTIONS},e.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},e.prototype.createFloatingFilterInputService=function(){return this.createManagedBean(new WS)},e}(US),yi=function(){function n(e,t){var i=this;t===void 0&&(t=!1),this.destroyFuncs=[],this.touching=!1,this.eventService=new Cn,this.eElement=e,this.preventMouseClick=t;var r=this.onTouchStart.bind(this),o=this.onTouchMove.bind(this),s=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",r,{passive:!0}),this.eElement.addEventListener("touchmove",o,{passive:!0}),this.eElement.addEventListener("touchend",s,{passive:!1}),this.destroyFuncs.push(function(){i.eElement.removeEventListener("touchstart",r,{passive:!0}),i.eElement.removeEventListener("touchmove",o,{passive:!0}),i.eElement.removeEventListener("touchend",s,{passive:!1})})}return n.prototype.getActiveTouch=function(e){for(var t=0;t<e.length;t++){var i=e[t].identifier===this.touchStart.identifier;if(i)return e[t]}return null},n.prototype.addEventListener=function(e,t){this.eventService.addEventListener(e,t)},n.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},n.prototype.onTouchStart=function(e){var t=this;if(!this.touching){this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;var i=this.touchStart;window.setTimeout(function(){var r=t.touchStart===i;if(t.touching&&r&&!t.moved){t.moved=!0;var o={type:n.EVENT_LONG_TAP,touchStart:t.touchStart,touchEvent:e};t.eventService.dispatchEvent(o)}},500)}},n.prototype.onTouchMove=function(e){if(this.touching){var t=this.getActiveTouch(e.touches);if(t){var i=!uf(t,this.touchStart,4);i&&(this.moved=!0)}}},n.prototype.onTouchEnd=function(e){if(this.touching){if(!this.moved){var t={type:n.EVENT_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}},n.prototype.checkForDoubleTap=function(){var e=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0){var t=e-this.lastTapTime;if(t>n.DOUBLE_TAP_MILLIS){var i={type:n.EVENT_DOUBLE_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(i),this.lastTapTime=null}else this.lastTapTime=e}else this.lastTapTime=e},n.prototype.destroy=function(){this.destroyFuncs.forEach(function(e){return e()})},n.EVENT_TAP="tap",n.EVENT_DOUBLE_TAP="doubleTap",n.EVENT_LONG_TAP="longTap",n.DOUBLE_TAP_MILLIS=500,n}(),GF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Nn=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},vf=function(n){GF(e,n);function e(t){var i=n.call(this)||this;return t||i.setTemplate(e.TEMPLATE),i}return e.prototype.attachCustomElements=function(t,i,r,o,s){this.eSortOrder=t,this.eSortAsc=i,this.eSortDesc=r,this.eSortMixed=o,this.eSortNone=s},e.prototype.setupSort=function(t,i){var r=this;i===void 0&&(i=!1),this.column=t,this.suppressOrder=i,this.setupMultiSortIndicator();var o=!!this.column.getColDef().sortable;o&&(this.addInIcon("sortAscending",this.eSortAsc,t),this.addInIcon("sortDescending",this.eSortDesc,t),this.addInIcon("sortUnSort",this.eSortNone,t),this.addManagedListener(this.eventService,C.EVENT_SORT_CHANGED,function(){return r.onSortChanged()}),this.addManagedListener(this.eventService,C.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return r.onSortChanged()}),this.onSortChanged())},e.prototype.addInIcon=function(t,i,r){if(i!=null){var o=ae(t,this.gridOptionsService,r);o&&i.appendChild(o)}},e.prototype.onSortChanged=function(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()},e.prototype.updateIcons=function(){var t=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){var i=t==="asc";Tt(this.eSortAsc,i,{skipAriaHidden:!0})}if(this.eSortDesc){var r=t==="desc";Tt(this.eSortDesc,r,{skipAriaHidden:!0})}if(this.eSortNone){var o=!this.column.getColDef().unSortIcon&&!this.gridOptionsService.is("unSortIcon"),s=t==null;Tt(this.eSortNone,!o&&s,{skipAriaHidden:!0})}},e.prototype.setupMultiSortIndicator=function(){var t=this;this.addInIcon("sortUnSort",this.eSortMixed,this.column);var i=this.column.getColDef().showRowGroup,r=this.gridOptionsService.isColumnsSortingCoupledToGroup();r&&i&&(this.addManagedListener(this.eventService,C.EVENT_SORT_CHANGED,function(){return t.updateMultiSortIndicator()}),this.addManagedListener(this.eventService,C.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return t.updateMultiSortIndicator()}),this.updateMultiSortIndicator())},e.prototype.updateMultiSortIndicator=function(){if(this.eSortMixed){var t=this.sortController.getDisplaySortForColumn(this.column)==="mixed";Tt(this.eSortMixed,t,{skipAriaHidden:!0})}},e.prototype.updateSortOrder=function(){var t=this,i;if(this.eSortOrder){var r=this.sortController.getColumnsWithSortingOrdered(),o=(i=this.sortController.getDisplaySortIndexForColumn(this.column))!==null&&i!==void 0?i:-1,s=r.some(function(l){var u;return(u=t.sortController.getDisplaySortIndexForColumn(l))!==null&&u!==void 0?u:-1>=1}),a=o>=0&&s;Tt(this.eSortOrder,a,{skipAriaHidden:!0}),o>=0?this.eSortOrder.innerHTML=(o+1).toString():Ve(this.eSortOrder)}},e.TEMPLATE=`<span class="ag-sort-indicator-container">
            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>
            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>
        </span>`,Nn([K("eSortOrder")],e.prototype,"eSortOrder",void 0),Nn([K("eSortAsc")],e.prototype,"eSortAsc",void 0),Nn([K("eSortDesc")],e.prototype,"eSortDesc",void 0),Nn([K("eSortMixed")],e.prototype,"eSortMixed",void 0),Nn([K("eSortNone")],e.prototype,"eSortNone",void 0),Nn([y("columnModel")],e.prototype,"columnModel",void 0),Nn([y("sortController")],e.prototype,"sortController",void 0),e}(wt),HF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ai=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},VF=function(n){HF(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.lastMovingChanged=0,t}return e.prototype.destroy=function(){n.prototype.destroy.call(this)},e.prototype.refresh=function(t){return this.params=t,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||this.workOutSort()!=this.currentSort?!1:(this.setDisplayName(t),!0)},e.prototype.workOutTemplate=function(){var t=Aw(this.params.template,e.TEMPLATE);return t=t&&t.trim?t.trim():t,t},e.prototype.init=function(t){this.params=t,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(t.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(t)},e.prototype.setDisplayName=function(t){if(this.currentDisplayName!=t.displayName){this.currentDisplayName=t.displayName;var i=pe(this.currentDisplayName);this.eText&&(this.eText.innerHTML=i)}},e.prototype.setupIcons=function(t){this.addInIcon("menu",this.eMenu,t),this.addInIcon("filter",this.eFilter,t)},e.prototype.addInIcon=function(t,i,r){if(i!=null){var o=ae(t,this.gridOptionsService,r);o&&i.appendChild(o)}},e.prototype.setupTap=function(){var t=this,i=this.gridOptionsService;if(!i.is("suppressTouch")){var r=new yi(this.getGui(),!0),o=i.is("suppressMenuHide"),s=o&&N(this.eMenu),a=s?new yi(this.eMenu,!0):r;if(this.params.enableMenu){var l=s?"EVENT_TAP":"EVENT_LONG_TAP",u=function(d){i.api.showColumnMenuAfterMouseClick(t.params.column,d.touchStart)};this.addManagedListener(a,yi[l],u)}if(this.params.enableSorting){var c=function(d){var p=d.touchStart.target;o&&t.eMenu.contains(p)||t.sortController.progressSort(t.params.column,!1,"uiColumnSorted")};this.addManagedListener(r,yi.EVENT_TAP,c)}this.addDestroyFunc(function(){return r.destroy()}),s&&this.addDestroyFunc(function(){return a.destroy()})}},e.prototype.workOutShowMenu=function(){var t=!this.gridOptionsService.is("suppressMenuHide"),i=wn()&&t,r=this.params.enableMenu&&!i;return r},e.prototype.setMenu=function(){var t=this;if(this.eMenu){if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){Pr(this.eMenu);return}var i=this.gridOptionsService.is("suppressMenuHide");this.addManagedListener(this.eMenu,"click",function(){return t.showMenu(t.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",i)}},e.prototype.showMenu=function(t){t||(t=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,t,"columnMenu")},e.prototype.workOutSort=function(){return this.params.enableSorting},e.prototype.setupSort=function(){var t=this;if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new vf(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!!this.currentSort){var i=this.gridOptionsService.get("multiSortKey")==="ctrl";this.addManagedListener(this.params.column,Bt.EVENT_MOVING_CHANGED,function(){t.lastMovingChanged=new Date().getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",function(o){var s=t.params.column.isMoving(),a=new Date().getTime(),l=a-t.lastMovingChanged<50,u=s||l;if(!u){var c=i?o.ctrlKey||o.metaKey:o.shiftKey;t.params.progressSort(c)}});var r=function(){if(t.addOrRemoveCssClass("ag-header-cell-sorted-asc",t.params.column.isSortAscending()),t.addOrRemoveCssClass("ag-header-cell-sorted-desc",t.params.column.isSortDescending()),t.addOrRemoveCssClass("ag-header-cell-sorted-none",t.params.column.isSortNone()),t.params.column.getColDef().showRowGroup){var o=t.columnModel.getSourceColumnsForGroupColumn(t.params.column),s=o==null?void 0:o.every(function(l){return t.params.column.getSort()==l.getSort()}),a=!s;t.addOrRemoveCssClass("ag-header-cell-sorted-mixed",a)}};this.addManagedListener(this.eventService,C.EVENT_SORT_CHANGED,r),this.addManagedListener(this.eventService,C.EVENT_COLUMN_ROW_GROUP_CHANGED,r)}},e.prototype.setupFilterIcon=function(){this.eFilter&&(this.addManagedListener(this.params.column,Bt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},e.prototype.onFilterChanged=function(){var t=this.params.column.isFilterActive();Tt(this.eFilter,t,{skipAriaHidden:!0})},e.TEMPLATE=`<div class="ag-cell-label-container" role="presentation">
            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
            <div ref="eLabel" class="ag-header-cell-label" role="presentation">
                <span ref="eText" class="ag-header-cell-text"></span>
                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>
            </div>
        </div>`,ai([y("sortController")],e.prototype,"sortController",void 0),ai([y("menuFactory")],e.prototype,"menuFactory",void 0),ai([y("columnModel")],e.prototype,"columnModel",void 0),ai([K("eFilter")],e.prototype,"eFilter",void 0),ai([K("eSortIndicator")],e.prototype,"eSortIndicator",void 0),ai([K("eMenu")],e.prototype,"eMenu",void 0),ai([K("eLabel")],e.prototype,"eLabel",void 0),ai([K("eText")],e.prototype,"eText",void 0),ai([K("eSortOrder")],e.prototype,"eSortOrder",void 0),ai([K("eSortAsc")],e.prototype,"eSortAsc",void 0),ai([K("eSortDesc")],e.prototype,"eSortDesc",void 0),ai([K("eSortMixed")],e.prototype,"eSortMixed",void 0),ai([K("eSortNone")],e.prototype,"eSortNone",void 0),e}(wt),kF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),_d=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},BF=function(n){kF(e,n);function e(){return n.call(this,e.TEMPLATE)||this}return e.prototype.destroy=function(){n.prototype.destroy.call(this)},e.prototype.init=function(t){this.params=t,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},e.prototype.checkWarnings=function(){var t=this.params;if(t.template){var i="AG Grid: A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)";bt(function(){return console.warn(i)},"HeaderGroupComp.templateNotSupported")}},e.prototype.setupExpandIcons=function(){var t=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var i=function(s){if(!Ui(s)){var a=!t.params.columnGroup.isExpanded();t.columnModel.setColumnGroupOpened(t.params.columnGroup.getProvidedColumnGroup(),a,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,i),this.addTouchAndClickListeners(this.eOpenIcon,i);var r=function(s){gr(s)};this.addManagedListener(this.eCloseIcon,"dblclick",r),this.addManagedListener(this.eOpenIcon,"dblclick",r),this.addManagedListener(this.getGui(),"dblclick",i),this.updateIconVisibility();var o=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(o,oe.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(o,oe.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},e.prototype.addTouchAndClickListeners=function(t,i){var r=new yi(t,!0);this.addManagedListener(r,yi.EVENT_TAP,i),this.addDestroyFunc(function(){return r.destroy()}),this.addManagedListener(t,"click",i)},e.prototype.updateIconVisibility=function(){var t=this.params.columnGroup;if(t.isExpandable()){var i=this.params.columnGroup.isExpanded();Tt(this.eOpenIcon,i),Tt(this.eCloseIcon,!i)}else Tt(this.eOpenIcon,!1),Tt(this.eCloseIcon,!1)},e.prototype.addInIcon=function(t,i){var r=ae(t,this.gridOptionsService,null);r&&this.getRefElement(i).appendChild(r)},e.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable()){Tt(this.eOpenIcon,!1),Tt(this.eCloseIcon,!1);return}},e.prototype.setupLabel=function(){var t,i=this.params,r=i.displayName,o=i.columnGroup;if(N(r)){var s=pe(r);this.getRefElement("agLabel").innerHTML=s}this.addOrRemoveCssClass("ag-sticky-label",!(!((t=o.getColGroupDef())===null||t===void 0)&&t.suppressStickyLabel))},e.TEMPLATE=`<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">
            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`,_d([y("columnModel")],e.prototype,"columnModel",void 0),_d([K("agOpened")],e.prototype,"eOpenIcon",void 0),_d([K("agClosed")],e.prototype,"eCloseIcon",void 0),e}(wt),jF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),fo=function(n){jF(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.isPopup=function(){return!0},e.prototype.setParentComponent=function(t){t.addCssClass("ag-has-popup"),n.prototype.setParentComponent.call(this,t)},e.prototype.destroy=function(){var t=this.parentComponent,i=t&&t.isAlive();i&&t.getGui().classList.remove("ag-has-popup"),n.prototype.destroy.call(this)},e}(wt),WF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),UF=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},zF=function(n){WF(e,n);function e(){return n.call(this,e.TEMPLATE)||this}return e.prototype.init=function(t){this.params=t,this.focusAfterAttached=t.cellStartedEdit,this.eTextArea.setMaxLength(t.maxLength||200).setCols(t.cols||60).setRows(t.rows||10),N(t.value,!0)&&this.eTextArea.setValue(t.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()},e.prototype.onKeyDown=function(t){var i=t.key;(i===A.LEFT||i===A.UP||i===A.RIGHT||i===A.DOWN||t.shiftKey&&i===A.ENTER)&&t.stopPropagation()},e.prototype.afterGuiAttached=function(){var t=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(t("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},e.prototype.getValue=function(){var t=this.eTextArea.getValue();return!N(t)&&!N(this.params.value)?this.params.value:this.params.parseValue(t)},e.TEMPLATE=`<div class="ag-large-text">
            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`,UF([K("eTextArea")],e.prototype,"eTextArea",void 0),e}(fo),$F=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ty=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},KF=function(n){$F(e,n);function e(){var t=n.call(this,`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" ref="eSelect"></ag-select>
            </div>`)||this;return t.startedByEnter=!1,t}return e.prototype.init=function(t){this.focusAfterAttached=t.cellStartedEdit;var i=this,r=i.eSelect,o=i.valueFormatterService,s=i.gridOptionsService,a=t.values,l=t.value,u=t.eventKey;if(pt(a)){console.warn("AG Grid: no values found for select cellEditor");return}this.startedByEnter=u!=null?u===A.ENTER:!1;var c=!1;a.forEach(function(f){var g={value:f},v=o.formatValue(t.column,null,f),m=v!=null;g.text=m?v:f,r.addOption(g),c=c||l===f}),c?r.setValue(t.value,!0):t.values.length&&r.setValue(t.values[0],!0);var d=t.valueListGap,p=t.valueListMaxWidth,h=t.valueListMaxHeight;d!=null&&r.setPickerGap(d),h!=null&&r.setPickerMaxHeight(h),p!=null&&r.setPickerMaxWidth(p),s.get("editType")!=="fullRow"&&this.addManagedListener(this.eSelect,pf.EVENT_ITEM_SELECTED,function(){return t.stopEditing()})},e.prototype.afterGuiAttached=function(){var t=this;this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(function(){t.isAlive()&&t.eSelect.showPicker()})},e.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},e.prototype.getValue=function(){return this.eSelect.getValue()},e.prototype.isPopup=function(){return!1},ty([y("valueFormatterService")],e.prototype,"valueFormatterService",void 0),ty([K("eSelect")],e.prototype,"eSelect",void 0),e}(fo),YF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),qF=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Rc=function(n){YF(e,n);function e(t){var i=n.call(this,`
            <div class="ag-cell-edit-wrapper">
                `+t.getTemplate()+`
            </div>`)||this;return i.cellEditorInput=t,i}return e.prototype.init=function(t){this.params=t;var i=this.eInput;this.cellEditorInput.init(i,t);var r;if(t.cellStartedEdit){this.focusAfterAttached=!0;var o=t.eventKey;o===A.BACKSPACE||t.eventKey===A.DELETE?r="":o&&o.length===1?r=o:(r=this.cellEditorInput.getStartValue(),o!==A.F2&&(this.highlightAllOnFocus=!0))}else this.focusAfterAttached=!1,r=this.cellEditorInput.getStartValue();r!=null&&i.setStartValue(r),this.addManagedListener(i.getGui(),"keydown",function(s){var a=s.key;(a===A.PAGE_UP||a===A.PAGE_DOWN)&&s.preventDefault()})},e.prototype.afterGuiAttached=function(){var t,i,r=this.localeService.getLocaleTextFunc(),o=this.eInput;if(o.setInputAriaLabel(r("ariaInputEditor","Input Editor")),!!this.focusAfterAttached){Ai()||o.getFocusableElement().focus();var s=o.getInputElement();this.highlightAllOnFocus?s.select():(i=(t=this.cellEditorInput).setCaret)===null||i===void 0||i.call(t)}},e.prototype.focusIn=function(){var t=this.eInput,i=t.getFocusableElement(),r=t.getInputElement();i.focus(),r.select()},e.prototype.getValue=function(){return this.cellEditorInput.getValue()},e.prototype.isPopup=function(){return!1},qF([K("eInput")],e.prototype,"eInput",void 0),e}(fo),XF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),QF=function(){function n(){}return n.prototype.getTemplate=function(){return'<ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>'},n.prototype.init=function(e,t){this.eInput=e,this.params=t,t.maxLength!=null&&e.setMaxLength(t.maxLength)},n.prototype.getValue=function(){var e=this.eInput.getValue();return!N(e)&&!N(this.params.value)?this.params.value:this.params.parseValue(e)},n.prototype.getStartValue=function(){var e=this.params.useFormatter||this.params.column.getColDef().refData;return e?this.params.formatValue(this.params.value):this.params.value},n.prototype.setCaret=function(){var e=this.eInput.getValue(),t=N(e)&&e.length||0;t&&this.eInput.getInputElement().setSelectionRange(t,t)},n}(),ey=function(n){XF(e,n);function e(){return n.call(this,new QF)||this}return e}(Rc),JF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ZF=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},tM="",eM="",iM=function(n){JF(e,n);function e(){var t=n.call(this,e.TEMPLATE)||this;return t.refreshCount=0,t}return e.prototype.init=function(t){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(t)},e.prototype.showDelta=function(t,i){var r=Math.abs(i),o=t.formatValue(r),s=N(o)?o:r,a=i>=0;a?this.eDelta.innerHTML=tM+s:this.eDelta.innerHTML=eM+s,this.eDelta.classList.toggle("ag-value-change-delta-up",a),this.eDelta.classList.toggle("ag-value-change-delta-down",!a)},e.prototype.setTimerToRemoveDelta=function(){var t=this;this.refreshCount++;var i=this.refreshCount;window.setTimeout(function(){i===t.refreshCount&&t.hideDeltaValue()},2e3)},e.prototype.hideDeltaValue=function(){this.eValue.classList.remove("ag-value-change-value-highlight"),Ve(this.eDelta)},e.prototype.refresh=function(t){var i=t.value;if(i===this.lastValue||(N(t.valueFormatted)?this.eValue.innerHTML=t.valueFormatted:N(t.value)?this.eValue.innerHTML=i:Ve(this.eValue),this.filterManager.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof i=="number"&&typeof this.lastValue=="number"){var r=i-this.lastValue;this.showDelta(t,r)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=i,!0},e.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',ZF([y("filterManager")],e.prototype,"filterManager",void 0),e}(wt),rM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),nM=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},oM=function(n){rM(e,n);function e(){var t=n.call(this,e.TEMPLATE)||this;return t.refreshCount=0,t.eCurrent=t.queryForHtmlElement(".ag-value-slide-current"),t}return e.prototype.init=function(t){this.refresh(t)},e.prototype.addSlideAnimation=function(){var t=this;this.refreshCount++;var i=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=Pe('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout(function(){i===t.refreshCount&&t.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(function(){i===t.refreshCount&&(t.getGui().removeChild(t.ePrevious),t.ePrevious=null)},3e3)},e.prototype.refresh=function(t){var i=t.value;return pt(i)&&(i=""),i===this.lastValue||this.filterManager.isSuppressFlashingCellsBecauseFiltering()?!1:(this.addSlideAnimation(),this.lastValue=i,N(t.valueFormatted)?this.eCurrent.innerHTML=t.valueFormatted:N(t.value)?this.eCurrent.innerHTML=i:Ve(this.eCurrent),!0)},e.TEMPLATE=`<span>
            <span class="ag-value-slide-current"></span>
        </span>`,nM([y("filterManager")],e.prototype,"filterManager",void 0),e}(wt),Do=function(){return Do=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Do.apply(this,arguments)},St=function(){function n(e){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=n.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=e}return n.prototype.setData=function(e){this.setDataCommon(e,!1)},n.prototype.updateData=function(e){this.setDataCommon(e,!0)},n.prototype.setDataCommon=function(e,t){var i=this.data;this.data=e,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();var r=this.createDataChangedEvent(e,i,t);this.dispatchLocalEvent(r)},n.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},n.prototype.createDataChangedEvent=function(e,t,i){return{type:n.EVENT_DATA_CHANGED,node:this,oldData:t,newData:e,update:i}},n.prototype.createLocalRowEvent=function(e){return{type:e,node:this}},n.prototype.getRowIndexString=function(){return this.rowPinned==="top"?"t-"+this.rowIndex:this.rowPinned==="bottom"?"b-"+this.rowIndex:this.rowIndex.toString()},n.prototype.createDaemonNode=function(){var e=new n(this.beans);return e.id=this.id,e.data=this.data,e.__daemon=!0,e.selected=this.selected,e.level=this.level,e},n.prototype.setDataAndId=function(e,t){var i=N(this.id)?this.createDaemonNode():null,r=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,i);var o=this.createDataChangedEvent(e,r,!1);this.dispatchLocalEvent(o)},n.prototype.checkRowSelectable=function(){var e=this.beans.gridOptionsService.get("isRowSelectable");this.setRowSelectable(e?e(this):!0)},n.prototype.setRowSelectable=function(e){if(this.selectable!==e){this.selectable=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_SELECTABLE_CHANGED));var t=this.beans.gridOptionsService.is("groupSelectsChildren");if(t){var i=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:i??!1,source:"selectableChanged"})}}},n.prototype.setId=function(e){var t=this.beans.gridOptionsService.getCallback("getRowId");if(t)if(this.data){var i=this.getGroupKeys(!0);this.id=t({data:this.data,parentKeys:i.length>0?i:void 0,level:this.level}),this.id!==null&&typeof this.id=="string"&&this.id.startsWith(n.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row IDs cannot start with "+n.ID_PREFIX_ROW_GROUP+", this is a reserved prefix for AG Grid's row grouping feature."),this.id!==null&&typeof this.id!="string"&&(this.id=""+this.id)}else this.id=void 0;else this.id=e},n.prototype.getGroupKeys=function(e){e===void 0&&(e=!1);var t=[],i=this;for(e&&(i=i.parent);i&&i.level>=0;)t.push(i.key),i=i.parent;return t.reverse(),t},n.prototype.isPixelInRange=function(e){return!N(this.rowTop)||!N(this.rowHeight)?!1:e>=this.rowTop&&e<this.rowTop+this.rowHeight},n.prototype.setFirstChild=function(e){this.firstChild!==e&&(this.firstChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_FIRST_CHILD_CHANGED)))},n.prototype.setLastChild=function(e){this.lastChild!==e&&(this.lastChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_LAST_CHILD_CHANGED)))},n.prototype.setChildIndex=function(e){this.childIndex!==e&&(this.childIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_CHILD_INDEX_CHANGED)))},n.prototype.setRowTop=function(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_TOP_CHANGED)),this.setDisplayed(e!==null))},n.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},n.prototype.setDisplayed=function(e){this.displayed!==e&&(this.displayed=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_DISPLAYED_CHANGED)))},n.prototype.setDragging=function(e){this.dragging!==e&&(this.dragging=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_DRAGGING_CHANGED)))},n.prototype.setHighlighted=function(e){e!==this.highlighted&&(this.highlighted=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_HIGHLIGHT_CHANGED)))},n.prototype.setHovered=function(e){this.hovered!==e&&(this.hovered=e)},n.prototype.isHovered=function(){return this.hovered},n.prototype.setAllChildrenCount=function(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},n.prototype.setMaster=function(e){this.master!==e&&(this.master&&!e&&(this.expanded=!1),this.master=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_MASTER_CHANGED)))},n.prototype.setGroup=function(e){this.group!==e&&(this.group&&!e&&(this.expanded=!1),this.group=e,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_GROUP_CHANGED)))},n.prototype.setRowHeight=function(e,t){t===void 0&&(t=!1),this.rowHeight=e,this.rowHeightEstimated=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_HEIGHT_CHANGED))},n.prototype.setRowAutoHeight=function(e,t){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[t.getId()]=e,e!=null&&(this.checkAutoHeightsDebounced==null&&(this.checkAutoHeightsDebounced=Vi(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},n.prototype.checkAutoHeights=function(){var e=this,t=!1,i=!0,r=0,o=this.__autoHeights;if(o!=null){var s=this.beans.columnModel.getAllDisplayedAutoHeightCols();if(s.forEach(function(l){var u=o[l.getId()];if(u==null)if(e.beans.columnModel.isColSpanActive()){var c=[];switch(l.getPinned()){case"left":c=e.beans.columnModel.getDisplayedLeftColumnsForRow(e);break;case"right":c=e.beans.columnModel.getDisplayedRightColumnsForRow(e);break;case null:c=e.beans.columnModel.getViewportCenterColumnsForRow(e);break}if(c.includes(l)){t=!0;return}u=-1}else{t=!0;return}else i=!1;u>r&&(r=u)}),!t&&((i||r<10)&&(r=this.beans.gridOptionsService.getRowHeightForNode(this).height),r!=this.rowHeight)){this.setRowHeight(r);var a=this.beans.rowModel;a.onRowHeightChangedDebounced&&a.onRowHeightChangedDebounced()}}},n.prototype.setRowIndex=function(e){this.rowIndex!==e&&(this.rowIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_ROW_INDEX_CHANGED)))},n.prototype.setUiLevel=function(e){this.uiLevel!==e&&(this.uiLevel=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_UI_LEVEL_CHANGED)))},n.prototype.setExpanded=function(e,t){if(this.expanded!==e){this.expanded=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_EXPANDED_CHANGED));var i=Object.assign({},this.createGlobalRowEvent(C.EVENT_ROW_GROUP_OPENED),{expanded:e,event:t||null});this.beans.rowNodeEventThrottle.dispatchExpanded(i),this.sibling&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},n.prototype.createGlobalRowEvent=function(e){return{type:e,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi}},n.prototype.dispatchLocalEvent=function(e){this.eventService&&this.eventService.dispatchEvent(e)},n.prototype.setDataValue=function(e,t,i){var r=this,o=function(){var u;return typeof e!="string"?e:(u=r.beans.columnModel.getGridColumn(e))!==null&&u!==void 0?u:r.beans.columnModel.getPrimaryColumn(e)},s=o(),a=this.getValueFromValueService(s);if(this.beans.gridOptionsService.is("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(s,a,t,i),!1;var l=this.beans.valueService.setValue(this,s,t,i);return this.dispatchCellChangedEvent(s,t,a),this.checkRowSelectable(),l},n.prototype.getValueFromValueService=function(e){var t=this.leafGroup&&this.beans.columnModel.isPivotMode(),i=this.group&&this.expanded&&!this.footer&&!t,r=this.beans.gridOptionsService.getGroupIncludeFooter(),o=r({node:this}),s=this.beans.gridOptionsService.is("groupSuppressBlankHeader"),a=i&&o&&!s,l=this.beans.valueService.getValue(e,this,!1,a);return l},n.prototype.dispatchEventForSaveValueReadOnly=function(e,t,i,r){var o={type:C.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:e,colDef:e.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,data:this.data,node:this,oldValue:t,newValue:i,value:i,source:r};this.beans.eventService.dispatchEvent(o)},n.prototype.setGroupValue=function(e,t){var i=this.beans.columnModel.getGridColumn(e);pt(this.groupData)&&(this.groupData={});var r=i.getColId(),o=this.groupData[r];o!==t&&(this.groupData[r]=t,this.dispatchCellChangedEvent(i,t,o))},n.prototype.setAggData=function(e){var t=this,i=bw([this.aggData,e]),r=this.aggData;this.aggData=e,this.eventService&&i.forEach(function(o){var s=t.aggData?t.aggData[o]:void 0,a=r?r[o]:void 0;if(s!==a){var l=t.beans.columnModel.lookupGridColumn(o);l&&t.dispatchCellChangedEvent(l,s,a)}})},n.prototype.updateHasChildren=function(){var e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0,t=this.beans.gridOptionsService.isRowModelType("serverSide");if(t){var i=this.beans.gridOptionsService.is("treeData"),r=this.beans.gridOptionsService.get("isServerSideGroup");e=!this.stub&&!this.footer&&(i?!!r&&r(this.data):!!this.group)}e!==this.__hasChildren&&(this.__hasChildren=!!e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_HAS_CHILDREN_CHANGED)))},n.prototype.hasChildren=function(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren},n.prototype.isEmptyRowGroupNode=function(){return this.group&&hi(this.childrenAfterGroup)},n.prototype.dispatchCellChangedEvent=function(e,t,i){var r={type:n.EVENT_CELL_CHANGED,node:this,column:e,newValue:t,oldValue:i};this.dispatchLocalEvent(r)},n.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},n.prototype.isExpandable=function(){return!!(this.hasChildren()&&!this.footer||this.master)},n.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},n.prototype.depthFirstSearch=function(e){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(function(t){return t.depthFirstSearch(e)}),e(this)},n.prototype.calculateSelectedFromChildren=function(){var e,t=!1,i=!1,r=!1;if(!(!((e=this.childrenAfterGroup)===null||e===void 0)&&e.length))return this.selectable?this.selected:null;for(var o=0;o<this.childrenAfterGroup.length;o++){var s=this.childrenAfterGroup[o],a=s.isSelected();if(!s.selectable){var l=s.calculateSelectedFromChildren();if(l===null)continue;a=l}switch(a){case!0:t=!0;break;case!1:i=!0;break;default:r=!0;break}}if(!(r||t&&i))return t?!0:i?!1:this.selectable?this.selected:null},n.prototype.setSelectedInitialValue=function(e){this.selected=e},n.prototype.selectThisNode=function(e,t,i){i===void 0&&(i="api");var r=!this.selectable&&e,o=this.selected===e;if(r||o)return!1;if(this.selected=e,this.eventService){this.dispatchLocalEvent(this.createLocalRowEvent(n.EVENT_ROW_SELECTED));var s=this.sibling;s&&s.footer&&s.dispatchLocalEvent(s.createLocalRowEvent(n.EVENT_ROW_SELECTED))}var a=Do(Do({},this.createGlobalRowEvent(C.EVENT_ROW_SELECTED)),{event:t||null,source:i});return this.beans.eventService.dispatchEvent(a),!0},n.prototype.setSelected=function(e,t,i){if(t===void 0&&(t=!1),i===void 0&&(i="api"),typeof i=="boolean"){console.warn("AG Grid: since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.");return}this.setSelectedParams({newValue:e,clearSelection:t,rangeSelect:!1,source:i})},n.prototype.setSelectedParams=function(e){return this.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),0):this.id===void 0?(console.warn("AG Grid: cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected(Do(Do({},e),{nodes:[this.footer?this.sibling:this]}))},n.prototype.isRowPinned=function(){return this.rowPinned==="top"||this.rowPinned==="bottom"},n.prototype.isParentOfNode=function(e){for(var t=this.parent;t;){if(t===e)return!0;t=t.parent}return!1},n.prototype.addEventListener=function(e,t){this.eventService||(this.eventService=new Cn),this.eventService.addEventListener(e,t)},n.prototype.removeEventListener=function(e,t){this.eventService&&(this.eventService.removeEventListener(e,t),this.eventService.noRegisteredListenersExist()&&(this.eventService=null))},n.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(n.EVENT_MOUSE_ENTER))},n.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(n.EVENT_MOUSE_LEAVE))},n.prototype.getFirstChildOfFirstChild=function(e){for(var t=this,i=!0,r=!1,o=null;i&&!r;){var s=t.parent,a=N(s)&&t.firstChild;a?s.rowGroupColumn===e&&(r=!0,o=s):i=!1,t=s}return r?o:null},n.prototype.isFullWidthCell=function(){if(this.detail)return!0;var e=this.beans.gridOptionsService.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1},n.prototype.getRoute=function(){if(this.key!=null){for(var e=[],t=this;t.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}},n.prototype.createFooter=function(){var e=this;if(!this.sibling){var t=new Set(["eventService","__objectId","sticky"]),i=new n(this.beans);Object.keys(this).forEach(function(r){t.has(r)||(i[r]=e[r])}),i.footer=!0,i.setRowTop(null),i.setRowIndex(null),i.oldRowTop=null,i.id="rowGroupFooter_"+this.id,i.sibling=this,this.sibling=i}},n.prototype.destroyFooter=function(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)},n.ID_PREFIX_ROW_GROUP="row-group-",n.ID_PREFIX_TOP_PINNED="t-",n.ID_PREFIX_BOTTOM_PINNED="b-",n.OBJECT_ID_SEQUENCE=0,n.EVENT_ROW_SELECTED="rowSelected",n.EVENT_DATA_CHANGED="dataChanged",n.EVENT_CELL_CHANGED="cellChanged",n.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",n.EVENT_MASTER_CHANGED="masterChanged",n.EVENT_GROUP_CHANGED="groupChanged",n.EVENT_MOUSE_ENTER="mouseEnter",n.EVENT_MOUSE_LEAVE="mouseLeave",n.EVENT_HEIGHT_CHANGED="heightChanged",n.EVENT_TOP_CHANGED="topChanged",n.EVENT_DISPLAYED_CHANGED="displayedChanged",n.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",n.EVENT_LAST_CHILD_CHANGED="lastChildChanged",n.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",n.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",n.EVENT_EXPANDED_CHANGED="expandedChanged",n.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",n.EVENT_SELECTABLE_CHANGED="selectableChanged",n.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",n.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",n.EVENT_DRAGGING_CHANGED="draggingChanged",n}(),sM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Du=function(){return Du=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Du.apply(this,arguments)},iy=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},$S=function(n){sM(e,n);function e(){return n.call(this,`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)||this}return e.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0),Xw(this.eCheckbox.getInputElement(),"polite")},e.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},e.prototype.onDataChanged=function(){this.onSelectionChanged()},e.prototype.onSelectableChanged=function(){this.showOrHideSelect()},e.prototype.onSelectionChanged=function(){var t=this.localeService.getLocaleTextFunc(),i=this.rowNode.isSelected(),r=mc(t,i),o=t("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(i,!0),this.eCheckbox.setInputAriaLabel(o+" ("+r+")")},e.prototype.onClicked=function(t,i,r){return this.rowNode.setSelectedParams({newValue:t,rangeSelect:r.shiftKey,groupSelectsFiltered:i,event:r,source:"checkboxSelected"})},e.prototype.init=function(t){var i=this;this.rowNode=t.rowNode,this.column=t.column,this.overrides=t.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",function(a){gr(a)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function(a){gr(a);var l=i.gridOptionsService.is("groupSelectsFiltered"),u=i.eCheckbox.getValue();if(i.shouldHandleIndeterminateState(u,l)){var c=i.onClicked(!0,l,a||{});c===0&&i.onClicked(!1,l,a)}else u?i.onClicked(!1,l,a):i.onClicked(!0,l,a||{})}),this.addManagedListener(this.rowNode,St.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,St.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,St.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this));var r=this.gridOptionsService.get("isRowSelectable"),o=r||typeof this.getIsVisible()=="function";if(o){var s=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,C.EVENT_DISPLAYED_COLUMNS_CHANGED,s),this.addManagedListener(this.rowNode,St.EVENT_DATA_CHANGED,s),this.addManagedListener(this.rowNode,St.EVENT_CELL_CHANGED,s),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},e.prototype.shouldHandleIndeterminateState=function(t,i){return i&&(this.eCheckbox.getPreviousValue()===void 0||t===void 0)&&this.gridOptionsService.isRowModelType("clientSide")},e.prototype.showOrHideSelect=function(){var t,i,r,o,s=this.rowNode.selectable,a=this.getIsVisible();if(s)if(typeof a=="function"){var l=(t=this.overrides)===null||t===void 0?void 0:t.callbackParams,u=(i=this.column)===null||i===void 0?void 0:i.createColumnFunctionCallbackParams(this.rowNode);s=u?a(Du(Du({},l),u)):!1}else s=a??!1;var c=(r=this.column)===null||r===void 0?void 0:r.getColDef().showDisabledCheckboxes;if(c){this.eCheckbox.setDisabled(!s),this.setVisible(!0),this.setDisplayed(!0);return}if(!((o=this.overrides)===null||o===void 0)&&o.removeHidden){this.setDisplayed(s);return}this.setVisible(s)},e.prototype.getIsVisible=function(){var t,i;return this.overrides?this.overrides.isVisible:(i=(t=this.column)===null||t===void 0?void 0:t.getColDef())===null||i===void 0?void 0:i.checkboxSelection},iy([K("eCheckbox")],e.prototype,"eCheckbox",void 0),iy([U],e.prototype,"postConstruct",null),e}(wt),aM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Gn=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},dl=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$e;(function(n){n[n.ToolPanel=0]="ToolPanel",n[n.HeaderCell=1]="HeaderCell",n[n.RowDrag=2]="RowDrag",n[n.ChartPanel=3]="ChartPanel",n[n.AdvancedFilterBuilder=4]="AdvancedFilterBuilder"})($e||($e={}));var qo;(function(n){n[n.Up=0]="Up",n[n.Down=1]="Down"})(qo||(qo={}));var lr;(function(n){n[n.Left=0]="Left",n[n.Right=1]="Right"})(lr||(lr={}));var Se=function(n){aM(e,n);function e(){var i=n!==null&&n.apply(this,arguments)||this;return i.dragSourceAndParamsList=[],i.dropTargets=[],i}t=e,e.prototype.init=function(){this.ePinnedIcon=_i("columnMovePin",this.gridOptionsService,null),this.eHideIcon=_i("columnMoveHide",this.gridOptionsService,null),this.eMoveIcon=_i("columnMoveMove",this.gridOptionsService,null),this.eLeftIcon=_i("columnMoveLeft",this.gridOptionsService,null),this.eRightIcon=_i("columnMoveRight",this.gridOptionsService,null),this.eGroupIcon=_i("columnMoveGroup",this.gridOptionsService,null),this.eAggregateIcon=_i("columnMoveValue",this.gridOptionsService,null),this.ePivotIcon=_i("columnMovePivot",this.gridOptionsService,null),this.eDropNotAllowedIcon=_i("dropNotAllowed",this.gridOptionsService,null)},e.prototype.addDragSource=function(i,r){r===void 0&&(r=!1);var o={eElement:i.eElement,dragStartPixels:i.dragStartPixels,onDragStart:this.onDragStart.bind(this,i),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),includeTouch:r};this.dragSourceAndParamsList.push({params:o,dragSource:i}),this.dragService.addDragSource(o)},e.prototype.removeDragSource=function(i){var r=this.dragSourceAndParamsList.find(function(o){return o.dragSource===i});r&&(this.dragService.removeDragSource(r.params),pi(this.dragSourceAndParamsList,r))},e.prototype.clearDragSourceParamsList=function(){var i=this;this.dragSourceAndParamsList.forEach(function(r){return i.dragService.removeDragSource(r.params)}),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0},e.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},e.prototype.onDragStart=function(i,r){this.dragging=!0,this.dragSource=i,this.eventLastTime=r,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},e.prototype.onDragStop=function(i){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var r=this.createDropTargetEvent(this.lastDropTarget,i,null,null,!1);this.lastDropTarget.onDragStop(r)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},e.prototype.onDragging=function(i,r){var o=this,s,a,l,u,c=this.getHorizontalDirection(i),d=this.getVerticalDirection(i);this.eventLastTime=i,this.positionGhost(i);var p=this.dropTargets.filter(function(g){return o.isMouseOnDropTarget(i,g)}),h=this.findCurrentDropTarget(i,p);if(h!==this.lastDropTarget)this.leaveLastTargetIfExists(i,c,d,r),this.lastDropTarget!==null&&h===null&&((a=(s=this.dragSource).onGridExit)===null||a===void 0||a.call(s,this.dragItem)),this.lastDropTarget===null&&h!==null&&((u=(l=this.dragSource).onGridEnter)===null||u===void 0||u.call(l,this.dragItem)),this.enterDragTargetIfExists(h,i,c,d,r),this.lastDropTarget=h;else if(h&&h.onDragging){var f=this.createDropTargetEvent(h,i,c,d,r);h.onDragging(f)}},e.prototype.getAllContainersFromDropTarget=function(i){var r=i.getSecondaryContainers?i.getSecondaryContainers():null,o=[[i.getContainer()]];return r?o.concat(r):o},e.prototype.allContainersIntersect=function(i,r){var o,s;try{for(var a=dl(r),l=a.next();!l.done;l=a.next()){var u=l.value,c=u.getBoundingClientRect();if(c.width===0||c.height===0)return!1;var d=i.clientX>=c.left&&i.clientX<c.right,p=i.clientY>=c.top&&i.clientY<c.bottom;if(!d||!p)return!1}}catch(h){o={error:h}}finally{try{l&&!l.done&&(s=a.return)&&s.call(a)}finally{if(o)throw o.error}}return!0},e.prototype.isMouseOnDropTarget=function(i,r){var o,s,a=this.getAllContainersFromDropTarget(r),l=!1;try{for(var u=dl(a),c=u.next();!c.done;c=u.next()){var d=c.value;if(this.allContainersIntersect(i,d)){l=!0;break}}}catch(p){o={error:p}}finally{try{c&&!c.done&&(s=u.return)&&s.call(u)}finally{if(o)throw o.error}}return r.targetContainsSource&&!r.getContainer().contains(this.dragSource.eElement)?!1:l&&r.isInterestedIn(this.dragSource.type,this.dragSource.eElement)},e.prototype.findCurrentDropTarget=function(i,r){var o,s,a,l,u=r.length;if(u===0)return null;if(u===1)return r[0];var c=this.gridOptionsService.getRootNode(),d=c.elementsFromPoint(i.clientX,i.clientY);try{for(var p=dl(d),h=p.next();!h.done;h=p.next()){var f=h.value;try{for(var g=(a=void 0,dl(r)),v=g.next();!v.done;v=g.next()){var m=v.value,w=Iw(this.getAllContainersFromDropTarget(m));if(w.indexOf(f)!==-1)return m}}catch(b){a={error:b}}finally{try{v&&!v.done&&(l=g.return)&&l.call(g)}finally{if(a)throw a.error}}}}catch(b){o={error:b}}finally{try{h&&!h.done&&(s=p.return)&&s.call(p)}finally{if(o)throw o.error}}return null},e.prototype.enterDragTargetIfExists=function(i,r,o,s,a){if(i){if(i.onDragEnter){var l=this.createDropTargetEvent(i,r,o,s,a);i.onDragEnter(l)}this.setGhostIcon(i.getIconName?i.getIconName():null)}},e.prototype.leaveLastTargetIfExists=function(i,r,o,s){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var a=this.createDropTargetEvent(this.lastDropTarget,i,r,o,s);this.lastDropTarget.onDragLeave(a)}this.setGhostIcon(null)}},e.prototype.addDropTarget=function(i){this.dropTargets.push(i)},e.prototype.removeDropTarget=function(i){this.dropTargets=this.dropTargets.filter(function(r){return r.getContainer()!==i.getContainer()})},e.prototype.hasExternalDropZones=function(){return this.dropTargets.some(function(i){return i.external})},e.prototype.findExternalZone=function(i){var r=this.dropTargets.filter(function(o){return o.external});return r.find(function(o){return o.getContainer()===i.getContainer()})||null},e.prototype.getHorizontalDirection=function(i){var r=this.eventLastTime&&this.eventLastTime.clientX,o=i.clientX;return r===o?null:r>o?lr.Left:lr.Right},e.prototype.getVerticalDirection=function(i){var r=this.eventLastTime&&this.eventLastTime.clientY,o=i.clientY;return r===o?null:r>o?qo.Up:qo.Down},e.prototype.createDropTargetEvent=function(i,r,o,s,a){var l=i.getContainer(),u=l.getBoundingClientRect(),c=this,d=c.gridApi,p=c.columnApi,h=c.dragItem,f=c.dragSource,g=r.clientX-u.left,v=r.clientY-u.top;return{event:r,x:g,y:v,vDirection:s,hDirection:o,dragSource:f,fromNudge:a,dragItem:h,api:d,columnApi:p,dropZoneTarget:l}},e.prototype.positionGhost=function(i){var r=this.eGhost;if(r){var o=r.getBoundingClientRect(),s=o.height,a=lS()-2,l=uS()-2,u=rf(r.offsetParent),c=i.clientY,d=i.clientX,p=c-u.top-s/2,h=d-u.left-10,f=this.gridOptionsService.getDocument(),g=f.defaultView||window,v=g.pageYOffset||f.documentElement.scrollTop,m=g.pageXOffset||f.documentElement.scrollLeft;a>0&&h+r.clientWidth>a+m&&(h=a+m-r.clientWidth),h<0&&(h=0),l>0&&p+r.clientHeight>l+v&&(p=l+v-r.clientHeight),p<0&&(p=0),r.style.left=h+"px",r.style.top=p+"px"}},e.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},e.prototype.createGhost=function(){this.eGhost=Pe(t.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);var i=this.environment.getTheme().theme;i&&this.eGhost.classList.add(i),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var r=this.eGhost.querySelector(".ag-dnd-ghost-label"),o=this.dragSource.dragItemName;gc(o)&&(o=o()),r.innerHTML=pe(o)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var s=this.gridOptionsService.getDocument(),a=null;try{a=s.fullscreenElement}catch{}finally{if(!a){var l=this.gridOptionsService.getRootNode(),u=l.querySelector("body");u?a=u:l instanceof ShadowRoot?a=l:a=l==null?void 0:l.documentElement}}this.eGhostParent=a,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},e.prototype.setGhostIcon=function(i,r){r===void 0&&(r=!1),Ve(this.eGhostIcon);var o=null;switch(i||(i=this.dragSource.getDefaultIconName?this.dragSource.getDefaultIconName():t.ICON_NOT_ALLOWED),i){case t.ICON_PINNED:o=this.ePinnedIcon;break;case t.ICON_MOVE:o=this.eMoveIcon;break;case t.ICON_LEFT:o=this.eLeftIcon;break;case t.ICON_RIGHT:o=this.eRightIcon;break;case t.ICON_GROUP:o=this.eGroupIcon;break;case t.ICON_AGGREGATE:o=this.eAggregateIcon;break;case t.ICON_PIVOT:o=this.ePivotIcon;break;case t.ICON_NOT_ALLOWED:o=this.eDropNotAllowedIcon;break;case t.ICON_HIDE:o=this.eHideIcon;break}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",r),!(o===this.eHideIcon&&this.gridOptionsService.is("suppressDragLeaveHidesColumns"))&&o&&this.eGhostIcon.appendChild(o)};var t;return e.ICON_PINNED="pinned",e.ICON_MOVE="move",e.ICON_LEFT="left",e.ICON_RIGHT="right",e.ICON_GROUP="group",e.ICON_AGGREGATE="aggregate",e.ICON_PIVOT="pivot",e.ICON_NOT_ALLOWED="notAllowed",e.ICON_HIDE="hide",e.GHOST_TEMPLATE=`<div class="ag-dnd-ghost ag-unselectable">
            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
            <div class="ag-dnd-ghost-label"></div>
        </div>`,Gn([y("dragService")],e.prototype,"dragService",void 0),Gn([y("mouseEventService")],e.prototype,"mouseEventService",void 0),Gn([y("columnApi")],e.prototype,"columnApi",void 0),Gn([y("gridApi")],e.prototype,"gridApi",void 0),Gn([U],e.prototype,"init",null),Gn([Ee],e.prototype,"clearDragSourceParamsList",null),e=t=Gn([Z("dragAndDropService")],e),e}(j),Oc=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),na=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Au=function(n){Oc(e,n);function e(t,i,r,o,s,a){var l=n.call(this)||this;return l.cellValueFn=t,l.rowNode=i,l.column=r,l.customGui=o,l.dragStartPixels=s,l.suppressVisibilityChange=a,l.dragSource=null,l}return e.prototype.isCustomGui=function(){return this.customGui!=null},e.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(ae("rowDrag",this.gridOptionsService,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var t=this.gridOptionsService.is("rowDragManaged")?new uM(this,this.beans,this.rowNode,this.column):new lM(this,this.beans,this.rowNode,this.column);this.createManagedBean(t,this.beans.context)}},e.prototype.setDragElement=function(t,i){this.setTemplateFromElement(t),this.addDragSource(i)},e.prototype.getSelectedNodes=function(){var t=this.gridOptionsService.is("rowDragMultiRow");if(!t)return[this.rowNode];var i=this.beans.selectionService.getSelectedNodes();return i.indexOf(this.rowNode)!==-1?i:[this.rowNode]},e.prototype.checkCompatibility=function(){var t=this.gridOptionsService.is("rowDragManaged"),i=this.gridOptionsService.is("treeData");i&&t&&bt(function(){return console.warn("AG Grid: If using row drag with tree data, you cannot have rowDragManaged=true")},"RowDragComp.managedAndTreeData")},e.prototype.getDragItem=function(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}},e.prototype.getRowDragText=function(t){if(t){var i=t.getColDef();if(i.rowDragText)return i.rowDragText}return this.gridOptionsService.get("rowDragText")},e.prototype.addDragSource=function(t){var i=this;t===void 0&&(t=4),this.dragSource&&this.removeDragSource();var r=this.getRowDragText(this.column),o=this.localeService.getLocaleTextFunc();this.dragSource={type:$e.RowDrag,eElement:this.getGui(),dragItemName:function(){var s,a=i.getDragItem(),l=((s=a.rowNodes)===null||s===void 0?void 0:s.length)||1;return r?r(a,l):l===1?i.cellValueFn():l+" "+o("rowDragRows","rows")},getDragItem:function(){return i.getDragItem()},dragStartPixels:t,dragSourceDomDataKey:this.gridOptionsService.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},e.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},na([y("beans")],e.prototype,"beans",void 0),na([U],e.prototype,"postConstruct",null),na([Ee],e.prototype,"removeDragSource",null),e}(wt),KS=function(n){Oc(e,n);function e(t,i,r){var o=n.call(this)||this;return o.parent=t,o.rowNode=i,o.column=r,o}return e.prototype.setDisplayedOrVisible=function(t){var i={skipAriaHidden:!0};if(t)this.parent.setDisplayed(!1,i);else{var r=!0,o=!1;this.column&&(r=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),o=gc(this.column.getColDef().rowDrag)),o?(this.parent.setDisplayed(!0,i),this.parent.setVisible(r,i)):(this.parent.setDisplayed(r,i),this.parent.setVisible(!0,i))}},e}(j),lM=function(n){Oc(e,n);function e(t,i,r,o){var s=n.call(this,t,r,o)||this;return s.beans=i,s}return e.prototype.postConstruct=function(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,St.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,St.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,St.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,C.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},e.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},e.prototype.workOutVisibility=function(){var t=this.gridOptionsService.is("suppressRowDrag");this.setDisplayedOrVisible(t)},na([U],e.prototype,"postConstruct",null),e}(KS),uM=function(n){Oc(e,n);function e(t,i,r,o){var s=n.call(this,t,r,o)||this;return s.beans=i,s}return e.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,C.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,C.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,C.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,C.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,St.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,St.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},e.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},e.prototype.workOutVisibility=function(){var t=this.beans.ctrlsService.getGridBodyCtrl(),i=t.getRowDragFeature(),r=i&&i.shouldPreventRowMove(),o=this.gridOptionsService.is("suppressRowDrag"),s=this.beans.dragAndDropService.hasExternalDropZones(),a=r&&!s||o;this.setDisplayedOrVisible(a)},na([U],e.prototype,"postConstruct",null),e}(KS),cM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Fu=function(){return Fu=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Fu.apply(this,arguments)},vs=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},dM=function(n){cM(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(t,i,r,o,s,a,l){this.params=l,this.eGui=i,this.eCheckbox=r,this.eExpanded=o,this.eContracted=s,this.comp=t,this.compClass=a;var u=l.node,c=l.value,d=l.colDef,p=this.isTopLevelFooter();if(!p){var h=this.isEmbeddedRowMismatch();if(h)return;var f=(d==null?void 0:d.showRowGroup)===!0,g=c==null&&!u.master;if(!f&&g)return;if(u.footer&&this.gridOptionsService.is("groupHideOpenParents")){var v=d&&d.showRowGroup,m=u.rowGroupColumn&&u.rowGroupColumn.getColId();if(v!==m)return}}this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),this.addFullWidthRowDraggerIfNeeded(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded()},e.prototype.destroy=function(){n.prototype.destroy.call(this),this.expandListener=null},e.prototype.refreshAriaExpanded=function(){var t=this.params,i=t.node,r=t.eParentOfValue;if(this.expandListener&&(this.expandListener=this.expandListener()),!this.isExpandable()){Jw(r);return}var o=function(){ki(r,!!i.expanded)};this.expandListener=this.addManagedListener(i,St.EVENT_EXPANDED_CHANGED,o)||null,o()},e.prototype.isTopLevelFooter=function(){if(!this.gridOptionsService.is("groupIncludeTotalFooter")||this.params.value!=null||this.params.node.level!=-1)return!1;var t=this.params.colDef,i=t==null;if(i||t.showRowGroup===!0)return!0;var r=this.columnModel.getRowGroupColumns();if(!r||r.length===0)return!0;var o=r[0];return o.getId()===t.showRowGroup},e.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsService.is("embedFullWidthRows"))return!1;var t=this.params.pinned==="left",i=this.params.pinned==="right",r=!t&&!i;return this.gridOptionsService.is("enableRtl")?this.columnModel.isPinningLeft()?!i:!r:this.columnModel.isPinningLeft()?!t:!r},e.prototype.findDisplayedGroupNode=function(){var t=this.params.column,i=this.params.node;if(this.showingValueForOpenedParent)for(var r=i.parent;r!=null;){if(r.rowGroupColumn&&t.isRowGroupDisplayed(r.rowGroupColumn.getId())){this.displayedGroupNode=r;break}r=r.parent}pt(this.displayedGroupNode)&&(this.displayedGroupNode=i)},e.prototype.setupShowingValueForOpenedParent=function(){var t=this.params.node,i=this.params.column;if(!this.gridOptionsService.is("groupHideOpenParents")){this.showingValueForOpenedParent=!1;return}if(!t.groupData){this.showingValueForOpenedParent=!1;return}var r=t.rowGroupColumn!=null;if(r){var o=t.rowGroupColumn.getId(),s=i.isRowGroupDisplayed(o);if(s){this.showingValueForOpenedParent=!1;return}}var a=t.groupData[i.getId()]!=null;this.showingValueForOpenedParent=a},e.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},e.prototype.addGroupValue=function(){var t=this.adjustParamsWithDetailsFromRelatedColumn(),i=this.getInnerCompDetails(t),r=t.valueFormatted,o=t.value,s=r;if(s==null)if(o===""&&this.params.node.group){var a=this.localeService.getLocaleTextFunc();s=a("blanks","(Blanks)")}else s=o??null;this.comp.setInnerRenderer(i,s)},e.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var t=this.displayedGroupNode.rowGroupColumn,i=this.params.column;if(!t)return this.params;var r=i!=null;if(r){var o=i.isRowGroupDisplayed(t.getId());if(!o)return this.params}var s=this.params,a=this.params,l=a.value,u=a.node,c=this.valueFormatterService.formatValue(t,u,l),d=Fu(Fu({},s),{valueFormatted:c});return d},e.prototype.addFooterValue=function(){var t=this.params.footerValueGetter,i="";if(t){var r=Hh(this.params);r.value=this.params.value,typeof t=="function"?i=t(r):typeof t=="string"?i=this.expressionService.evaluate(t,r):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else i="Total "+(this.params.value!=null?this.params.value:"");var o=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(o,i)},e.prototype.getInnerCompDetails=function(t){var i=this;if(t.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptionsService.get("groupRowRendererParams"),t);var r=this.userComponentFactory.getInnerRendererDetails(t,t),o=function(c){return c&&c.componentClass==i.compClass};if(r&&!o(r))return r;var s=this.displayedGroupNode.rowGroupColumn,a=s?s.getColDef():void 0;if(a){var l=this.userComponentFactory.getCellRendererDetails(a,t);if(l&&!o(l))return l;if(o(l)&&a.cellRendererParams&&a.cellRendererParams.innerRenderer){var u=this.userComponentFactory.getInnerRendererDetails(a.cellRendererParams,t);return u}}},e.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,St.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},e.prototype.updateChildCount=function(){var t=this.displayedGroupNode.allChildrenCount,i=this.isShowRowGroupForThisRow(),r=i&&t!=null&&t>=0,o=r?"("+t+")":"";this.comp.setChildCount(o)},e.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsService.is("treeData"))return!0;var t=this.displayedGroupNode.rowGroupColumn;if(!t)return!1;var i=this.params.column,r=i==null||i.isRowGroupDisplayed(t.getId());return r},e.prototype.addExpandAndContract=function(){var t,i=this.params,r=ae("groupExpanded",this.gridOptionsService,null),o=ae("groupContracted",this.gridOptionsService,null);r&&this.eExpanded.appendChild(r),o&&this.eContracted.appendChild(o);var s=i.eGridCell,a=((t=this.params.column)===null||t===void 0?void 0:t.isCellEditable(i.node))&&this.gridOptionsService.is("enableGroupEdit");!a&&this.isExpandable()&&!i.suppressDoubleClickExpand&&this.addManagedListener(s,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(s,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(i.node,St.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var l=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,St.EVENT_ALL_CHILDREN_COUNT_CHANGED,l),this.addManagedListener(this.displayedGroupNode,St.EVENT_MASTER_CHANGED,l),this.addManagedListener(this.displayedGroupNode,St.EVENT_GROUP_CHANGED,l),this.addManagedListener(this.displayedGroupNode,St.EVENT_HAS_CHILDREN_CHANGED,l)},e.prototype.onExpandClicked=function(t){Ui(t)||(gr(t),this.onExpandOrContract(t))},e.prototype.onExpandOrContract=function(t){var i=this.displayedGroupNode,r=!i.expanded;!r&&i.sticky&&this.scrollToStickyNode(i),i.setExpanded(r,t)},e.prototype.scrollToStickyNode=function(t){var i=this.ctrlsService.getGridBodyCtrl(),r=i.getScrollFeature();r.setVerticalScrollPosition(t.rowTop-t.stickyRowTop)},e.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var t=this.displayedGroupNode,i=this.columnModel.isPivotMode()&&t.leafGroup,r=t.isExpandable()&&!t.footer&&!i;if(!r)return!1;var o=this.params.column,s=o!=null&&typeof o.getColDef().showRowGroup=="string";if(s){var a=this.isShowRowGroupForThisRow();return a}return!0},e.prototype.showExpandAndContractIcons=function(){var t=this,i=t.params,r=t.displayedGroupNode,o=t.columnModel,s=i.node,a=this.isExpandable();if(a){var l=this.showingValueForOpenedParent?!0:s.expanded;this.comp.setExpandedDisplayed(l),this.comp.setContractedDisplayed(!l)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var u=o.isPivotMode(),c=u&&r.leafGroup,d=a&&!c,p=s.footer&&s.level===-1;this.comp.addOrRemoveCssClass("ag-cell-expandable",d),this.comp.addOrRemoveCssClass("ag-row-group",d),u?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",c):p||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!d)},e.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()},e.prototype.setupIndent=function(){var t=this.params.node,i=this.params.suppressPadding;i||(this.addManagedListener(t,St.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},e.prototype.setIndent=function(){if(!this.gridOptionsService.is("groupHideOpenParents")){var t=this.params,i=t.node,r=!!t.colDef,o=this.gridOptionsService.is("treeData"),s=!r||o||t.colDef.showRowGroup===!0,a=s?i.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+a,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},e.prototype.addFullWidthRowDraggerIfNeeded=function(){var t=this;if(!(!this.params.fullWidth||!this.params.rowDrag)){var i=new Au(function(){return t.params.value},this.params.node);this.createManagedBean(i,this.context),this.eGui.insertAdjacentElement("afterbegin",i.getGui())}},e.prototype.isUserWantsSelected=function(){var t=this.params.checkbox;return typeof t=="function"||t===!0},e.prototype.addCheckboxIfNeeded=function(){var t=this,i=this.displayedGroupNode,r=this.isUserWantsSelected()&&!i.footer&&!i.rowPinned&&!i.detail;if(r){var o=new $S;this.getContext().createBean(o),o.init({rowNode:this.params.node,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(o.getGui()),this.addDestroyFunc(function(){return t.getContext().destroyBean(o)})}this.comp.setCheckboxVisible(r)},e.prototype.onKeyDown=function(t){var i=t.key===A.ENTER;if(!(!i||this.params.suppressEnterExpand)){var r=this.params.column&&this.params.column.isCellEditable(this.params.node);r||this.onExpandOrContract(t)}},e.prototype.onCellDblClicked=function(t){if(!Ui(t)){var i=Ru(this.eExpanded,t)||Ru(this.eContracted,t);i||this.onExpandOrContract(t)}},vs([y("expressionService")],e.prototype,"expressionService",void 0),vs([y("valueFormatterService")],e.prototype,"valueFormatterService",void 0),vs([y("columnModel")],e.prototype,"columnModel",void 0),vs([y("userComponentFactory")],e.prototype,"userComponentFactory",void 0),vs([y("ctrlsService")],e.prototype,"ctrlsService",void 0),e}(j),pM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ys=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},ry=function(n){pM(e,n);function e(){return n.call(this,e.TEMPLATE)||this}return e.prototype.init=function(t){var i=this,r={setInnerRenderer:function(l,u){return i.setRenderDetails(l,u)},setChildCount:function(l){return i.eChildCount.innerHTML=l},addOrRemoveCssClass:function(l,u){return i.addOrRemoveCssClass(l,u)},setContractedDisplayed:function(l){return Tt(i.eContracted,l)},setExpandedDisplayed:function(l){return Tt(i.eExpanded,l)},setCheckboxVisible:function(l){return i.eCheckbox.classList.toggle("ag-invisible",!l)}},o=this.createManagedBean(new dM),s=!t.colDef,a=this.getGui();o.init(r,a,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,t),s&&Ce(a,"gridcell")},e.prototype.setRenderDetails=function(t,i){var r=this;if(t){var o=t.newAgStackInstance();if(!o)return;o.then(function(s){if(s){var a=function(){return r.context.destroyBean(s)};r.isAlive()?(r.eValue.appendChild(s.getGui()),r.addDestroyFunc(a)):a()}})}else this.eValue.innerText=i},e.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),n.prototype.destroy.call(this)},e.prototype.refresh=function(){return!1},e.TEMPLATE=`<span class="ag-cell-wrapper">
            <span class="ag-group-expanded" ref="eExpanded"></span>
            <span class="ag-group-contracted" ref="eContracted"></span>
            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>
            <span class="ag-group-value" ref="eValue"></span>
            <span class="ag-group-child-count" ref="eChildCount"></span>
        </span>`,ys([K("eExpanded")],e.prototype,"eExpanded",void 0),ys([K("eContracted")],e.prototype,"eContracted",void 0),ys([K("eCheckbox")],e.prototype,"eCheckbox",void 0),ys([K("eValue")],e.prototype,"eValue",void 0),ys([K("eChildCount")],e.prototype,"eChildCount",void 0),e}(wt),hM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ny=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},fM=function(n){hM(e,n);function e(){return n.call(this,e.TEMPLATE)||this}return e.prototype.init=function(t){t.node.failedLoad?this.setupFailed():this.setupLoading()},e.prototype.setupFailed=function(){var t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingError","ERR")},e.prototype.setupLoading=function(){var t=ae("groupLoading",this.gridOptionsService,null);t&&this.eLoadingIcon.appendChild(t);var i=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=i("loadingOoo","Loading")},e.prototype.refresh=function(t){return!1},e.prototype.destroy=function(){n.prototype.destroy.call(this)},e.TEMPLATE=`<div class="ag-loading">
            <span class="ag-loading-icon" ref="eLoadingIcon"></span>
            <span class="ag-loading-text" ref="eLoadingText"></span>
        </div>`,ny([K("eLoadingIcon")],e.prototype,"eLoadingIcon",void 0),ny([K("eLoadingText")],e.prototype,"eLoadingText",void 0),e}(wt),gM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),vM=function(n){gM(e,n);function e(){return n.call(this)||this}return e.prototype.destroy=function(){n.prototype.destroy.call(this)},e.prototype.init=function(t){var i,r=(i=this.gridOptionsService.get("overlayLoadingTemplate"))!==null&&i!==void 0?i:e.DEFAULT_LOADING_OVERLAY_TEMPLATE,o=this.localeService.getLocaleTextFunc(),s=r.replace("[LOADING...]",o("loadingOoo","Loading..."));this.setTemplate(s)},e.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',e}(wt),yM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),mM=function(n){yM(e,n);function e(){return n.call(this)||this}return e.prototype.destroy=function(){n.prototype.destroy.call(this)},e.prototype.init=function(t){var i,r=(i=this.gridOptionsService.get("overlayNoRowsTemplate"))!==null&&i!==void 0?i:e.DEFAULT_NO_ROWS_TEMPLATE,o=this.localeService.getLocaleTextFunc(),s=r.replace("[NO_ROWS_TO_SHOW]",o("noRowsToShow","No Rows To Show"));this.setTemplate(s)},e.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',e}(wt),CM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),wM=function(n){CM(e,n);function e(){return n.call(this,'<div class="ag-tooltip"></div>')||this}return e.prototype.init=function(t){var i=t.value;this.getGui().innerHTML=pe(i)},e}(fo),SM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),_M=function(){function n(){}return n.prototype.getTemplate=function(){return'<ag-input-number-field class="ag-cell-editor" ref="eInput"></ag-input-number-field>'},n.prototype.init=function(e,t){this.eInput=e,this.params=t,t.max!=null&&e.setMax(t.max),t.min!=null&&e.setMin(t.min),t.precision!=null&&e.setPrecision(t.precision),t.step!=null&&e.setStep(t.step),t.showStepperButtons&&e.getInputElement().classList.add("ag-number-field-input-stepper")},n.prototype.getValue=function(){var e=this.eInput.getValue();if(!N(e)&&!N(this.params.value))return this.params.value;var t=this.params.parseValue(e);if(t==null)return t;if(typeof t=="string"){if(t==="")return null;t=Number(t)}return isNaN(t)?null:t},n.prototype.getStartValue=function(){return this.params.value},n}(),EM=function(n){SM(e,n);function e(){return n.call(this,new _M)||this}return e}(Rc),bM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),RM=function(){function n(){}return n.prototype.getTemplate=function(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'},n.prototype.init=function(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)},n.prototype.getValue=function(){var e=this.eInput.getDate();return!N(e)&&!N(this.params.value)?this.params.value:e??null},n.prototype.getStartValue=function(){var e=this.params.value;if(e instanceof Date)return Pi(e,!1)},n}(),OM=function(n){bM(e,n);function e(){return n.call(this,new RM)||this}return e}(Rc),TM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),xM=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},PM=function(){function n(e){this.getDataTypeService=e}return n.prototype.getTemplate=function(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'},n.prototype.init=function(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)},n.prototype.getValue=function(){var e=this.formatDate(this.eInput.getDate());return!N(e)&&!N(this.params.value)?this.params.value:this.params.parseValue(e??"")},n.prototype.getStartValue=function(){var e,t;return Pi((t=this.parseDate((e=this.params.value)!==null&&e!==void 0?e:void 0))!==null&&t!==void 0?t:null,!1)},n.prototype.parseDate=function(e){return this.getDataTypeService().getDateParserFunction()(e)},n.prototype.formatDate=function(e){return this.getDataTypeService().getDateFormatterFunction()(e)},n}(),DM=function(n){TM(e,n);function e(){var t=n.call(this,new PM(function(){return t.dataTypeService}))||this;return t}return xM([y("dataTypeService")],e.prototype,"dataTypeService",void 0),e}(Rc),AM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),FM=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},MM=function(n){AM(e,n);function e(){return n.call(this,e.TEMPLATE)||this}return e.prototype.init=function(t){var i=this;this.params=t,this.updateCheckbox(t),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function(o){if(gr(o),!i.eCheckbox.isDisabled()){var s=i.eCheckbox.getValue();i.onCheckboxChanged(s)}}),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",function(o){gr(o)});var r=this.gridOptionsService.getDocument();this.addManagedListener(this.params.eGridCell,"keydown",function(o){if(o.key===A.SPACE&&!i.eCheckbox.isDisabled()){i.params.eGridCell===r.activeElement&&i.eCheckbox.toggle();var s=i.eCheckbox.getValue();i.onCheckboxChanged(s),o.preventDefault()}})},e.prototype.refresh=function(t){return this.params=t,this.updateCheckbox(t),!0},e.prototype.updateCheckbox=function(t){var i,r,o,s,a=!0;if(t.node.group&&t.column){var l=t.column.getColId();l.startsWith($o)?s=t.value==null||t.value===""?void 0:t.value==="true":t.node.aggData&&t.node.aggData[l]!==void 0?s=(i=t.value)!==null&&i!==void 0?i:void 0:a=!1}else s=(r=t.value)!==null&&r!==void 0?r:void 0;if(!a){this.eCheckbox.setDisplayed(!1);return}this.eCheckbox.setValue(s);var u=t.disabled!=null?t.disabled:!(!((o=t.column)===null||o===void 0)&&o.isCellEditable(t.node));this.eCheckbox.setDisabled(u);var c=this.localeService.getLocaleTextFunc(),d=mc(c,s),p=u?d:c("ariaToggleCellValue","Press SPACE to toggle cell value")+" ("+d+")";this.eCheckbox.setInputAriaLabel(p)},e.prototype.onCheckboxChanged=function(t){var i=this.params,r=i.column,o=i.node,s=i.rowIndex,a=i.value,l={type:C.EVENT_CELL_EDITING_STARTED,column:r,colDef:r==null?void 0:r.getColDef(),data:o.data,node:o,rowIndex:s,rowPinned:o.rowPinned,value:a};this.eventService.dispatchEvent(l);var u=this.params.node.setDataValue(this.params.column,t,"edit"),c={type:C.EVENT_CELL_EDITING_STOPPED,column:r,colDef:r==null?void 0:r.getColDef(),data:o.data,node:o,rowIndex:s,rowPinned:o.rowPinned,value:a,oldValue:a,newValue:t,valueChanged:u};this.eventService.dispatchEvent(c)},e.TEMPLATE=`
        <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
            <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
        </div>`,FM([K("eCheckbox")],e.prototype,"eCheckbox",void 0),e}(wt),LM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),IM=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},NM=function(n){LM(e,n);function e(){return n.call(this,`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)||this}return e.prototype.init=function(t){var i=this,r;this.params=t;var o=(r=t.value)!==null&&r!==void 0?r:void 0;this.eCheckbox.setValue(o),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(o),this.addManagedListener(this.eCheckbox,C.EVENT_FIELD_VALUE_CHANGED,function(s){return i.setAriaLabel(s.selected)})},e.prototype.getValue=function(){return this.eCheckbox.getValue()},e.prototype.focusIn=function(){this.eCheckbox.getFocusableElement().focus()},e.prototype.afterGuiAttached=function(){this.params.cellStartedEdit&&this.focusIn()},e.prototype.isPopup=function(){return!1},e.prototype.setAriaLabel=function(t){var i=this.localeService.getLocaleTextFunc(),r=mc(i,t),o=i("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(o+" ("+r+")")},IM([K("eCheckbox")],e.prototype,"eCheckbox",void 0),e}(fo),GM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ed=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},oy=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},sy=function(n,e){for(var t=0,i=e.length,r=n.length;t<i;t++,r++)n[r]=e[t];return n},HM=function(n){GM(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.agGridDefaults={agDateInput:DF,agColumnHeader:VF,agColumnGroupHeader:BF,agSortIndicator:vf,agTextColumnFloatingFilter:NF,agNumberColumnFloatingFilter:LF,agDateColumnFloatingFilter:OF,agReadOnlyFloatingFilter:rF,agAnimateShowChangeCellRenderer:iM,agAnimateSlideCellRenderer:oM,agGroupCellRenderer:ry,agGroupRowRenderer:ry,agLoadingCellRenderer:fM,agCheckboxCellRenderer:MM,agCellEditor:ey,agTextCellEditor:ey,agNumberCellEditor:EM,agDateCellEditor:OM,agDateStringCellEditor:DM,agSelectCellEditor:KF,agLargeTextCellEditor:zF,agCheckboxCellEditor:NM,agTextColumnFilter:gf,agNumberColumnFilter:VS,agDateColumnFilter:IS,agLoadingOverlay:vM,agNoRowsOverlay:mM,agTooltipComponent:wM},t.enterpriseAgDefaultCompsModule={agSetColumnFilter:tt.SetFilterModule,agSetColumnFloatingFilter:tt.SetFilterModule,agMultiColumnFilter:tt.MultiFilterModule,agMultiColumnFloatingFilter:tt.MultiFilterModule,agGroupColumnFilter:tt.RowGroupingModule,agGroupColumnFloatingFilter:tt.RowGroupingModule,agRichSelect:tt.RichSelectModule,agRichSelectCellEditor:tt.RichSelectModule,agDetailCellRenderer:tt.MasterDetailModule,agSparklineCellRenderer:tt.SparklinesModule},t.jsComps={},t}return e.prototype.init=function(){var t=this;this.gridOptions.components!=null&&Xt(this.gridOptions.components,function(i,r){return t.registerJsComponent(i,r)})},e.prototype.registerDefaultComponent=function(t,i){if(this.agGridDefaults[t]){console.error("Trying to overwrite a default component. You should call registerComponent");return}this.agGridDefaults[t]=i},e.prototype.registerJsComponent=function(t,i){this.jsComps[t]=i},e.prototype.retrieve=function(t,i){var r=this,o=function(d,p){return{componentFromFramework:p,component:d}},s=this.getFrameworkOverrides().frameworkComponent(i,this.gridOptions.components);if(s!=null)return o(s,!0);var a=this.jsComps[i];if(a){var l=this.getFrameworkOverrides().isFrameworkComponent(a);return o(a,l)}var u=this.agGridDefaults[i];if(u)return o(u,!1);var c=this.enterpriseAgDefaultCompsModule[i];return c?ft.__assertRegistered(c,"AG Grid '"+t+"' component: "+i,this.context.getGridId()):bt(function(){r.warnAboutMissingComponent(t,i)},"MissingComp"+i),null},e.prototype.warnAboutMissingComponent=function(t,i){var r=sy(sy([],oy(Object.keys(this.agGridDefaults).filter(function(s){return!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(s)}))),oy(Object.keys(this.jsComps))),o=Ga(i,r,!0,.8).values;console.warn("AG Grid: Could not find '"+i+`' component. It was configured as "`+t+": '"+i+`'" but it wasn't found in the list of registered components.`),o.length>0&&console.warn("         Did you mean: ["+o.slice(0,3)+"]?"),console.warn("If using a custom component check it has been registered as described in: https://ag-grid.com/javascript-data-grid/components/")},Ed([y("gridOptions")],e.prototype,"gridOptions",void 0),Ed([U],e.prototype,"init",null),e=Ed([Z("userComponentRegistry")],e),e}(j),VM={propertyName:"dateComponent",cellRenderer:!1},kM={propertyName:"headerComponent",cellRenderer:!1},BM={propertyName:"headerGroupComponent",cellRenderer:!1},ay={propertyName:"cellRenderer",cellRenderer:!0},jM={propertyName:"cellEditor",cellRenderer:!1},ly={propertyName:"innerRenderer",cellRenderer:!0},WM={propertyName:"loadingOverlayComponent",cellRenderer:!1},UM={propertyName:"noRowsOverlayComponent",cellRenderer:!1},zM={propertyName:"tooltipComponent",cellRenderer:!1},$p={propertyName:"filter",cellRenderer:!1},$M={propertyName:"floatingFilterComponent",cellRenderer:!1},KM={propertyName:"toolPanel",cellRenderer:!1},YM={propertyName:"statusPanel",cellRenderer:!1},qM={propertyName:"fullWidthCellRenderer",cellRenderer:!0},XM={propertyName:"loadingCellRenderer",cellRenderer:!0},QM={propertyName:"groupRowRenderer",cellRenderer:!0},JM={propertyName:"detailCellRenderer",cellRenderer:!0},ZM=function(){function n(){}return n.getFloatingFilterType=function(e){return this.filterToFloatingFilterMapping[e]},n.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},n}(),tL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Co=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},eL=function(n){tL(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getHeaderCompDetails=function(t,i){return this.getCompDetails(t,kM,"agColumnHeader",i)},e.prototype.getHeaderGroupCompDetails=function(t){var i=t.columnGroup.getColGroupDef();return this.getCompDetails(i,BM,"agColumnGroupHeader",t)},e.prototype.getFullWidthCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,qM,null,t,!0)},e.prototype.getFullWidthLoadingCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,XM,"agLoadingCellRenderer",t,!0)},e.prototype.getFullWidthGroupCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,QM,"agGroupRowRenderer",t,!0)},e.prototype.getFullWidthDetailCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,JM,"agDetailCellRenderer",t,!0)},e.prototype.getInnerRendererDetails=function(t,i){return this.getCompDetails(t,ly,null,i)},e.prototype.getFullWidthGroupRowInnerCellRenderer=function(t,i){return this.getCompDetails(t,ly,null,i)},e.prototype.getCellRendererDetails=function(t,i){return this.getCompDetails(t,ay,null,i)},e.prototype.getCellEditorDetails=function(t,i){return this.getCompDetails(t,jM,"agCellEditor",i,!0)},e.prototype.getFilterDetails=function(t,i,r){return this.getCompDetails(t,$p,r,i,!0)},e.prototype.getDateCompDetails=function(t){return this.getCompDetails(this.gridOptions,VM,"agDateInput",t,!0)},e.prototype.getLoadingOverlayCompDetails=function(t){return this.getCompDetails(this.gridOptions,WM,"agLoadingOverlay",t,!0)},e.prototype.getNoRowsOverlayCompDetails=function(t){return this.getCompDetails(this.gridOptions,UM,"agNoRowsOverlay",t,!0)},e.prototype.getTooltipCompDetails=function(t){return this.getCompDetails(t.colDef,zM,"agTooltipComponent",t,!0)},e.prototype.getSetFilterCellRendererDetails=function(t,i){return this.getCompDetails(t,ay,null,i)},e.prototype.getFloatingFilterCompDetails=function(t,i,r){return this.getCompDetails(t,$M,r,i)},e.prototype.getToolPanelCompDetails=function(t,i){return this.getCompDetails(t,KM,null,i,!0)},e.prototype.getStatusPanelCompDetails=function(t,i){return this.getCompDetails(t,YM,null,i,!0)},e.prototype.getCompDetails=function(t,i,r,o,s){var a=this;s===void 0&&(s=!1);var l=i.propertyName,u=i.cellRenderer,c=this.getCompKeys(t,i,o),d=c.compName,p=c.jsComp,h=c.fwComp,f=c.paramsFromSelector,g=c.popupFromSelector,v=c.popupPositionFromSelector,m=function(O){var P=a.userComponentRegistry.retrieve(l,O);P&&(p=P.componentFromFramework?void 0:P.component,h=P.componentFromFramework?P.component:void 0)};if(d!=null&&m(d),p==null&&h==null&&r!=null&&m(r),p&&u&&!this.agComponentUtils.doesImplementIComponent(p)&&(p=this.agComponentUtils.adaptFunction(l,p)),!p&&!h){s&&console.error("AG Grid: Could not find component "+d+", did you forget to configure this component?");return}var w=this.mergeParamsWithApplicationProvidedParams(t,i,o,f),b=p==null,E=p||h;return{componentFromFramework:b,componentClass:E,params:w,type:i,popupFromSelector:g,popupPositionFromSelector:v,newAgStackInstance:function(){return a.newAgStackInstance(E,b,w,i)}}},e.prototype.getCompKeys=function(t,i,r){var o=this,s=i.propertyName,a,l,u,c,d,p;if(t){var h=t,f=h[s+"Selector"],g=f?f(r):null,v=function(m){if(typeof m=="string")a=m;else if(m!=null&&m!==!0){var w=o.getFrameworkOverrides().isFrameworkComponent(m);w?u=m:l=m}};g?(v(g.component),c=g.params,d=g.popup,p=g.popupPosition):v(h[s])}return{compName:a,jsComp:l,fwComp:u,paramsFromSelector:c,popupFromSelector:d,popupPositionFromSelector:p}},e.prototype.newAgStackInstance=function(t,i,r,o){var s=o.propertyName,a=!i,l;if(a)l=new t;else{var u=this.componentMetadataProvider.retrieve(s);l=this.frameworkComponentWrapper.wrap(t,u.mandatoryMethodList,u.optionalMethodList,o)}var c=this.initComponent(l,r);return c==null?Hi.resolve(l):c.then(function(){return l})},e.prototype.mergeParamsWithApplicationProvidedParams=function(t,i,r,o){o===void 0&&(o=null);var s={context:this.gridOptionsService.context,columnApi:this.gridOptionsService.columnApi,api:this.gridOptionsService.api};vi(s,r);var a=t,l=a&&a[i.propertyName+"Params"];if(typeof l=="function"){var u=l(r);vi(s,u)}else typeof l=="object"&&vi(s,l);return vi(s,o),s},e.prototype.initComponent=function(t,i){if(this.context.createBean(t),t.init!=null)return t.init(i)},e.prototype.getDefaultFloatingFilterType=function(t,i){if(t==null)return null;var r=null,o=this.getCompKeys(t,$p),s=o.compName,a=o.jsComp,l=o.fwComp;if(s)r=ZM.getFloatingFilterType(s);else{var u=a==null&&l==null&&t.filter===!0;u&&(r=i())}return r},Co([y("gridOptions")],e.prototype,"gridOptions",void 0),Co([y("agComponentUtils")],e.prototype,"agComponentUtils",void 0),Co([y("componentMetadataProvider")],e.prototype,"componentMetadataProvider",void 0),Co([y("userComponentRegistry")],e.prototype,"userComponentRegistry",void 0),Co([At("frameworkComponentWrapper")],e.prototype,"frameworkComponentWrapper",void 0),e=Co([Z("userComponentFactory")],e),e}(j),Mu;(function(n){n[n.SINGLE_SHEET=0]="SINGLE_SHEET",n[n.MULTI_SHEET=1]="MULTI_SHEET"})(Mu||(Mu={}));var iL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),bd=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},rL=function(n){iL(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.dragEndFunctions=[],t.dragSources=[],t}return e.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},e.prototype.removeListener=function(t){var i=t.dragSource.eElement,r=t.mouseDownListener;if(i.removeEventListener("mousedown",r),t.touchEnabled){var o=t.touchStartListener;i.removeEventListener("touchstart",o,{passive:!0})}},e.prototype.removeDragSource=function(t){var i=this.dragSources.find(function(r){return r.dragSource===t});i&&(this.removeListener(i),pi(this.dragSources,i))},e.prototype.isDragging=function(){return this.dragging},e.prototype.addDragSource=function(t){var i=this,r=this.onMouseDown.bind(this,t),o=t.eElement,s=t.includeTouch,a=t.stopPropagationForTouch;o.addEventListener("mousedown",r);var l=null,u=this.gridOptionsService.is("suppressTouch");s&&!u&&(l=function(c){tf(c.target)||(c.cancelable&&(c.preventDefault(),a&&c.stopPropagation()),i.onTouchStart(t,c))},o.addEventListener("touchstart",l,{passive:!1})),this.dragSources.push({dragSource:t,mouseDownListener:r,touchStartListener:l,touchEnabled:!!s})},e.prototype.getStartTarget=function(){return this.startTarget},e.prototype.onTouchStart=function(t,i){var r=this;this.currentDragParams=t,this.dragging=!1;var o=i.touches[0];this.touchLastTime=o,this.touchStart=o;var s=function(d){return r.onTouchMove(d,t.eElement)},a=function(d){return r.onTouchUp(d,t.eElement)},l=function(d){d.cancelable&&d.preventDefault()},u=i.target,c=[{target:this.gridOptionsService.getRootNode(),type:"touchmove",listener:l,options:{passive:!1}},{target:u,type:"touchmove",listener:s,options:{passive:!0}},{target:u,type:"touchend",listener:a,options:{passive:!0}},{target:u,type:"touchcancel",listener:a,options:{passive:!0}}];this.addTemporaryEvents(c),t.dragStartPixels===0&&this.onCommonMove(o,this.touchStart,t.eElement)},e.prototype.onMouseDown=function(t,i){var r=this,o=i;if(!(t.skipMouseEvent&&t.skipMouseEvent(i))&&!o._alreadyProcessedByDragService&&(o._alreadyProcessedByDragService=!0,i.button===0)){this.shouldPreventMouseEvent(i)&&i.preventDefault(),this.currentDragParams=t,this.dragging=!1,this.mouseStartEvent=i,this.startTarget=i.target;var s=function(d){return r.onMouseMove(d,t.eElement)},a=function(d){return r.onMouseUp(d,t.eElement)},l=function(d){return d.preventDefault()},u=this.gridOptionsService.getRootNode(),c=[{target:u,type:"mousemove",listener:s},{target:u,type:"mouseup",listener:a},{target:u,type:"contextmenu",listener:l}];this.addTemporaryEvents(c),t.dragStartPixels===0&&this.onMouseMove(i,t.eElement)}},e.prototype.addTemporaryEvents=function(t){t.forEach(function(i){var r=i.target,o=i.type,s=i.listener,a=i.options;r.addEventListener(o,s,a)}),this.dragEndFunctions.push(function(){t.forEach(function(i){var r=i.target,o=i.type,s=i.listener,a=i.options;r.removeEventListener(o,s,a)})})},e.prototype.isEventNearStartEvent=function(t,i){var r=this.currentDragParams.dragStartPixels,o=N(r)?r:4;return uf(t,i,o)},e.prototype.getFirstActiveTouch=function(t){for(var i=0;i<t.length;i++)if(t[i].identifier===this.touchStart.identifier)return t[i];return null},e.prototype.onCommonMove=function(t,i,r){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(t,i))return;this.dragging=!0;var o={type:C.EVENT_DRAG_STARTED,target:r};this.eventService.dispatchEvent(o),this.currentDragParams.onDragStart(i),this.currentDragParams.onDragging(i)}this.currentDragParams.onDragging(t)},e.prototype.onTouchMove=function(t,i){var r=this.getFirstActiveTouch(t.touches);r&&this.onCommonMove(r,this.touchStart,i)},e.prototype.onMouseMove=function(t,i){this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.onCommonMove(t,this.mouseStartEvent,i)},e.prototype.shouldPreventMouseEvent=function(t){var i=this.gridOptionsService.is("enableCellTextSelection"),r=Ai(),o=t.type==="mousemove";return(i&&o||r)&&t.cancelable&&this.mouseEventService.isEventFromThisGrid(t)&&!this.isOverFormFieldElement(t)},e.prototype.isOverFormFieldElement=function(t){var i=t.target,r=i==null?void 0:i.tagName.toLocaleLowerCase();return!!(r!=null&&r.match("^a$|textarea|input|select|button"))},e.prototype.onTouchUp=function(t,i){var r=this.getFirstActiveTouch(t.changedTouches);r||(r=this.touchLastTime),this.onUpCommon(r,i)},e.prototype.onMouseUp=function(t,i){this.onUpCommon(t,i)},e.prototype.onUpCommon=function(t,i){if(this.dragging){this.dragging=!1,this.currentDragParams.onDragStop(t);var r={type:C.EVENT_DRAG_STOPPED,target:i};this.eventService.dispatchEvent(r)}this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(function(o){return o()}),this.dragEndFunctions.length=0},bd([y("mouseEventService")],e.prototype,"mouseEventService",void 0),bd([Ee],e.prototype,"removeAllListeners",null),e=bd([Z("dragService")],e),e}(j),YS=function(){function n(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||function(){return!1}}return n.prototype.check=function(e,t){t===void 0&&(t=!1);var i=t||this.shouldSkipVerticalScroll();if(!(i&&this.shouldSkipHorizontalScroll())){var r=this.scrollContainer.getBoundingClientRect(),o=this.scrollByTick;this.tickLeft=e.clientX<r.left+o,this.tickRight=e.clientX>r.right-o,this.tickUp=e.clientY<r.top+o&&!i,this.tickDown=e.clientY>r.bottom-o&&!i,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},n.prototype.ensureTickingStarted=function(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},n.prototype.doTick=function(){this.tickCount++;var e;if(e=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){var i=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(i-e),this.tickRight&&this.setHorizontalPosition(i+e)}this.onScrollCallback&&this.onScrollCallback()},n.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},n}(),nL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),uy=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Rd="ag-list-item-hovered";(function(n){nL(e,n);function e(t,i,r){var o=n.call(this)||this;return o.comp=t,o.virtualList=i,o.params=r,o.currentDragValue=null,o.lastHoveredListItem=null,o}return e.prototype.postConstruct=function(){this.addManagedListener(this.params.eventSource,this.params.listItemDragStartEvent,this.listItemDragStart.bind(this)),this.addManagedListener(this.params.eventSource,this.params.listItemDragEndEvent,this.listItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()},e.prototype.listItemDragStart=function(t){this.currentDragValue=this.params.getCurrentDragValue(t),this.moveBlocked=this.params.isMoveBlocked(this.currentDragValue)},e.prototype.listItemDragEnd=function(){var t=this;window.setTimeout(function(){t.currentDragValue=null,t.moveBlocked=!1},10)},e.prototype.createDropTarget=function(){var t=this,i={isInterestedIn:function(r){return r===t.params.dragSourceType},getIconName:function(){return Se[t.moveBlocked?"ICON_NOT_ALLOWED":"ICON_MOVE"]},getContainer:function(){return t.comp.getGui()},onDragging:function(r){return t.onDragging(r)},onDragStop:function(){return t.onDragStop()},onDragLeave:function(){return t.onDragLeave()}};this.dragAndDropService.addDropTarget(i)},e.prototype.createAutoScrollService=function(){var t=this.virtualList.getGui();this.autoScrollService=new YS({scrollContainer:t,scrollAxis:"y",getVerticalPosition:function(){return t.scrollTop},setVerticalPosition:function(i){return t.scrollTop=i}})},e.prototype.onDragging=function(t){if(!(!this.currentDragValue||this.moveBlocked)){var i=this.getListDragItem(t),r=this.virtualList.getComponentAt(i.rowIndex);if(r){var o=r.getGui().parentElement;this.lastHoveredListItem&&this.lastHoveredListItem.rowIndex===i.rowIndex&&this.lastHoveredListItem.position===i.position||(this.autoScrollService.check(t.event),this.clearHoveredItems(),this.lastHoveredListItem=i,Vp(o,Rd),Vp(o,"ag-item-highlight-"+i.position))}}},e.prototype.getListDragItem=function(t){var i=this.virtualList.getGui(),r=parseFloat(window.getComputedStyle(i).paddingTop),o=this.virtualList.getRowHeight(),s=this.virtualList.getScrollTop(),a=Math.max(0,(t.y-r+s)/o),l=this.params.getNumRows(this.comp)-1,u=Math.min(l,a)|0;return{rowIndex:u,position:Math.round(a)>a||a>l?"bottom":"top",component:this.virtualList.getComponentAt(u)}},e.prototype.onDragStop=function(){this.moveBlocked||(this.params.moveItem(this.currentDragValue,this.lastHoveredListItem),this.clearHoveredItems(),this.autoScrollService.ensureCleared())},e.prototype.onDragLeave=function(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()},e.prototype.clearHoveredItems=function(){var t=this.virtualList.getGui();t.querySelectorAll("."+Rd).forEach(function(i){[Rd,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach(function(r){i.classList.remove(r)})}),this.lastHoveredListItem=null},uy([y("dragAndDropService")],e.prototype,"dragAndDropService",void 0),uy([U],e.prototype,"postConstruct",null),e})(j);var Dr;(function(n){n[n.Above=0]="Above",n[n.Below=1]="Below"})(Dr||(Dr={}));var Ft;(function(n){n.EVERYTHING="group",n.FILTER="filter",n.SORT="sort",n.MAP="map",n.AGGREGATE="aggregate",n.FILTER_AGGREGATES="filter_aggregates",n.PIVOT="pivot",n.NOTHING="nothing"})(Ft||(Ft={}));var Dt=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o};function zn(n){var e=n,t=e!=null&&e.getFrameworkComponentInstance!=null;return t?e.getFrameworkComponentInstance():n}var oL=function(){function n(){this.detailGridInfoMap={},this.destroyCalled=!1}return n.prototype.registerOverlayWrapperComp=function(e){this.overlayWrapperComp=e},n.prototype.registerSideBarComp=function(e){this.sideBarComp=e},n.prototype.init=function(){var e=this;switch(this.rowModel.getType()){case"clientSide":this.clientSideRowModel=this.rowModel;break;case"infinite":this.infiniteRowModel=this.rowModel;break;case"serverSide":this.serverSideRowModel=this.rowModel;break}this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl()})},n.prototype.__getAlignedGridService=function(){return this.alignedGridsService},n.prototype.__getContext=function(){return this.context},n.prototype.getSetterMethod=function(e){return"set"+e.charAt(0).toUpperCase()+e.substring(1)},n.prototype.__setPropertyOnly=function(e,t){return this.gos.__setPropertyOnly(e,t)},n.prototype.__updateProperty=function(e,t,i,r){r===void 0&&(r=void 0),this.gos.set(e,t,i,{},r);var o=this.getSetterMethod(e),s=this;s[o]&&s[o](t)},n.prototype.getGridId=function(){return this.context.getGridId()},n.prototype.addDetailGridInfo=function(e,t){this.detailGridInfoMap[e]=t},n.prototype.removeDetailGridInfo=function(e){this.detailGridInfoMap[e]=void 0},n.prototype.getDetailGridInfo=function(e){return this.detailGridInfoMap[e]},n.prototype.forEachDetailGridInfo=function(e){var t=0;Xt(this.detailGridInfoMap,function(i,r){N(r)&&(e(r,t),t++)})},n.prototype.getDataAsCsv=function(e){if(ft.__assertRegistered(tt.CsvExportModule,"api.getDataAsCsv",this.context.getGridId()))return this.csvCreator.getDataAsCsv(e)},n.prototype.exportDataAsCsv=function(e){ft.__assertRegistered(tt.CsvExportModule,"api.exportDataAsCSv",this.context.getGridId())&&this.csvCreator.exportDataAsCsv(e)},n.prototype.getExcelExportMode=function(e){var t=this.gos.get("defaultExcelExportParams"),i=Object.assign({exportMode:"xlsx"},t,e);return i.exportMode},n.prototype.assertNotExcelMultiSheet=function(e,t){if(!ft.__assertRegistered(tt.ExcelExportModule,"api."+e,this.context.getGridId()))return!1;var i=this.getExcelExportMode(t);return this.excelCreator.getFactoryMode(i)===Mu.MULTI_SHEET?(console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'"),!1):!0},n.prototype.getDataAsExcel=function(e){if(this.assertNotExcelMultiSheet("getDataAsExcel",e))return this.excelCreator.getDataAsExcel(e)},n.prototype.exportDataAsExcel=function(e){this.assertNotExcelMultiSheet("exportDataAsExcel",e)&&this.excelCreator.exportDataAsExcel(e)},n.prototype.getSheetDataForExcel=function(e){if(ft.__assertRegistered(tt.ExcelExportModule,"api.getSheetDataForExcel",this.context.getGridId())){var t=this.getExcelExportMode(e);return this.excelCreator.setFactoryMode(Mu.MULTI_SHEET,t),this.excelCreator.getSheetDataForExcel(e)}},n.prototype.getMultipleSheetsAsExcel=function(e){if(ft.__assertRegistered(tt.ExcelExportModule,"api.getMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.getMultipleSheetsAsExcel(e)},n.prototype.exportMultipleSheetsAsExcel=function(e){if(ft.__assertRegistered(tt.ExcelExportModule,"api.exportMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.exportMultipleSheetsAsExcel(e)},n.prototype.setTreeData=function(e){this.gos.set("treeData",e)},n.prototype.setGridAriaProperty=function(e,t){if(e){var i=this.ctrlsService.getGridBodyCtrl().getGui(),r="aria-"+e;t===null?i.removeAttribute(r):i.setAttribute(r,t)}},n.prototype.logMissingRowModel=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];console.error("AG Grid: api."+e+" can only be called when gridOptions.rowModelType is "+t.join(" or "))},n.prototype.setServerSideDatasource=function(e){this.serverSideRowModel?this.serverSideRowModel.setDatasource(e):this.logMissingRowModel("setServerSideDatasource","serverSide")},n.prototype.setCacheBlockSize=function(e){this.serverSideRowModel?(this.gos.set("cacheBlockSize",e),this.serverSideRowModel.resetRootStore()):this.logMissingRowModel("setCacheBlockSize","serverSide")},n.prototype.setDatasource=function(e){this.gos.isRowModelType("infinite")?this.rowModel.setDatasource(e):this.logMissingRowModel("setDatasource","infinite")},n.prototype.setViewportDatasource=function(e){this.gos.isRowModelType("viewport")?this.rowModel.setViewportDatasource(e):this.logMissingRowModel("setViewportDatasource","viewport")},n.prototype.setRowData=function(e){var t=this.immutableService==null;if(t){this.logMissingRowModel("setRowData","clientSide");return}this.immutableService.isActive()?this.immutableService.setRowData(e):(this.selectionService.reset(),this.clientSideRowModel.setRowData(e))},n.prototype.setPinnedTopRowData=function(e){this.pinnedRowModel.setPinnedTopRowData(e)},n.prototype.setPinnedBottomRowData=function(e){this.pinnedRowModel.setPinnedBottomRowData(e)},n.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},n.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},n.prototype.getPinnedTopRow=function(e){return this.pinnedRowModel.getPinnedTopRow(e)},n.prototype.getPinnedBottomRow=function(e){return this.pinnedRowModel.getPinnedBottomRow(e)},n.prototype.setColumnDefs=function(e,t){t===void 0&&(t="api"),this.columnModel.setColumnDefs(e,t),this.gos.set("columnDefs",e,!0,{source:t})},n.prototype.setAutoGroupColumnDef=function(e,t){t===void 0&&(t="api"),this.gos.set("autoGroupColumnDef",e,!0,{source:t})},n.prototype.setDefaultColDef=function(e,t){t===void 0&&(t="api"),this.gos.set("defaultColDef",e,!0,{source:t})},n.prototype.setColumnTypes=function(e,t){t===void 0&&(t="api"),this.gos.set("columnTypes",e,!0,{source:t})},n.prototype.expireValueCache=function(){this.valueCache.expire()},n.prototype.getVerticalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()},n.prototype.getHorizontalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()},n.prototype.setAlwaysShowHorizontalScroll=function(e){this.gos.set("alwaysShowHorizontalScroll",e)},n.prototype.setAlwaysShowVerticalScroll=function(e){this.gos.set("alwaysShowVerticalScroll",e)},n.prototype.refreshCells=function(e){e===void 0&&(e={}),this.rowRenderer.refreshCells(e)},n.prototype.flashCells=function(e){e===void 0&&(e={}),this.rowRenderer.flashCells(e)},n.prototype.redrawRows=function(e){e===void 0&&(e={});var t=e?e.rowNodes:void 0;this.rowRenderer.redrawRows(t)},n.prototype.setFunctionsReadOnly=function(e){this.gos.set("functionsReadOnly",e)},n.prototype.refreshHeader=function(){this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(e){return e.refresh()})},n.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},n.prototype.isColumnFilterPresent=function(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()},n.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},n.prototype.getModel=function(){return this.rowModel},n.prototype.setRowNodeExpanded=function(e,t,i){e&&(i&&e.parent&&e.parent.level!==-1&&this.setRowNodeExpanded(e.parent,t,i),e.setExpanded(t))},n.prototype.onGroupExpandedOrCollapsed=function(){if(pt(this.clientSideRowModel)){this.logMissingRowModel("onGroupExpandedOrCollapsed","clientSide");return}this.clientSideRowModel.refreshModel({step:Ft.MAP})},n.prototype.refreshClientSideRowModel=function(e){if(pt(this.clientSideRowModel)){this.logMissingRowModel("refreshClientSideRowModel","clientSide");return}this.clientSideRowModel.refreshModel(e)},n.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},n.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},n.prototype.getRowNode=function(e){return this.rowModel.getRowNode(e)},n.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gos.getRowHeightAsNumber(),headerHeight:this.columnModel.getHeaderHeight()}},n.prototype.expandAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!0):this.serverSideRowModel?this.serverSideRowModel.expandAll(!0):this.logMissingRowModel("expandAll","clientSide","serverSide")},n.prototype.collapseAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!1):this.serverSideRowModel?this.serverSideRowModel.expandAll(!1):this.logMissingRowModel("expandAll","clientSide","serverSide")},n.prototype.addRenderedRowListener=function(e,t,i){this.rowRenderer.addRenderedRowListener(e,t,i)},n.prototype.getQuickFilter=function(){return this.gos.get("quickFilterText")},n.prototype.setQuickFilter=function(e){this.gos.set("quickFilterText",e)},n.prototype.setExcludeHiddenColumnsFromQuickFilter=function(e){bi("30","setExcludeHiddenColumnsFromQuickFilter",void 0,"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `setIncludeHiddenColumnsInQuickFilter`"),this.setIncludeHiddenColumnsInQuickFilter(!e)},n.prototype.setIncludeHiddenColumnsInQuickFilter=function(e){this.gos.set("includeHiddenColumnsInQuickFilter",e)},n.prototype.setQuickFilterParser=function(e){this.gos.set("quickFilterParser",e)},n.prototype.setQuickFilterMatcher=function(e){this.gos.set("quickFilterMatcher",e)},n.prototype.getAdvancedFilterModel=function(){return ft.__assertRegistered(tt.AdvancedFilterModule,"api.getAdvancedFilterModel",this.context.getGridId())?this.filterManager.getAdvancedFilterModel():null},n.prototype.setAdvancedFilterModel=function(e){this.gos.set("advancedFilterModel",e)},n.prototype.setEnableAdvancedFilter=function(e){this.gos.set("enableAdvancedFilter",e)},n.prototype.setIncludeHiddenColumnsInAdvancedFilter=function(e){this.gos.set("includeHiddenColumnsInAdvancedFilter",e)},n.prototype.setAdvancedFilterParent=function(e){this.gos.set("advancedFilterParent",e)},n.prototype.setAdvancedFilterBuilderParams=function(e){this.gos.set("advancedFilterBuilderParams",e)},n.prototype.showAdvancedFilterBuilder=function(){ft.__assertRegistered(tt.AdvancedFilterModule,"api.setAdvancedFilterModel",this.context.getGridId())&&this.filterManager.showAdvancedFilterBuilder("api")},n.prototype.setNodesSelected=function(e){var t=e.nodes.every(function(a){return a.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),!1):a.id===void 0?(console.warn("AG Grid: cannot select node until id for node is known"),!1):!0});if(t){var i=e.nodes,r=e.source,o=e.newValue,s=i;this.selectionService.setNodesSelected({nodes:s,source:r??"api",newValue:o})}},n.prototype.selectAll=function(e){e===void 0&&(e="apiSelectAll"),this.selectionService.selectAllRowNodes({source:e})},n.prototype.deselectAll=function(e){e===void 0&&(e="apiSelectAll"),this.selectionService.deselectAllRowNodes({source:e})},n.prototype.selectAllFiltered=function(e){e===void 0&&(e="apiSelectAllFiltered"),this.selectionService.selectAllRowNodes({source:e,justFiltered:!0})},n.prototype.deselectAllFiltered=function(e){e===void 0&&(e="apiSelectAllFiltered"),this.selectionService.deselectAllRowNodes({source:e,justFiltered:!0})},n.prototype.getServerSideSelectionState=function(){return pt(this.serverSideRowModel)?(this.logMissingRowModel("getServerSideSelectionState","serverSide"),null):this.selectionService.getServerSideSelectionState()},n.prototype.setServerSideSelectionState=function(e){if(pt(this.serverSideRowModel)){this.logMissingRowModel("setServerSideSelectionState","serverSide");return}this.selectionService.setServerSideSelectionState(e)},n.prototype.selectAllOnCurrentPage=function(e){e===void 0&&(e="apiSelectAllCurrentPage"),this.selectionService.selectAllRowNodes({source:e,justCurrentPage:!0})},n.prototype.deselectAllOnCurrentPage=function(e){e===void 0&&(e="apiSelectAllCurrentPage"),this.selectionService.deselectAllRowNodes({source:e,justCurrentPage:!0})},n.prototype.sizeColumnsToFit=function(e){this.gridBodyCtrl.sizeColumnsToFit(e)},n.prototype.showLoadingOverlay=function(){this.overlayWrapperComp.showLoadingOverlay()},n.prototype.showNoRowsOverlay=function(){this.overlayWrapperComp.showNoRowsOverlay()},n.prototype.hideOverlay=function(){this.overlayWrapperComp.hideOverlay()},n.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},n.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},n.prototype.getBestCostNodeSelection=function(){if(pt(this.clientSideRowModel)){this.logMissingRowModel("getBestCostNodeSelection","clientSide");return}return this.selectionService.getBestCostNodeSelection()},n.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},n.prototype.ensureColumnVisible=function(e,t){t===void 0&&(t="auto"),this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(e,t)},n.prototype.ensureIndexVisible=function(e,t){this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(e,t)},n.prototype.ensureNodeVisible=function(e,t){t===void 0&&(t=null),this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(e,t)},n.prototype.forEachLeafNode=function(e){if(pt(this.clientSideRowModel)){this.logMissingRowModel("forEachLeafNode","clientSide");return}this.clientSideRowModel.forEachLeafNode(e)},n.prototype.forEachNode=function(e,t){this.rowModel.forEachNode(e,t)},n.prototype.forEachNodeAfterFilter=function(e){if(pt(this.clientSideRowModel)){this.logMissingRowModel("forEachNodeAfterFilter","clientSide");return}this.clientSideRowModel.forEachNodeAfterFilter(e)},n.prototype.forEachNodeAfterFilterAndSort=function(e){if(pt(this.clientSideRowModel)){this.logMissingRowModel("forEachNodeAfterFilterAndSort","clientSide");return}this.clientSideRowModel.forEachNodeAfterFilterAndSort(e)},n.prototype.getFilterInstance=function(e,t){return this.filterManager.getFilterInstance(e,t)},n.prototype.destroyFilter=function(e){var t=this.columnModel.getPrimaryColumn(e);if(t)return this.filterManager.destroyFilter(t,"api")},n.prototype.getStatusPanel=function(e){if(ft.__assertRegistered(tt.StatusBarModule,"api.getStatusPanel",this.context.getGridId())){var t=this.statusBarService.getStatusPanel(e);return zn(t)}},n.prototype.getColumnDef=function(e){var t=this.columnModel.getPrimaryColumn(e);return t?t.getColDef():null},n.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},n.prototype.onFilterChanged=function(e){e===void 0&&(e="api"),this.filterManager.onFilterChanged({source:e})},n.prototype.onSortChanged=function(){this.sortController.onSortChanged("api")},n.prototype.setFilterModel=function(e){this.filterManager.setFilterModel(e)},n.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},n.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},n.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},n.prototype.setFocusedCell=function(e,t,i){this.focusService.setFocusedCell({rowIndex:e,column:t,rowPinned:i,forceBrowserFocus:!0})},n.prototype.setSuppressRowDrag=function(e){this.gos.set("suppressRowDrag",e)},n.prototype.setSuppressMoveWhenRowDragging=function(e){this.gos.set("suppressMoveWhenRowDragging",e)},n.prototype.setSuppressRowClickSelection=function(e){this.gos.set("suppressRowClickSelection",e)},n.prototype.addRowDropZone=function(e){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(e)},n.prototype.removeRowDropZone=function(e){var t=this.dragAndDropService.findExternalZone(e);t&&this.dragAndDropService.removeDropTarget(t)},n.prototype.getRowDropZoneParams=function(e){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(e)},n.prototype.setHeaderHeight=function(e){this.gos.set("headerHeight",e)},n.prototype.setDomLayout=function(e){this.gos.set("domLayout",e)},n.prototype.setEnableCellTextSelection=function(e){this.gridBodyCtrl.setCellTextSelection(e)},n.prototype.setFillHandleDirection=function(e){this.gos.set("fillHandleDirection",e)},n.prototype.setGroupHeaderHeight=function(e){this.gos.set("groupHeaderHeight",e)},n.prototype.setFloatingFiltersHeight=function(e){this.gos.set("floatingFiltersHeight",e)},n.prototype.setPivotHeaderHeight=function(e){this.gos.set("pivotHeaderHeight",e)},n.prototype.setPivotGroupHeaderHeight=function(e){this.gos.set("pivotGroupHeaderHeight",e)},n.prototype.setPivotMode=function(e){this.columnModel.setPivotMode(e)},n.prototype.setAnimateRows=function(e){this.gos.set("animateRows",e)},n.prototype.setIsExternalFilterPresent=function(e){this.gos.set("isExternalFilterPresent",e)},n.prototype.setDoesExternalFilterPass=function(e){this.gos.set("doesExternalFilterPass",e)},n.prototype.setNavigateToNextCell=function(e){this.gos.set("navigateToNextCell",e)},n.prototype.setTabToNextCell=function(e){this.gos.set("tabToNextCell",e)},n.prototype.setTabToNextHeader=function(e){this.gos.set("tabToNextHeader",e)},n.prototype.setNavigateToNextHeader=function(e){this.gos.set("navigateToNextHeader",e)},n.prototype.setRowGroupPanelShow=function(e){this.gos.set("rowGroupPanelShow",e)},n.prototype.setGetGroupRowAgg=function(e){this.gos.set("getGroupRowAgg",e)},n.prototype.setGetBusinessKeyForNode=function(e){this.gos.set("getBusinessKeyForNode",e)},n.prototype.setGetChildCount=function(e){this.gos.set("getChildCount",e)},n.prototype.setProcessRowPostCreate=function(e){this.gos.set("processRowPostCreate",e)},n.prototype.setGetRowId=function(e){this.gos.set("getRowId",e)},n.prototype.setGetRowClass=function(e){this.gos.set("getRowClass",e)},n.prototype.setIsFullWidthRow=function(e){this.gos.set("isFullWidthRow",e)},n.prototype.setIsRowSelectable=function(e){this.gos.set("isRowSelectable",e)},n.prototype.setIsRowMaster=function(e){this.gos.set("isRowMaster",e)},n.prototype.setPostSortRows=function(e){this.gos.set("postSortRows",e)},n.prototype.setGetDocument=function(e){this.gos.set("getDocument",e)},n.prototype.setGetContextMenuItems=function(e){this.gos.set("getContextMenuItems",e)},n.prototype.setGetMainMenuItems=function(e){this.gos.set("getMainMenuItems",e)},n.prototype.setProcessCellForClipboard=function(e){this.gos.set("processCellForClipboard",e)},n.prototype.setSendToClipboard=function(e){this.gos.set("sendToClipboard",e)},n.prototype.setProcessCellFromClipboard=function(e){this.gos.set("processCellFromClipboard",e)},n.prototype.setProcessSecondaryColDef=function(e){bi("28.0","setProcessSecondaryColDef","setProcessPivotResultColDef"),this.setProcessPivotResultColDef(e)},n.prototype.setProcessSecondaryColGroupDef=function(e){bi("28.0","setProcessSecondaryColGroupDef","setProcessPivotResultColGroupDef"),this.setProcessPivotResultColGroupDef(e)},n.prototype.setProcessPivotResultColDef=function(e){this.gos.set("processPivotResultColDef",e)},n.prototype.setProcessPivotResultColGroupDef=function(e){this.gos.set("processPivotResultColGroupDef",e)},n.prototype.setPostProcessPopup=function(e){this.gos.set("postProcessPopup",e)},n.prototype.setInitialGroupOrderComparator=function(e){this.gos.set("initialGroupOrderComparator",e)},n.prototype.setGetChartToolbarItems=function(e){this.gos.set("getChartToolbarItems",e)},n.prototype.setPaginationNumberFormatter=function(e){this.gos.set("paginationNumberFormatter",e)},n.prototype.setGetServerSideStoreParams=function(e){bi("28.0","setGetServerSideStoreParams","setGetServerSideGroupLevelParams"),this.setGetServerSideGroupLevelParams(e)},n.prototype.setGetServerSideGroupLevelParams=function(e){this.gos.set("getServerSideGroupLevelParams",e)},n.prototype.setIsServerSideGroupOpenByDefault=function(e){this.gos.set("isServerSideGroupOpenByDefault",e)},n.prototype.setIsApplyServerSideTransaction=function(e){this.gos.set("isApplyServerSideTransaction",e)},n.prototype.setIsServerSideGroup=function(e){this.gos.set("isServerSideGroup",e)},n.prototype.setGetServerSideGroupKey=function(e){this.gos.set("getServerSideGroupKey",e)},n.prototype.setGetRowStyle=function(e){this.gos.set("getRowStyle",e)},n.prototype.setGetRowHeight=function(e){this.gos.set("getRowHeight",e)},n.prototype.assertSideBarLoaded=function(e){return ft.__assertRegistered(tt.SideBarModule,"api."+e,this.context.getGridId())},n.prototype.isSideBarVisible=function(){return this.assertSideBarLoaded("isSideBarVisible")&&this.sideBarComp.isDisplayed()},n.prototype.setSideBarVisible=function(e){this.assertSideBarLoaded("setSideBarVisible")&&this.sideBarComp.setDisplayed(e)},n.prototype.setSideBarPosition=function(e){this.assertSideBarLoaded("setSideBarPosition")&&this.sideBarComp.setSideBarPosition(e)},n.prototype.openToolPanel=function(e){this.assertSideBarLoaded("openToolPanel")&&this.sideBarComp.openToolPanel(e,"api")},n.prototype.closeToolPanel=function(){this.assertSideBarLoaded("closeToolPanel")&&this.sideBarComp.close("api")},n.prototype.getOpenedToolPanel=function(){return this.assertSideBarLoaded("getOpenedToolPanel")?this.sideBarComp.openedItem():null},n.prototype.refreshToolPanel=function(){this.assertSideBarLoaded("refreshToolPanel")&&this.sideBarComp.refresh()},n.prototype.isToolPanelShowing=function(){return this.assertSideBarLoaded("isToolPanelShowing")&&this.sideBarComp.isToolPanelShowing()},n.prototype.getToolPanelInstance=function(e){if(this.assertSideBarLoaded("getToolPanelInstance")){var t=this.sideBarComp.getToolPanelInstance(e);return zn(t)}},n.prototype.getSideBar=function(){if(this.assertSideBarLoaded("getSideBar"))return this.sideBarComp.getDef()},n.prototype.setSideBar=function(e){this.gos.set("sideBar",e)},n.prototype.setSuppressClipboardPaste=function(e){this.gos.set("suppressClipboardPaste",e)},n.prototype.resetRowHeights=function(){if(N(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive()){console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");return}this.clientSideRowModel.resetRowHeights()}},n.prototype.setGroupRemoveSingleChildren=function(e){this.gos.set("groupRemoveSingleChildren",e)},n.prototype.setGroupRemoveLowestSingleChildren=function(e){this.gos.set("groupRemoveLowestSingleChildren",e)},n.prototype.setGroupDisplayType=function(e){this.gos.set("groupDisplayType",e)},n.prototype.setGroupIncludeFooter=function(e){this.gos.set("groupIncludeFooter",e)},n.prototype.setGroupIncludeTotalFooter=function(e){this.gos.set("groupIncludeTotalFooter",e)},n.prototype.setRowClass=function(e){this.gos.set("rowClass",e)},n.prototype.setDeltaSort=function(e){this.gos.set("deltaSort",e)},n.prototype.setRowCount=function(e,t){if(this.serverSideRowModel){if(this.columnModel.isRowGroupEmpty()){this.serverSideRowModel.setRowCount(e,t);return}console.error("AG Grid: setRowCount cannot be used while using row grouping.");return}if(this.infiniteRowModel){this.infiniteRowModel.setRowCount(e,t);return}this.logMissingRowModel("setRowCount","infinite","serverSide")},n.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},n.prototype.getValue=function(e,t){var i=this.columnModel.getPrimaryColumn(e);return pt(i)&&(i=this.columnModel.getGridColumn(e)),pt(i)?null:this.valueService.getValue(i,t)},n.prototype.addEventListener=function(e,t){var i=this.gos.useAsyncEvents();this.eventService.addEventListener(e,t,i)},n.prototype.addGlobalListener=function(e){var t=this.gos.useAsyncEvents();this.eventService.addGlobalListener(e,t)},n.prototype.removeEventListener=function(e,t){var i=this.gos.useAsyncEvents();this.eventService.removeEventListener(e,t,i)},n.prototype.removeGlobalListener=function(e){var t=this.gos.useAsyncEvents();this.eventService.removeGlobalListener(e,t)},n.prototype.dispatchEvent=function(e){this.eventService.dispatchEvent(e)},n.prototype.destroy=function(){if(!this.destroyCalled){this.destroyCalled=!0,this.dispatchEvent({type:C.EVENT_GRID_PRE_DESTROYED});var e=this.ctrlsService.getGridCtrl();e&&e.destroyGridUi(),this.context.destroy()}},n.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(Rw.bind(window,this,"Grid API"),100)},n.prototype.warnIfDestroyed=function(e){return this.destroyCalled&&console.warn("AG Grid: Grid API method "+e+" was called on a grid that was destroyed."),this.destroyCalled},n.prototype.resetQuickFilter=function(){this.warnIfDestroyed("resetQuickFilter")||this.filterManager.resetQuickFilterCache()},n.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(ft.__assertRegistered(tt.RangeSelectionModule,"api.getCellRanges",this.context.getGridId()),null)},n.prototype.addCellRange=function(e){if(this.rangeService){this.rangeService.addCellRange(e);return}ft.__assertRegistered(tt.RangeSelectionModule,"api.addCellRange",this.context.getGridId())},n.prototype.clearRangeSelection=function(){this.rangeService&&this.rangeService.removeAllCellRanges(),ft.__assertRegistered(tt.RangeSelectionModule,"gridApi.clearRangeSelection",this.context.getGridId())},n.prototype.undoCellEditing=function(){this.undoRedoService.undo("api")},n.prototype.redoCellEditing=function(){this.undoRedoService.redo("api")},n.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},n.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},n.prototype.getChartModels=function(){if(ft.__assertRegistered(tt.GridChartsModule,"api.getChartModels",this.context.getGridId()))return this.chartService.getChartModels()},n.prototype.getChartRef=function(e){if(ft.__assertRegistered(tt.GridChartsModule,"api.getChartRef",this.context.getGridId()))return this.chartService.getChartRef(e)},n.prototype.getChartImageDataURL=function(e){if(ft.__assertRegistered(tt.GridChartsModule,"api.getChartImageDataURL",this.context.getGridId()))return this.chartService.getChartImageDataURL(e)},n.prototype.downloadChart=function(e){if(ft.__assertRegistered(tt.GridChartsModule,"api.downloadChart",this.context.getGridId()))return this.chartService.downloadChart(e)},n.prototype.openChartToolPanel=function(e){if(ft.__assertRegistered(tt.GridChartsModule,"api.openChartToolPanel",this.context.getGridId()))return this.chartService.openChartToolPanel(e)},n.prototype.closeChartToolPanel=function(e){if(ft.__assertRegistered(tt.GridChartsModule,"api.closeChartToolPanel",this.context.getGridId()))return this.chartService.closeChartToolPanel(e.chartId)},n.prototype.createRangeChart=function(e){if(ft.__assertRegistered(tt.GridChartsModule,"api.createRangeChart",this.context.getGridId()))return this.chartService.createRangeChart(e)},n.prototype.createPivotChart=function(e){if(ft.__assertRegistered(tt.GridChartsModule,"api.createPivotChart",this.context.getGridId()))return this.chartService.createPivotChart(e)},n.prototype.createCrossFilterChart=function(e){if(ft.__assertRegistered(tt.GridChartsModule,"api.createCrossFilterChart",this.context.getGridId()))return this.chartService.createCrossFilterChart(e)},n.prototype.updateChart=function(e){ft.__assertRegistered(tt.GridChartsModule,"api.updateChart",this.context.getGridId())&&this.chartService.updateChart(e)},n.prototype.restoreChart=function(e,t){if(ft.__assertRegistered(tt.GridChartsModule,"api.restoreChart",this.context.getGridId()))return this.chartService.restoreChart(e,t)},n.prototype.copyToClipboard=function(e){ft.__assertRegistered(tt.ClipboardModule,"api.copyToClipboard",this.context.getGridId())&&this.clipboardService.copyToClipboard(e)},n.prototype.cutToClipboard=function(e){ft.__assertRegistered(tt.ClipboardModule,"api.cutToClipboard",this.context.getGridId())&&this.clipboardService.cutToClipboard(e,"api")},n.prototype.copySelectedRowsToClipboard=function(e){ft.__assertRegistered(tt.ClipboardModule,"api.copySelectedRowsToClipboard",this.context.getGridId())&&this.clipboardService.copySelectedRowsToClipboard(e)},n.prototype.copySelectedRangeToClipboard=function(e){ft.__assertRegistered(tt.ClipboardModule,"api.copySelectedRangeToClipboard",this.context.getGridId())&&this.clipboardService.copySelectedRangeToClipboard(e)},n.prototype.copySelectedRangeDown=function(){ft.__assertRegistered(tt.ClipboardModule,"api.copySelectedRangeDown",this.context.getGridId())&&this.clipboardService.copyRangeDown()},n.prototype.pasteFromClipboard=function(){ft.__assertRegistered(tt.ClipboardModule,"api.pasteFromClipboard",this.context.getGridId())&&this.clipboardService.pasteFromClipboard()},n.prototype.showColumnMenuAfterButtonClick=function(e,t){var i=this.columnModel.getGridColumn(e);this.menuFactory.showMenuAfterButtonClick(i,t,"columnMenu")},n.prototype.showColumnMenuAfterMouseClick=function(e,t){var i=this.columnModel.getGridColumn(e);if(i||(i=this.columnModel.getPrimaryColumn(e)),!i){console.error("AG Grid: column '"+e+"' not found");return}this.menuFactory.showMenuAfterMouseEvent(i,t)},n.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},n.prototype.setPopupParent=function(e){this.gos.set("popupParent",e)},n.prototype.tabToNextCell=function(e){return this.navigationService.tabToNextCell(!1,e)},n.prototype.tabToPreviousCell=function(e){return this.navigationService.tabToNextCell(!0,e)},n.prototype.getCellRendererInstances=function(e){e===void 0&&(e={});var t=this.rowRenderer.getCellRendererInstances(e),i=t.map(zn);return i},n.prototype.getCellEditorInstances=function(e){e===void 0&&(e={});var t=this.rowRenderer.getCellEditorInstances(e),i=t.map(zn);return i},n.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},n.prototype.stopEditing=function(e){e===void 0&&(e=!1),this.rowRenderer.stopEditing(e)},n.prototype.startEditingCell=function(e){var t=this.columnModel.getGridColumn(e.colKey);if(!t){console.warn("AG Grid: no column found for "+e.colKey);return}var i={rowIndex:e.rowIndex,rowPinned:e.rowPinned||null,column:t},r=e.rowPinned==null;r&&this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(e.rowIndex);var o=this.navigationService.getCellByPosition(i);o&&(this.focusService.isCellFocused(i)||this.focusService.setFocusedCell(i),o.startRowOrCellEdit(e.key))},n.prototype.addAggFunc=function(e,t){this.aggFuncService&&this.aggFuncService.addAggFunc(e,t)},n.prototype.addAggFuncs=function(e){this.aggFuncService&&this.aggFuncService.addAggFuncs(e)},n.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},n.prototype.applyServerSideTransaction=function(e){if(!this.serverSideTransactionManager){this.logMissingRowModel("applyServerSideTransaction","serverSide");return}return this.serverSideTransactionManager.applyTransaction(e)},n.prototype.applyServerSideTransactionAsync=function(e,t){if(!this.serverSideTransactionManager){this.logMissingRowModel("applyServerSideTransactionAsync","serverSide");return}return this.serverSideTransactionManager.applyTransactionAsync(e,t)},n.prototype.applyServerSideRowData=function(e){var t,i,r=(t=e.startRow)!==null&&t!==void 0?t:0,o=(i=e.route)!==null&&i!==void 0?i:[];if(r<0){console.warn("AG Grid: invalid value "+e.startRow+" for startRow, the value should be >= 0");return}this.serverSideRowModel?this.serverSideRowModel.applyRowData(e.successParams,r,o):this.logMissingRowModel("setServerSideDatasource","serverSide")},n.prototype.retryServerSideLoads=function(){if(!this.serverSideRowModel){this.logMissingRowModel("retryServerSideLoads","serverSide");return}this.serverSideRowModel.retryLoads()},n.prototype.flushServerSideAsyncTransactions=function(){if(!this.serverSideTransactionManager){this.logMissingRowModel("flushServerSideAsyncTransactions","serverSide");return}return this.serverSideTransactionManager.flushAsyncTransactions()},n.prototype.applyTransaction=function(e){if(!this.clientSideRowModel){this.logMissingRowModel("applyTransaction","clientSide");return}return this.clientSideRowModel.updateRowData(e)},n.prototype.applyTransactionAsync=function(e,t){if(!this.clientSideRowModel){this.logMissingRowModel("applyTransactionAsync","clientSide");return}this.clientSideRowModel.batchUpdateRowData(e,t)},n.prototype.flushAsyncTransactions=function(){if(!this.clientSideRowModel){this.logMissingRowModel("flushAsyncTransactions","clientSide");return}this.clientSideRowModel.flushAsyncTransactions()},n.prototype.setSuppressModelUpdateAfterUpdateTransaction=function(e){this.gos.set("suppressModelUpdateAfterUpdateTransaction",e)},n.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():this.logMissingRowModel("refreshInfiniteCache","infinite")},n.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():this.logMissingRowModel("purgeInfiniteCache","infinite")},n.prototype.refreshServerSide=function(e){if(!this.serverSideRowModel){this.logMissingRowModel("refreshServerSide","serverSide");return}this.serverSideRowModel.refreshStore(e)},n.prototype.refreshServerSideStore=function(e){return bi("28.0","refreshServerSideStore","refreshServerSide"),this.refreshServerSide(e)},n.prototype.getServerSideStoreState=function(){return bi("28.0","getServerSideStoreState","getServerSideGroupLevelState"),this.getServerSideGroupLevelState()},n.prototype.getServerSideGroupLevelState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(this.logMissingRowModel("getServerSideGroupLevelState","serverSide"),[])},n.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();this.logMissingRowModel("getInfiniteRowCount","infinite")},n.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();this.logMissingRowModel("isLastRowIndexKnown","infinite")},n.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},n.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},n.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},n.prototype.getDisplayedRowAtIndex=function(e){return this.rowModel.getRow(e)},n.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},n.prototype.setDataTypeDefinitions=function(e){this.gos.set("dataTypeDefinitions",e)},n.prototype.setPagination=function(e){this.gos.set("pagination",e)},n.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},n.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},n.prototype.paginationSetPageSize=function(e){this.gos.set("paginationPageSize",e)},n.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},n.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},n.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},n.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},n.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},n.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},n.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},n.prototype.paginationGoToPage=function(e){this.paginationProxy.goToPage(e)},Dt([At("immutableService")],n.prototype,"immutableService",void 0),Dt([At("csvCreator")],n.prototype,"csvCreator",void 0),Dt([At("excelCreator")],n.prototype,"excelCreator",void 0),Dt([y("rowRenderer")],n.prototype,"rowRenderer",void 0),Dt([y("navigationService")],n.prototype,"navigationService",void 0),Dt([y("filterManager")],n.prototype,"filterManager",void 0),Dt([y("columnModel")],n.prototype,"columnModel",void 0),Dt([y("selectionService")],n.prototype,"selectionService",void 0),Dt([y("gridOptionsService")],n.prototype,"gos",void 0),Dt([y("valueService")],n.prototype,"valueService",void 0),Dt([y("alignedGridsService")],n.prototype,"alignedGridsService",void 0),Dt([y("eventService")],n.prototype,"eventService",void 0),Dt([y("pinnedRowModel")],n.prototype,"pinnedRowModel",void 0),Dt([y("context")],n.prototype,"context",void 0),Dt([y("rowModel")],n.prototype,"rowModel",void 0),Dt([y("sortController")],n.prototype,"sortController",void 0),Dt([y("paginationProxy")],n.prototype,"paginationProxy",void 0),Dt([y("focusService")],n.prototype,"focusService",void 0),Dt([y("dragAndDropService")],n.prototype,"dragAndDropService",void 0),Dt([At("rangeService")],n.prototype,"rangeService",void 0),Dt([At("clipboardService")],n.prototype,"clipboardService",void 0),Dt([At("aggFuncService")],n.prototype,"aggFuncService",void 0),Dt([y("menuFactory")],n.prototype,"menuFactory",void 0),Dt([At("contextMenuFactory")],n.prototype,"contextMenuFactory",void 0),Dt([y("valueCache")],n.prototype,"valueCache",void 0),Dt([y("animationFrameService")],n.prototype,"animationFrameService",void 0),Dt([At("statusBarService")],n.prototype,"statusBarService",void 0),Dt([At("chartService")],n.prototype,"chartService",void 0),Dt([At("undoRedoService")],n.prototype,"undoRedoService",void 0),Dt([At("rowNodeBlockLoader")],n.prototype,"rowNodeBlockLoader",void 0),Dt([At("ssrmTransactionManager")],n.prototype,"serverSideTransactionManager",void 0),Dt([y("ctrlsService")],n.prototype,"ctrlsService",void 0),Dt([U],n.prototype,"init",null),Dt([Ee],n.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),n=Dt([Z("gridApi")],n),n}(),sL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ms=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},qS=function(n){sL(e,n);function e(){var i=n!==null&&n.apply(this,arguments)||this;return i.quickFilter=null,i.quickFilterParts=null,i}t=e,e.prototype.postConstruct=function(){var i=this;this.addManagedListener(this.eventService,C.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return i.resetQuickFilterCache()}),this.addManagedListener(this.eventService,C.EVENT_NEW_COLUMNS_LOADED,function(){return i.resetQuickFilterCache()}),this.addManagedListener(this.eventService,C.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return i.resetQuickFilterCache()}),this.addManagedListener(this.eventService,C.EVENT_COLUMN_VISIBLE,function(){i.gridOptionsService.is("includeHiddenColumnsInQuickFilter")||i.resetQuickFilterCache()}),this.addManagedPropertyListener("quickFilterText",function(r){return i.setQuickFilter(r.currentValue)}),this.addManagedPropertyListener("includeHiddenColumnsInQuickFilter",function(){return i.onIncludeHiddenColumnsInQuickFilterChanged()}),this.quickFilter=this.parseQuickFilter(this.gridOptionsService.get("quickFilterText")),this.parser=this.gridOptionsService.get("quickFilterParser"),this.matcher=this.gridOptionsService.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],function(){return i.setQuickFilterParserAndMatcher()})},e.prototype.isQuickFilterPresent=function(){return this.quickFilter!==null},e.prototype.doesRowPassQuickFilter=function(i){var r=this,o=this.gridOptionsService.is("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(o,i):this.quickFilterParts.every(function(s){return o?r.doesRowPassQuickFilterCache(i,s):r.doesRowPassQuickFilterNoCache(i,s)})},e.prototype.resetQuickFilterCache=function(){this.rowModel.forEachNode(function(i){return i.quickFilterAggregateText=null})},e.prototype.setQuickFilterParts=function(){var i=this,r=i.quickFilter,o=i.parser;r?this.quickFilterParts=o?o(r):r.split(" "):this.quickFilterParts=null},e.prototype.parseQuickFilter=function(i){return N(i)?this.gridOptionsService.isRowModelType("clientSide")?i.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null},e.prototype.setQuickFilter=function(i){if(i!=null&&typeof i!="string"){console.warn("AG Grid - setQuickFilter() only supports string inputs, received: "+typeof i);return}var r=this.parseQuickFilter(i);this.quickFilter!==r&&(this.quickFilter=r,this.setQuickFilterParts(),this.dispatchEvent({type:t.EVENT_QUICK_FILTER_CHANGED}))},e.prototype.setQuickFilterParserAndMatcher=function(){var i=this.gridOptionsService.get("quickFilterParser"),r=this.gridOptionsService.get("quickFilterMatcher"),o=i!==this.parser||r!==this.matcher;this.parser=i,this.matcher=r,o&&(this.setQuickFilterParts(),this.dispatchEvent({type:t.EVENT_QUICK_FILTER_CHANGED}))},e.prototype.onIncludeHiddenColumnsInQuickFilterChanged=function(){this.columnModel.refreshQuickFilterColumns(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchEvent({type:t.EVENT_QUICK_FILTER_CHANGED})},e.prototype.doesRowPassQuickFilterNoCache=function(i,r){var o=this,s=this.columnModel.getAllColumnsForQuickFilter();return s.some(function(a){var l=o.getQuickFilterTextForColumn(a,i);return N(l)&&l.indexOf(r)>=0})},e.prototype.doesRowPassQuickFilterCache=function(i,r){return this.checkGenerateQuickFilterAggregateText(i),i.quickFilterAggregateText.indexOf(r)>=0},e.prototype.doesRowPassQuickFilterMatcher=function(i,r){var o;i?(this.checkGenerateQuickFilterAggregateText(r),o=r.quickFilterAggregateText):o=this.getQuickFilterAggregateText(r);var s=this,a=s.quickFilterParts,l=s.matcher;return l(a,o)},e.prototype.checkGenerateQuickFilterAggregateText=function(i){i.quickFilterAggregateText||(i.quickFilterAggregateText=this.getQuickFilterAggregateText(i))},e.prototype.getQuickFilterTextForColumn=function(i,r){var o=this.valueService.getValue(i,r,!0),s=i.getColDef();if(s.getQuickFilterText){var a={value:o,node:r,data:r.data,column:i,colDef:s,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};o=s.getQuickFilterText(a)}return N(o)?o.toString().toUpperCase():null},e.prototype.getQuickFilterAggregateText=function(i){var r=this,o=[],s=this.columnModel.getAllColumnsForQuickFilter();return s.forEach(function(a){var l=r.getQuickFilterTextForColumn(a,i);N(l)&&o.push(l)}),o.join(t.QUICK_FILTER_SEPARATOR)};var t;return e.EVENT_QUICK_FILTER_CHANGED="quickFilterChanged",e.QUICK_FILTER_SEPARATOR=`
`,ms([y("valueService")],e.prototype,"valueService",void 0),ms([y("columnModel")],e.prototype,"columnModel",void 0),ms([y("rowModel")],e.prototype,"rowModel",void 0),ms([U],e.prototype,"postConstruct",null),e=t=ms([Z("quickFilterService")],e),e}(j),aL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Lu=function(){return Lu=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Lu.apply(this,arguments)},Qi=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},lL=function(n){aL(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.allColumnFilters=new Map,t.allColumnListeners=new Map,t.activeAggregateFilters=[],t.activeColumnFilters=[],t.processingFilterChange=!1,t.filterModelUpdateQueue=[],t}return e.prototype.init=function(){var t=this;this.addManagedListener(this.eventService,C.EVENT_GRID_COLUMNS_CHANGED,function(){return t.onColumnsChanged()}),this.addManagedListener(this.eventService,C.EVENT_COLUMN_VALUE_CHANGED,function(){return t.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,C.EVENT_COLUMN_PIVOT_CHANGED,function(){return t.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,C.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return t.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,C.EVENT_NEW_COLUMNS_LOADED,function(){return t.updateAdvancedFilterColumns()}),this.addManagedListener(this.eventService,C.EVENT_COLUMN_VISIBLE,function(){return t.updateAdvancedFilterColumns()}),this.allowShowChangeAfterFilter=this.gridOptionsService.is("allowShowChangeAfterFilter"),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",function(){return t.updateAggFiltering()}),this.addManagedPropertyListener("advancedFilterModel",function(i){return t.setAdvancedFilterModel(i.currentValue)}),this.addManagedListener(this.eventService,C.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,function(i){var r=i.enabled;return t.onAdvancedFilterEnabledChanged(r)}),this.addManagedListener(this.eventService,C.EVENT_DATA_TYPES_INFERRED,function(){return t.processFilterModelUpdateQueue()}),this.addManagedListener(this.quickFilterService,qS.EVENT_QUICK_FILTER_CHANGED,function(){return t.onFilterChanged({source:"quickFilter"})})},e.prototype.isExternalFilterPresentCallback=function(){var t=this.gridOptionsService.getCallback("isExternalFilterPresent");return typeof t=="function"?t({}):!1},e.prototype.doesExternalFilterPass=function(t){var i=this.gridOptionsService.get("doesExternalFilterPass");return typeof i=="function"?i(t):!1},e.prototype.setFilterModel=function(t){var i=this;if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}if(this.dataTypeService.isPendingInference()){this.filterModelUpdateQueue.push(t);return}var r=[],o=this.getFilterModel();if(t){var s=cf(Object.keys(t));this.allColumnFilters.forEach(function(a,l){var u=t[l];r.push(i.setModelOnFilterWrapper(a.filterPromise,u)),s.delete(l)}),s.forEach(function(a){var l=i.columnModel.getPrimaryColumn(a)||i.columnModel.getGridColumn(a);if(!l){console.warn("AG Grid: setFilterModel() - no column found for colId: "+a);return}if(!l.isFilterAllowed()){console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+a);return}var u=i.getOrCreateFilterWrapper(l,"NO_UI");if(!u){console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+a);return}r.push(i.setModelOnFilterWrapper(u.filterPromise,t[a]))})}else this.allColumnFilters.forEach(function(a){r.push(i.setModelOnFilterWrapper(a.filterPromise,null))});Hi.all(r).then(function(){var a=i.getFilterModel(),l=[];i.allColumnFilters.forEach(function(u,c){var d=o?o[c]:null,p=a?a[c]:null;gt.jsonEquals(d,p)||l.push(u.column)}),l.length>0&&i.onFilterChanged({columns:l,source:"api"})})},e.prototype.setModelOnFilterWrapper=function(t,i){return new Hi(function(r){t.then(function(o){typeof o.setModel!="function"&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),r()),(o.setModel(i)||Hi.resolve()).then(function(){return r()})})})},e.prototype.getFilterModel=function(){var t={};return this.allColumnFilters.forEach(function(i,r){var o=i.filterPromise,s=o.resolveNow(null,function(l){return l});if(s==null)return null;if(typeof s.getModel!="function"){console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel");return}var a=s.getModel();N(a)&&(t[r]=a)}),t},e.prototype.isColumnFilterPresent=function(){return this.activeColumnFilters.length>0},e.prototype.isAggregateFilterPresent=function(){return!!this.activeAggregateFilters.length},e.prototype.isExternalFilterPresent=function(){return this.externalFilterPresent},e.prototype.isChildFilterPresent=function(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()},e.prototype.isAdvancedFilterPresent=function(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()},e.prototype.onAdvancedFilterEnabledChanged=function(t){var i=this,r;t?this.allColumnFilters.size&&(this.allColumnFilters.forEach(function(o){return i.disposeFilterWrapper(o,"advancedFilterEnabled")}),this.onFilterChanged({source:"advancedFilter"})):!((r=this.advancedFilterService)===null||r===void 0)&&r.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))},e.prototype.isAdvancedFilterEnabled=function(){var t;return(t=this.advancedFilterService)===null||t===void 0?void 0:t.isEnabled()},e.prototype.isAdvancedFilterHeaderActive=function(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()},e.prototype.doAggregateFiltersPass=function(t,i){return this.doColumnFiltersPass(t,i,!0)},e.prototype.updateActiveFilters=function(){var t=this;this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;var i=function(s){return s?s.isFilterActive?s.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1):!1},r=!!this.gridOptionsService.getGroupAggFiltering(),o=function(s){var a=!s.isPrimary();if(a)return!0;var l=!t.columnModel.isPivotActive(),u=s.isValueActive();return!u||!l?!1:t.columnModel.isPivotMode()?!0:r};this.allColumnFilters.forEach(function(s){if(s.filterPromise.resolveNow(!1,i)){var a=s.filterPromise.resolveNow(null,function(l){return l});o(s.column)?t.activeAggregateFilters.push(a):t.activeColumnFilters.push(a)}})},e.prototype.updateFilterFlagInColumns=function(t,i){this.allColumnFilters.forEach(function(r){var o=r.filterPromise.resolveNow(!1,function(s){return s.isFilterActive()});r.column.setFilterActive(o,t,i)})},e.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()},e.prototype.doColumnFiltersPass=function(t,i,r){for(var o=t.data,s=t.aggData,a=r?this.activeAggregateFilters:this.activeColumnFilters,l=r?s:o,u=0;u<a.length;u++){var c=a[u];if(!(c==null||c===i)){if(typeof c.doesFilterPass!="function")throw new Error("Filter is missing method doesFilterPass");if(!c.doesFilterPass({node:t,data:l}))return!1}}return!0},e.prototype.resetQuickFilterCache=function(){this.quickFilterService.resetQuickFilterCache()},e.prototype.refreshFiltersForAggregations=function(){var t=this.gridOptionsService.getGroupAggFiltering();t&&this.onFilterChanged()},e.prototype.callOnFilterChangedOutsideRenderCycle=function(t){var i=this,r=function(){return i.onFilterChanged(t)};this.rowRenderer.isRefreshInProgress()?setTimeout(r,0):r()},e.prototype.onFilterChanged=function(t){t===void 0&&(t={});var i=t.source,r=t.filterInstance,o=t.additionalEventAttributes,s=t.columns;this.updateDependantFilters(),this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",o),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.allColumnFilters.forEach(function(l){l.filterPromise&&l.filterPromise.then(function(u){u&&u!==r&&u.onAnyFilterChanged&&u.onAnyFilterChanged()})});var a={source:i,type:C.EVENT_FILTER_CHANGED,columns:s||[]};o&&vi(a,o),this.processingFilterChange=!0,this.eventService.dispatchEvent(a),this.processingFilterChange=!1},e.prototype.isSuppressFlashingCellsBecauseFiltering=function(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange},e.prototype.isQuickFilterPresent=function(){return this.quickFilterService.isQuickFilterPresent()},e.prototype.updateAggFiltering=function(){this.aggFiltering=!!this.gridOptionsService.getGroupAggFiltering()},e.prototype.isAggregateQuickFilterPresent=function(){return this.isQuickFilterPresent()&&(this.aggFiltering||this.columnModel.isPivotMode())},e.prototype.isNonAggregateQuickFilterPresent=function(){return this.isQuickFilterPresent()&&!(this.aggFiltering||this.columnModel.isPivotMode())},e.prototype.doesRowPassOtherFilters=function(t,i){return this.doesRowPassFilter({rowNode:i,filterInstanceToSkip:t})},e.prototype.doesRowPassAggregateFilters=function(t){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(t.rowNode)||this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(t.rowNode,t.filterInstanceToSkip))},e.prototype.doesRowPassFilter=function(t){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(t.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(t.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(t.rowNode,t.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(t.rowNode))},e.prototype.onNewRowsLoaded=function(t){this.allColumnFilters.forEach(function(i){i.filterPromise.then(function(r){r.onNewRowsLoaded&&r.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(t,{afterDataChange:!0}),this.updateActiveFilters()},e.prototype.createValueGetter=function(t){var i=this;return function(r){var o=r.node;return i.valueService.getValue(t,o,!0)}},e.prototype.getFilterComponent=function(t,i,r){var o;if(r===void 0&&(r=!0),r)return((o=this.getOrCreateFilterWrapper(t,i))===null||o===void 0?void 0:o.filterPromise)||null;var s=this.cachedFilter(t);return s?s.filterPromise:null},e.prototype.isFilterActive=function(t){var i=this.cachedFilter(t);return!!i&&i.filterPromise.resolveNow(!1,function(r){return r.isFilterActive()})},e.prototype.getOrCreateFilterWrapper=function(t,i){var r=this;if(!t.isFilterAllowed())return null;var o=this.cachedFilter(t);if(o)i!=="NO_UI"&&this.putIntoGui(o,i);else{o=this.createFilterWrapper(t,i);var s=t.getColId();this.allColumnFilters.set(s,o),this.allColumnListeners.set(s,this.addManagedListener(t,Bt.EVENT_COL_DEF_CHANGED,function(){return r.checkDestroyFilter(s)}))}return o},e.prototype.cachedFilter=function(t){return this.allColumnFilters.get(t.getColId())},e.prototype.getDefaultFilter=function(t){var i;if(ft.__isRegistered(tt.SetFilterModule,this.context.getGridId()))i="agSetColumnFilter";else{var r=t.getColDef().cellDataType;r==="number"?i="agNumberColumnFilter":r==="date"||r==="dateString"?i="agDateColumnFilter":i="agTextColumnFilter"}return i},e.prototype.getDefaultFloatingFilter=function(t){var i;if(ft.__isRegistered(tt.SetFilterModule,this.context.getGridId()))i="agSetColumnFloatingFilter";else{var r=t.getColDef().cellDataType;r==="number"?i="agNumberColumnFloatingFilter":r==="date"||r==="dateString"?i="agDateColumnFloatingFilter":i="agTextColumnFloatingFilter"}return i},e.prototype.createFilterInstance=function(t){var i=this,r=this.getDefaultFilter(t),o=t.getColDef(),s,a=Lu(Lu({},this.createFilterParams(t,o)),{filterModifiedCallback:function(){var u={type:C.EVENT_FILTER_MODIFIED,column:t,filterInstance:s};i.eventService.dispatchEvent(u)},filterChangedCallback:function(u){var c,d=(c=u==null?void 0:u.source)!==null&&c!==void 0?c:"api",p={filterInstance:s,additionalEventAttributes:u,columns:[t],source:d};i.callOnFilterChangedOutsideRenderCycle(p)},doesRowPassOtherFilter:function(u){return i.doesRowPassOtherFilters(s,u)}}),l=this.userComponentFactory.getFilterDetails(o,a,r);return l?{filterPromise:function(){var u=l.newAgStackInstance();return u&&u.then(function(c){return s=c}),u},compDetails:l}:{filterPromise:null,compDetails:null}},e.prototype.createFilterParams=function(t,i){var r={column:t,colDef:Hh(i),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(t),doesRowPassOtherFilter:function(){return!0},api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};return r},e.prototype.createFilterWrapper=function(t,i){var r,o={column:t,filterPromise:null,compiledElement:null,guiPromise:Hi.resolve(null),compDetails:null},s=this.createFilterInstance(t),a=s.filterPromise,l=s.compDetails;return o.filterPromise=(r=a==null?void 0:a())!==null&&r!==void 0?r:null,o.compDetails=l,a&&this.putIntoGui(o,i),o},e.prototype.putIntoGui=function(t,i){var r=this,o=document.createElement("div");o.className="ag-filter",t.guiPromise=new Hi(function(s){t.filterPromise.then(function(a){var l=a.getGui();N(l)||console.warn("AG Grid: getGui method from filter returned "+l+", it should be a DOM element or an HTML template string."),typeof l=="string"&&(l=Pe(l)),o.appendChild(l),s(o);var u={type:C.EVENT_FILTER_OPENED,column:t.column,source:i,eGui:o};r.eventService.dispatchEvent(u)})})},e.prototype.onColumnsChanged=function(){var t=this,i=[];this.allColumnFilters.forEach(function(r,o){var s;r.column.isPrimary()?s=t.columnModel.getPrimaryColumn(o):s=t.columnModel.getGridColumn(o),!s&&(i.push(r.column),t.disposeFilterWrapper(r,"columnChanged"),t.disposeColumnListener(o))}),i.length>0?this.onFilterChanged({columns:i,source:"api"}):this.updateDependantFilters()},e.prototype.updateDependantFilters=function(){var t=this,i=this.columnModel.getGroupAutoColumns();i==null||i.forEach(function(r){r.getColDef().filter==="agGroupColumnFilter"&&t.getOrCreateFilterWrapper(r,"NO_UI")})},e.prototype.isFilterAllowed=function(t){var i,r;if(this.isAdvancedFilterEnabled())return!1;var o=t.isFilterAllowed();if(!o)return!1;var s=this.allColumnFilters.get(t.getColId());return(r=(i=s==null?void 0:s.filterPromise)===null||i===void 0?void 0:i.resolveNow(!0,function(a){var l,u;return typeof((l=a)===null||l===void 0?void 0:l.isFilterAllowed)=="function"?(u=a)===null||u===void 0?void 0:u.isFilterAllowed():!0}))!==null&&r!==void 0?r:!0},e.prototype.getFloatingFilterCompDetails=function(t,i){var r=this,o=t.getColDef(),s=this.createFilterParams(t,o),a=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(o,$p,s),l=this.userComponentFactory.getDefaultFloatingFilterType(o,function(){return r.getDefaultFloatingFilter(t)});l==null&&(l="agReadOnlyFloatingFilter");var u=function(d){var p=r.getFilterComponent(t,"NO_UI");p!=null&&p.then(function(h){d(zn(h))})},c={column:t,filterParams:a,currentParentModel:function(){return r.getCurrentFloatingFilterParentModel(t)},parentFilterInstance:u,showParentFilter:i,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(o,c,l)},e.prototype.getCurrentFloatingFilterParentModel=function(t){var i=this.getFilterComponent(t,"NO_UI",!1);return i?i.resolveNow(null,function(r){return r&&r.getModel()}):null},e.prototype.destroyFilter=function(t,i){i===void 0&&(i="api");var r=t.getColId(),o=this.allColumnFilters.get(r);this.disposeColumnListener(r),o&&(this.disposeFilterWrapper(o,i),this.onFilterChanged({columns:[t],source:"api"}))},e.prototype.disposeColumnListener=function(t){var i=this.allColumnListeners.get(t);i&&(this.allColumnListeners.delete(t),i())},e.prototype.disposeFilterWrapper=function(t,i){var r=this;t.filterPromise.then(function(o){(o.setModel(null)||Hi.resolve()).then(function(){r.getContext().destroyBean(o),t.column.setFilterActive(!1,"filterDestroyed"),r.allColumnFilters.delete(t.column.getColId());var s={type:C.EVENT_FILTER_DESTROYED,source:i,column:t.column};r.eventService.dispatchEvent(s)})})},e.prototype.checkDestroyFilter=function(t){var i=this.allColumnFilters.get(t);if(i){var r=i.column,o=(r.isFilterAllowed()?this.createFilterInstance(r):{compDetails:null}).compDetails;this.areFilterCompsDifferent(i.compDetails,o)&&this.destroyFilter(r,"columnChanged")}},e.prototype.areFilterCompsDifferent=function(t,i){if(!i||!t)return!0;var r=t.componentClass,o=i.componentClass,s=r===o||(r==null?void 0:r.render)&&(o==null?void 0:o.render)&&r.render===o.render;return!s},e.prototype.getAdvancedFilterModel=function(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null},e.prototype.setAdvancedFilterModel=function(t){this.isAdvancedFilterEnabled()&&(this.advancedFilterService.setModel(t??null),this.onFilterChanged({source:"advancedFilter"}))},e.prototype.showAdvancedFilterBuilder=function(t){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder(t,!0)},e.prototype.updateAdvancedFilterColumns=function(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})},e.prototype.hasFloatingFilters=function(){if(this.isAdvancedFilterEnabled())return!1;var t=this.columnModel.getAllGridColumns();return t?t.some(function(i){return i.getColDef().floatingFilter}):!1},e.prototype.getFilterInstance=function(t,i){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}var r=this.getFilterInstanceImpl(t,function(s){if(i){var a=zn(s);i(a)}}),o=zn(r);return o},e.prototype.getFilterInstanceImpl=function(t,i){var r=this.columnModel.getPrimaryColumn(t);if(r){var o=this.getFilterComponent(r,"NO_UI"),s=o&&o.resolveNow(null,function(a){return a});return s?setTimeout(i,0,s):o&&o.then(function(a){i(a)}),s}},e.prototype.warnAdvancedFilters=function(){bt(function(){console.warn("AG Grid: Column Filter API methods have been disabled as Advanced Filters are enabled.")},"advancedFiltersCompatibility")},e.prototype.setupAdvancedFilterHeaderComp=function(t){var i;(i=this.advancedFilterService)===null||i===void 0||i.getCtrl().setupHeaderComp(t)},e.prototype.getHeaderRowCount=function(){return this.isAdvancedFilterHeaderActive()?1:0},e.prototype.getHeaderHeight=function(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0},e.prototype.processFilterModelUpdateQueue=function(){var t=this;this.filterModelUpdateQueue.forEach(function(i){return t.setFilterModel(i)}),this.filterModelUpdateQueue=[]},e.prototype.destroy=function(){var t=this;n.prototype.destroy.call(this),this.allColumnFilters.forEach(function(i){return t.disposeFilterWrapper(i,"gridDestroyed")}),this.allColumnListeners.clear()},Qi([y("valueService")],e.prototype,"valueService",void 0),Qi([y("columnModel")],e.prototype,"columnModel",void 0),Qi([y("rowModel")],e.prototype,"rowModel",void 0),Qi([y("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Qi([y("rowRenderer")],e.prototype,"rowRenderer",void 0),Qi([y("dataTypeService")],e.prototype,"dataTypeService",void 0),Qi([y("quickFilterService")],e.prototype,"quickFilterService",void 0),Qi([At("advancedFilterService")],e.prototype,"advancedFilterService",void 0),Qi([U],e.prototype,"init",null),e=Qi([Z("filterManager")],e),e}(j),uL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),yf=function(n){uL(e,n);function e(t,i){var r=n.call(this,t)||this;return r.ctrl=i,r}return e.prototype.getCtrl=function(){return this.ctrl},e}(wt),cL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Cs=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},dL=function(n){cL(e,n);function e(t){return n.call(this,e.TEMPLATE,t)||this}return e.prototype.postConstruct=function(){var t=this,i=this.getGui(),r={addOrRemoveCssClass:function(o,s){return t.addOrRemoveCssClass(o,s)},addOrRemoveBodyCssClass:function(o,s){return t.eFloatingFilterBody.classList.toggle(o,s)},setButtonWrapperDisplayed:function(o){return Tt(t.eButtonWrapper,o)},setCompDetails:function(o){return t.setCompDetails(o)},getFloatingFilterComp:function(){return t.compPromise},setWidth:function(o){return i.style.width=o},setMenuIcon:function(o){return t.eButtonShowMainFilter.appendChild(o)}};this.ctrl.setComp(r,i,this.eButtonShowMainFilter,this.eFloatingFilterBody)},e.prototype.setCompDetails=function(t){var i=this;if(!t){this.destroyFloatingFilterComp(),this.compPromise=null;return}this.compPromise=t.newAgStackInstance(),this.compPromise.then(function(r){return i.afterCompCreated(r)})},e.prototype.destroyFloatingFilterComp=function(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))},e.prototype.afterCompCreated=function(t){if(t){if(!this.isAlive()){this.destroyBean(t);return}this.destroyFloatingFilterComp(),this.floatingFilterComp=t,this.eFloatingFilterBody.appendChild(t.getGui()),t.afterGuiAttached&&t.afterGuiAttached()}},e.TEMPLATE=`<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">
            <div ref="eFloatingFilterBody" role="presentation"></div>
            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">
                <button type="button" class="ag-button ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>
            </div>
        </div>`,Cs([K("eFloatingFilterBody")],e.prototype,"eFloatingFilterBody",void 0),Cs([K("eButtonWrapper")],e.prototype,"eButtonWrapper",void 0),Cs([K("eButtonShowMainFilter")],e.prototype,"eButtonShowMainFilter",void 0),Cs([U],e.prototype,"postConstruct",null),Cs([Ee],e.prototype,"destroyFloatingFilterComp",null),e}(yf),pL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),hL=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},de;(function(n){n.AUTO_HEIGHT="ag-layout-auto-height",n.NORMAL="ag-layout-normal",n.PRINT="ag-layout-print"})(de||(de={}));var mf=function(n){pL(e,n);function e(t){var i=n.call(this)||this;return i.view=t,i}return e.prototype.postConstruct=function(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},e.prototype.updateLayoutClasses=function(){var t=this.getDomLayout(),i={autoHeight:t==="autoHeight",normal:t==="normal",print:t==="print"},r=i.autoHeight?de.AUTO_HEIGHT:i.print?de.PRINT:de.NORMAL;this.view.updateLayoutClasses(r,i)},e.prototype.getDomLayout=function(){var t,i=(t=this.gridOptionsService.get("domLayout"))!==null&&t!==void 0?t:"normal",r=["normal","print","autoHeight"];return r.indexOf(i)===-1?(bt(function(){return console.warn("AG Grid: "+i+" is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.")},"warn about dom layout values"),"normal"):i},hL([U],e.prototype,"postConstruct",null),e}(j),fL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Iu=function(){return Iu=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Iu.apply(this,arguments)},jr=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Fe;(function(n){n[n.Vertical=0]="Vertical",n[n.Horizontal=1]="Horizontal"})(Fe||(Fe={}));var We;(function(n){n[n.Container=0]="Container",n[n.FakeContainer=1]="FakeContainer"})(We||(We={}));var gL=function(n){fL(e,n);function e(t){var i=n.call(this)||this;return i.lastScrollSource=[null,null],i.scrollLeft=-1,i.nextScrollTop=-1,i.scrollTop=-1,i.eBodyViewport=t,i.resetLastHScrollDebounced=Vi(function(){return i.lastScrollSource[Fe.Horizontal]=null},500),i.resetLastVScrollDebounced=Vi(function(){return i.lastScrollSource[Fe.Vertical]=null},500),i}return e.prototype.postConstruct=function(){var t=this;this.enableRtl=this.gridOptionsService.is("enableRtl"),this.addManagedListener(this.eventService,C.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(function(i){t.centerRowContainerCtrl=i.centerRowContainerCtrl,t.onDisplayedColumnsWidthChanged(),t.addScrollListener()})},e.prototype.addScrollListener=function(){var t=this.ctrlsService.getFakeHScrollComp(),i=this.ctrlsService.getFakeVScrollComp();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onHScroll.bind(this)),t.onScrollCallback(this.onFakeHScroll.bind(this));var r=this.gridOptionsService.is("debounceVerticalScrollbar"),o=r?Vi(this.onVScroll.bind(this),100):this.onVScroll.bind(this),s=r?Vi(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",o),i.onScrollCallback(s)},e.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},e.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(t){var i=this.centerRowContainerCtrl==null;if(!i){t===void 0&&(t=this.centerRowContainerCtrl.getCenterViewportScrollLeft());var r=this.enableRtl?t:-t,o=this.ctrlsService.getTopCenterRowContainerCtrl(),s=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),a=this.ctrlsService.getBottomCenterRowContainerCtrl(),l=this.ctrlsService.getFakeHScrollComp(),u=this.ctrlsService.getHeaderRowContainerCtrl();u.setHorizontalScroll(-r),a.setContainerTranslateX(r),o.setContainerTranslateX(r),s.setContainerTranslateX(r);var c=this.centerRowContainerCtrl.getViewportElement(),d=this.lastScrollSource[Fe.Horizontal]===We.Container;t=Math.abs(t),d?l.setScrollPosition(t):xa(c,t,this.enableRtl)}},e.prototype.isControllingScroll=function(t,i){return this.lastScrollSource[i]==null?(this.lastScrollSource[i]=t,!0):this.lastScrollSource[i]===t},e.prototype.onFakeHScroll=function(){this.isControllingScroll(We.FakeContainer,Fe.Horizontal)&&this.onHScrollCommon(We.FakeContainer)},e.prototype.onHScroll=function(){this.isControllingScroll(We.Container,Fe.Horizontal)&&this.onHScrollCommon(We.Container)},e.prototype.onHScrollCommon=function(t){var i=this.centerRowContainerCtrl.getViewportElement(),r=i.scrollLeft;if(!this.shouldBlockScrollUpdate(Fe.Horizontal,r,!0)){var o;t===We.Container?o=Ta(i,this.enableRtl):o=this.ctrlsService.getFakeHScrollComp().getScrollPosition(),this.doHorizontalScroll(Math.round(o)),this.resetLastHScrollDebounced()}},e.prototype.onFakeVScroll=function(){this.isControllingScroll(We.FakeContainer,Fe.Vertical)&&this.onVScrollCommon(We.FakeContainer)},e.prototype.onVScroll=function(){this.isControllingScroll(We.Container,Fe.Vertical)&&this.onVScrollCommon(We.Container)},e.prototype.onVScrollCommon=function(t){var i;t===We.Container?i=this.eBodyViewport.scrollTop:i=this.ctrlsService.getFakeVScrollComp().getScrollPosition(),!this.shouldBlockScrollUpdate(Fe.Vertical,i,!0)&&(this.animationFrameService.setScrollTop(i),this.nextScrollTop=i,t===We.Container?this.ctrlsService.getFakeVScrollComp().setScrollPosition(i):this.eBodyViewport.scrollTop=i,this.gridOptionsService.is("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())},e.prototype.doHorizontalScroll=function(t){var i=this.ctrlsService.getFakeHScrollComp().getScrollPosition();this.scrollLeft===t&&t===i||(this.scrollLeft=t,this.fireScrollEvent(Fe.Horizontal),this.horizontallyScrollHeaderCenterAndFloatingCenter(t),this.centerRowContainerCtrl.onHorizontalViewportChanged(!0))},e.prototype.fireScrollEvent=function(t){var i=this,r={type:C.EVENT_BODY_SCROLL,direction:t===Fe.Horizontal?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(r),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(function(){var o=Iu(Iu({},r),{type:C.EVENT_BODY_SCROLL_END});i.eventService.dispatchEvent(o)},100)},e.prototype.shouldBlockScrollUpdate=function(t,i,r){return r===void 0&&(r=!1),r&&!wn()?!1:t===Fe.Vertical?this.shouldBlockVerticalScroll(i):this.shouldBlockHorizontalScroll(i)},e.prototype.shouldBlockVerticalScroll=function(t){var i=Ha(this.eBodyViewport),r=this.eBodyViewport.scrollHeight;return t<0||t+i>r},e.prototype.shouldBlockHorizontalScroll=function(t){var i=this.centerRowContainerCtrl.getCenterWidth(),r=this.centerRowContainerCtrl.getViewportElement().scrollWidth;if(this.enableRtl&&Oa()){if(t>0)return!0}else if(t<0)return!0;return Math.abs(t)+i>r},e.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent(Fe.Vertical)},e.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(We.Container)},e.prototype.scrollGridIfNeeded=function(){var t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),t},e.prototype.setHorizontalScrollPosition=function(t,i){i===void 0&&(i=!1);var r=0,o=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();!i&&this.shouldBlockScrollUpdate(Fe.Horizontal,t)&&(this.enableRtl&&Oa()?t=t>0?0:o:t=Math.min(Math.max(t,r),o)),xa(this.centerRowContainerCtrl.getViewportElement(),Math.abs(t),this.enableRtl),this.doHorizontalScroll(t)},e.prototype.setVerticalScrollPosition=function(t){this.eBodyViewport.scrollTop=t},e.prototype.getVScrollPosition=function(){var t={top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight};return t},e.prototype.getHScrollPosition=function(){return this.centerRowContainerCtrl.getHScrollPosition()},e.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()},e.prototype.scrollHorizontally=function(t){var i=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(i+t),this.centerRowContainerCtrl.getViewportElement().scrollLeft-i},e.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},e.prototype.ensureNodeVisible=function(t,i){i===void 0&&(i=null);for(var r=this.rowModel.getRowCount(),o=-1,s=0;s<r;s++){var a=this.rowModel.getRow(s);if(typeof t=="function"){var l=t;if(a&&l(a)){o=s;break}}else if(t===a||t===a.data){o=s;break}}o>=0&&this.ensureIndexVisible(o,i)},e.prototype.ensureIndexVisible=function(t,i){if(!this.gridOptionsService.isDomLayout("print")){var r=this.paginationProxy.getRowCount();if(typeof t!="number"||t<0||t>=r){console.warn("AG Grid: Invalid row index for ensureIndexVisible: "+t);return}var o=this.gridOptionsService.is("pagination"),s=o&&!this.gridOptionsService.is("suppressPaginationPanel");s||this.paginationProxy.goToPageWithIndex(t);var a=this.ctrlsService.getGridBodyCtrl(),l=a.getStickyTopHeight(),u=this.paginationProxy.getRow(t),c;do{var d=u.rowTop,p=u.rowHeight,h=this.paginationProxy.getPixelOffset(),f=u.rowTop-h,g=f+u.rowHeight,v=this.getVScrollPosition(),m=this.heightScaler.getDivStretchOffset(),w=v.top+m,b=v.bottom+m,E=b-w,O=this.heightScaler.getScrollPositionForPixel(f),P=this.heightScaler.getScrollPositionForPixel(g-E),M=Math.min((O+P)/2,f),D=w+l>f,F=b<g,V=null;i==="top"?V=O:i==="bottom"?V=P:i==="middle"?V=M:D?V=O-l:F&&(V=P),V!==null&&(this.setVerticalScrollPosition(V),this.rowRenderer.redraw({afterScroll:!0})),c=d!==u.rowTop||p!==u.rowHeight}while(c);this.animationFrameService.flushAllFrames()}},e.prototype.ensureColumnVisible=function(t,i){i===void 0&&(i="auto");var r=this.columnModel.getGridColumn(t);if(r&&!r.isPinned()&&this.columnModel.isColumnDisplayed(r)){var o=this.getPositionedHorizontalScroll(r,i);o!==null&&this.centerRowContainerCtrl.setCenterViewportScrollLeft(o),this.centerRowContainerCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}},e.prototype.getPositionedHorizontalScroll=function(t,i){var r=this.isColumnOutsideViewport(t),o=r.columnBeforeStart,s=r.columnAfterEnd,a=this.centerRowContainerCtrl.getCenterWidth()<t.getActualWidth(),l=this.centerRowContainerCtrl.getCenterWidth(),u=this.enableRtl,c=(u?o:s)||a,d=u?s:o;i!=="auto"&&(c=i==="start",d=i==="end");var p=i==="middle";if(c||d||p){var h=this.getColumnBounds(t),f=h.colLeft,g=h.colMiddle,v=h.colRight;return p?g-l/2:c?u?v:f:u?f-l:v-l}return null},e.prototype.isColumnOutsideViewport=function(t){var i=this.getViewportBounds(),r=i.start,o=i.end,s=this.getColumnBounds(t),a=s.colLeft,l=s.colRight,u=this.enableRtl,c=u?r>l:o<l,d=u?o<a:r>a;return{columnBeforeStart:c,columnAfterEnd:d}},e.prototype.getColumnBounds=function(t){var i=this.enableRtl,r=this.columnModel.getBodyContainerWidth(),o=t.getActualWidth(),s=t.getLeft(),a=i?-1:1,l=i?r-s:s,u=l+o*a,c=l+o/2*a;return{colLeft:l,colMiddle:c,colRight:u}},e.prototype.getViewportBounds=function(){var t=this.centerRowContainerCtrl.getCenterWidth(),i=this.centerRowContainerCtrl.getCenterViewportScrollLeft(),r=i,o=t+i;return{start:r,end:o,width:t}},jr([y("ctrlsService")],e.prototype,"ctrlsService",void 0),jr([y("animationFrameService")],e.prototype,"animationFrameService",void 0),jr([y("paginationProxy")],e.prototype,"paginationProxy",void 0),jr([y("rowModel")],e.prototype,"rowModel",void 0),jr([y("rowContainerHeightService")],e.prototype,"heightScaler",void 0),jr([y("rowRenderer")],e.prototype,"rowRenderer",void 0),jr([y("columnModel")],e.prototype,"columnModel",void 0),jr([U],e.prototype,"postConstruct",null),e}(j),vL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Kp=function(){return Kp=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Kp.apply(this,arguments)},wi=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},yL=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},mL=function(n,e){for(var t=0,i=e.length,r=n.length;t<i;t++,r++)n[r]=e[t];return n},CL=function(n){vL(e,n);function e(t){var i=n.call(this)||this;return i.isMultiRowDrag=!1,i.isGridSorted=!1,i.isGridFiltered=!1,i.isRowGroupActive=!1,i.eContainer=t,i}return e.prototype.postConstruct=function(){var t=this;this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel);var i=function(){t.onSortChanged(),t.onFilterChanged(),t.onRowGroupChanged()};this.addManagedListener(this.eventService,C.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_MODEL_UPDATED,function(){i()}),i(),this.ctrlsService.whenReady(function(){var r=t.ctrlsService.getGridBodyCtrl();t.autoScrollService=new YS({scrollContainer:r.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return r.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(o){return r.getScrollFeature().setVerticalScrollPosition(o)},onScrollCallback:function(){t.onDragging(t.lastDraggingEvent)}})})},e.prototype.onSortChanged=function(){this.isGridSorted=this.sortController.isSortActive()},e.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},e.prototype.onRowGroupChanged=function(){var t=this.columnModel.getRowGroupColumns();this.isRowGroupActive=!hi(t)},e.prototype.getContainer=function(){return this.eContainer},e.prototype.isInterestedIn=function(t){return t===$e.RowDrag},e.prototype.getIconName=function(){var t=this.gridOptionsService.is("rowDragManaged");return t&&this.shouldPreventRowMove()?Se.ICON_NOT_ALLOWED:Se.ICON_MOVE},e.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},e.prototype.getRowNodes=function(t){var i=this;if(!this.isFromThisGrid(t))return t.dragItem.rowNodes||[];var r=this.gridOptionsService.is("rowDragMultiRow"),o=mL([],yL(this.selectionService.getSelectedNodes())).sort(function(a,l){return a.rowIndex==null||l.rowIndex==null?0:i.getRowIndexNumber(a)-i.getRowIndexNumber(l)}),s=t.dragItem.rowNode;return r&&o.indexOf(s)!==-1?(this.isMultiRowDrag=!0,o):(this.isMultiRowDrag=!1,[s])},e.prototype.onDragEnter=function(t){t.dragItem.rowNodes=this.getRowNodes(t),this.dispatchGridEvent(C.EVENT_ROW_DRAG_ENTER,t),this.getRowNodes(t).forEach(function(i){i.setDragging(!0)}),this.onEnterOrDragging(t)},e.prototype.onDragging=function(t){this.onEnterOrDragging(t)},e.prototype.isFromThisGrid=function(t){var i=t.dragSource.dragSourceDomDataKey;return i===this.gridOptionsService.getDomDataKey()},e.prototype.isDropZoneWithinThisGrid=function(t){var i=this.ctrlsService.getGridBodyCtrl(),r=i.getGui(),o=t.dropZoneTarget;return!r.contains(o)},e.prototype.onEnterOrDragging=function(t){this.dispatchGridEvent(C.EVENT_ROW_DRAG_MOVE,t),this.lastDraggingEvent=t;var i=this.mouseEventService.getNormalisedPosition(t).y,r=this.gridOptionsService.is("rowDragManaged");r&&this.doManagedDrag(t,i),this.autoScrollService.check(t.event)},e.prototype.doManagedDrag=function(t,i){var r=this.isFromThisGrid(t),o=this.gridOptionsService.is("rowDragManaged"),s=t.dragItem.rowNodes;o&&this.shouldPreventRowMove()||(this.gridOptionsService.is("suppressMoveWhenRowDragging")||!r?this.isDropZoneWithinThisGrid(t)||this.clientSideRowModel.highlightRowAtPixel(s[0],i):this.moveRows(s,i))},e.prototype.getRowIndexNumber=function(t){return parseInt(Vt(t.getRowIndexString().split("-")),10)},e.prototype.moveRowAndClearHighlight=function(t){var i=this,r=this.clientSideRowModel.getLastHighlightedRowNode(),o=r&&r.highlighted===Dr.Below,s=this.mouseEventService.getNormalisedPosition(t).y,a=t.dragItem.rowNodes,l=o?1:0;if(this.isFromThisGrid(t))a.forEach(function(d){d.rowTop<s&&(l-=1)}),this.moveRows(a,s,l);else{var u=this.gridOptionsService.getCallback("getRowId"),c=this.clientSideRowModel.getRowIndexAtPixel(s)+1;this.clientSideRowModel.getHighlightPosition(s)===Dr.Above&&c--,this.clientSideRowModel.updateRowData({add:a.map(function(d){return d.data}).filter(function(d){return!i.clientSideRowModel.getRowNode(u?u({data:d,level:0}):d.id)}),addIndex:c})}this.clearRowHighlight()},e.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},e.prototype.moveRows=function(t,i,r){r===void 0&&(r=0);var o=this.clientSideRowModel.ensureRowsAtPixel(t,i,r);o&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},e.prototype.addRowDropZone=function(t){var i=this;if(!t.getContainer()){bt(function(){return console.warn("AG Grid: addRowDropZone - A container target needs to be provided")},"add-drop-zone-empty-target");return}if(this.dragAndDropService.findExternalZone(t)){console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");return}var r={getContainer:t.getContainer};t.fromGrid?(t.fromGrid=void 0,r=t):(t.onDragEnter&&(r.onDragEnter=function(o){t.onDragEnter(i.draggingToRowDragEvent(C.EVENT_ROW_DRAG_ENTER,o))}),t.onDragLeave&&(r.onDragLeave=function(o){t.onDragLeave(i.draggingToRowDragEvent(C.EVENT_ROW_DRAG_LEAVE,o))}),t.onDragging&&(r.onDragging=function(o){t.onDragging(i.draggingToRowDragEvent(C.EVENT_ROW_DRAG_MOVE,o))}),t.onDragStop&&(r.onDragStop=function(o){t.onDragStop(i.draggingToRowDragEvent(C.EVENT_ROW_DRAG_END,o))})),this.dragAndDropService.addDropTarget(Kp({isInterestedIn:function(o){return o===$e.RowDrag},getIconName:function(){return Se.ICON_MOVE},external:!0},r))},e.prototype.getRowDropZone=function(t){var i=this,r=this.getContainer.bind(this),o=this.onDragEnter.bind(this),s=this.onDragLeave.bind(this),a=this.onDragging.bind(this),l=this.onDragStop.bind(this);return t?{getContainer:r,onDragEnter:t.onDragEnter?function(u){o(u),t.onDragEnter(i.draggingToRowDragEvent(C.EVENT_ROW_DRAG_ENTER,u))}:o,onDragLeave:t.onDragLeave?function(u){s(u),t.onDragLeave(i.draggingToRowDragEvent(C.EVENT_ROW_DRAG_LEAVE,u))}:s,onDragging:t.onDragging?function(u){a(u),t.onDragging(i.draggingToRowDragEvent(C.EVENT_ROW_DRAG_MOVE,u))}:a,onDragStop:t.onDragStop?function(u){l(u),t.onDragStop(i.draggingToRowDragEvent(C.EVENT_ROW_DRAG_END,u))}:l,fromGrid:!0}:{getContainer:r,onDragEnter:o,onDragLeave:s,onDragging:a,onDragStop:l,fromGrid:!0}},e.prototype.draggingToRowDragEvent=function(t,i){var r=this.mouseEventService.getNormalisedPosition(i).y,o=r>this.paginationProxy.getCurrentPageHeight(),s=-1,a;o||(s=this.rowModel.getRowIndexAtPixel(r),a=this.rowModel.getRow(s));var l;switch(i.vDirection){case qo.Down:l="down";break;case qo.Up:l="up";break;default:l=null;break}var u={type:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,event:i.event,node:i.dragItem.rowNode,nodes:i.dragItem.rowNodes,overIndex:s,overNode:a,y:r,vDirection:l};return u},e.prototype.dispatchGridEvent=function(t,i){var r=this.draggingToRowDragEvent(t,i);this.eventService.dispatchEvent(r)},e.prototype.onDragLeave=function(t){this.dispatchGridEvent(C.EVENT_ROW_DRAG_LEAVE,t),this.stopDragging(t),this.gridOptionsService.is("rowDragManaged")&&this.clearRowHighlight(),this.isFromThisGrid(t)&&(this.isMultiRowDrag=!1)},e.prototype.onDragStop=function(t){this.dispatchGridEvent(C.EVENT_ROW_DRAG_END,t),this.stopDragging(t),this.gridOptionsService.is("rowDragManaged")&&(this.gridOptionsService.is("suppressMoveWhenRowDragging")||!this.isFromThisGrid(t))&&!this.isDropZoneWithinThisGrid(t)&&this.moveRowAndClearHighlight(t)},e.prototype.stopDragging=function(t){this.autoScrollService.ensureCleared(),this.getRowNodes(t).forEach(function(i){i.setDragging(!1)})},wi([y("dragAndDropService")],e.prototype,"dragAndDropService",void 0),wi([y("rowModel")],e.prototype,"rowModel",void 0),wi([y("paginationProxy")],e.prototype,"paginationProxy",void 0),wi([y("columnModel")],e.prototype,"columnModel",void 0),wi([y("focusService")],e.prototype,"focusService",void 0),wi([y("sortController")],e.prototype,"sortController",void 0),wi([y("filterManager")],e.prototype,"filterManager",void 0),wi([y("selectionService")],e.prototype,"selectionService",void 0),wi([y("mouseEventService")],e.prototype,"mouseEventService",void 0),wi([y("ctrlsService")],e.prototype,"ctrlsService",void 0),wi([At("rangeService")],e.prototype,"rangeService",void 0),wi([U],e.prototype,"postConstruct",null),e}(j),wL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ye=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Xo;(function(n){n.ANIMATION_ON="ag-row-animation",n.ANIMATION_OFF="ag-row-no-animation"})(Xo||(Xo={}));var XS="ag-force-vertical-scroll",SL="ag-selectable",_L="ag-column-moving",EL=function(n){wL(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.stickyTopHeight=0,t}return e.prototype.getScrollFeature=function(){return this.bodyScrollFeature},e.prototype.getBodyViewportElement=function(){return this.eBodyViewport},e.prototype.setComp=function(t,i,r,o,s,a){this.comp=t,this.eGridBody=i,this.eBodyViewport=r,this.eTop=o,this.eBottom=s,this.eStickyTop=a,this.setCellTextSelection(this.gridOptionsService.is("enableCellTextSelection")),this.createManagedBean(new mf(this.comp)),this.bodyScrollFeature=this.createManagedBean(new gL(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([o,r,s,a]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.filterManager.setupAdvancedFilterHeaderComp(o),this.ctrlsService.registerGridBodyCtrl(this)},e.prototype.getComp=function(){return this.comp},e.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,C.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},e.prototype.addFocusListeners=function(t){var i=this;t.forEach(function(r){i.addManagedListener(r,"focusin",function(o){var s=o.target,a=Qn(s,"ag-root",r);r.classList.toggle("ag-has-focus",!a)}),i.addManagedListener(r,"focusout",function(o){var s=o.target,a=o.relatedTarget,l=r.contains(a),u=Qn(a,"ag-root",r),c=Qn(s,"ag-root",r);c||(!l||u)&&r.classList.remove("ag-has-focus")})})},e.prototype.setColumnMovingCss=function(t){this.comp.setColumnMovingCss(_L,t)},e.prototype.setCellTextSelection=function(t){t===void 0&&(t=!1),this.comp.setCellSelectableCss(SL,t)},e.prototype.onScrollVisibilityChanged=function(){var t=this,i=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(i),this.setStickyTopWidth(i);var r=i&&this.gridOptionsService.getScrollbarWidth()||0,o=ba()?16:0,s="calc(100% + "+(r+o)+"px)";this.animationFrameService.requestAnimationFrame(function(){return t.comp.setBodyViewportWidth(s)})},e.prototype.onGridColumnsChanged=function(){var t=this.columnModel.getAllGridColumns();this.comp.setColumnCount(t?t.length:0)},e.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",function(t){if(t.target instanceof HTMLImageElement)return t.preventDefault(),!1})},e.prototype.addStopEditingWhenGridLosesFocus=function(){var t=this;if(this.gridOptionsService.is("stopEditingWhenCellsLoseFocus")){var i=function(o){var s=o.relatedTarget;if(Ou(s)===null){t.rowRenderer.stopEditing();return}var a=r.some(function(u){return u.contains(s)})&&t.mouseEventService.isElementInThisGrid(s);if(!a){var l=t.popupService;a=l.getActivePopups().some(function(u){return u.contains(s)})||l.isElementWithinCustomPopup(s)}a||t.rowRenderer.stopEditing()},r=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];r.forEach(function(o){return t.addManagedListener(o,"focusout",i)})}},e.prototype.updateRowCount=function(){var t=this.headerNavigationService.getHeaderRowCount()+this.filterManager.getHeaderRowCount(),i=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,r=i===-1?-1:t+i;this.comp.setRowCount(r)},e.prototype.registerBodyViewportResizeListener=function(t){this.comp.registerBodyViewportResizeListener(t)},e.prototype.setVerticalScrollPaddingVisible=function(t){var i=t?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(i)},e.prototype.isVerticalScrollShowing=function(){var t=this.gridOptionsService.is("alwaysShowVerticalScroll"),i=t?XS:null,r=this.gridOptionsService.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(i,t),t||r&&yS(this.eBodyViewport)},e.prototype.setupRowAnimationCssClass=function(){var t=this,i=function(){var r=t.gridOptionsService.isAnimateRows()&&!t.rowContainerHeightService.isStretching(),o=r?Xo.ANIMATION_ON:Xo.ANIMATION_OFF;t.comp.setRowAnimationCssOnBodyViewport(o,r)};i(),this.addManagedListener(this.eventService,C.EVENT_HEIGHT_SCALE_CHANGED,i),this.addManagedPropertyListener("animateRows",i)},e.prototype.getGridBodyElement=function(){return this.eGridBody},e.prototype.addBodyViewportListener=function(){var t=this.onBodyViewportContextMenu.bind(this);this.addManagedListener(this.eBodyViewport,"contextmenu",t),this.mockContextMenuForIPad(t),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this)),this.addFullWidthContainerWheelListener()},e.prototype.addFullWidthContainerWheelListener=function(){var t=this,i=this.eBodyViewport.querySelector(".ag-full-width-container"),r=this.eBodyViewport.querySelector(".ag-center-cols-viewport");i&&r&&this.addManagedListener(i,"wheel",function(o){return t.onFullWidthContainerWheel(o,r)})},e.prototype.onFullWidthContainerWheel=function(t,i){!t.deltaX||Math.abs(t.deltaY)>Math.abs(t.deltaX)||!this.mouseEventService.isEventFromThisGrid(t)||(t.preventDefault(),i.scrollBy({left:t.deltaX}))},e.prototype.onBodyViewportContextMenu=function(t,i,r){if(!(!t&&!r)){if(this.gridOptionsService.is("preventDefaultOnContextMenu")){var o=t||r;o.preventDefault()}var s=(t||i).target;if(s===this.eBodyViewport||s===this.ctrlsService.getCenterRowContainerCtrl().getViewportElement()){if(!this.contextMenuFactory)return;t?this.contextMenuFactory.onContextMenu(t,null,null,null,null,this.eGridBody):r&&this.contextMenuFactory.onContextMenu(null,r,null,null,null,this.eGridBody)}}},e.prototype.mockContextMenuForIPad=function(t){if(wn()){var i=new yi(this.eBodyViewport),r=function(o){t(void 0,o.touchStart,o.touchEvent)};this.addManagedListener(i,yi.EVENT_LONG_TAP,r),this.addDestroyFunc(function(){return i.destroy()})}},e.prototype.onBodyViewportWheel=function(t){this.gridOptionsService.is("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&t.preventDefault()},e.prototype.onStickyTopWheel=function(t){t.preventDefault(),t.offsetY&&this.scrollVertically(t.deltaY)},e.prototype.getGui=function(){return this.eGridBody},e.prototype.scrollVertically=function(t){var i=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(i+t),this.eBodyViewport.scrollTop-i},e.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new CL(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},e.prototype.getRowDragFeature=function(){return this.rowDragFeature},e.prototype.onPinnedRowDataChanged=function(){this.setFloatingHeights()},e.prototype.setFloatingHeights=function(){var t=this.pinnedRowModel,i=t.getPinnedTopTotalHeight();i&&(i+=1);var r=t.getPinnedBottomTotalHeight();r&&(r+=1),this.comp.setTopHeight(i),this.comp.setBottomHeight(r),this.comp.setTopDisplay(i?"inherit":"none"),this.comp.setBottomDisplay(r?"inherit":"none"),this.setStickyTopOffsetTop()},e.prototype.setStickyTopHeight=function(t){t===void 0&&(t=0),this.comp.setStickyTopHeight(t+"px"),this.stickyTopHeight=t},e.prototype.getStickyTopHeight=function(){return this.stickyTopHeight},e.prototype.setStickyTopWidth=function(t){if(!t)this.comp.setStickyTopWidth("100%");else{var i=this.gridOptionsService.getScrollbarWidth();this.comp.setStickyTopWidth("calc(100% - "+i+"px)")}},e.prototype.onHeaderHeightChanged=function(){this.setStickyTopOffsetTop()},e.prototype.setStickyTopOffsetTop=function(){var t=this.ctrlsService.getGridHeaderCtrl(),i=t.getHeaderHeight()+this.filterManager.getHeaderHeight(),r=this.pinnedRowModel.getPinnedTopTotalHeight(),o=0;i>0&&(o+=i+1),r>0&&(o+=r+1),this.comp.setStickyTopTop(o+"px")},e.prototype.sizeColumnsToFit=function(t,i){var r=this,o=this.isVerticalScrollShowing(),s=o?this.gridOptionsService.getScrollbarWidth():0,a=Sc(this.eGridBody),l=a-s;if(l>0){this.columnModel.sizeColumnsToFit(l,"sizeColumnsToFit",!1,t);return}i===void 0?window.setTimeout(function(){r.sizeColumnsToFit(t,100)},0):i===100?window.setTimeout(function(){r.sizeColumnsToFit(t,500)},100):i===500?window.setTimeout(function(){r.sizeColumnsToFit(t,-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},e.prototype.addScrollEventListener=function(t){this.eBodyViewport.addEventListener("scroll",t,{passive:!0})},e.prototype.removeScrollEventListener=function(t){this.eBodyViewport.removeEventListener("scroll",t)},Ye([y("animationFrameService")],e.prototype,"animationFrameService",void 0),Ye([y("rowContainerHeightService")],e.prototype,"rowContainerHeightService",void 0),Ye([y("ctrlsService")],e.prototype,"ctrlsService",void 0),Ye([y("columnModel")],e.prototype,"columnModel",void 0),Ye([y("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),Ye([At("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),Ye([y("headerNavigationService")],e.prototype,"headerNavigationService",void 0),Ye([y("dragAndDropService")],e.prototype,"dragAndDropService",void 0),Ye([y("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Ye([y("rowRenderer")],e.prototype,"rowRenderer",void 0),Ye([y("popupService")],e.prototype,"popupService",void 0),Ye([y("mouseEventService")],e.prototype,"mouseEventService",void 0),Ye([y("rowModel")],e.prototype,"rowModel",void 0),Ye([y("filterManager")],e.prototype,"filterManager",void 0),e}(j),Nu;(function(n){n[n.FILL=0]="FILL",n[n.RANGE=1]="RANGE"})(Nu||(Nu={}));var Ao;(function(n){n[n.VALUE=0]="VALUE",n[n.DIMENSION=1]="DIMENSION"})(Ao||(Ao={}));var ws="ag-cell-range-selected",bL="ag-cell-range-chart",RL="ag-cell-range-single-cell",OL="ag-cell-range-chart-category",TL="ag-cell-range-handle",xL="ag-cell-range-top",PL="ag-cell-range-right",DL="ag-cell-range-bottom",AL="ag-cell-range-left",FL=function(){function n(e,t){this.beans=e,this.cellCtrl=t}return n.prototype.setComp=function(e,t){this.cellComp=e,this.eGui=t,this.onRangeSelectionChanged()},n.prototype.onRangeSelectionChanged=function(){this.cellComp&&(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(ws,this.rangeCount!==0),this.cellComp.addOrRemoveCssClass(ws+"-1",this.rangeCount===1),this.cellComp.addOrRemoveCssClass(ws+"-2",this.rangeCount===2),this.cellComp.addOrRemoveCssClass(ws+"-3",this.rangeCount===3),this.cellComp.addOrRemoveCssClass(ws+"-4",this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(bL,this.hasChartRange),so(this.eGui,this.rangeCount>0?!0:void 0),this.cellComp.addOrRemoveCssClass(RL,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())},n.prototype.updateRangeBorders=function(){var e=this.getRangeBorders(),t=this.isSingleCell(),i=!t&&e.top,r=!t&&e.right,o=!t&&e.bottom,s=!t&&e.left;this.cellComp.addOrRemoveCssClass(xL,i),this.cellComp.addOrRemoveCssClass(PL,r),this.cellComp.addOrRemoveCssClass(DL,o),this.cellComp.addOrRemoveCssClass(AL,s)},n.prototype.isSingleCell=function(){var e=this.beans.rangeService;return this.rangeCount===1&&e&&!e.isMoreThanOneCell()},n.prototype.getHasChartRange=function(){var e=this.beans.rangeService;if(!this.rangeCount||!e)return!1;var t=e.getCellRanges();return t.length>0&&t.every(function(i){return xi([Ao.DIMENSION,Ao.VALUE],i.type)})},n.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},n.prototype.getRangeBorders=function(){var e=this,t=this.beans.gridOptionsService.is("enableRtl"),i=!1,r=!1,o=!1,s=!1,a=this.cellCtrl.getCellPosition().column,l=this.beans,u=l.rangeService,c=l.columnModel,d,p;t?(d=c.getDisplayedColAfter(a),p=c.getDisplayedColBefore(a)):(d=c.getDisplayedColBefore(a),p=c.getDisplayedColAfter(a));var h=u.getCellRanges().filter(function(w){return u.isCellInSpecificRange(e.cellCtrl.getCellPosition(),w)});d||(s=!0),p||(r=!0);for(var f=0;f<h.length&&!(i&&r&&o&&s);f++){var g=h[f],v=u.getRangeStartRow(g),m=u.getRangeEndRow(g);!i&&this.beans.rowPositionUtils.sameRow(v,this.cellCtrl.getCellPosition())&&(i=!0),!o&&this.beans.rowPositionUtils.sameRow(m,this.cellCtrl.getCellPosition())&&(o=!0),!s&&d&&g.columns.indexOf(d)<0&&(s=!0),!r&&p&&g.columns.indexOf(p)<0&&(r=!0)}return{top:i,right:r,bottom:o,left:s}},n.prototype.refreshHandle=function(){if(this.beans.rangeService){var e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(TL,!!this.selectionHandle)}},n.prototype.shouldHaveSelectionHandle=function(){var e=this.beans,t=e.gridOptionsService,i=e.rangeService,r=i.getCellRanges(),o=r.length;if(this.rangeCount<1||o<1)return!1;var s=Vt(r),a=this.cellCtrl.getCellPosition(),l=t.is("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),u=t.is("enableRangeHandle"),c=o===1&&!this.cellCtrl.isEditing()&&(l||u);if(this.hasChartRange){var d=r[0].type===Ao.DIMENSION,p=d&&i.isCellInSpecificRange(a,r[0]);this.cellComp.addOrRemoveCssClass(OL,p),c=s.type===Ao.VALUE}return c&&s.endRow!=null&&i.isContiguousRange(s)&&i.isBottomRightCell(s,a)},n.prototype.addSelectionHandle=function(){var e=this.beans,t=e.gridOptionsService,i=e.rangeService,r=Vt(i.getCellRanges()).type,o=t.is("enableFillHandle")&&pt(r),s=o?Nu.FILL:Nu.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==s&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(s)),this.selectionHandle.refresh(this.cellCtrl)},n.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},n}(),ML=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),LL=function(n){ML(e,n);function e(t,i){var r=n.call(this)||this;return r.cellCtrl=t,r.beans=i,r.column=t.getColumn(),r.rowNode=t.getRowNode(),r.setupColSpan(),r.setupRowSpan(),r}return e.prototype.setupRowSpan=function(){this.rowSpan=this.column.getRowSpan(this.rowNode)},e.prototype.setComp=function(t){this.eGui=t,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},e.prototype.onDisplayColumnsChanged=function(){var t=this.getColSpanningList();ln(this.colsSpanning,t)||(this.colsSpanning=t,this.onWidthChanged(),this.onLeftChanged())},e.prototype.setupColSpan=function(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,C.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,C.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},e.prototype.onWidthChanged=function(){if(this.eGui){var t=this.getCellWidth();this.eGui.style.width=t+"px"}},e.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce(function(t,i){return t+i.getActualWidth()},0):this.column.getActualWidth()},e.prototype.getColSpanningList=function(){var t=this.column.getColSpan(this.rowNode),i=[];if(t===1)i.push(this.column);else for(var r=this.column,o=this.column.getPinned(),s=0;r&&s<t&&(i.push(r),r=this.beans.columnModel.getDisplayedColAfter(r),!(!r||pt(r)||o!==r.getPinned()));s++);return i},e.prototype.onLeftChanged=function(){if(this.eGui){var t=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=t+"px"}},e.prototype.getCellLeft=function(){var t;return this.beans.gridOptionsService.is("enableRtl")&&this.colsSpanning?t=Vt(this.colsSpanning):t=this.column,t.getLeft()},e.prototype.modifyLeftForPrintLayout=function(t){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()==="left")return t;var i=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(this.column.getPinned()==="right"){var r=this.beans.columnModel.getBodyContainerWidth();return i+r+(t||0)}return i+(t||0)},e.prototype.applyRowSpan=function(){if(this.rowSpan!==1){var t=this.beans.gridOptionsService.getRowHeightAsNumber(),i=t*this.rowSpan;this.eGui.style.height=i+"px",this.eGui.style.zIndex="1"}},e.prototype.destroy=function(){n.prototype.destroy.call(this)},e}(j),IL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),NL=function(n){IL(e,n);function e(t,i){var r=n.call(this)||this;return r.staticClasses=[],r.cellCtrl=t,r.beans=i,r.column=t.getColumn(),r.rowNode=t.getRowNode(),r}return e.prototype.setComp=function(t){this.cellComp=t,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},e.prototype.applyCellClassRules=function(){var t=this,i=this.column.getColDef(),r={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:i,column:this.column,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.beans.stylingService.processClassRules(i.cellClassRules,r,function(o){return t.cellComp.addOrRemoveCssClass(o,!0)},function(o){return t.cellComp.addOrRemoveCssClass(o,!1)})},e.prototype.applyUserStyles=function(){var t=this.column.getColDef();if(t.cellStyle){var i;if(typeof t.cellStyle=="function"){var r={column:this.column,value:this.cellCtrl.getValue(),colDef:t,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context},o=t.cellStyle;i=o(r)}else i=t.cellStyle;i&&this.cellComp.setUserStyles(i)}},e.prototype.applyClassesFromColDef=function(){var t=this,i=this.column.getColDef(),r={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:i,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.staticClasses.length&&this.staticClasses.forEach(function(o){return t.cellComp.addOrRemoveCssClass(o,!1)}),this.staticClasses=this.beans.stylingService.getStaticCellClasses(i,r),this.staticClasses.length&&this.staticClasses.forEach(function(o){return t.cellComp.addOrRemoveCssClass(o,!0)})},e.prototype.destroy=function(){n.prototype.destroy.call(this)},e}(j),GL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Cf=function(n){GL(e,n);function e(t,i){var r=n.call(this)||this;return r.ctrl=t,r.beans=i,r}return e.prototype.setComp=function(t){this.eGui=t,this.setupTooltip()},e.prototype.setBrowserTooltip=function(t){var i="title";t!=null&&t!=""?this.eGui.setAttribute(i,t):this.eGui.removeAttribute(i)},e.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsService.is("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?this.setBrowserTooltip(this.tooltip):this.createTooltipFeatureIfNeeded()},e.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue()},e.prototype.createTooltipFeatureIfNeeded=function(){var t=this,i,r,o,s;if(this.genericTooltipFeature==null){var a={getTooltipParams:function(){return t.getTooltipParams()},getGui:function(){return t.ctrl.getGui()}};this.genericTooltipFeature=this.createManagedBean(new df(a,(r=(i=this.ctrl).getTooltipShowDelayOverride)===null||r===void 0?void 0:r.call(i),(s=(o=this.ctrl).getTooltipHideDelayOverride)===null||s===void 0?void 0:s.call(o)),this.beans.context)}},e.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.setBrowserTooltip(this.tooltip)},e.prototype.getTooltipParams=function(){var t=this,i=this.ctrl,r=i.getColumn?i.getColumn():void 0,o=i.getColDef?i.getColDef():void 0,s=i.getRowNode?i.getRowNode():void 0;return{location:i.getLocation(),colDef:o,column:r,rowIndex:i.getRowIndex?i.getRowIndex():void 0,node:s,data:s?s.data:void 0,value:this.getTooltipText(),valueFormatted:i.getValueFormatted?i.getValueFormatted():void 0,hideTooltipCallback:function(){return t.genericTooltipFeature.hideTooltip(!0)}}},e.prototype.getTooltipText=function(){return this.tooltip},e.prototype.destroy=function(){n.prototype.destroy.call(this)},e}(j),mt=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},QS=function(){function n(){}return n.prototype.postConstruct=function(){this.doingMasterDetail=this.gridOptionsService.is("masterDetail"),this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.gridOptionsService.isRowModelType("serverSide")&&(this.serverSideRowModel=this.rowModel)},mt([y("resizeObserverService")],n.prototype,"resizeObserverService",void 0),mt([y("paginationProxy")],n.prototype,"paginationProxy",void 0),mt([y("context")],n.prototype,"context",void 0),mt([y("columnApi")],n.prototype,"columnApi",void 0),mt([y("gridApi")],n.prototype,"gridApi",void 0),mt([y("gridOptionsService")],n.prototype,"gridOptionsService",void 0),mt([y("expressionService")],n.prototype,"expressionService",void 0),mt([y("environment")],n.prototype,"environment",void 0),mt([y("rowRenderer")],n.prototype,"rowRenderer",void 0),mt([y("templateService")],n.prototype,"templateService",void 0),mt([y("valueService")],n.prototype,"valueService",void 0),mt([y("eventService")],n.prototype,"eventService",void 0),mt([y("columnModel")],n.prototype,"columnModel",void 0),mt([y("headerNavigationService")],n.prototype,"headerNavigationService",void 0),mt([y("navigationService")],n.prototype,"navigationService",void 0),mt([y("columnAnimationService")],n.prototype,"columnAnimationService",void 0),mt([At("rangeService")],n.prototype,"rangeService",void 0),mt([y("focusService")],n.prototype,"focusService",void 0),mt([At("contextMenuFactory")],n.prototype,"contextMenuFactory",void 0),mt([y("popupService")],n.prototype,"popupService",void 0),mt([y("valueFormatterService")],n.prototype,"valueFormatterService",void 0),mt([y("stylingService")],n.prototype,"stylingService",void 0),mt([y("columnHoverService")],n.prototype,"columnHoverService",void 0),mt([y("userComponentFactory")],n.prototype,"userComponentFactory",void 0),mt([y("userComponentRegistry")],n.prototype,"userComponentRegistry",void 0),mt([y("animationFrameService")],n.prototype,"animationFrameService",void 0),mt([y("dragService")],n.prototype,"dragService",void 0),mt([y("dragAndDropService")],n.prototype,"dragAndDropService",void 0),mt([y("sortController")],n.prototype,"sortController",void 0),mt([y("filterManager")],n.prototype,"filterManager",void 0),mt([y("rowContainerHeightService")],n.prototype,"rowContainerHeightService",void 0),mt([y("frameworkOverrides")],n.prototype,"frameworkOverrides",void 0),mt([y("cellPositionUtils")],n.prototype,"cellPositionUtils",void 0),mt([y("rowPositionUtils")],n.prototype,"rowPositionUtils",void 0),mt([y("selectionService")],n.prototype,"selectionService",void 0),mt([At("selectionHandleFactory")],n.prototype,"selectionHandleFactory",void 0),mt([y("rowCssClassCalculator")],n.prototype,"rowCssClassCalculator",void 0),mt([y("rowModel")],n.prototype,"rowModel",void 0),mt([y("ctrlsService")],n.prototype,"ctrlsService",void 0),mt([y("ctrlsFactory")],n.prototype,"ctrlsFactory",void 0),mt([y("agStackComponentsRegistry")],n.prototype,"agStackComponentsRegistry",void 0),mt([y("valueCache")],n.prototype,"valueCache",void 0),mt([y("rowNodeEventThrottle")],n.prototype,"rowNodeEventThrottle",void 0),mt([y("localeService")],n.prototype,"localeService",void 0),mt([y("valueParserService")],n.prototype,"valueParserService",void 0),mt([U],n.prototype,"postConstruct",null),n=mt([Z("beans")],n),n}(),HL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),VL=function(n){HL(e,n);function e(t,i,r){var o=n.call(this)||this;return o.cellCtrl=t,o.beans=i,o.column=r,o}return e.prototype.onMouseEvent=function(t,i){if(!Ui(i))switch(t){case"click":this.onCellClicked(i);break;case"mousedown":case"touchstart":this.onMouseDown(i);break;case"dblclick":this.onCellDoubleClicked(i);break;case"mouseout":this.onMouseOut(i);break;case"mouseover":this.onMouseOver(i);break}},e.prototype.onCellClicked=function(t){if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(t),t.preventDefault();return}var i=this.beans,r=i.eventService,o=i.rangeService,s=i.gridOptionsService,a=t.ctrlKey||t.metaKey;o&&a&&o.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&o.intersectLastRange(!0);var l=this.cellCtrl.createEvent(t,C.EVENT_CELL_CLICKED);r.dispatchEvent(l);var u=this.column.getColDef();u.onCellClicked&&window.setTimeout(function(){return u.onCellClicked(l)},0);var c=(s.is("singleClickEdit")||u.singleClickEdit)&&!s.is("suppressClickEdit");c&&!(t.shiftKey&&(o==null?void 0:o.getCellRanges().length)!=0)&&this.cellCtrl.startRowOrCellEdit()},e.prototype.isDoubleClickOnIPad=function(){if(!wn()||Bh("dblclick"))return!1;var t=new Date().getTime(),i=t-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=t,i},e.prototype.onCellDoubleClicked=function(t){var i=this.column.getColDef(),r=this.cellCtrl.createEvent(t,C.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(r),typeof i.onCellDoubleClicked=="function"&&window.setTimeout(function(){return i.onCellDoubleClicked(r)},0);var o=!this.beans.gridOptionsService.is("singleClickEdit")&&!this.beans.gridOptionsService.is("suppressClickEdit");o&&this.cellCtrl.startRowOrCellEdit(null,t)},e.prototype.onMouseDown=function(t){var i=t.ctrlKey,r=t.metaKey,o=t.shiftKey,s=t.target,a=this,l=a.cellCtrl,u=a.beans,c=u.eventService,d=u.rangeService,p=u.focusService;if(!this.isRightClickInExistingRange(t)){var h=d&&d.getCellRanges().length!=0;if(!o||!h){var f=Ai()&&!l.isEditing()&&!tf(s);l.focusCell(f)}if(o&&h&&!p.isCellFocused(l.getCellPosition())){t.preventDefault();var g=p.getFocusedCell();if(g){var v=g.column,m=g.rowIndex,w=g.rowPinned,b=u.rowRenderer.getRowByPosition({rowIndex:m,rowPinned:w}),E=b==null?void 0:b.getCellCtrl(v);E!=null&&E.isEditing()&&E.stopEditing(),p.setFocusedCell({column:v,rowIndex:m,rowPinned:w,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(s)){if(d){var O=this.cellCtrl.getCellPosition();if(o)d.extendLatestRangeToCell(O);else{var P=i||r;d.setRangeToCell(O,P)}}c.dispatchEvent(this.cellCtrl.createEvent(t,C.EVENT_CELL_MOUSE_DOWN))}}},e.prototype.isRightClickInExistingRange=function(t){var i=this.beans.rangeService;if(i){var r=i.isCellInAnyRange(this.cellCtrl.getCellPosition()),o=t.button===2||t.ctrlKey&&this.beans.gridOptionsService.is("allowContextMenuWithControlKey");if(r&&o)return!0}return!1},e.prototype.containsWidget=function(t){return Qn(t,"ag-selection-checkbox",3)},e.prototype.onMouseOut=function(t){if(!this.mouseStayingInsideCell(t)){var i=this.cellCtrl.createEvent(t,C.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(i),this.beans.columnHoverService.clearMouseOver()}},e.prototype.onMouseOver=function(t){if(!this.mouseStayingInsideCell(t)){var i=this.cellCtrl.createEvent(t,C.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(i),this.beans.columnHoverService.setMouseOver([this.column])}},e.prototype.mouseStayingInsideCell=function(t){if(!t.target||!t.relatedTarget)return!1;var i=this.cellCtrl.getGui(),r=i.contains(t.target),o=i.contains(t.relatedTarget);return r&&o},e.prototype.destroy=function(){},e}(QS),kL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),BL=function(n){kL(e,n);function e(t,i,r,o,s){var a=n.call(this)||this;return a.cellCtrl=t,a.beans=i,a.rowNode=o,a.rowCtrl=s,a}return e.prototype.setComp=function(t){this.eGui=t},e.prototype.onKeyDown=function(t){var i=t.key;switch(i){case A.ENTER:this.onEnterKeyDown(t);break;case A.F2:this.onF2KeyDown(t);break;case A.ESCAPE:this.onEscapeKeyDown(t);break;case A.TAB:this.onTabKeyDown(t);break;case A.BACKSPACE:case A.DELETE:this.onBackspaceOrDeleteKeyDown(i,t);break;case A.DOWN:case A.UP:case A.RIGHT:case A.LEFT:this.onNavigationKeyDown(t,i);break}},e.prototype.onNavigationKeyDown=function(t,i){this.cellCtrl.isEditing()||(t.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(t):this.beans.navigationService.navigateToNextCell(t,i,this.cellCtrl.getCellPosition(),!0),t.preventDefault())},e.prototype.onShiftRangeSelect=function(t){if(this.beans.rangeService){var i=this.beans.rangeService.extendLatestRangeInDirection(t);i&&this.beans.navigationService.ensureCellVisible(i)}},e.prototype.onTabKeyDown=function(t){this.beans.navigationService.onTabKeyDown(this.cellCtrl,t)},e.prototype.onBackspaceOrDeleteKeyDown=function(t,i){var r=this,o=r.cellCtrl,s=r.beans,a=r.rowNode,l=s.gridOptionsService,u=s.rangeService,c=s.eventService;o.isEditing()||(c.dispatchEvent({type:C.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),ES(t,l.is("enableCellEditingOnBackspace"))?u&&l.is("enableRangeSelection")?u.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"}):o.isCellEditable()&&a.setDataValue(o.getColumn(),null,"cellClear"):o.startRowOrCellEdit(t,i),c.dispatchEvent({type:C.EVENT_KEY_SHORTCUT_CHANGED_CELL_END}))},e.prototype.onEnterKeyDown=function(t){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,t.shiftKey);else if(this.beans.gridOptionsService.is("enterNavigatesVertically")){var i=t.shiftKey?A.UP:A.DOWN;this.beans.navigationService.navigateToNextCell(null,i,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(A.ENTER,t),this.cellCtrl.isEditing()&&t.preventDefault()},e.prototype.onF2KeyDown=function(t){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(A.F2,t)},e.prototype.onEscapeKeyDown=function(t){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},e.prototype.processCharacter=function(t){var i=t.target,r=i!==this.eGui;if(!(r||this.cellCtrl.isEditing())){var o=t.key;o===" "?this.onSpaceKeyDown(t):(this.cellCtrl.startRowOrCellEdit(o,t),t.preventDefault())}},e.prototype.onSpaceKeyDown=function(t){var i=this.beans.gridOptionsService;if(!this.cellCtrl.isEditing()&&i.isRowSelection()){var r=this.rowNode.isSelected(),o=!r;if(o||!i.is("suppressRowDeselection")){var s=this.beans.gridOptionsService.is("groupSelectsFiltered"),a=this.rowNode.setSelectedParams({newValue:o,rangeSelect:t.shiftKey,groupSelectsFiltered:s,event:t,source:"spaceKey"});r===void 0&&a===0&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:t.shiftKey,groupSelectsFiltered:s,event:t,source:"spaceKey"})}}t.preventDefault()},e.prototype.destroy=function(){n.prototype.destroy.call(this)},e}(j),jL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),WL=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},UL=function(n){jL(e,n);function e(t,i,r){var o=n.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return o.rowNode=t,o.column=i,o.eCell=r,o}return e.prototype.postConstruct=function(){var t=this.getGui();t.appendChild(ae("rowDrag",this.gridOptionsService,null)),this.addGuiEventListener("mousedown",function(i){i.stopPropagation()}),this.addDragSource(),this.checkVisibility()},e.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},e.prototype.onDragStart=function(t){var i=this,r=this.column.getColDef().dndSourceOnRowDrag;t.dataTransfer.setDragImage(this.eCell,0,0);var o=function(){try{var a=JSON.stringify(i.rowNode.data);t.dataTransfer.setData("application/json",a),t.dataTransfer.setData("text/plain",a)}catch{}};if(r){var s={rowNode:this.rowNode,dragEvent:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};r(s)}else o()},e.prototype.checkVisibility=function(){var t=this.column.isDndSource(this.rowNode);this.setDisplayed(t)},WL([U],e.prototype,"postConstruct",null),e}(wt),zL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Gu=function(){return Gu=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Gu.apply(this,arguments)},$L="ag-cell",KL="ag-cell-auto-height",YL="ag-cell-normal-height",qL="ag-cell-focus",XL="ag-cell-first-right-pinned",QL="ag-cell-last-left-pinned",JL="ag-cell-not-inline-editing",ZL="ag-column-hover",tI="ag-cell-wrap-text",eI=0,Zn=function(n){zL(e,n);function e(t,i,r,o){var s=n.call(this)||this;s.cellRangeFeature=null,s.cellPositionFeature=null,s.cellCustomStyleFeature=null,s.tooltipFeature=null,s.cellMouseListenerFeature=null,s.cellKeyboardListenerFeature=null,s.suppressRefreshCell=!1,s.onCellCompAttachedFuncs=[],s.column=t,s.rowNode=i,s.beans=r,s.rowCtrl=o,s.instanceId=t.getId()+"-"+eI++;var a=s.column.getColDef();return s.colIdSanitised=pe(s.column.getId()),s.beans.gridOptionsService.is("suppressCellFocus")||(s.tabIndex=-1),s.isCellRenderer=a.cellRenderer!=null||a.cellRendererSelector!=null,s.createCellPosition(),s.addFeatures(),s.updateAndFormatValue(!0),s}return e.prototype.shouldRestoreFocus=function(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)},e.prototype.addFeatures=function(){var t=this;this.cellPositionFeature=new LL(this,this.beans),this.addDestroyFunc(function(){var r;(r=t.cellPositionFeature)===null||r===void 0||r.destroy(),t.cellPositionFeature=null}),this.cellCustomStyleFeature=new NL(this,this.beans),this.addDestroyFunc(function(){var r;(r=t.cellCustomStyleFeature)===null||r===void 0||r.destroy(),t.cellCustomStyleFeature=null}),this.cellMouseListenerFeature=new VL(this,this.beans,this.column),this.addDestroyFunc(function(){var r;(r=t.cellMouseListenerFeature)===null||r===void 0||r.destroy(),t.cellMouseListenerFeature=null}),this.cellKeyboardListenerFeature=new BL(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(function(){var r;(r=t.cellKeyboardListenerFeature)===null||r===void 0||r.destroy(),t.cellKeyboardListenerFeature=null});var i=this.beans.rangeService&&this.beans.gridOptionsService.is("enableRangeSelection");i&&(this.cellRangeFeature=new FL(this.beans,this),this.addDestroyFunc(function(){var r;(r=t.cellRangeFeature)===null||r===void 0||r.destroy(),t.cellRangeFeature=null})),this.column.isTooltipEnabled()&&this.addTooltipFeature()},e.prototype.addTooltipFeature=function(){var t=this,i=function(){var o=t.column.getColDef(),s=t.rowNode.data;if(o.tooltipField&&N(s))return ko(s,o.tooltipField,t.column.isTooltipFieldContainsDots());var a=o.tooltipValueGetter;return a?a({location:"cell",api:t.beans.gridOptionsService.api,columnApi:t.beans.gridOptionsService.columnApi,context:t.beans.gridOptionsService.context,colDef:t.column.getColDef(),column:t.column,rowIndex:t.cellPosition.rowIndex,node:t.rowNode,data:t.rowNode.data,value:t.value,valueFormatted:t.valueFormatted}):null},r={getColumn:function(){return t.column},getColDef:function(){return t.column.getColDef()},getRowIndex:function(){return t.cellPosition.rowIndex},getRowNode:function(){return t.rowNode},getGui:function(){return t.getGui()},getLocation:function(){return"cell"},getTooltipValue:i,getValueFormatted:function(){return t.valueFormatted}};this.tooltipFeature=new Cf(r,this.beans),this.addDestroyFunc(function(){var o;(o=t.tooltipFeature)===null||o===void 0||o.destroy(),t.tooltipFeature=null})},e.prototype.setComp=function(t,i,r,o,s){var a,l,u,c;this.cellComp=t,this.eGui=i,this.printLayout=o,this.addDomData(),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),r&&this.setupAutoHeight(r),this.setAriaColIndex(),(a=this.cellPositionFeature)===null||a===void 0||a.setComp(i),(l=this.cellCustomStyleFeature)===null||l===void 0||l.setComp(t),(u=this.tooltipFeature)===null||u===void 0||u.setComp(i),(c=this.cellKeyboardListenerFeature)===null||c===void 0||c.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(t,i),s&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(function(d){return d()}),this.onCellCompAttachedFuncs=[])},e.prototype.setupAutoHeight=function(t){var i=this;if(this.column.isAutoHeight()){var r=t.parentElement,o=this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height,s=function(u){if(!i.editing&&i.isAlive()){var c=Sn(r),d=c.paddingTop,p=c.paddingBottom,h=c.borderBottomWidth,f=c.borderTopWidth,g=d+p+h+f,v=t.offsetHeight,m=v+g;if(u<5){var w=i.beans.gridOptionsService.getDocument(),b=!w||!w.contains(t),E=m==0;if(b||E){i.beans.frameworkOverrides.setTimeout(function(){return s(u+1)},0);return}}var O=Math.max(m,o);i.rowNode.setRowAutoHeight(O,i.column)}},a=function(){return s(0)};a();var l=this.beans.resizeObserverService.observeResize(t,a);this.addDestroyFunc(function(){l(),i.rowNode.setRowAutoHeight(void 0,i.column)})}},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.getIncludeSelection=function(){return this.includeSelection},e.prototype.getIncludeRowDrag=function(){return this.includeRowDrag},e.prototype.getIncludeDndSource=function(){return this.includeDndSource},e.prototype.getColumnIdSanitised=function(){return this.colIdSanitised},e.prototype.getTabIndex=function(){return this.tabIndex},e.prototype.getIsCellRenderer=function(){return this.isCellRenderer},e.prototype.getValueToDisplay=function(){return this.valueFormatted!=null?this.valueFormatted:this.value},e.prototype.showValue=function(t){t===void 0&&(t=!1);var i=this.getValueToDisplay(),r;if(this.isCellRenderer){var o=this.createCellRendererParams();r=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),o)}this.cellComp.setRenderDetails(r,i,t),this.refreshHandle()},e.prototype.setupControlComps=function(){var t=this.column.getColDef();this.includeSelection=this.isIncludeControl(t.checkboxSelection),this.includeRowDrag=this.isIncludeControl(t.rowDrag),this.includeDndSource=this.isIncludeControl(t.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)},e.prototype.isForceWrapper=function(){var t=this.beans.gridOptionsService.is("enableCellTextSelection")||this.column.isAutoHeight();return t},e.prototype.isIncludeControl=function(t){var i=this.rowNode.rowPinned!=null,r=typeof t=="function",o=i?!1:r||t===!0;return o},e.prototype.refreshShouldDestroy=function(){var t=this.column.getColDef(),i=this.includeSelection!=this.isIncludeControl(t.checkboxSelection),r=this.includeRowDrag!=this.isIncludeControl(t.rowDrag),o=this.includeDndSource!=this.isIncludeControl(t.dndSource);return i||r||o},e.prototype.startEditing=function(t,i,r){var o=this;if(t===void 0&&(t=null),i===void 0&&(i=!1),r===void 0&&(r=null),!(!this.isCellEditable()||this.editing)){if(!this.cellComp){this.onCellCompAttachedFuncs.push(function(){o.startEditing(t,i,r)});return}var s=this.createCellEditorParams(t,i),a=this.column.getColDef(),l=this.beans.userComponentFactory.getCellEditorDetails(a,s),u=(l==null?void 0:l.popupFromSelector)!=null?l.popupFromSelector:!!a.cellEditorPopup,c=(l==null?void 0:l.popupPositionFromSelector)!=null?l.popupPositionFromSelector:a.cellEditorPopupPosition;this.setEditing(!0),this.cellComp.setEditDetails(l,u,c);var d=this.createEvent(r,C.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(d)}},e.prototype.setEditing=function(t){this.editing!==t&&(this.editing=t,this.refreshHandle())},e.prototype.stopRowOrCellEdit=function(t){t===void 0&&(t=!1),this.beans.gridOptionsService.get("editType")==="fullRow"?this.rowCtrl.stopRowEditing(t):this.stopEditing(t)},e.prototype.onPopupEditorClosed=function(){this.isEditing()&&this.stopEditingAndFocus()},e.prototype.takeValueFromCellEditor=function(t){var i={newValueExists:!1};if(t)return i;var r=this.cellComp.getCellEditor();if(!r)return i;var o=r.isCancelAfterEnd&&r.isCancelAfterEnd();if(o)return i;var s=r.getValue();return{newValue:s,newValueExists:!0}},e.prototype.saveNewValue=function(t,i){if(i===t)return!1;this.suppressRefreshCell=!0;var r=this.rowNode.setDataValue(this.column,i,"edit");return this.suppressRefreshCell=!1,r},e.prototype.stopEditing=function(t){if(t===void 0&&(t=!1),!this.editing)return!1;var i=this.takeValueFromCellEditor(t),r=i.newValue,o=i.newValueExists,s=this.rowNode.getValueFromValueService(this.column),a=!1;return o&&(a=this.saveNewValue(s,r)),this.setEditing(!1),this.cellComp.setEditDetails(),this.updateAndFormatValue(),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(s,r,!t&&!!a),a},e.prototype.dispatchEditingStoppedEvent=function(t,i,r){var o=Gu(Gu({},this.createEvent(null,C.EVENT_CELL_EDITING_STOPPED)),{oldValue:t,newValue:i,valueChanged:r});this.beans.eventService.dispatchEvent(o)},e.prototype.createCellEditorParams=function(t,i){return{value:this.rowNode.getValueFromValueService(this.column),eventKey:t,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsService.api,cellStartedEdit:i,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)}},e.prototype.createCellRendererParams=function(){var t=this,i={value:this.value,valueFormatted:this.valueFormatted,getValue:function(){return t.rowNode.getValueFromValueService(t.column)},setValue:function(r){return t.beans.valueService.setValue(t.rowNode,t.column,r)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(r,o,s,a){return t.registerRowDragger(r,o,a)}};return i},e.prototype.parseValue=function(t){return this.beans.valueParserService.parseValue(this.column,this.rowNode,t,this.getValue())},e.prototype.setFocusOutOnEditor=function(){if(this.editing){var t=this.cellComp.getCellEditor();t&&t.focusOut&&t.focusOut()}},e.prototype.setFocusInOnEditor=function(){if(this.editing){var t=this.cellComp.getCellEditor();t&&t.focusIn?t.focusIn():this.focusCell(!0)}},e.prototype.onCellChanged=function(t){if(this.cellComp){var i=t.column===this.column;i&&this.refreshCell({})}},e.prototype.refreshCell=function(t){var i,r,o;if(!(this.suppressRefreshCell||this.editing)&&this.cellComp){var s=this.column.getColDef(),a=t!=null&&!!t.newData,l=t!=null&&!!t.suppressFlash||!!s.suppressCellFlash,u=s.field==null&&s.valueGetter==null&&s.showRowGroup==null,c=t&&t.forceRefresh||u||a,d=this.updateAndFormatValue(),p=c||d;if(p){this.showValue(a);var h=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering(),f=!l&&!h&&(this.beans.gridOptionsService.is("enableCellChangeFlash")||s.enableCellChangeFlash);f&&this.flashCell(),(i=this.cellCustomStyleFeature)===null||i===void 0||i.applyUserStyles(),(r=this.cellCustomStyleFeature)===null||r===void 0||r.applyClassesFromColDef()}this.refreshToolTip(),(o=this.cellCustomStyleFeature)===null||o===void 0||o.applyCellClassRules()}},e.prototype.stopEditingAndFocus=function(t,i){t===void 0&&(t=!1),i===void 0&&(i=!1),this.stopRowOrCellEdit(),this.focusCell(!0),t||this.navigateAfterEdit(i)},e.prototype.navigateAfterEdit=function(t){var i=this.beans.gridOptionsService.is("enterNavigatesVerticallyAfterEdit");if(i){var r=t?A.UP:A.DOWN;this.beans.navigationService.navigateToNextCell(null,r,this.getCellPosition(),!1)}},e.prototype.flashCell=function(t){var i=t&&t.flashDelay,r=t&&t.fadeDelay;this.animateCell("data-changed",i,r)},e.prototype.animateCell=function(t,i,r){var o=this,s,a;if(this.cellComp){var l="ag-cell-"+t,u="ag-cell-"+t+"-animation",c=this.beans.gridOptionsService;i||(i=(s=c.getNum("cellFlashDelay"))!==null&&s!==void 0?s:500),N(r)||(r=(a=c.getNum("cellFadeDelay"))!==null&&a!==void 0?a:1e3),this.cellComp.addOrRemoveCssClass(l,!0),this.cellComp.addOrRemoveCssClass(u,!1),window.setTimeout(function(){o.isAlive()&&(o.cellComp.addOrRemoveCssClass(l,!1),o.cellComp.addOrRemoveCssClass(u,!0),o.eGui.style.transition="background-color "+r+"ms",window.setTimeout(function(){o.isAlive()&&(o.cellComp.addOrRemoveCssClass(u,!1),o.eGui.style.transition="")},r))},i)}},e.prototype.onFlashCells=function(t){if(this.cellComp){var i=this.beans.cellPositionUtils.createId(this.getCellPosition()),r=t.cells[i];r&&this.animateCell("highlight")}},e.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},e.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},e.prototype.formatValue=function(t){var i;return(i=this.callValueFormatter(t))!==null&&i!==void 0?i:t},e.prototype.callValueFormatter=function(t){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,t)},e.prototype.updateAndFormatValue=function(t){t===void 0&&(t=!1);var i=this.value,r=this.valueFormatted;this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value);var o=t?!0:!this.valuesAreEqual(i,this.value)||this.valueFormatted!=r;return o},e.prototype.valuesAreEqual=function(t,i){var r=this.column.getColDef();return r.equals?r.equals(t,i):t===i},e.prototype.getComp=function(){return this.cellComp},e.prototype.getValue=function(){return this.value},e.prototype.getValueFormatted=function(){return this.valueFormatted},e.prototype.addDomData=function(){var t=this,i=this.getGui();this.beans.gridOptionsService.setDomData(i,e.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(function(){return t.beans.gridOptionsService.setDomData(i,e.DOM_DATA_KEY_CELL_CTRL,null)})},e.prototype.createEvent=function(t,i){var r={type:i,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:t,rowIndex:this.rowNode.rowIndex};return r},e.prototype.processCharacter=function(t){var i;(i=this.cellKeyboardListenerFeature)===null||i===void 0||i.processCharacter(t)},e.prototype.onKeyDown=function(t){var i;(i=this.cellKeyboardListenerFeature)===null||i===void 0||i.onKeyDown(t)},e.prototype.onMouseEvent=function(t,i){var r;(r=this.cellMouseListenerFeature)===null||r===void 0||r.onMouseEvent(t,i)},e.prototype.getGui=function(){return this.eGui},e.prototype.refreshToolTip=function(){var t;(t=this.tooltipFeature)===null||t===void 0||t.refreshToolTip()},e.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},e.prototype.onLeftChanged=function(){var t;this.cellComp&&((t=this.cellPositionFeature)===null||t===void 0||t.onLeftChanged())},e.prototype.onDisplayedColumnsChanged=function(){this.eGui&&this.setAriaColIndex()},e.prototype.setAriaColIndex=function(){var t=this.beans.columnModel.getAriaColumnIndex(this.column);Yh(this.getGui(),t)},e.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},e.prototype.onWidthChanged=function(){var t;return(t=this.cellPositionFeature)===null||t===void 0?void 0:t.onWidthChanged()},e.prototype.getColumn=function(){return this.column},e.prototype.getRowNode=function(){return this.rowNode},e.prototype.getBeans=function(){return this.beans},e.prototype.isPrintLayout=function(){return this.printLayout},e.prototype.appendChild=function(t){this.eGui.appendChild(t)},e.prototype.refreshHandle=function(){this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},e.prototype.getCellPosition=function(){return this.cellPosition},e.prototype.isEditing=function(){return this.editing},e.prototype.startRowOrCellEdit=function(t,i){i===void 0&&(i=null),this.cellComp&&(this.beans.gridOptionsService.get("editType")==="fullRow"?this.rowCtrl.startRowEditing(t,this):this.startEditing(t,!0,i))},e.prototype.getRowCtrl=function(){return this.rowCtrl},e.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},e.prototype.updateRangeBordersIfRangeCount=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},e.prototype.onRangeSelectionChanged=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},e.prototype.isRangeSelectionEnabled=function(){return this.cellRangeFeature!=null},e.prototype.focusCell=function(t){t===void 0&&(t=!1),this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:t})},e.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},e.prototype.onFirstRightPinnedChanged=function(){if(this.cellComp){var t=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(XL,t)}},e.prototype.onLastLeftPinnedChanged=function(){if(this.cellComp){var t=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(QL,t)}},e.prototype.onCellFocused=function(t){if(!this.beans.gridOptionsService.is("suppressCellFocus")){var i=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp){i&&(t!=null&&t.forceBrowserFocus)&&(this.focusEventToRestore=t);return}if(this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass(qL,i),i&&t&&t.forceBrowserFocus){var r=this.cellComp.getFocusableElement();r.focus({preventScroll:!!t.preventScrollOnBrowserFocus})}var o=this.beans.gridOptionsService.get("editType")==="fullRow";!i&&!o&&this.editing&&this.stopRowOrCellEdit()}},e.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:pr(this.rowNode.rowPinned),column:this.column}},e.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass($L,!0),this.cellComp.addOrRemoveCssClass(JL,!0);var t=this.column.isAutoHeight()==!0;this.cellComp.addOrRemoveCssClass(KL,t),this.cellComp.addOrRemoveCssClass(YL,!t)},e.prototype.onColumnHover=function(){if(this.cellComp&&this.beans.gridOptionsService.is("columnHoverHighlight")){var t=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(ZL,t)}},e.prototype.onColDefChanged=function(){this.cellComp&&(this.setWrapText(),this.editing||this.refreshCell({forceRefresh:!0,suppressFlash:!0}))},e.prototype.setWrapText=function(){var t=this.column.getColDef().wrapText==!0;this.cellComp.addOrRemoveCssClass(tI,t)},e.prototype.dispatchCellContextMenuEvent=function(t){var i=this.column.getColDef(),r=this.createEvent(t,C.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(r),i.onCellContextMenu&&window.setTimeout(function(){return i.onCellContextMenu(r)},0)},e.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},e.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},e.prototype.destroy=function(){this.onCellCompAttachedFuncs=[],n.prototype.destroy.call(this)},e.prototype.createSelectionCheckbox=function(){var t=new $S;return this.beans.context.createBean(t),t.init({rowNode:this.rowNode,column:this.column}),t},e.prototype.createDndSource=function(){var t=new UL(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(t),t},e.prototype.registerRowDragger=function(t,i,r){var o=this;if(this.customRowDragComp){this.customRowDragComp.setDragElement(t,i);return}var s=this.createRowDragComp(t,i,r);s&&(this.customRowDragComp=s,this.addDestroyFunc(function(){o.beans.context.destroyBean(s),o.customRowDragComp=null}))},e.prototype.createRowDragComp=function(t,i,r){var o=this,s=this.beans.gridOptionsService.is("pagination"),a=this.beans.gridOptionsService.is("rowDragManaged"),l=this.beans.gridOptionsService.isRowModelType("clientSide");if(a){if(!l){bt(function(){return console.warn("AG Grid: managed row dragging is only allowed in the Client Side Row Model")},"CellComp.addRowDragging");return}if(s){bt(function(){return console.warn("AG Grid: managed row dragging is not possible when doing pagination")},"CellComp.addRowDragging");return}}var u=new Au(function(){return o.value},this.rowNode,this.column,t,i,r);return this.beans.context.createBean(u),u},e.DOM_DATA_KEY_CELL_CTRL="cellCtrl",e}(j),iI=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),rI=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Od=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},Td=function(n,e){for(var t=0,i=e.length,r=n.length;t<i;t++,r++)n[r]=e[t];return n},Qe;(function(n){n.Normal="Normal",n.FullWidth="FullWidth",n.FullWidthLoading="FullWidthLoading",n.FullWidthGroup="FullWidthGroup",n.FullWidthDetail="FullWidthDetail"})(Qe||(Qe={}));var nI=0,to=function(n){iI(e,n);function e(t,i,r,o,s){var a=n.call(this)||this;return a.allRowGuis=[],a.active=!0,a.centerCellCtrls={list:[],map:{}},a.leftCellCtrls={list:[],map:{}},a.rightCellCtrls={list:[],map:{}},a.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},a.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},a.lastMouseDownOnDragger=!1,a.emptyStyle={},a.updateColumnListsPending=!1,a.rowId=null,a.businessKeySanitised=null,a.beans=i,a.gridOptionsService=i.gridOptionsService,a.rowNode=t,a.paginationPage=i.paginationProxy.getCurrentPage(),a.useAnimationFrameForCreate=o,a.printLayout=s,a.instanceId=t.id+"-"+nI++,a.rowId=pe(t.id),a.initRowBusinessKey(),a.rowFocused=i.focusService.isRowFocused(a.rowNode.rowIndex,a.rowNode.rowPinned),a.rowLevel=i.rowCssClassCalculator.calculateRowLevel(a.rowNode),a.setRowType(),a.setAnimateFlags(r),a.rowStyles=a.processStylesFromGridOptions(),a.isFullWidth()&&!a.gridOptionsService.is("suppressCellFocus")&&(a.tabIndex=-1),a.addListeners(),a}return e.prototype.initRowBusinessKey=function(){this.businessKeyForNodeFunc=this.gridOptionsService.get("getBusinessKeyForNode"),this.updateRowBusinessKey()},e.prototype.updateRowBusinessKey=function(){if(typeof this.businessKeyForNodeFunc=="function"){var t=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=pe(t)}},e.prototype.getRowId=function(){return this.rowId},e.prototype.getRowStyles=function(){return this.rowStyles},e.prototype.getTabIndex=function(){return this.tabIndex},e.prototype.isSticky=function(){return this.rowNode.sticky},e.prototype.getBeans=function(){return this.beans},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.setComp=function(t,i,r){var o={rowComp:t,element:i,containerType:r};this.allRowGuis.push(o),r===ye.LEFT?this.leftGui=o:r===ye.RIGHT?this.rightGui=o:r===ye.FULL_WIDTH?this.fullWidthGui=o:this.centerGui=o,this.initialiseRowComp(o),this.rowType!=="FullWidthLoading"&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()},e.prototype.unsetComp=function(t){switch(this.allRowGuis=this.allRowGuis.filter(function(i){return i.containerType!==t}),t){case ye.LEFT:this.leftGui=void 0;break;case ye.RIGHT:this.rightGui=void 0;break;case ye.FULL_WIDTH:this.fullWidthGui=void 0;break;case ye.CENTER:this.centerGui=void 0;break}},e.prototype.isCacheable=function(){return this.rowType===Qe.FullWidthDetail&&this.gridOptionsService.is("keepDetailRows")},e.prototype.setCached=function(t){var i=t?"none":"";this.allRowGuis.forEach(function(r){return r.element.style.display=i})},e.prototype.initialiseRowComp=function(t){var i=this,r=this.gridOptionsService;this.listenOnDomOrder(t),this.onRowHeightChanged(t),this.updateRowIndexes(t),this.setFocusedClasses(t),this.setStylesFromGridOptions(!1,t),r.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(t),this.updateColumnLists(!this.useAnimationFrameForCreate);var o=t.rowComp,s=this.getInitialRowClasses(t.containerType);s.forEach(function(a){return o.addOrRemoveCssClass(a,!0)}),this.executeSlideAndFadeAnimations(t),this.rowNode.group&&ki(t.element,this.rowNode.expanded==!0),this.setRowCompRowId(o),this.setRowCompRowBusinessKey(o),r.setDomData(t.element,e.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc(function(){return r.setDomData(t.element,e.DOM_DATA_KEY_ROW_CTRL,null)}),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,t.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(t.element),this.isFullWidth()&&this.setupFullWidth(t),r.is("rowDragEntireRow")&&this.addRowDraggerToRow(t),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(function(){i.isAlive()&&t.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()},e.prototype.setRowCompRowBusinessKey=function(t){this.businessKeySanitised!=null&&t.setRowBusinessKey(this.businessKeySanitised)},e.prototype.getBusinessKey=function(){return this.businessKeySanitised},e.prototype.setRowCompRowId=function(t){this.rowId=pe(this.rowNode.id),this.rowId!=null&&t.setRowId(this.rowId)},e.prototype.executeSlideAndFadeAnimations=function(t){var i=this,r=t.containerType,o=this.slideInAnimation[r];o&&(Ap(function(){i.onTopChanged()}),this.slideInAnimation[r]=!1);var s=this.fadeInAnimation[r];s&&(Ap(function(){t.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[r]=!1)},e.prototype.addRowDraggerToRow=function(t){if(this.gridOptionsService.is("enableRangeSelection")){bt(function(){console.warn("AG Grid: Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`")},"rowDragAndRangeSelectionEnabled");return}var i=this.beans.localeService.getLocaleTextFunc(),r=new Au(function(){return"1 "+i("rowDragRow","row")},this.rowNode,void 0,t.element,void 0,!0);this.createManagedBean(r,this.beans.context)},e.prototype.setupFullWidth=function(t){var i=this.getPinnedForContainer(t.containerType),r=this.createFullWidthParams(t.element,i);if(!(this.rowType==Qe.FullWidthDetail&&!ft.__assertRegistered(tt.MasterDetailModule,"cell renderer 'agDetailCellRenderer' (for master detail)",this.beans.context.getGridId()))){var o;switch(this.rowType){case Qe.FullWidthDetail:o=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(r);break;case Qe.FullWidthGroup:o=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(r);break;case Qe.FullWidthLoading:o=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(r);break;default:o=this.beans.userComponentFactory.getFullWidthCellRendererDetails(r);break}t.rowComp.showFullWidth(o)}},e.prototype.isPrintLayout=function(){return this.printLayout},e.prototype.getFullWidthCellRenderer=function(){var t,i;return(i=(t=this.fullWidthGui)===null||t===void 0?void 0:t.rowComp)===null||i===void 0?void 0:i.getFullWidthCellRenderer()},e.prototype.getCellElement=function(t){var i=this.getCellCtrl(t);return i?i.getGui():null},e.prototype.executeProcessRowPostCreateFunc=function(){var t=this.gridOptionsService.getCallback("processRowPostCreate");if(!(!t||!this.areAllContainersReady())){var i={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};t(i)}},e.prototype.areAllContainersReady=function(){var t=!!this.leftGui||!this.beans.columnModel.isPinningLeft(),i=!!this.centerGui,r=!!this.rightGui||!this.beans.columnModel.isPinningRight();return t&&i&&r},e.prototype.setRowType=function(){var t=this.rowNode.stub,i=this.rowNode.isFullWidthCell(),r=this.beans.doingMasterDetail&&this.rowNode.detail,o=this.beans.columnModel.isPivotMode(),s=!!this.rowNode.group&&!this.rowNode.footer,a=s&&this.gridOptionsService.isGroupUseEntireRow(o);t?this.rowType=Qe.FullWidthLoading:r?this.rowType=Qe.FullWidthDetail:i?this.rowType=Qe.FullWidth:a?this.rowType=Qe.FullWidthGroup:this.rowType=Qe.Normal},e.prototype.updateColumnLists=function(t,i){var r=this;if(t===void 0&&(t=!1),i===void 0&&(i=!1),!this.isFullWidth()){var o=t||this.gridOptionsService.is("suppressAnimationFrame")||this.printLayout;if(o){this.updateColumnListsImpl(i);return}this.updateColumnListsPending||(this.beans.animationFrameService.createTask(function(){r.active&&r.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}},e.prototype.createCellCtrls=function(t,i,r){var o=this;r===void 0&&(r=null);var s={list:[],map:{}},a=function(l,u){s.list.push(u),s.map[l]=u};return i.forEach(function(l){var u=l.getInstanceId(),c=t.map[u];c||(c=new Zn(l,o.rowNode,o.beans,o)),a(u,c)}),t.list.forEach(function(l){var u=s.map[l.getColumn().getInstanceId()]!=null;if(!u){var c=!o.isCellEligibleToBeRemoved(l,r);if(c){a(l.getColumn().getInstanceId(),l);return}l.destroy()}}),s},e.prototype.updateColumnListsImpl=function(t){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(t)},e.prototype.setCellCtrls=function(t){var i=this;this.allRowGuis.forEach(function(r){var o=i.getCellCtrlsForContainer(r.containerType);r.rowComp.setCellCtrls(o,t)})},e.prototype.getCellCtrlsForContainer=function(t){switch(t){case ye.LEFT:return this.leftCellCtrls.list;case ye.RIGHT:return this.rightCellCtrls.list;case ye.FULL_WIDTH:return[];case ye.CENTER:return this.centerCellCtrls.list;default:var i=t;throw new Error("Unhandled case: "+i)}},e.prototype.createAllCellCtrls=function(){var t=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var i=t.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,i);var r=t.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,r,"left");var o=t.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,o,"right")}},e.prototype.isCellEligibleToBeRemoved=function(t,i){var r=!0,o=!1,s=t.getColumn();if(s.getPinned()!=i)return r;var a=t.isEditing(),l=this.beans.focusService.isCellFocused(t.getCellPosition()),u=a||l;if(u){var c=t.getColumn(),d=this.beans.columnModel.getAllDisplayedColumns(),p=d.indexOf(c)>=0;return p?o:r}return r},e.prototype.getDomOrder=function(){var t=this.gridOptionsService.is("ensureDomOrder");return t||this.gridOptionsService.isDomLayout("print")},e.prototype.listenOnDomOrder=function(t){var i=this,r=function(){t.rowComp.setDomOrder(i.getDomOrder())};this.addManagedPropertyListener("domLayout",r),this.addManagedPropertyListener("ensureDomOrder",r)},e.prototype.setAnimateFlags=function(t){if(!(this.isSticky()||!t)){var i=N(this.rowNode.oldRowTop),r=this.beans.columnModel.isPinningLeft(),o=this.beans.columnModel.isPinningRight();if(i){if(this.isFullWidth()&&!this.gridOptionsService.is("embedFullWidthRows")){this.slideInAnimation.fullWidth=!0;return}this.slideInAnimation.center=!0,this.slideInAnimation.left=r,this.slideInAnimation.right=o}else{if(this.isFullWidth()&&!this.gridOptionsService.is("embedFullWidthRows")){this.fadeInAnimation.fullWidth=!0;return}this.fadeInAnimation.center=!0,this.fadeInAnimation.left=r,this.fadeInAnimation.right=o}}},e.prototype.isEditing=function(){return this.editingRow},e.prototype.stopRowEditing=function(t){this.stopEditing(t)},e.prototype.isFullWidth=function(){return this.rowType!==Qe.Normal},e.prototype.getRowType=function(){return this.rowType},e.prototype.refreshFullWidth=function(){var t=this,i=function(u,c){if(!u)return!0;var d=u.rowComp.getFullWidthCellRenderer();if(!d||!d.refresh)return!1;var p=t.createFullWidthParams(u.element,c),h=d.refresh(p);return h},r=i(this.fullWidthGui,null),o=i(this.centerGui,null),s=i(this.leftGui,"left"),a=i(this.rightGui,"right"),l=r&&o&&s&&a;return l},e.prototype.addListeners=function(){var t=this;this.addManagedListener(this.rowNode,St.EVENT_HEIGHT_CHANGED,function(){return t.onRowHeightChanged()}),this.addManagedListener(this.rowNode,St.EVENT_ROW_SELECTED,function(){return t.onRowSelected()}),this.addManagedListener(this.rowNode,St.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,St.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,St.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,St.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.rowNode.detail&&this.addManagedListener(this.rowNode.parent,St.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,St.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,St.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,St.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,St.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,St.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var i=this.beans.eventService;this.addManagedListener(i,C.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(i,C.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(i,C.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(i,C.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(i,C.EVENT_CELL_FOCUSED,this.onCellFocused.bind(this)),this.addManagedListener(i,C.EVENT_CELL_FOCUS_CLEARED,this.onCellFocusCleared.bind(this)),this.addManagedListener(i,C.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(i,C.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(i,C.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()},e.prototype.onColumnMoved=function(){this.updateColumnLists()},e.prototype.addListenersForCellComps=function(){var t=this;this.addManagedListener(this.rowNode,St.EVENT_ROW_INDEX_CHANGED,function(){t.getAllCellCtrls().forEach(function(i){return i.onRowIndexChanged()})}),this.addManagedListener(this.rowNode,St.EVENT_CELL_CHANGED,function(i){t.getAllCellCtrls().forEach(function(r){return r.onCellChanged(i)})})},e.prototype.onRowNodeDataChanged=function(t){var i=this,r=this.isFullWidth()!==!!this.rowNode.isFullWidthCell();if(r){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){var o=this.refreshFullWidth();o||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(function(s){return s.refreshCell({suppressFlash:!t.update,newData:!t.update})}),this.allRowGuis.forEach(function(s){i.setRowCompRowId(s.rowComp),i.updateRowBusinessKey(),i.setRowCompRowBusinessKey(s.rowComp)}),this.onRowSelected(),this.postProcessCss()},e.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},e.prototype.postProcessCss=function(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},e.prototype.onRowNodeHighlightChanged=function(){var t=this.rowNode.highlighted;this.allRowGuis.forEach(function(i){var r=t===Dr.Above,o=t===Dr.Below;i.rowComp.addOrRemoveCssClass("ag-row-highlight-above",r),i.rowComp.addOrRemoveCssClass("ag-row-highlight-below",o)})},e.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},e.prototype.postProcessRowDragging=function(){var t=this.rowNode.dragging;this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-row-dragging",t)})},e.prototype.updateExpandedCss=function(){var t=this.rowNode.isExpandable(),i=this.rowNode.expanded==!0;this.allRowGuis.forEach(function(r){r.rowComp.addOrRemoveCssClass("ag-row-group",t),r.rowComp.addOrRemoveCssClass("ag-row-group-expanded",t&&i),r.rowComp.addOrRemoveCssClass("ag-row-group-contracted",t&&!i),ki(r.element,t&&i)})},e.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},e.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists(!1,!0)},e.prototype.getRowPosition=function(){return{rowPinned:pr(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}},e.prototype.onKeyboardNavigate=function(t){var i=this.allRowGuis.find(function(u){return u.element.contains(t.target)}),r=i?i.element:null,o=r===t.target;if(o){var s=this.rowNode,a=this.beans.focusService.getFocusedCell(),l={rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:a&&a.column};this.beans.navigationService.navigateToNextCell(t,t.key,l,!0),t.preventDefault()}},e.prototype.onTabKeyDown=function(t){if(!(t.defaultPrevented||Ui(t))){var i=this.allRowGuis.find(function(a){return a.element.contains(t.target)}),r=i?i.element:null,o=r===t.target,s=null;o||(s=this.beans.focusService.findNextFocusableElement(r,!1,t.shiftKey)),(this.isFullWidth()&&o||!s)&&this.beans.navigationService.onTabKeyDown(this,t)}},e.prototype.onFullWidthRowFocused=function(t){var i,r=this.rowNode,o=t?this.isFullWidth()&&t.rowIndex===r.rowIndex&&t.rowPinned==r.rowPinned:!1,s=this.fullWidthGui?this.fullWidthGui.element:(i=this.centerGui)===null||i===void 0?void 0:i.element;s&&(s.classList.toggle("ag-full-width-focus",o),o&&s.focus({preventScroll:!0}))},e.prototype.refreshCell=function(t){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,t),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,t),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,t),this.updateColumnLists()},e.prototype.removeCellCtrl=function(t,i){var r={list:[],map:{}};return t.list.forEach(function(o){o!==i&&(r.list.push(o),r.map[o.getInstanceId()]=o)}),r},e.prototype.onMouseEvent=function(t,i){switch(t){case"dblclick":this.onRowDblClick(i);break;case"click":this.onRowClick(i);break;case"touchstart":case"mousedown":this.onRowMouseDown(i);break}},e.prototype.createRowEvent=function(t,i){return{type:t,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.gridOptionsService.context,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,event:i}},e.prototype.createRowEventWithSource=function(t,i){var r=this.createRowEvent(t,i);return r.source=this,r},e.prototype.onRowDblClick=function(t){if(!Ui(t)){var i=this.createRowEventWithSource(C.EVENT_ROW_DOUBLE_CLICKED,t);this.beans.eventService.dispatchEvent(i)}},e.prototype.onRowMouseDown=function(t){if(this.lastMouseDownOnDragger=Qn(t.target,"ag-row-drag",3),!!this.isFullWidth()){var i=this.rowNode,r=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:i.rowIndex,column:r.getAllDisplayedColumns()[0],rowPinned:i.rowPinned,forceBrowserFocus:!0})}},e.prototype.onRowClick=function(t){var i=Ui(t)||this.lastMouseDownOnDragger;if(!i){var r=this.createRowEventWithSource(C.EVENT_ROW_CLICKED,t);this.beans.eventService.dispatchEvent(r);var o=t.ctrlKey||t.metaKey,s=t.shiftKey,a=this.gridOptionsService.is("groupSelectsChildren");if(!(a&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.gridOptionsService.isRowSelection()||this.gridOptionsService.is("suppressRowClickSelection"))){var l=this.gridOptionsService.is("rowMultiSelectWithClick"),u=!this.gridOptionsService.is("suppressRowDeselection"),c="rowClicked";if(this.rowNode.isSelected())l?this.rowNode.setSelectedParams({newValue:!1,event:t,source:c}):o?u&&this.rowNode.setSelectedParams({newValue:!1,event:t,source:c}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!s,rangeSelect:s,event:t,source:c});else{var d=l?!1:!o;this.rowNode.setSelectedParams({newValue:!0,clearSelection:d,rangeSelect:s,event:t,source:c})}}}},e.prototype.setupDetailRowAutoHeight=function(t){var i=this;if(this.rowType===Qe.FullWidthDetail&&this.gridOptionsService.is("detailRowAutoHeight")){var r=function(){var s=t.clientHeight;if(s!=null&&s>0){var a=function(){i.rowNode.setRowHeight(s),i.beans.clientSideRowModel?i.beans.clientSideRowModel.onRowHeightChanged():i.beans.serverSideRowModel&&i.beans.serverSideRowModel.onRowHeightChanged()};i.beans.frameworkOverrides.setTimeout(a,0)}},o=this.beans.resizeObserverService.observeResize(t,r);this.addDestroyFunc(o),r()}},e.prototype.createFullWidthParams=function(t,i){var r=this,o={fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,eGridCell:t,eParentOfValue:t,pinned:i,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(s,a,l,u){return r.addFullWidthRowDragging(s,a,l,u)}};return o},e.prototype.addFullWidthRowDragging=function(t,i,r,o){if(r===void 0&&(r=""),!!this.isFullWidth()){var s=new Au(function(){return r},this.rowNode,void 0,t,i,o);this.createManagedBean(s,this.beans.context)}},e.prototype.onUiLevelChanged=function(){var t=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=t){var i="ag-row-level-"+t,r="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(function(o){o.rowComp.addOrRemoveCssClass(i,!0),o.rowComp.addOrRemoveCssClass(r,!1)})}this.rowLevel=t},e.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},e.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},e.prototype.onModelUpdated=function(){this.refreshFirstAndLastRowStyles()},e.prototype.refreshFirstAndLastRowStyles=function(){var t=this.isFirstRowOnPage(),i=this.isLastRowOnPage();this.firstRowOnPage!==t&&(this.firstRowOnPage=t,this.allRowGuis.forEach(function(r){return r.rowComp.addOrRemoveCssClass("ag-row-first",t)})),this.lastRowOnPage!==i&&(this.lastRowOnPage=i,this.allRowGuis.forEach(function(r){return r.rowComp.addOrRemoveCssClass("ag-row-last",i)}))},e.prototype.stopEditing=function(t){var i,r;if(t===void 0&&(t=!1),!this.stoppingRowEdit){var o=this.getAllCellCtrls(),s=this.editingRow;this.stoppingRowEdit=!0;var a=!1;try{for(var l=rI(o),u=l.next();!u.done;u=l.next()){var c=u.value,d=c.stopEditing(t);s&&!t&&!a&&d&&(a=!0)}}catch(h){i={error:h}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(i)throw i.error}}if(a){var p=this.createRowEvent(C.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(p)}s&&this.setEditingRow(!1),this.stoppingRowEdit=!1}},e.prototype.setInlineEditingCss=function(t){this.allRowGuis.forEach(function(i){i.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t),i.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t)})},e.prototype.setEditingRow=function(t){this.editingRow=t,this.allRowGuis.forEach(function(r){return r.rowComp.addOrRemoveCssClass("ag-row-editing",t)});var i=t?this.createRowEvent(C.EVENT_ROW_EDITING_STARTED):this.createRowEvent(C.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(i)},e.prototype.startRowEditing=function(t,i,r){if(t===void 0&&(t=null),i===void 0&&(i=null),r===void 0&&(r=null),!this.editingRow){var o=this.getAllCellCtrls().reduce(function(s,a){var l=a===i;return l?a.startEditing(t,l,r):a.startEditing(null,l,r),s?!0:a.isEditing()},!1);o&&this.setEditingRow(!0)}},e.prototype.getAllCellCtrls=function(){if(this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0)return this.centerCellCtrls.list;var t=Td(Td(Td([],Od(this.centerCellCtrls.list)),Od(this.leftCellCtrls.list)),Od(this.rightCellCtrls.list));return t},e.prototype.postProcessClassesFromGridOptions=function(){var t=this,i=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!i||!i.length||i.forEach(function(r){t.allRowGuis.forEach(function(o){return o.rowComp.addOrRemoveCssClass(r,!0)})})},e.prototype.postProcessRowClassRules=function(){var t=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,function(i){t.allRowGuis.forEach(function(r){return r.rowComp.addOrRemoveCssClass(i,!0)})},function(i){t.allRowGuis.forEach(function(r){return r.rowComp.addOrRemoveCssClass(i,!1)})})},e.prototype.setStylesFromGridOptions=function(t,i){var r=this;t&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(i,function(o){return o.rowComp.setUserStyles(r.rowStyles)})},e.prototype.getPinnedForContainer=function(t){var i=t===ye.LEFT?"left":t===ye.RIGHT?"right":null;return i},e.prototype.getInitialRowClasses=function(t){var i=this.getPinnedForContainer(t),r={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[t],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:i};return this.beans.rowCssClassCalculator.getInitialRowClasses(r)},e.prototype.processStylesFromGridOptions=function(){var t=this.gridOptionsService.get("rowStyle");if(t&&typeof t=="function"){console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");return}var i=this.gridOptionsService.getCallback("getRowStyle"),r;if(i){var o={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};r=i(o)}return r||t?Object.assign({},t,r):this.emptyStyle},e.prototype.onRowSelected=function(t){var i=this,r=!!this.rowNode.isSelected();this.forEachGui(t,function(o){o.rowComp.addOrRemoveCssClass("ag-row-selected",r),so(o.element,r?!0:void 0);var s=i.createAriaLabel();Lr(o.element,s??"")})},e.prototype.createAriaLabel=function(){var t=this.rowNode.isSelected();if(!(t&&this.gridOptionsService.is("suppressRowDeselection"))){var i=this.beans.localeService.getLocaleTextFunc(),r=i(t?"ariaRowDeselect":"ariaRowSelect","Press SPACE to "+(t?"deselect":"select")+" this row.");return r}},e.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},e.prototype.addHoverFunctionality=function(t){var i=this;this.active&&(this.addManagedListener(t,"mouseenter",function(){return i.rowNode.onMouseEnter()}),this.addManagedListener(t,"mouseleave",function(){return i.rowNode.onMouseLeave()}),this.addManagedListener(this.rowNode,St.EVENT_MOUSE_ENTER,function(){!i.beans.dragService.isDragging()&&!i.gridOptionsService.is("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),i.rowNode.setHovered(!0))}),this.addManagedListener(this.rowNode,St.EVENT_MOUSE_LEAVE,function(){t.classList.remove("ag-row-hover"),i.rowNode.setHovered(!1)}))},e.prototype.roundRowTopToBounds=function(t){var i=this.beans.ctrlsService.getGridBodyCtrl(),r=i.getScrollFeature().getVScrollPosition(),o=this.applyPaginationOffset(r.top,!0)-100,s=this.applyPaginationOffset(r.bottom,!0)+100;return Math.min(Math.max(o,t),s)},e.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},e.prototype.forEachGui=function(t,i){t?i(t):this.allRowGuis.forEach(i)},e.prototype.onRowHeightChanged=function(t){if(this.rowNode.rowHeight!=null){var i=this.rowNode.rowHeight,r=this.beans.environment.getDefaultRowHeight(),o=this.gridOptionsService.isGetRowHeightFunction(),s=o?this.gridOptionsService.getRowHeightForNode(this.rowNode).height:void 0,a=s?Math.min(r,s)-2+"px":void 0;this.forEachGui(t,function(l){l.element.style.height=i+"px",a&&l.element.style.setProperty("--ag-line-height",a)})}},e.prototype.addEventListener=function(t,i){n.prototype.addEventListener.call(this,t,i)},e.prototype.removeEventListener=function(t,i){n.prototype.removeEventListener.call(this,t,i)},e.prototype.destroyFirstPass=function(){this.active=!1,this.gridOptionsService.isAnimateRows()&&this.setupRemoveAnimation(),this.rowNode.setHovered(!1);var t=this.createRowEvent(C.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(t),this.beans.eventService.dispatchEvent(t),n.prototype.destroy.call(this)},e.prototype.setupRemoveAnimation=function(){if(!this.isSticky()){var t=this.rowNode.rowTop!=null;if(t){var i=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(i)}else this.allRowGuis.forEach(function(r){return r.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)})}},e.prototype.destroySecondPass=function(){this.allRowGuis.length=0;var t=function(i){return i.list.forEach(function(r){return r.destroy()}),{list:[],map:{}}};this.centerCellCtrls=t(this.centerCellCtrls),this.leftCellCtrls=t(this.leftCellCtrls),this.rightCellCtrls=t(this.rightCellCtrls)},e.prototype.setFocusedClasses=function(t){var i=this;this.forEachGui(t,function(r){r.rowComp.addOrRemoveCssClass("ag-row-focus",i.rowFocused),r.rowComp.addOrRemoveCssClass("ag-row-no-focus",!i.rowFocused)})},e.prototype.onCellFocused=function(){this.onCellFocusChanged()},e.prototype.onCellFocusCleared=function(){this.onCellFocusChanged()},e.prototype.onCellFocusChanged=function(){var t=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses()),!t&&this.editingRow&&this.stopEditing(!1)},e.prototype.onPaginationChanged=function(){var t=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==t&&(this.paginationPage=t,this.onTopChanged()),this.refreshFirstAndLastRowStyles()},e.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},e.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},e.prototype.applyPaginationOffset=function(t,i){if(i===void 0&&(i=!1),this.rowNode.isRowPinned()||this.rowNode.sticky)return t;var r=this.beans.paginationProxy.getPixelOffset(),o=i?1:-1;return t+r*o},e.prototype.setRowTop=function(t){if(!this.printLayout&&N(t)){var i=this.applyPaginationOffset(t),r=this.rowNode.isRowPinned()||this.rowNode.sticky,o=r?i:this.beans.rowContainerHeightService.getRealPixelPosition(i),s=o+"px";this.setRowTopStyle(s)}},e.prototype.getInitialRowTop=function(t){var i=this.gridOptionsService.is("suppressRowTransform");return i?this.getInitialRowTopShared(t):void 0},e.prototype.getInitialTransform=function(t){var i=this.gridOptionsService.is("suppressRowTransform");return i?void 0:"translateY("+this.getInitialRowTopShared(t)+")"},e.prototype.getInitialRowTopShared=function(t){if(this.printLayout)return"";var i;if(this.isSticky())i=this.rowNode.stickyRowTop;else{var r=this.slideInAnimation[t]?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,o=this.applyPaginationOffset(r);i=this.rowNode.isRowPinned()?o:this.beans.rowContainerHeightService.getRealPixelPosition(o)}return i+"px"},e.prototype.setRowTopStyle=function(t){var i=this.gridOptionsService.is("suppressRowTransform");this.allRowGuis.forEach(function(r){return i?r.rowComp.setTop(t):r.rowComp.setTransform("translateY("+t+")")})},e.prototype.getRowNode=function(){return this.rowNode},e.prototype.getCellCtrl=function(t){var i=null;return this.getAllCellCtrls().forEach(function(r){r.getColumn()==t&&(i=r)}),i!=null||this.getAllCellCtrls().forEach(function(r){r.getColSpanningList().indexOf(t)>=0&&(i=r)}),i},e.prototype.onRowIndexChanged=function(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())},e.prototype.getRowIndex=function(){return this.rowNode.getRowIndexString()},e.prototype.updateRowIndexes=function(t){var i=this.rowNode.getRowIndexString(),r=this.beans.headerNavigationService.getHeaderRowCount()+this.beans.filterManager.getHeaderRowCount(),o=this.rowNode.rowIndex%2===0,s=r+this.rowNode.rowIndex+1;this.forEachGui(t,function(a){a.rowComp.setRowIndex(i),a.rowComp.addOrRemoveCssClass("ag-row-even",o),a.rowComp.addOrRemoveCssClass("ag-row-odd",!o),Kh(a.element,s)})},e.prototype.getPinnedLeftRowElement=function(){return this.leftGui?this.leftGui.element:void 0},e.prototype.getPinnedRightRowElement=function(){return this.rightGui?this.rightGui.element:void 0},e.prototype.getBodyRowElement=function(){return this.centerGui?this.centerGui.element:void 0},e.prototype.getFullWidthRowElement=function(){return this.fullWidthGui?this.fullWidthGui.element:void 0},e.DOM_DATA_KEY_ROW_CTRL="renderedRow",e}(j),oI=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),li=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},sI=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},aI=function(n){oI(e,n);function e(t){var i=n.call(this)||this;return i.element=t,i}return e.prototype.postConstruct=function(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()},e.prototype.addKeyboardListeners=function(){var t="keydown",i=this.processKeyboardEvent.bind(this,t);this.addManagedListener(this.element,t,i)},e.prototype.addMouseListeners=function(){var t=this,i=Bh("touchstart")?"touchstart":"mousedown",r=["dblclick","contextmenu","mouseover","mouseout","click",i];r.forEach(function(o){var s=t.processMouseEvent.bind(t,o);t.addManagedListener(t.element,o,s)})},e.prototype.processMouseEvent=function(t,i){if(!(!this.mouseEventService.isEventFromThisGrid(i)||Ui(i))){var r=this.getRowForEvent(i),o=this.mouseEventService.getRenderedCellForEvent(i);t==="contextmenu"?this.handleContextMenuMouseEvent(i,null,r,o):(o&&o.onMouseEvent(t,i),r&&r.onMouseEvent(t,i))}},e.prototype.mockContextMenuForIPad=function(){var t=this;if(wn()){var i=new yi(this.element),r=function(o){var s=t.getRowForEvent(o.touchEvent),a=t.mouseEventService.getRenderedCellForEvent(o.touchEvent);t.handleContextMenuMouseEvent(null,o.touchEvent,s,a)};this.addManagedListener(i,yi.EVENT_LONG_TAP,r),this.addDestroyFunc(function(){return i.destroy()})}},e.prototype.getRowForEvent=function(t){for(var i=t.target;i;){var r=this.gridOptionsService.getDomData(i,to.DOM_DATA_KEY_ROW_CTRL);if(r)return r;i=i.parentElement}return null},e.prototype.handleContextMenuMouseEvent=function(t,i,r,o){var s=r?r.getRowNode():null,a=o?o.getColumn():null,l=null;if(a){var u=t||i;o.dispatchCellContextMenuEvent(u),l=this.valueService.getValue(a,s)}var c=this.ctrlsService.getGridBodyCtrl(),d=o?o.getGui():c.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(t,i,s,a,l,d)},e.prototype.getControlsForEventTarget=function(t){return{cellCtrl:bu(this.gridOptionsService,t,Zn.DOM_DATA_KEY_CELL_CTRL),rowCtrl:bu(this.gridOptionsService,t,to.DOM_DATA_KEY_ROW_CTRL)}},e.prototype.processKeyboardEvent=function(t,i){var r=this.getControlsForEventTarget(i.target),o=r.cellCtrl,s=r.rowCtrl;i.defaultPrevented||(o?this.processCellKeyboardEvent(o,t,i):s&&s.isFullWidth()&&this.processFullWidthRowKeyboardEvent(s,t,i))},e.prototype.processCellKeyboardEvent=function(t,i,r){var o=t.getRowNode(),s=t.getColumn(),a=t.isEditing(),l=!Tu(this.gridOptionsService,r,o,s,a);if(l&&i==="keydown"){var u=!a&&this.navigationService.handlePageScrollingKey(r);u||t.onKeyDown(r),this.doGridOperations(r,t.isEditing()),Ec(r)&&t.processCharacter(r)}if(i==="keydown"){var c=t.createEvent(r,C.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(c)}},e.prototype.processFullWidthRowKeyboardEvent=function(t,i,r){var o=t.getRowNode(),s=this.focusService.getFocusedCell(),a=s&&s.column,l=!Tu(this.gridOptionsService,r,o,a,!1);if(l){var u=r.key;if(i==="keydown")switch(u){case A.PAGE_HOME:case A.PAGE_END:case A.PAGE_UP:case A.PAGE_DOWN:this.navigationService.handlePageScrollingKey(r,!0);break;case A.UP:case A.DOWN:t.onKeyboardNavigate(r);break;case A.TAB:t.onTabKeyDown(r);break}}if(i==="keydown"){var c=t.createRowEvent(C.EVENT_CELL_KEY_DOWN,r);this.eventService.dispatchEvent(c)}},e.prototype.doGridOperations=function(t,i){if(!(!t.ctrlKey&&!t.metaKey)&&!i&&this.mouseEventService.isEventFromThisGrid(t)){var r=_S(t);if(r===A.A)return this.onCtrlAndA(t);if(r===A.C)return this.onCtrlAndC(t);if(r===A.D)return this.onCtrlAndD(t);if(r===A.V)return this.onCtrlAndV(t);if(r===A.X)return this.onCtrlAndX(t);if(r===A.Y)return this.onCtrlAndY();if(r===A.Z)return this.onCtrlAndZ(t)}},e.prototype.onCtrlAndA=function(t){var i=this,r=i.pinnedRowModel,o=i.paginationProxy,s=i.rangeService;if(s&&o.isRowsToRender()){var a=sI([r.isEmpty("top"),r.isEmpty("bottom")],2),l=a[0],u=a[1],c=l?null:"top",d=void 0,p=void 0;u?(d=null,p=this.paginationProxy.getRowCount()-1):(d="bottom",p=r.getPinnedBottomRowData().length-1);var h=this.columnModel.getAllDisplayedColumns();if(hi(h))return;s.setCellRange({rowStartIndex:0,rowStartPinned:c,rowEndIndex:p,rowEndPinned:d,columnStart:h[0],columnEnd:Vt(h)})}t.preventDefault()},e.prototype.onCtrlAndC=function(t){if(!(!this.clipboardService||this.gridOptionsService.is("enableCellTextSelection"))){var i=this.getControlsForEventTarget(t.target),r=i.cellCtrl,o=i.rowCtrl;r!=null&&r.isEditing()||o!=null&&o.isEditing()||(t.preventDefault(),this.clipboardService.copyToClipboard())}},e.prototype.onCtrlAndX=function(t){if(!(!this.clipboardService||this.gridOptionsService.is("enableCellTextSelection")||this.gridOptionsService.is("suppressCutToClipboard"))){var i=this.getControlsForEventTarget(t.target),r=i.cellCtrl,o=i.rowCtrl;r!=null&&r.isEditing()||o!=null&&o.isEditing()||(t.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}},e.prototype.onCtrlAndV=function(t){var i=this.getControlsForEventTarget(t.target),r=i.cellCtrl,o=i.rowCtrl;r!=null&&r.isEditing()||o!=null&&o.isEditing()||this.clipboardService&&!this.gridOptionsService.is("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()},e.prototype.onCtrlAndD=function(t){this.clipboardService&&!this.gridOptionsService.is("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),t.preventDefault()},e.prototype.onCtrlAndZ=function(t){this.gridOptionsService.is("undoRedoCellEditing")&&(t.preventDefault(),t.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))},e.prototype.onCtrlAndY=function(){this.undoRedoService.redo("ui")},li([y("mouseEventService")],e.prototype,"mouseEventService",void 0),li([y("valueService")],e.prototype,"valueService",void 0),li([At("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),li([y("ctrlsService")],e.prototype,"ctrlsService",void 0),li([y("navigationService")],e.prototype,"navigationService",void 0),li([y("focusService")],e.prototype,"focusService",void 0),li([y("undoRedoService")],e.prototype,"undoRedoService",void 0),li([y("columnModel")],e.prototype,"columnModel",void 0),li([y("paginationProxy")],e.prototype,"paginationProxy",void 0),li([y("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),li([At("rangeService")],e.prototype,"rangeService",void 0),li([At("clipboardService")],e.prototype,"clipboardService",void 0),li([U],e.prototype,"postConstruct",null),e}(j),lI=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),pl=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},uI=function(n){lI(e,n);function e(t){var i=n.call(this)||this;return i.centerContainerCtrl=t,i}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl(),t.listenForResize()}),this.addManagedListener(this.eventService,C.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))},e.prototype.listenForResize=function(){var t=this,i=function(){return t.onCenterViewportResized()};this.centerContainerCtrl.registerViewportResizeListener(i),this.gridBodyCtrl.registerBodyViewportResizeListener(i)},e.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},e.prototype.onCenterViewportResized=function(){if(this.centerContainerCtrl.isViewportVisible()){this.checkViewportAndScrolls();var t=this.centerContainerCtrl.getCenterWidth();t!==this.centerWidth&&(this.centerWidth=t,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},e.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()},e.prototype.getBodyHeight=function(){return this.bodyHeight},e.prototype.checkBodyHeight=function(){var t=this.gridBodyCtrl.getBodyViewportElement(),i=Ha(t);if(this.bodyHeight!==i){this.bodyHeight=i;var r={type:C.EVENT_BODY_HEIGHT_CHANGED};this.eventService.dispatchEvent(r)}},e.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},e.prototype.updateScrollVisibleServiceImpl=function(){var t={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(t)},e.prototype.isHorizontalScrollShowing=function(){return this.centerContainerCtrl.isHorizontalScrollShowing()},e.prototype.onHorizontalViewportChanged=function(){var t=this.centerContainerCtrl.getCenterWidth(),i=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(t,i)},pl([y("ctrlsService")],e.prototype,"ctrlsService",void 0),pl([y("columnModel")],e.prototype,"columnModel",void 0),pl([y("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),pl([U],e.prototype,"postConstruct",null),e}(j),cI=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),cy=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},dI=function(n){cI(e,n);function e(t){var i=n.call(this)||this;return i.element=t,i}return e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,C.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},e.prototype.onPinnedLeftWidthChanged=function(){var t=this.pinnedWidthService.getPinnedLeftWidth(),i=t>0;Tt(this.element,i),Di(this.element,t)},e.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedLeftWidth()},cy([y("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),cy([U],e.prototype,"postConstruct",null),e}(j),pI=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),dy=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},hI=function(n){pI(e,n);function e(t){var i=n.call(this)||this;return i.element=t,i}return e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,C.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},e.prototype.onPinnedRightWidthChanged=function(){var t=this.pinnedWidthService.getPinnedRightWidth(),i=t>0;Tt(this.element,i),Di(this.element,t)},e.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedRightWidth()},dy([y("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),dy([U],e.prototype,"postConstruct",null),e}(j),fI=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),py=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},JS=function(n){fI(e,n);function e(t,i){var r=n.call(this)||this;return r.eContainer=t,r.eViewport=i,r}return e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,C.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},e.prototype.onHeightChanged=function(){var t=this.maxDivHeightScaler.getUiContainerHeight(),i=t!=null?t+"px":"";this.eContainer.style.height=i,this.eViewport&&(this.eViewport.style.height=i)},py([y("rowContainerHeightService")],e.prototype,"maxDivHeightScaler",void 0),py([U],e.prototype,"postConstruct",null),e}(j),gI=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),xd=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},vI=function(n){gI(e,n);function e(t){var i=n.call(this)||this;return i.eContainer=t,i}return e.prototype.postConstruct=function(){var t=this;if(!(!this.gridOptionsService.is("enableRangeSelection")||pt(this.rangeService))){var i={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)};this.dragService.addDragSource(i),this.addDestroyFunc(function(){return t.dragService.removeDragSource(i)})}},xd([At("rangeService")],e.prototype,"rangeService",void 0),xd([y("dragService")],e.prototype,"dragService",void 0),xd([U],e.prototype,"postConstruct",null),e}(j),yI=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Pd=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},wf=function(n){yI(e,n);function e(t,i){i===void 0&&(i=!1);var r=n.call(this)||this;return r.callback=t,r.addSpacer=i,r}return e.prototype.postConstruct=function(){var t=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",t),this.addManagedListener(this.eventService,C.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,C.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,t),this.addManagedListener(this.eventService,C.EVENT_LEFT_PINNED_WIDTH_CHANGED,t),this.addSpacer&&(this.addManagedListener(this.eventService,C.EVENT_RIGHT_PINNED_WIDTH_CHANGED,t),this.addManagedListener(this.eventService,C.EVENT_SCROLL_VISIBILITY_CHANGED,t),this.addManagedListener(this.eventService,C.EVENT_SCROLLBAR_WIDTH_CHANGED,t)),this.setWidth()},e.prototype.setWidth=function(){var t=this.columnModel,i=this.gridOptionsService.isDomLayout("print"),r=t.getBodyContainerWidth(),o=t.getDisplayedColumnsLeftWidth(),s=t.getDisplayedColumnsRightWidth(),a;if(i)a=r+o+s;else if(a=r,this.addSpacer){var l=this.gridOptionsService.is("enableRtl")?o:s;l===0&&this.scrollVisibleService.isVerticalScrollShowing()&&(a+=this.gridOptionsService.getScrollbarWidth())}this.callback(a)},Pd([y("columnModel")],e.prototype,"columnModel",void 0),Pd([y("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),Pd([U],e.prototype,"postConstruct",null),e}(j),mI=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Wr=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},hl=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},fl=function(n,e){for(var t=0,i=e.length,r=n.length;t<i;t++,r++)n[r]=e[t];return n},L;(function(n){n.LEFT="left",n.RIGHT="right",n.CENTER="center",n.FULL_WIDTH="fullWidth",n.TOP_LEFT="topLeft",n.TOP_RIGHT="topRight",n.TOP_CENTER="topCenter",n.TOP_FULL_WIDTH="topFullWidth",n.STICKY_TOP_LEFT="stickyTopLeft",n.STICKY_TOP_RIGHT="stickyTopRight",n.STICKY_TOP_CENTER="stickyTopCenter",n.STICKY_TOP_FULL_WIDTH="stickyTopFullWidth",n.BOTTOM_LEFT="bottomLeft",n.BOTTOM_RIGHT="bottomRight",n.BOTTOM_CENTER="bottomCenter",n.BOTTOM_FULL_WIDTH="bottomFullWidth"})(L||(L={}));var ye;(function(n){n.LEFT="left",n.RIGHT="right",n.CENTER="center",n.FULL_WIDTH="fullWidth"})(ye||(ye={}));function CI(n){switch(n){case L.CENTER:case L.TOP_CENTER:case L.STICKY_TOP_CENTER:case L.BOTTOM_CENTER:return ye.CENTER;case L.LEFT:case L.TOP_LEFT:case L.STICKY_TOP_LEFT:case L.BOTTOM_LEFT:return ye.LEFT;case L.RIGHT:case L.TOP_RIGHT:case L.STICKY_TOP_RIGHT:case L.BOTTOM_RIGHT:return ye.RIGHT;case L.FULL_WIDTH:case L.TOP_FULL_WIDTH:case L.STICKY_TOP_FULL_WIDTH:case L.BOTTOM_FULL_WIDTH:return ye.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}var wI=nn([[L.CENTER,"ag-center-cols-container"],[L.LEFT,"ag-pinned-left-cols-container"],[L.RIGHT,"ag-pinned-right-cols-container"],[L.FULL_WIDTH,"ag-full-width-container"],[L.TOP_CENTER,"ag-floating-top-container"],[L.TOP_LEFT,"ag-pinned-left-floating-top"],[L.TOP_RIGHT,"ag-pinned-right-floating-top"],[L.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[L.STICKY_TOP_CENTER,"ag-sticky-top-container"],[L.STICKY_TOP_LEFT,"ag-pinned-left-sticky-top"],[L.STICKY_TOP_RIGHT,"ag-pinned-right-sticky-top"],[L.STICKY_TOP_FULL_WIDTH,"ag-sticky-top-full-width-container"],[L.BOTTOM_CENTER,"ag-floating-bottom-container"],[L.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[L.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[L.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),SI=nn([[L.CENTER,"ag-center-cols-viewport"],[L.TOP_CENTER,"ag-floating-top-viewport"],[L.STICKY_TOP_CENTER,"ag-sticky-top-viewport"],[L.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),ZS=function(n){mI(e,n);function e(t){var i=n.call(this)||this;return i.visible=!0,i.EMPTY_CTRLS=[],i.name=t,i.isFullWithContainer=i.name===L.TOP_FULL_WIDTH||i.name===L.STICKY_TOP_FULL_WIDTH||i.name===L.BOTTOM_FULL_WIDTH||i.name===L.FULL_WIDTH,i}return e.getRowContainerCssClasses=function(t){var i=wI.get(t),r=SI.get(t);return{container:i,viewport:r}},e.getPinned=function(t){switch(t){case L.BOTTOM_LEFT:case L.TOP_LEFT:case L.STICKY_TOP_LEFT:case L.LEFT:return"left";case L.BOTTOM_RIGHT:case L.TOP_RIGHT:case L.STICKY_TOP_RIGHT:case L.RIGHT:return"right";default:return null}},e.prototype.postConstruct=function(){var t=this;this.enableRtl=this.gridOptionsService.is("enableRtl"),this.embedFullWidthRows=this.gridOptionsService.is("embedFullWidthRows"),this.forContainers([L.CENTER],function(){return t.viewportSizeFeature=t.createManagedBean(new uI(t))})},e.prototype.registerWithCtrlsService=function(){switch(this.name){case L.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case L.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case L.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case L.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case L.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case L.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case L.STICKY_TOP_CENTER:this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case L.STICKY_TOP_LEFT:this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case L.STICKY_TOP_RIGHT:this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case L.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case L.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case L.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this);break}},e.prototype.forContainers=function(t,i){t.indexOf(this.name)>=0&&i()},e.prototype.getContainerElement=function(){return this.eContainer},e.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},e.prototype.setComp=function(t,i,r){var o=this;this.comp=t,this.eContainer=i,this.eViewport=r,this.createManagedBean(new aI(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var s=[L.TOP_CENTER,L.TOP_LEFT,L.TOP_RIGHT],a=[L.STICKY_TOP_CENTER,L.STICKY_TOP_LEFT,L.STICKY_TOP_RIGHT],l=[L.BOTTOM_CENTER,L.BOTTOM_LEFT,L.BOTTOM_RIGHT],u=[L.CENTER,L.LEFT,L.RIGHT],c=fl(fl(fl(fl([],hl(s)),hl(l)),hl(u)),hl(a)),d=[L.CENTER,L.LEFT,L.RIGHT,L.FULL_WIDTH],p=[L.CENTER,L.TOP_CENTER,L.STICKY_TOP_CENTER,L.BOTTOM_CENTER],h=[L.LEFT,L.BOTTOM_LEFT,L.TOP_LEFT,L.STICKY_TOP_LEFT],f=[L.RIGHT,L.BOTTOM_RIGHT,L.TOP_RIGHT,L.STICKY_TOP_RIGHT];this.forContainers(h,function(){o.pinnedWidthFeature=o.createManagedBean(new dI(o.eContainer)),o.addManagedListener(o.eventService,C.EVENT_LEFT_PINNED_WIDTH_CHANGED,function(){return o.onPinnedWidthChanged()})}),this.forContainers(f,function(){o.pinnedWidthFeature=o.createManagedBean(new hI(o.eContainer)),o.addManagedListener(o.eventService,C.EVENT_RIGHT_PINNED_WIDTH_CHANGED,function(){return o.onPinnedWidthChanged()})}),this.forContainers(d,function(){return o.createManagedBean(new JS(o.eContainer,o.name===L.CENTER?r:void 0))}),this.forContainers(c,function(){return o.createManagedBean(new vI(o.eContainer))}),this.forContainers(p,function(){return o.createManagedBean(new wf(function(g){return o.comp.setContainerWidth(g+"px")}))}),ba()&&(this.forContainers([L.CENTER],function(){var g=o.enableRtl?C.EVENT_LEFT_PINNED_WIDTH_CHANGED:C.EVENT_RIGHT_PINNED_WIDTH_CHANGED;o.addManagedListener(o.eventService,g,function(){return o.refreshPaddingForFakeScrollbar()})}),this.refreshPaddingForFakeScrollbar()),this.addListeners(),this.registerWithCtrlsService()},e.prototype.refreshPaddingForFakeScrollbar=function(){var t=this,i=t.enableRtl,r=t.columnModel,o=t.eContainer,s=i?L.LEFT:L.RIGHT;this.forContainers([L.CENTER,s],function(){var a=r.getContainerWidth(s),l=i?"marginLeft":"marginRight";o.style[l]=a?"16px":"0px"})},e.prototype.addListeners=function(){var t=this;this.addManagedListener(this.eventService,C.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){return t.onDisplayedColumnsChanged()}),this.addManagedListener(this.eventService,C.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){return t.onDisplayedColumnsWidthChanged()}),this.addManagedListener(this.eventService,C.EVENT_DISPLAYED_ROWS_CHANGED,function(i){return t.onDisplayedRowsChanged(i.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()},e.prototype.listenOnDomOrder=function(){var t=this,i=[L.STICKY_TOP_CENTER,L.STICKY_TOP_LEFT,L.STICKY_TOP_RIGHT,L.STICKY_TOP_FULL_WIDTH],r=i.indexOf(this.name)>=0;if(r){this.comp.setDomOrder(!0);return}var o=function(){var s=t.gridOptionsService.is("ensureDomOrder"),a=t.gridOptionsService.isDomLayout("print");t.comp.setDomOrder(s||a)};this.addManagedPropertyListener("domLayout",o),o()},e.prototype.stopHScrollOnPinnedRows=function(){var t=this;this.forContainers([L.TOP_CENTER,L.STICKY_TOP_CENTER,L.BOTTOM_CENTER],function(){var i=function(){return t.eViewport.scrollLeft=0};t.addManagedListener(t.eViewport,"scroll",i)})},e.prototype.onDisplayedColumnsChanged=function(){var t=this;this.forContainers([L.CENTER],function(){return t.onHorizontalViewportChanged()})},e.prototype.onDisplayedColumnsWidthChanged=function(){var t=this;this.forContainers([L.CENTER],function(){return t.onHorizontalViewportChanged()})},e.prototype.addPreventScrollWhileDragging=function(){var t=this,i=function(r){t.dragService.isDragging()&&r.cancelable&&r.preventDefault()};this.eContainer.addEventListener("touchmove",i,{passive:!1}),this.addDestroyFunc(function(){return t.eContainer.removeEventListener("touchmove",i)})},e.prototype.onHorizontalViewportChanged=function(t){t===void 0&&(t=!1);var i=this.getCenterWidth(),r=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(i,r,t)},e.prototype.getCenterWidth=function(){return Sc(this.eViewport)},e.prototype.getCenterViewportScrollLeft=function(){return Ta(this.eViewport,this.enableRtl)},e.prototype.registerViewportResizeListener=function(t){var i=this.resizeObserverService.observeResize(this.eViewport,t);this.addDestroyFunc(function(){return i()})},e.prototype.isViewportVisible=function(){return _n(this.eViewport)},e.prototype.getViewportScrollLeft=function(){return Ta(this.eViewport,this.enableRtl)},e.prototype.isHorizontalScrollShowing=function(){var t=this.gridOptionsService.is("alwaysShowHorizontalScroll");return t||vS(this.eViewport)},e.prototype.getViewportElement=function(){return this.eViewport},e.prototype.setContainerTranslateX=function(t){this.eContainer.style.transform="translateX("+t+"px)"},e.prototype.getHScrollPosition=function(){var t={left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth};return t},e.prototype.setCenterViewportScrollLeft=function(t){xa(this.eViewport,t,this.enableRtl)},e.prototype.isContainerVisible=function(){var t=e.getPinned(this.name);return!t||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0},e.prototype.onPinnedWidthChanged=function(){var t=this.isContainerVisible();this.visible!=t&&(this.visible=t,this.onDisplayedRowsChanged()),ba()&&this.refreshPaddingForFakeScrollbar()},e.prototype.onDisplayedRowsChanged=function(t){var i=this;if(t===void 0&&(t=!1),this.visible){var r=this.gridOptionsService.isDomLayout("print"),o=function(a){var l=a.isFullWidth(),u=i.embedFullWidthRows||r,c=i.isFullWithContainer?!u&&l:u||!l;return c},s=this.getRowCtrls().filter(o);this.comp.setRowCtrls(s,t)}else this.comp.setRowCtrls(this.EMPTY_CTRLS,!1)},e.prototype.getRowCtrls=function(){switch(this.name){case L.TOP_CENTER:case L.TOP_LEFT:case L.TOP_RIGHT:case L.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case L.STICKY_TOP_CENTER:case L.STICKY_TOP_LEFT:case L.STICKY_TOP_RIGHT:case L.STICKY_TOP_FULL_WIDTH:return this.rowRenderer.getStickyTopRowCtrls();case L.BOTTOM_CENTER:case L.BOTTOM_LEFT:case L.BOTTOM_RIGHT:case L.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getCentreRowCtrls()}},Wr([y("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),Wr([y("dragService")],e.prototype,"dragService",void 0),Wr([y("ctrlsService")],e.prototype,"ctrlsService",void 0),Wr([y("columnModel")],e.prototype,"columnModel",void 0),Wr([y("resizeObserverService")],e.prototype,"resizeObserverService",void 0),Wr([y("animationFrameService")],e.prototype,"animationFrameService",void 0),Wr([y("rowRenderer")],e.prototype,"rowRenderer",void 0),Wr([U],e.prototype,"postConstruct",null),e}(j),_I=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),wr=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},EI=`<div class="ag-root ag-unselectable" role="treegrid">
        <ag-header-root ref="gridHeader"></ag-header-root>
        <div class="ag-floating-top" ref="eTop" role="presentation">
            <ag-row-container ref="topLeftContainer" name="`+L.TOP_LEFT+`"></ag-row-container>
            <ag-row-container ref="topCenterContainer" name="`+L.TOP_CENTER+`"></ag-row-container>
            <ag-row-container ref="topRightContainer" name="`+L.TOP_RIGHT+`"></ag-row-container>
            <ag-row-container ref="topFullWidthContainer" name="`+L.TOP_FULL_WIDTH+`"></ag-row-container>
        </div>
        <div class="ag-body" ref="eBody" role="presentation">
            <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">
                <ag-row-container ref="leftContainer" name="`+L.LEFT+`"></ag-row-container>
                <ag-row-container ref="centerContainer" name="`+L.CENTER+`"></ag-row-container>
                <ag-row-container ref="rightContainer" name="`+L.RIGHT+`"></ag-row-container>
                <ag-row-container ref="fullWidthContainer" name="`+L.FULL_WIDTH+`"></ag-row-container>
            </div>
            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>
        </div>
        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">
            <ag-row-container ref="stickyTopLeftContainer" name="`+L.STICKY_TOP_LEFT+`"></ag-row-container>
            <ag-row-container ref="stickyTopCenterContainer" name="`+L.STICKY_TOP_CENTER+`"></ag-row-container>
            <ag-row-container ref="stickyTopRightContainer" name="`+L.STICKY_TOP_RIGHT+`"></ag-row-container>
            <ag-row-container ref="stickyTopFullWidthContainer" name="`+L.STICKY_TOP_FULL_WIDTH+`"></ag-row-container>
        </div>
        <div class="ag-floating-bottom" ref="eBottom" role="presentation">
            <ag-row-container ref="bottomLeftContainer" name="`+L.BOTTOM_LEFT+`"></ag-row-container>
            <ag-row-container ref="bottomCenterContainer" name="`+L.BOTTOM_CENTER+`"></ag-row-container>
            <ag-row-container ref="bottomRightContainer" name="`+L.BOTTOM_RIGHT+`"></ag-row-container>
            <ag-row-container ref="bottomFullWidthContainer" name="`+L.BOTTOM_FULL_WIDTH+`"></ag-row-container>
        </div>
        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>
        <ag-overlay-wrapper></ag-overlay-wrapper>
    </div>`,bI=function(n){_I(e,n);function e(){return n.call(this,EI)||this}return e.prototype.init=function(){var t=this,i=function(o,s){var a=o+"px";s.style.minHeight=a,s.style.height=a},r={setRowAnimationCssOnBodyViewport:function(o,s){return t.setRowAnimationCssOnBodyViewport(o,s)},setColumnCount:function(o){return eS(t.getGui(),o)},setRowCount:function(o){return tS(t.getGui(),o)},setTopHeight:function(o){return i(o,t.eTop)},setBottomHeight:function(o){return i(o,t.eBottom)},setTopDisplay:function(o){return t.eTop.style.display=o},setBottomDisplay:function(o){return t.eBottom.style.display=o},setStickyTopHeight:function(o){return t.eStickyTop.style.height=o},setStickyTopTop:function(o){return t.eStickyTop.style.top=o},setStickyTopWidth:function(o){return t.eStickyTop.style.width=o},setColumnMovingCss:function(o,s){return t.addOrRemoveCssClass(o,s)},updateLayoutClasses:function(o,s){var a=[t.eBodyViewport.classList,t.eBody.classList];a.forEach(function(l){l.toggle(de.AUTO_HEIGHT,s.autoHeight),l.toggle(de.NORMAL,s.normal),l.toggle(de.PRINT,s.print)}),t.addOrRemoveCssClass(de.AUTO_HEIGHT,s.autoHeight),t.addOrRemoveCssClass(de.NORMAL,s.normal),t.addOrRemoveCssClass(de.PRINT,s.print)},setAlwaysVerticalScrollClass:function(o,s){return t.eBodyViewport.classList.toggle(XS,s)},registerBodyViewportResizeListener:function(o){var s=t.resizeObserverService.observeResize(t.eBodyViewport,o);t.addDestroyFunc(function(){return s()})},setPinnedTopBottomOverflowY:function(o){return t.eTop.style.overflowY=t.eBottom.style.overflowY=o},setCellSelectableCss:function(o,s){[t.eTop,t.eBodyViewport,t.eBottom].forEach(function(a){return a.classList.toggle(o,s)})},setBodyViewportWidth:function(o){return t.eBodyViewport.style.width=o}};this.ctrl=this.createManagedBean(new EL),this.ctrl.setComp(r,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService||this.gridOptionsService.get("rowSelection")==="multiple")&&Zw(this.getGui(),!0)},e.prototype.setRowAnimationCssOnBodyViewport=function(t,i){var r=this.eBodyViewport.classList;r.toggle(Xo.ANIMATION_ON,i),r.toggle(Xo.ANIMATION_OFF,!i)},e.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},wr([y("resizeObserverService")],e.prototype,"resizeObserverService",void 0),wr([At("rangeService")],e.prototype,"rangeService",void 0),wr([K("eBodyViewport")],e.prototype,"eBodyViewport",void 0),wr([K("eStickyTop")],e.prototype,"eStickyTop",void 0),wr([K("eTop")],e.prototype,"eTop",void 0),wr([K("eBottom")],e.prototype,"eBottom",void 0),wr([K("gridHeader")],e.prototype,"headerRootComp",void 0),wr([K("eBody")],e.prototype,"eBody",void 0),wr([U],e.prototype,"init",null),e}(wt),RI=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Dd=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},OI=function(n){RI(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,C.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},e.prototype.onDisplayedColumnsChanged=function(){this.update()},e.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},e.prototype.update=function(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)},e.prototype.updateImpl=function(){var t=this.ctrlsService.getCenterRowContainerCtrl();if(t){var i={horizontalScrollShowing:t.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(i)}},e.prototype.setScrollsVisible=function(t){var i=this.horizontalScrollShowing!==t.horizontalScrollShowing||this.verticalScrollShowing!==t.verticalScrollShowing;if(i){this.horizontalScrollShowing=t.horizontalScrollShowing,this.verticalScrollShowing=t.verticalScrollShowing;var r={type:C.EVENT_SCROLL_VISIBILITY_CHANGED};this.eventService.dispatchEvent(r)}},e.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},e.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},Dd([y("ctrlsService")],e.prototype,"ctrlsService",void 0),Dd([U],e.prototype,"postConstruct",null),e=Dd([Z("scrollVisibleService")],e),e}(j),TI=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),hy=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},xI=function(n){TI(e,n);function e(){var i=n!==null&&n.apply(this,arguments)||this;return i.gridInstanceId=t.gridInstanceSequence.next(),i}t=e,e.prototype.stampTopLevelGridCompWithGridInstance=function(i){i[t.GRID_DOM_KEY]=this.gridInstanceId},e.prototype.getRenderedCellForEvent=function(i){return bu(this.gridOptionsService,i.target,Zn.DOM_DATA_KEY_CELL_CTRL)},e.prototype.isEventFromThisGrid=function(i){var r=this.isElementInThisGrid(i.target);return r},e.prototype.isElementInThisGrid=function(i){for(var r=i;r;){var o=r[t.GRID_DOM_KEY];if(N(o)){var s=o===this.gridInstanceId;return s}r=r.parentElement}return!1},e.prototype.getCellPositionForEvent=function(i){var r=this.getRenderedCellForEvent(i);return r?r.getCellPosition():null},e.prototype.getNormalisedPosition=function(i){var r=this.gridOptionsService.isDomLayout("normal"),o=i,s,a;if(o.clientX!=null||o.clientY!=null?(s=o.clientX,a=o.clientY):(s=o.x,a=o.y),r){var l=this.ctrlsService.getGridBodyCtrl(),u=l.getScrollFeature().getVScrollPosition(),c=l.getScrollFeature().getHScrollPosition();s+=c.left,a+=u.top}return{x:s,y:a}};var t;return e.gridInstanceSequence=new Yo,e.GRID_DOM_KEY="__ag_grid_instance",hy([y("ctrlsService")],e.prototype,"ctrlsService",void 0),e=t=hy([Z("mouseEventService")],e),e}(j),PI=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Hu=function(){return Hu=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Hu.apply(this,arguments)},qe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},DI=function(n){PI(e,n);function e(){var t=n.call(this)||this;return t.onPageDown=Fp(t.onPageDown,100),t.onPageUp=Fp(t.onPageUp,100),t}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(i){t.gridBodyCon=i.gridBodyCtrl})},e.prototype.handlePageScrollingKey=function(t,i){i===void 0&&(i=!1);var r=t.key,o=t.altKey,s=t.ctrlKey||t.metaKey,a=!!this.rangeService&&t.shiftKey,l=this.mouseEventService.getCellPositionForEvent(t),u=!1;switch(r){case A.PAGE_HOME:case A.PAGE_END:!s&&!o&&(this.onHomeOrEndKey(r),u=!0);break;case A.LEFT:case A.RIGHT:case A.UP:case A.DOWN:if(!l)return!1;s&&!o&&!a&&(this.onCtrlUpDownLeftRight(r,l),u=!0);break;case A.PAGE_DOWN:case A.PAGE_UP:!s&&!o&&(u=this.handlePageUpDown(r,l,i));break}return u&&t.preventDefault(),u},e.prototype.handlePageUpDown=function(t,i,r){return r&&(i=this.focusService.getFocusedCell()),i?(t===A.PAGE_UP?this.onPageUp(i):this.onPageDown(i),!0):!1},e.prototype.navigateTo=function(t){var i=t.scrollIndex,r=t.scrollType,o=t.scrollColumn,s=t.focusIndex,a=t.focusColumn;if(N(o)&&!o.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(o),N(i)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(i,r),t.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(s),this.focusService.setFocusedCell({rowIndex:s,column:a,rowPinned:null,forceBrowserFocus:!0}),this.rangeService){var l={rowIndex:s,rowPinned:null,column:a};this.rangeService.setRangeToCell(l)}},e.prototype.onPageDown=function(t){var i=this.ctrlsService.getGridBodyCtrl(),r=i.getScrollFeature().getVScrollPosition(),o=this.getViewportHeight(),s=this.paginationProxy.getPixelOffset(),a=r.top+o,l=this.paginationProxy.getRowIndexAtPixel(a+s);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(t,l):this.navigateToNextPage(t,l)},e.prototype.onPageUp=function(t){var i=this.ctrlsService.getGridBodyCtrl(),r=i.getScrollFeature().getVScrollPosition(),o=this.paginationProxy.getPixelOffset(),s=r.top,a=this.paginationProxy.getRowIndexAtPixel(s+o);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(t,a,!0):this.navigateToNextPage(t,a,!0)},e.prototype.navigateToNextPage=function(t,i,r){r===void 0&&(r=!1);var o=this.getViewportHeight(),s=this.paginationProxy.getPageFirstRow(),a=this.paginationProxy.getPageLastRow(),l=this.paginationProxy.getPixelOffset(),u=this.paginationProxy.getRow(t.rowIndex),c=r?(u==null?void 0:u.rowHeight)-o-l:o-l,d=(u==null?void 0:u.rowTop)+c,p=this.paginationProxy.getRowIndexAtPixel(d+l);if(p===t.rowIndex){var h=r?-1:1;i=p=t.rowIndex+h}var f;r?(f="bottom",p<s&&(p=s),i<s&&(i=s)):(f="top",p>a&&(p=a),i>a&&(i=a)),this.isRowTallerThanView(p)&&(i=p,f="top"),this.navigateTo({scrollIndex:i,scrollType:f,scrollColumn:null,focusIndex:p,focusColumn:t.column})},e.prototype.navigateToNextPageWithAutoHeight=function(t,i,r){var o=this;r===void 0&&(r=!1),this.navigateTo({scrollIndex:i,scrollType:r?"bottom":"top",scrollColumn:null,focusIndex:i,focusColumn:t.column}),setTimeout(function(){var s=o.getNextFocusIndexForAutoHeight(t,r);o.navigateTo({scrollIndex:i,scrollType:r?"bottom":"top",scrollColumn:null,focusIndex:s,focusColumn:t.column,isAsync:!0})},50)},e.prototype.getNextFocusIndexForAutoHeight=function(t,i){var r;i===void 0&&(i=!1);for(var o=i?-1:1,s=this.getViewportHeight(),a=this.paginationProxy.getPageLastRow(),l=0,u=t.rowIndex;u>=0&&u<=a;){var c=this.paginationProxy.getRow(u);if(c){var d=(r=c.rowHeight)!==null&&r!==void 0?r:0;if(l+d>s)break;l+=d}u+=o}return Math.max(0,Math.min(u,a))},e.prototype.getViewportHeight=function(){var t=this.ctrlsService.getGridBodyCtrl(),i=t.getScrollFeature().getVScrollPosition(),r=this.gridOptionsService.getScrollbarWidth(),o=i.bottom-i.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(o-=r),o},e.prototype.isRowTallerThanView=function(t){var i=this.paginationProxy.getRow(t);if(!i)return!1;var r=i.rowHeight;return typeof r!="number"?!1:r>this.getViewportHeight()},e.prototype.onCtrlUpDownLeftRight=function(t,i){var r=this.cellNavigationService.getNextCellToFocus(t,i,!0),o=r.rowIndex,s=r.column;this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:s,focusIndex:o,focusColumn:s})},e.prototype.onHomeOrEndKey=function(t){var i=t===A.PAGE_HOME,r=this.columnModel.getAllDisplayedColumns(),o=i?r[0]:Vt(r),s=i?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:s,scrollType:null,scrollColumn:o,focusIndex:s,focusColumn:o})},e.prototype.onTabKeyDown=function(t,i){var r=i.shiftKey,o=this.tabToNextCellCommon(t,r,i);if(o){i.preventDefault();return}if(r){var s=t.getRowPosition(),a=s.rowIndex,l=s.rowPinned,u=l?a===0:a===this.paginationProxy.getPageFirstRow();u&&(this.gridOptionsService.getNum("headerHeight")===0?this.focusService.focusNextGridCoreContainer(!0,!0):(i.preventDefault(),this.focusService.focusPreviousFromFirstCell(i)))}else t instanceof Zn&&t.focusCell(!0),this.focusService.focusNextGridCoreContainer(r)&&i.preventDefault()},e.prototype.tabToNextCell=function(t,i){var r=this.focusService.getFocusedCell();if(!r)return!1;var o=this.getCellByPosition(r);return!o&&(o=this.rowRenderer.getRowByPosition(r),!o||!o.isFullWidth())?!1:this.tabToNextCellCommon(o,t,i)},e.prototype.tabToNextCellCommon=function(t,i,r){var o=t.isEditing();if(!o&&t instanceof Zn){var s=t,a=s.getRowCtrl();a&&(o=a.isEditing())}var l;return o?this.gridOptionsService.get("editType")==="fullRow"?l=this.moveToNextEditingRow(t,i,r):l=this.moveToNextEditingCell(t,i,r):l=this.moveToNextCellNotEditing(t,i),l||!!this.focusService.getFocusedHeader()},e.prototype.moveToNextEditingCell=function(t,i,r){r===void 0&&(r=null);var o=t.getCellPosition();t.getGui().focus(),t.stopEditing();var s=this.findNextCellToFocusOn(o,i,!0);return s==null?!1:(s.startEditing(null,!0,r),s.focusCell(!1),!0)},e.prototype.moveToNextEditingRow=function(t,i,r){r===void 0&&(r=null);var o=t.getCellPosition(),s=this.findNextCellToFocusOn(o,i,!0);if(s==null)return!1;var a=s.getCellPosition(),l=this.isCellEditable(o),u=this.isCellEditable(a),c=a&&o.rowIndex===a.rowIndex&&o.rowPinned===a.rowPinned;if(l&&t.setFocusOutOnEditor(),!c){var d=t.getRowCtrl();d.stopEditing();var p=s.getRowCtrl();p.startRowEditing(void 0,void 0,r)}return u?(s.setFocusInOnEditor(),s.focusCell()):s.focusCell(!0),!0},e.prototype.moveToNextCellNotEditing=function(t,i){var r=this.columnModel.getAllDisplayedColumns(),o;t instanceof to?o=Hu(Hu({},t.getRowPosition()),{column:i?r[0]:Vt(r)}):o=t.getCellPosition();var s=this.findNextCellToFocusOn(o,i,!1);if(s instanceof Zn)s.focusCell(!0);else if(s)return this.tryToFocusFullWidthRow(s.getRowPosition(),i);return N(s)},e.prototype.findNextCellToFocusOn=function(t,i,r){for(var o=t;;){t!==o&&(t=o),i||(o=this.getLastCellOfColSpan(o)),o=this.cellNavigationService.getNextTabbedCell(o,i);var s=this.gridOptionsService.getCallback("tabToNextCell");if(N(s)){var a={backwards:i,editing:r,previousCellPosition:t,nextCellPosition:o||null},l=s(a);N(l)?(l.floating&&(bt(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),l.rowPinned=l.floating),o={rowIndex:l.rowIndex,column:l.column,rowPinned:l.rowPinned}):o=null}if(!o)return null;if(o.rowIndex<0){var u=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:u+o.rowIndex,column:o.column},fromCell:!0}),null}var c=this.gridOptionsService.get("editType")==="fullRow";if(r&&!c){var d=this.isCellEditable(o);if(!d)continue}this.ensureCellVisible(o);var p=this.getCellByPosition(o);if(!p){var h=this.rowRenderer.getRowByPosition(o);if(!h||!h.isFullWidth()||r)continue;return h}if(!p.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(o),p}},e.prototype.isCellEditable=function(t){var i=this.lookupRowNodeForCell(t);return i?t.column.isCellEditable(i):!1},e.prototype.getCellByPosition=function(t){var i=this.rowRenderer.getRowByPosition(t);return i?i.getCellCtrl(t.column):null},e.prototype.lookupRowNodeForCell=function(t){return t.rowPinned==="top"?this.pinnedRowModel.getPinnedTopRow(t.rowIndex):t.rowPinned==="bottom"?this.pinnedRowModel.getPinnedBottomRow(t.rowIndex):this.paginationProxy.getRow(t.rowIndex)},e.prototype.navigateToNextCell=function(t,i,r,o){for(var s=r,a=!1;s&&(s===r||!this.isValidNavigateCell(s));)this.gridOptionsService.is("enableRtl")?i===A.LEFT&&(s=this.getLastCellOfColSpan(s)):i===A.RIGHT&&(s=this.getLastCellOfColSpan(s)),s=this.cellNavigationService.getNextCellToFocus(i,s),a=pt(s);if(a&&t&&t.key===A.UP&&(s={rowIndex:-1,rowPinned:null,column:r.column}),o){var l=this.gridOptionsService.getCallback("navigateToNextCell");if(N(l)){var u={key:i,previousCellPosition:r,nextCellPosition:s||null,event:t},c=l(u);N(c)?(c.floating&&(bt(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),c.rowPinned=c.floating),s={rowPinned:c.rowPinned,rowIndex:c.rowIndex,column:c.column}):s=null}}if(s){if(s.rowIndex<0){var d=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:d+s.rowIndex,column:r.column},event:t||void 0,fromCell:!0});return}var p=this.getNormalisedPosition(s);p?this.focusPosition(p):this.tryToFocusFullWidthRow(s)}},e.prototype.getNormalisedPosition=function(t){this.ensureCellVisible(t);var i=this.getCellByPosition(t);return i?(t=i.getCellPosition(),this.ensureCellVisible(t),t):null},e.prototype.tryToFocusFullWidthRow=function(t,i){i===void 0&&(i=!1);var r=this.columnModel.getAllDisplayedColumns(),o=this.rowRenderer.getRowByPosition(t);if(!o||!o.isFullWidth())return!1;var s=this.focusService.getFocusedCell(),a={rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:t.column||(i?Vt(r):r[0])};this.focusPosition(a);var l=s!=null?this.rowPositionUtils.before(a,s):!1,u={type:C.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:a.rowIndex,rowPinned:a.rowPinned,column:a.column,isFullWidthCell:!0,floating:a.rowPinned,fromBelow:l};return this.eventService.dispatchEvent(u),!0},e.prototype.focusPosition=function(t){this.focusService.setFocusedCell({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(t)},e.prototype.isValidNavigateCell=function(t){var i=this.rowPositionUtils.getRowNode(t);return!!i},e.prototype.getLastCellOfColSpan=function(t){var i=this.getCellByPosition(t);if(!i)return t;var r=i.getColSpanningList();return r.length===1?t:{rowIndex:t.rowIndex,column:Vt(r),rowPinned:t.rowPinned}},e.prototype.ensureCellVisible=function(t){var i=this.gridOptionsService.isGroupRowsSticky(),r=this.rowModel.getRow(t.rowIndex),o=i&&(r==null?void 0:r.sticky);!o&&pt(t.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t.rowIndex),t.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(t.column)},qe([y("mouseEventService")],e.prototype,"mouseEventService",void 0),qe([y("paginationProxy")],e.prototype,"paginationProxy",void 0),qe([y("focusService")],e.prototype,"focusService",void 0),qe([At("rangeService")],e.prototype,"rangeService",void 0),qe([y("columnModel")],e.prototype,"columnModel",void 0),qe([y("rowModel")],e.prototype,"rowModel",void 0),qe([y("ctrlsService")],e.prototype,"ctrlsService",void 0),qe([y("rowRenderer")],e.prototype,"rowRenderer",void 0),qe([y("headerNavigationService")],e.prototype,"headerNavigationService",void 0),qe([y("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),qe([y("cellNavigationService")],e.prototype,"cellNavigationService",void 0),qe([y("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),qe([U],e.prototype,"postConstruct",null),e=qe([Z("navigationService")],e),e}(j),AI=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),FI=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},MI=function(n){AI(e,n);function e(t){var i=n.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return i.params=t,i}return e.prototype.postConstruct=function(){this.gridOptionsService.setDomData(this.getGui(),e.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},e.prototype.addKeyDownListener=function(){var t=this,i=this.getGui(),r=this.params,o=function(s){Tu(t.gridOptionsService,s,r.node,r.column,!0)||r.onKeyDown(s)};this.addManagedListener(i,"keydown",o)},e.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",FI([U],e.prototype,"postConstruct",null),e}(fo),LI=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),II=function(n){LI(e,n);function e(t,i,r,o,s){var a=n.call(this)||this;a.rendererVersion=0,a.editorVersion=0,a.beans=t,a.column=i.getColumn(),a.rowNode=i.getRowNode(),a.rowCtrl=i.getRowCtrl(),a.eRow=o,a.cellCtrl=i,a.setTemplate('<div comp-id="'+a.getCompId()+'"/>');var l=a.getGui();a.forceWrapper=i.isForceWrapper(),a.refreshWrapper(!1);var u=function(p,h){h!=null&&h!=""?l.setAttribute(p,h):l.removeAttribute(p)};Ce(l,"gridcell"),u("col-id",i.getColumnIdSanitised());var c=i.getTabIndex();c!==void 0&&u("tabindex",c.toString());var d={addOrRemoveCssClass:function(p,h){return a.addOrRemoveCssClass(p,h)},setUserStyles:function(p){return sf(l,p)},getFocusableElement:function(){return a.getFocusableElement()},setIncludeSelection:function(p){return a.includeSelection=p},setIncludeRowDrag:function(p){return a.includeRowDrag=p},setIncludeDndSource:function(p){return a.includeDndSource=p},setRenderDetails:function(p,h,f){return a.setRenderDetails(p,h,f)},setEditDetails:function(p,h,f){return a.setEditDetails(p,h,f)},getCellEditor:function(){return a.cellEditor||null},getCellRenderer:function(){return a.cellRenderer||null},getParentOfValue:function(){return a.getParentOfValue()}};return i.setComp(d,a.getGui(),a.eCellWrapper,r,s),a}return e.prototype.getParentOfValue=function(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()},e.prototype.setRenderDetails=function(t,i,r){var o=this.cellEditor&&!this.cellEditorPopupWrapper;if(!o){this.firstRender=this.firstRender==null;var s=this.refreshWrapper(!1);if(this.refreshEditStyles(!1),t){var a=r||s,l=a?!1:this.refreshCellRenderer(t);l||(this.destroyRenderer(),this.createCellRendererInstance(t))}else this.destroyRenderer(),this.insertValueWithoutCellRenderer(i)}},e.prototype.setEditDetails=function(t,i,r){t?this.createCellEditorInstance(t,i,r):this.destroyEditor()},e.prototype.removeControls=function(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},e.prototype.refreshWrapper=function(t){var i=this.includeRowDrag||this.includeDndSource||this.includeSelection,r=i||this.forceWrapper,o=r&&this.eCellWrapper==null;o&&(this.eCellWrapper=Pe('<div class="ag-cell-wrapper" role="presentation"></div>'),this.getGui().appendChild(this.eCellWrapper));var s=!r&&this.eCellWrapper!=null;s&&(Pr(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!r);var a=!t&&r,l=a&&this.eCellValue==null;l&&(this.eCellValue=Pe('<span class="ag-cell-value" role="presentation"></span>'),this.eCellWrapper.appendChild(this.eCellValue));var u=!a&&this.eCellValue!=null;u&&(Pr(this.eCellValue),this.eCellValue=void 0);var c=o||s||l||u;return c&&this.removeControls(),t||i&&this.addControls(),c},e.prototype.addControls=function(){this.includeRowDrag&&this.rowDraggingComp==null&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&this.dndSourceComp==null&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&this.checkboxSelectionComp==null&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))},e.prototype.createCellEditorInstance=function(t,i,r){var o=this,s=this.editorVersion,a=t.newAgStackInstance();if(a){var l=t.params;a.then(function(c){return o.afterCellEditorCreated(s,c,l,i,r)});var u=pt(this.cellEditor);u&&l.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},e.prototype.insertValueWithoutCellRenderer=function(t){var i=this.getParentOfValue();Ve(i);var r=t!=null?pe(t):null;r!=null&&(i.innerHTML=r)},e.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},e.prototype.destroyRenderer=function(){var t=this.beans.context;this.cellRenderer=t.destroyBean(this.cellRenderer),Pr(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},e.prototype.destroyEditor=function(){var t=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=t.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=t.destroyBean(this.cellEditorPopupWrapper),Pr(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},e.prototype.refreshCellRenderer=function(t){if(this.cellRenderer==null||this.cellRenderer.refresh==null||this.cellRendererClass!==t.componentClass)return!1;var i=this.cellRenderer.refresh(t.params);return i===!0||i===void 0},e.prototype.createCellRendererInstance=function(t){var i=this,r=this.beans.gridOptionsService.is("suppressAnimationFrame"),o=!r,s=this.rendererVersion,a=t.componentClass,l=function(){var u=i.rendererVersion!==s||!i.isAlive();if(!u){var c=t.newAgStackInstance(),d=i.afterCellRendererCreated.bind(i,s,a);c&&c.then(d)}};o&&this.firstRender?this.beans.animationFrameService.createTask(l,this.rowNode.rowIndex,"createTasksP2"):l()},e.prototype.getCtrl=function(){return this.cellCtrl},e.prototype.getRowCtrl=function(){return this.rowCtrl},e.prototype.getCellRenderer=function(){return this.cellRenderer},e.prototype.getCellEditor=function(){return this.cellEditor},e.prototype.afterCellRendererCreated=function(t,i,r){var o=!this.isAlive()||t!==this.rendererVersion;if(o){this.beans.context.destroyBean(r);return}if(this.cellRenderer=r,this.cellRendererClass=i,this.cellRendererGui=this.cellRenderer.getGui(),this.cellRendererGui!=null){var s=this.getParentOfValue();Ve(s),s.appendChild(this.cellRendererGui)}},e.prototype.afterCellEditorCreated=function(t,i,r,o,s){var a=t!==this.editorVersion;if(a){this.beans.context.destroyBean(i);return}var l=i.isCancelBeforeStart&&i.isCancelBeforeStart();if(l){this.beans.context.destroyBean(i),this.cellCtrl.stopEditing(!0);return}if(!i.getGui){console.warn("AG Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method"),this.beans.context.destroyBean(i);return}this.cellEditor=i,this.cellEditorGui=i.getGui();var u=o||i.isPopup!==void 0&&i.isPopup();u?this.addPopupCellEditor(r,s):this.addInCellEditor(),this.refreshEditStyles(!0,u),i.afterGuiAttached&&i.afterGuiAttached()},e.prototype.refreshEditStyles=function(t,i){var r;this.addOrRemoveCssClass("ag-cell-inline-editing",t&&!i),this.addOrRemoveCssClass("ag-cell-popup-editing",t&&!!i),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!t||!!i),(r=this.rowCtrl)===null||r===void 0||r.setInlineEditingCss(t)},e.prototype.addInCellEditor=function(){var t=this.getGui(),i=this.beans.gridOptionsService.getDocument();if(t.contains(i.activeElement)&&t.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui){var r=this.getParentOfValue();r.appendChild(this.cellEditorGui)}},e.prototype.addPopupCellEditor=function(t,i){var r=this;this.beans.gridOptionsService.get("editType")==="fullRow"&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var o=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new MI(t));var s=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&s.appendChild(this.cellEditorGui);var a=this.beans.popupService,l=this.beans.gridOptionsService.is("stopEditingWhenCellsLoseFocus"),u=i??(o.getPopupPosition?o.getPopupPosition():"over"),c=this.beans.gridOptionsService.is("enableRtl"),d={ePopup:s,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:u,alignSide:c?"right":"left",keepWithinBounds:!0},p=a.positionPopupByComponent.bind(a,d),h=this.beans.localeService.getLocaleTextFunc(),f=a.addPopup({modal:l,eChild:s,closeOnEsc:!0,closedCallback:function(){r.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:p,ariaLabel:h("ariaLabelCellEditor","Cell Editor")});f&&(this.hideEditorPopup=f.hideFunc)},e.prototype.detach=function(){this.eRow.removeChild(this.getGui())},e.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),n.prototype.destroy.call(this)},e.prototype.clearParentOfValue=function(){var t=this.getGui(),i=this.beans.gridOptionsService.getDocument();t.contains(i.activeElement)&&wc()&&t.focus({preventScroll:!0}),Ve(this.getParentOfValue())},e}(wt),NI=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),GI=function(n){NI(e,n);function e(t,i,r){var o=n.call(this)||this;o.cellComps={},o.beans=i,o.rowCtrl=t,o.setTemplate('<div comp-id="'+o.getCompId()+'" style="'+o.getInitialStyle(r)+'"/>');var s=o.getGui(),a=s.style;o.domOrder=o.rowCtrl.getDomOrder(),Ce(s,"row");var l=o.rowCtrl.getTabIndex();l!=null&&s.setAttribute("tabindex",l.toString());var u={setDomOrder:function(c){return o.domOrder=c},setCellCtrls:function(c){return o.setCellCtrls(c)},showFullWidth:function(c){return o.showFullWidth(c)},getFullWidthCellRenderer:function(){return o.getFullWidthCellRenderer()},addOrRemoveCssClass:function(c,d){return o.addOrRemoveCssClass(c,d)},setUserStyles:function(c){return sf(s,c)},setTop:function(c){return a.top=c},setTransform:function(c){return a.transform=c},setRowIndex:function(c){return s.setAttribute("row-index",c)},setRowId:function(c){return s.setAttribute("row-id",c)},setRowBusinessKey:function(c){return s.setAttribute("row-business-key",c)}};return t.setComp(u,o.getGui(),r),o.addDestroyFunc(function(){t.unsetComp(r)}),o}return e.prototype.getInitialStyle=function(t){var i=this.rowCtrl.getInitialTransform(t),r=this.rowCtrl.getInitialRowTop(t);return i?"transform: "+i:"top: "+r},e.prototype.showFullWidth=function(t){var i=this,r=function(s){if(i.isAlive()){var a=s.getGui();i.getGui().appendChild(a),i.rowCtrl.setupDetailRowAutoHeight(a),i.setFullWidthRowComp(s)}else i.beans.context.destroyBean(s)},o=t.newAgStackInstance();o&&o.then(r)},e.prototype.setCellCtrls=function(t){var i=this,r=Object.assign({},this.cellComps);t.forEach(function(s){var a=s.getInstanceId(),l=i.cellComps[a];l==null?i.newCellComp(s):r[a]=null});var o=fr(r).filter(function(s){return s!=null});this.destroyCells(o),this.ensureDomOrder(t)},e.prototype.ensureDomOrder=function(t){var i=this;if(this.domOrder){var r=[];t.forEach(function(o){var s=i.cellComps[o.getInstanceId()];s&&r.push(s.getGui())}),of(this.getGui(),r)}},e.prototype.newCellComp=function(t){var i=new II(this.beans,t,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[t.getInstanceId()]=i,this.getGui().appendChild(i.getGui())},e.prototype.destroy=function(){n.prototype.destroy.call(this),this.destroyAllCells()},e.prototype.destroyAllCells=function(){var t=fr(this.cellComps).filter(function(i){return i!=null});this.destroyCells(t)},e.prototype.setFullWidthRowComp=function(t){var i=this;this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=t,this.addDestroyFunc(function(){i.fullWidthCellRenderer=i.beans.context.destroyBean(i.fullWidthCellRenderer)})},e.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},e.prototype.destroyCells=function(t){var i=this;t.forEach(function(r){if(r){var o=r.getCtrl().getInstanceId();i.cellComps[o]===r&&(r.detach(),r.destroy(),i.cellComps[o]=null)}})},e}(wt),HI=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Yp=function(){return Yp=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Yp.apply(this,arguments)},Ss=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o};function VI(){var n=wt.elementGettingCreated.getAttribute("name"),e=ZS.getRowContainerCssClasses(n),t,i=n===L.CENTER||n===L.TOP_CENTER||n===L.STICKY_TOP_CENTER||n===L.BOTTOM_CENTER;return i?t='<div class="'+e.viewport+`" ref="eViewport" role="presentation">
                <div class="`+e.container+`" ref="eContainer"></div>
            </div>`:t='<div class="'+e.container+'" ref="eContainer"></div>',t}var kI=function(n){HI(e,n);function e(){var t=n.call(this,VI())||this;return t.rowComps={},t.name=wt.elementGettingCreated.getAttribute("name"),t.type=CI(t.name),t}return e.prototype.postConstruct=function(){var t=this,i={setViewportHeight:function(o){return t.eViewport.style.height=o},setRowCtrls:function(o){return t.setRowCtrls(o)},setDomOrder:function(o){t.domOrder=o},setContainerWidth:function(o){return t.eContainer.style.width=o}},r=this.createManagedBean(new ZS(this.name));r.setComp(i,this.eContainer,this.eViewport)},e.prototype.preDestroy=function(){this.setRowCtrls([])},e.prototype.setRowCtrls=function(t){var i=this,r=Yp({},this.rowComps);this.rowComps={},this.lastPlacedElement=null;var o=function(s){var a=s.getInstanceId(),l=r[a];if(l)i.rowComps[a]=l,delete r[a],i.ensureDomOrder(l.getGui());else{if(!s.getRowNode().displayed)return;var u=new GI(s,i.beans,i.type);i.rowComps[a]=u,i.appendRow(u.getGui())}};t.forEach(o),fr(r).forEach(function(s){i.eContainer.removeChild(s.getGui()),s.destroy()}),Ce(this.eContainer,t.length?"rowgroup":"presentation")},e.prototype.appendRow=function(t){this.domOrder?gS(this.eContainer,t,this.lastPlacedElement):this.eContainer.appendChild(t),this.lastPlacedElement=t},e.prototype.ensureDomOrder=function(t){this.domOrder&&(nf(this.eContainer,t,this.lastPlacedElement),this.lastPlacedElement=t)},Ss([y("beans")],e.prototype,"beans",void 0),Ss([K("eViewport")],e.prototype,"eViewport",void 0),Ss([K("eContainer")],e.prototype,"eContainer",void 0),Ss([U],e.prototype,"postConstruct",null),Ss([Ee],e.prototype,"preDestroy",null),e}(wt),fy=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},BI=function(){function n(e){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}return n.prototype.onDragEnter=function(e){var t=this;if(this.clearColumnsList(),!this.gridOptionsService.is("functionsReadOnly")){var i=e.dragItem.columns;i&&i.forEach(function(r){r.isPrimary()&&(r.isAnyFunctionActive()||(r.isAllowValue()?t.columnsToAggregate.push(r):r.isAllowRowGroup()?t.columnsToGroup.push(r):r.isAllowPivot()&&t.columnsToPivot.push(r)))})}},n.prototype.getIconName=function(){var e=this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length;return e>0?this.pinned?Se.ICON_PINNED:Se.ICON_MOVE:null},n.prototype.onDragLeave=function(e){this.clearColumnsList()},n.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},n.prototype.onDragging=function(e){},n.prototype.onDragStop=function(e){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},fy([y("columnModel")],n.prototype,"columnModel",void 0),fy([y("gridOptionsService")],n.prototype,"gridOptionsService",void 0),n}(),_s=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},jI=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},WI=function(){function n(e,t){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=e,this.eContainer=t,this.centerContainer=!N(e)}return n.prototype.init=function(){var e=this;this.ctrlsService.whenReady(function(){e.gridBodyCon=e.ctrlsService.getGridBodyCtrl()})},n.prototype.getIconName=function(){return this.pinned?Se.ICON_PINNED:Se.ICON_MOVE},n.prototype.onDragEnter=function(e){var t=e.dragItem.columns,i=e.dragSource.type===$e.ToolPanel;if(i)this.setColumnsVisible(t,!0,"uiColumnDragged");else{var r=e.dragItem.visibleState,o=(t||[]).filter(function(s){return r[s.getId()]});this.setColumnsVisible(o,!0,"uiColumnDragged")}this.setColumnsPinned(t,this.pinned,"uiColumnDragged"),this.onDragging(e,!0,!0)},n.prototype.onDragLeave=function(){this.ensureIntervalCleared(),this.lastMovedInfo=null},n.prototype.setColumnsVisible=function(e,t,i){if(i===void 0&&(i="api"),e){var r=e.filter(function(o){return!o.getColDef().lockVisible});this.columnModel.setColumnsVisible(r,t,i)}},n.prototype.setColumnsPinned=function(e,t,i){if(i===void 0&&(i="api"),e){var r=e.filter(function(o){return!o.getColDef().lockPinned});this.columnModel.setColumnsPinned(r,t,i)}},n.prototype.onDragStop=function(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null},n.prototype.normaliseX=function(e){if(this.gridOptionsService.is("enableRtl")){var t=this.eContainer.clientWidth;e=t-e}return this.centerContainer&&(e+=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),e},n.prototype.checkCenterForScrolling=function(e){if(this.centerContainer){var t=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),i=t+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsService.is("enableRtl")?(this.needToMoveRight=e<t+50,this.needToMoveLeft=e>i-50):(this.needToMoveLeft=e<t+50,this.needToMoveRight=e>i-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},n.prototype.onDragging=function(e,t,i,r){var o=this,s;if(e===void 0&&(e=this.lastDraggingEvent),t===void 0&&(t=!1),i===void 0&&(i=!1),r===void 0&&(r=!1),r){if(this.lastMovedInfo){var a=this.lastMovedInfo,l=a.columns,u=a.toIndex;this.moveColumns(l,u,"uiColumnMoved",!0)}return}if(this.lastDraggingEvent=e,!pt(e.hDirection)){var c=this.normaliseX(e.x);t||this.checkCenterForScrolling(c);var d=this.normaliseDirection(e.hDirection),p=e.dragSource.type,h=((s=e.dragSource.getDragItem().columns)===null||s===void 0?void 0:s.filter(function(f){return f.getColDef().lockPinned?f.getPinned()==o.pinned:!0}))||[];this.attemptMoveColumns({dragSourceType:p,allMovingColumns:h,hDirection:d,mouseX:c,fromEnter:t,fakeEvent:i})}},n.prototype.normaliseDirection=function(e){if(this.gridOptionsService.is("enableRtl"))switch(e){case lr.Left:return lr.Right;case lr.Right:return lr.Left;default:console.error("AG Grid: Unknown direction "+e)}else return e},n.prototype.attemptMoveColumns=function(e){var t=e.dragSourceType,i=e.hDirection,r=e.mouseX,o=e.fromEnter,s=e.fakeEvent,a=i===lr.Left,l=i===lr.Right,u=e.allMovingColumns;if(t===$e.HeaderCell){var c=[];u.forEach(function(D){for(var F,V=null,B=D.getParent();B!=null&&B.getDisplayedLeafColumns().length===1;)V=B,B=B.getParent();if(V!=null){var G=!!(!((F=V.getColGroupDef())===null||F===void 0)&&F.marryChildren),lt=G?V.getProvidedColumnGroup().getLeafColumns():V.getLeafColumns();lt.forEach(function(yt){c.includes(yt)||c.push(yt)})}else c.includes(D)||c.push(D)}),u=c}var d=u.slice();this.columnModel.sortColumnsLikeGridColumns(d);var p=this.calculateValidMoves(d,l,r),h=this.calculateOldIndex(d);if(p.length!==0){var f=p[0],g=h!==null&&!o;if(t==$e.HeaderCell&&(g=h!==null),!(g&&!s&&(a&&f>=h||l&&f<=h))){for(var v=this.columnModel.getAllDisplayedColumns(),m=[],w=null,b=0;b<p.length;b++){var E=p[b],O=this.columnModel.getProposedColumnOrder(d,E);if(this.columnModel.doesOrderPassRules(O)){var P=O.filter(function(D){return v.includes(D)});if(w===null)w=P;else if(!gt.areEqual(P,w))break;var M=this.groupFragCount(O);m.push({move:E,fragCount:M})}}m.length!==0&&(m.sort(function(D,F){return D.fragCount-F.fragCount}),this.moveColumns(u,m[0].move,"uiColumnMoved",!1))}}},n.prototype.calculateOldIndex=function(e){var t=this.columnModel.getAllGridColumns(),i=Fw(e.map(function(l){return t.indexOf(l)})),r=i[0],o=Vt(i),s=o-r,a=s!==i.length-1;return a?null:r},n.prototype.moveColumns=function(e,t,i,r){this.columnModel.moveColumns(e,t,i,r),this.lastMovedInfo=r?null:{columns:e,toIndex:t}},n.prototype.groupFragCount=function(e){function t(s){for(var a=[],l=s.getOriginalParent();l!=null;)a.push(l),l=l.getOriginalParent();return a}for(var i=0,r=function(s){var a,l=t(e[s]),u=t(e[s+1]);a=jI(l.length>u.length?[l,u]:[u,l],2),l=a[0],u=a[1],l.forEach(function(c){u.indexOf(c)===-1&&i++})},o=0;o<e.length-1;o++)r(o);return i},n.prototype.calculateValidMoves=function(e,t,i){var r=this.gridOptionsService.is("suppressMovableColumns")||e.some(function(M){return M.getColDef().suppressMovable});if(r)return[];var o=this.columnModel.getDisplayedColumns(this.pinned),s=this.columnModel.getAllGridColumns(),a=o.filter(function(M){return xi(e,M)}),l=o.filter(function(M){return!xi(e,M)}),u=s.filter(function(M){return!xi(e,M)}),c=0,d=i;if(t){var p=0;a.forEach(function(M){return p+=M.getActualWidth()}),d-=p}if(d>0){for(var h=0;h<l.length;h++){var f=l[h];if(d-=f.getActualWidth(),d<0)break;c++}t&&c++}var g;if(c>0){var v=l[c-1];g=u.indexOf(v)+1}else g=u.indexOf(l[0]),g===-1&&(g=0);var m=[g],w=function(M,D){return M-D};if(t){for(var b=g+1,E=s.length-1;b<=E;)m.push(b),b++;m.sort(w)}else{for(var b=g,E=s.length-1,O=s[b];b<=E&&this.isColumnHidden(o,O);)b++,m.push(b),O=s[b];b=g-1;for(var P=0;b>=P;)m.push(b),b--;m.sort(w).reverse()}return m},n.prototype.isColumnHidden=function(e,t){return e.indexOf(t)<0},n.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.needToMoveLeft?this.dragAndDropService.setGhostIcon(Se.ICON_LEFT,!0):this.dragAndDropService.setGhostIcon(Se.ICON_RIGHT,!0))},n.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(Se.ICON_MOVE))},n.prototype.moveInterval=function(){var e;this.intervalCount++,e=10+this.intervalCount*5,e>100&&(e=100);var t=null,i=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?t=i.scrollHorizontally(-e):this.needToMoveRight&&(t=i.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var r=this.lastDraggingEvent.dragItem.columns,o=r.filter(function(a){return!a.getColDef().lockPinned});if(o.length>0&&(this.dragAndDropService.setGhostIcon(Se.ICON_PINNED),this.failedMoveAttempts>7)){var s=this.needToMoveLeft?"left":"right";this.setColumnsPinned(o,s,"uiColumnDragged"),this.dragAndDropService.nudge()}}},_s([y("columnModel")],n.prototype,"columnModel",void 0),_s([y("dragAndDropService")],n.prototype,"dragAndDropService",void 0),_s([y("gridOptionsService")],n.prototype,"gridOptionsService",void 0),_s([y("ctrlsService")],n.prototype,"ctrlsService",void 0),_s([U],n.prototype,"init",null),n}(),UI=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Es=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},zI=function(n){UI(e,n);function e(t,i){var r=n.call(this)||this;return r.pinned=t,r.eContainer=i,r}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(i){switch(t.pinned){case"left":t.eSecondaryContainers=[[i.gridBodyCtrl.getBodyViewportElement(),i.leftRowContainerCtrl.getContainerElement()],[i.bottomLeftRowContainerCtrl.getContainerElement()],[i.topLeftRowContainerCtrl.getContainerElement()]];break;case"right":t.eSecondaryContainers=[[i.gridBodyCtrl.getBodyViewportElement(),i.rightRowContainerCtrl.getContainerElement()],[i.bottomRightRowContainerCtrl.getContainerElement()],[i.topRightRowContainerCtrl.getContainerElement()]];break;default:t.eSecondaryContainers=[[i.gridBodyCtrl.getBodyViewportElement(),i.centerRowContainerCtrl.getViewportElement()],[i.bottomCenterRowContainerCtrl.getViewportElement()],[i.topCenterRowContainerCtrl.getViewportElement()]];break}})},e.prototype.isInterestedIn=function(t){return t===$e.HeaderCell||t===$e.ToolPanel&&this.gridOptionsService.is("allowDragFromColumnsToolPanel")},e.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},e.prototype.getContainer=function(){return this.eContainer},e.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new WI(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new BI(this.pinned)),this.dragAndDropService.addDropTarget(this)},e.prototype.getIconName=function(){return this.currentDropListener.getIconName()},e.prototype.isDropColumnInPivotMode=function(t){return this.columnModel.isPivotMode()&&t.dragSource.type===$e.ToolPanel},e.prototype.onDragEnter=function(t){this.currentDropListener=this.isDropColumnInPivotMode(t)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(t)},e.prototype.onDragLeave=function(t){this.currentDropListener.onDragLeave(t)},e.prototype.onDragging=function(t){this.currentDropListener.onDragging(t)},e.prototype.onDragStop=function(t){this.currentDropListener.onDragStop(t)},Es([y("dragAndDropService")],e.prototype,"dragAndDropService",void 0),Es([y("columnModel")],e.prototype,"columnModel",void 0),Es([y("ctrlsService")],e.prototype,"ctrlsService",void 0),Es([U],e.prototype,"postConstruct",null),Es([U],e.prototype,"init",null),e}(j),$I=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},KI=function(n,e){for(var t=0,i=e.length,r=n.length;t<i;t++,r++)n[r]=e[t];return n},t_=function(){function n(){}return n.getHeaderClassesFromColDef=function(e,t,i,r){return pt(e)?[]:this.getColumnClassesFromCollDef(e.headerClass,e,t,i,r)},n.getToolPanelClassesFromColDef=function(e,t,i,r){return pt(e)?[]:this.getColumnClassesFromCollDef(e.toolPanelClass,e,t,i,r)},n.getClassParams=function(e,t,i,r){return{colDef:e,column:i,columnGroup:r,api:t.api,columnApi:t.columnApi,context:t.context}},n.getColumnClassesFromCollDef=function(e,t,i,r,o){if(pt(e))return[];var s;if(typeof e=="function"){var a=this.getClassParams(t,i,r,o);s=e(a)}else s=e;return typeof s=="string"?[s]:Array.isArray(s)?KI([],$I(s)):[]},n}(),YI=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),gl=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},qI=function(n){YI(e,n);function e(t){var i=n.call(this,e.TEMPLATE,t)||this;return i.headerCompVersion=0,i.column=t.getColumnGroupChild(),i.pinned=t.getPinned(),i}return e.prototype.postConstruct=function(){var t=this,i=this.getGui(),r=function(a,l){l!=null&&l!=""?i.setAttribute(a,l):i.removeAttribute(a)};r("col-id",this.column.getColId());var o={setWidth:function(a){return i.style.width=a},addOrRemoveCssClass:function(a,l){return t.addOrRemoveCssClass(a,l)},setAriaDescription:function(a){return Yw(i,a)},setAriaSort:function(a){return a?rS(i,a):nS(i)},setUserCompDetails:function(a){return t.setUserCompDetails(a)},getUserCompInstance:function(){return t.headerComp}};this.ctrl.setComp(o,this.getGui(),this.eResize,this.eHeaderCompWrapper);var s=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",s)},e.prototype.destroyHeaderComp=function(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},e.prototype.setUserCompDetails=function(t){var i=this;this.headerCompVersion++;var r=this.headerCompVersion;t.newAgStackInstance().then(function(o){return i.afterCompCreated(r,o)})},e.prototype.afterCompCreated=function(t,i){if(t!=this.headerCompVersion||!this.isAlive()){this.destroyBean(i);return}this.destroyHeaderComp(),this.headerComp=i,this.headerCompGui=i.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())},e.TEMPLATE=`<div class="ag-header-cell" role="columnheader" tabindex="-1">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
        </div>`,gl([K("eResize")],e.prototype,"eResize",void 0),gl([K("eHeaderCompWrapper")],e.prototype,"eHeaderCompWrapper",void 0),gl([U],e.prototype,"postConstruct",null),gl([Ee],e.prototype,"destroyHeaderComp",null),e}(yf),XI=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ad=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},QI=function(n){XI(e,n);function e(t){return n.call(this,e.TEMPLATE,t)||this}return e.prototype.postConstruct=function(){var t=this,i=this.getGui(),r=function(s,a){return a!=null?i.setAttribute(s,a):i.removeAttribute(s)};i.setAttribute("col-id",this.ctrl.getColId());var o={addOrRemoveCssClass:function(s,a){return t.addOrRemoveCssClass(s,a)},setResizableDisplayed:function(s){return Tt(t.eResize,s)},setWidth:function(s){return i.style.width=s},setAriaExpanded:function(s){return r("aria-expanded",s)},setUserCompDetails:function(s){return t.setUserCompDetails(s)}};this.ctrl.setComp(o,i,this.eResize)},e.prototype.setUserCompDetails=function(t){var i=this;t.newAgStackInstance().then(function(r){return i.afterHeaderCompCreated(r)})},e.prototype.afterHeaderCompCreated=function(t){var i=this,r=function(){return i.destroyBean(t)};if(!this.isAlive()){r();return}var o=this.getGui(),s=t.getGui();o.appendChild(s),this.addDestroyFunc(r),this.ctrl.setDragSource(o)},e.TEMPLATE=`<div class="ag-header-group-cell" role="columnheader" tabindex="-1">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
        </div>`,Ad([y("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Ad([K("eResize")],e.prototype,"eResize",void 0),Ad([U],e.prototype,"postConstruct",null),e}(yf),JI=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),gy=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},De;(function(n){n.COLUMN_GROUP="group",n.COLUMN="column",n.FLOATING_FILTER="filter"})(De||(De={}));var ZI=function(n){JI(e,n);function e(t){var i=n.call(this)||this;return i.headerComps={},i.ctrl=t,i.setTemplate('<div class="'+i.ctrl.getHeaderRowClass()+'" role="row"></div>'),i}return e.prototype.init=function(){var t=this;this.getGui().style.transform=this.ctrl.getTransform(),Kh(this.getGui(),this.ctrl.getAriaRowIndex());var i={setHeight:function(r){return t.getGui().style.height=r},setTop:function(r){return t.getGui().style.top=r},setHeaderCtrls:function(r,o){return t.setHeaderCtrls(r,o)},setWidth:function(r){return t.getGui().style.width=r}};this.ctrl.setComp(i)},e.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([],!1)},e.prototype.setHeaderCtrls=function(t,i){var r=this;if(this.isAlive()){var o=this.headerComps;if(this.headerComps={},t.forEach(function(l){var u=l.getInstanceId(),c=o[u];delete o[u],c==null&&(c=r.createHeaderComp(l),r.getGui().appendChild(c.getGui())),r.headerComps[u]=c}),Xt(o,function(l,u){r.getGui().removeChild(u.getGui()),r.destroyBean(u)}),i){var s=fr(this.headerComps);s.sort(function(l,u){var c=l.getCtrl().getColumnGroupChild().getLeft(),d=u.getCtrl().getColumnGroupChild().getLeft();return c-d});var a=s.map(function(l){return l.getGui()});of(this.getGui(),a)}}},e.prototype.createHeaderComp=function(t){var i;switch(this.ctrl.getType()){case De.COLUMN_GROUP:i=new QI(t);break;case De.FLOATING_FILTER:i=new dL(t);break;default:i=new qI(t);break}return this.createBean(i),i.setParentComponent(this),i},gy([U],e.prototype,"init",null),gy([Ee],e.prototype,"destroyHeaderCtrls",null),e}(wt),tN=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Fd=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},eN=0,Tc=function(n){tN(e,n);function e(t,i){var r=n.call(this)||this;return r.lastFocusEvent=null,r.columnGroupChild=t,r.parentRowCtrl=i,r.instanceId=t.getUniqueId()+"-"+eN++,r}return e.prototype.shouldStopEventPropagation=function(t){var i=this.focusService.getFocusedHeader(),r=i.headerRowIndex,o=i.column;return SS(this.gridOptionsService,t,r,o)},e.prototype.getWrapperHasFocus=function(){var t=this.gridOptionsService.getDocument(),i=t.activeElement;return i===this.eGui},e.prototype.setGui=function(t){this.eGui=t,this.addDomData()},e.prototype.handleKeyDown=function(t){var i=this.getWrapperHasFocus();switch(t.key){case A.PAGE_DOWN:case A.PAGE_UP:case A.PAGE_HOME:case A.PAGE_END:i&&t.preventDefault()}},e.prototype.addDomData=function(){var t=this,i=e.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsService.setDomData(this.eGui,i,this),this.addDestroyFunc(function(){return t.gridOptionsService.setDomData(t.eGui,i,null)})},e.prototype.getGui=function(){return this.eGui},e.prototype.focus=function(t){return this.eGui?(this.lastFocusEvent=t||null,this.eGui.focus(),!0):!1},e.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},e.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},e.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.getColumnGroupChild=function(){return this.columnGroupChild},e.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",Fd([y("focusService")],e.prototype,"focusService",void 0),Fd([y("beans")],e.prototype,"beans",void 0),Fd([y("userComponentFactory")],e.prototype,"userComponentFactory",void 0),e}(j),iN=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),rN=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Sf=function(n){iN(e,n);function e(t,i,r,o){var s=n.call(this)||this;return s.columnOrGroup=t,s.eCell=i,s.ariaEl=s.eCell.querySelector("[role=columnheader]")||s.eCell,s.colsSpanning=o,s.beans=r,s}return e.prototype.setColsSpanning=function(t){this.colsSpanning=t,this.onLeftChanged()},e.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsService.is("enableRtl")&&this.colsSpanning?Vt(this.colsSpanning):this.columnOrGroup},e.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,Bt.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,C.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onLeftChanged.bind(this))},e.prototype.setLeftFirstTime=function(){var t=this.beans.gridOptionsService.is("suppressColumnMoveAnimation"),i=N(this.columnOrGroup.getOldLeft()),r=this.beans.columnAnimationService.isActive()&&i&&!t;r?this.animateInLeft():this.onLeftChanged()},e.prototype.animateInLeft=function(){var t=this,i=this.getColumnOrGroup(),r=i.getLeft(),o=i.getOldLeft(),s=this.modifyLeftForPrintLayout(i,o),a=this.modifyLeftForPrintLayout(i,r);this.setLeft(s),this.actualLeft=a,this.beans.columnAnimationService.executeNextVMTurn(function(){t.actualLeft===a&&t.setLeft(a)})},e.prototype.onLeftChanged=function(){var t=this.getColumnOrGroup(),i=t.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(t,i),this.setLeft(this.actualLeft)},e.prototype.modifyLeftForPrintLayout=function(t,i){var r=this.beans.gridOptionsService.isDomLayout("print");if(!r||t.getPinned()==="left")return i;var o=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(t.getPinned()==="right"){var s=this.beans.columnModel.getBodyContainerWidth();return o+s+i}return o+i},e.prototype.setLeft=function(t){N(t)&&(this.eCell.style.left=t+"px");var i;if(this.columnOrGroup instanceof Bt)i=this.columnOrGroup;else{var r=this.columnOrGroup,o=r.getLeafColumns();if(!o.length)return;o.length>1&&iS(this.ariaEl,o.length),i=o[0]}var s=this.beans.columnModel.getAriaColumnIndex(i);Yh(this.ariaEl,s)},rN([U],e.prototype,"postConstruct",null),e}(j),nN=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),vy=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},_f=function(n){nN(e,n);function e(t,i){var r=n.call(this)||this;return r.columns=t,r.element=i,r}return e.prototype.postConstruct=function(){this.gridOptionsService.is("columnHoverHighlight")&&this.addMouseHoverListeners()},e.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},e.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},e.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},vy([y("columnHoverService")],e.prototype,"columnHoverService",void 0),vy([U],e.prototype,"postConstruct",null),e}(j),oN=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Md=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},sN=function(n){oN(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.iconCreated=!1,r.column=t,r}return e.prototype.setComp=function(t,i,r,o){n.prototype.setGui.call(this,i),this.comp=t,this.eButtonShowMainFilter=r,this.eFloatingFilterBody=o,this.setupActive(),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this)),this.setupFilterChangedListener(),this.addManagedListener(this.column,Bt.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this))},e.prototype.setupActive=function(){var t=this.column.getColDef(),i=!!t.filter,r=!!t.floatingFilter;this.active=i&&r},e.prototype.setupUi=function(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!(!this.active||this.iconCreated)){var t=ae("filter",this.gridOptionsService,this.column);t&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(t))}},e.prototype.setupFocus=function(){this.createManagedBean(new En(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},e.prototype.setupAria=function(){var t=this.localeService.getLocaleTextFunc();Lr(this.eButtonShowMainFilter,t("ariaFilterMenuOpen","Open Filter Menu"))},e.prototype.onTabKeyDown=function(t){var i=this.gridOptionsService.getDocument(),r=i.activeElement,o=r===this.eGui;if(!o){var s=this.focusService.findNextFocusableElement(this.eGui,null,t.shiftKey);if(s){this.beans.headerNavigationService.scrollToColumn(this.column),t.preventDefault(),s.focus();return}var a=this.findNextColumnWithFloatingFilter(t.shiftKey);a&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:a},event:t})&&t.preventDefault()}},e.prototype.findNextColumnWithFloatingFilter=function(t){var i=this.beans.columnModel,r=this.column;do if(r=t?i.getDisplayedColBefore(r):i.getDisplayedColAfter(r),!r)break;while(!r.getColDef().filter||!r.getColDef().floatingFilter);return r},e.prototype.handleKeyDown=function(t){n.prototype.handleKeyDown.call(this,t);var i=this.getWrapperHasFocus();switch(t.key){case A.UP:case A.DOWN:i||t.preventDefault();case A.LEFT:case A.RIGHT:if(i)return;t.stopPropagation();case A.ENTER:i&&this.focusService.focusInto(this.eGui)&&t.preventDefault();break;case A.ESCAPE:i||this.eGui.focus()}},e.prototype.onFocusIn=function(t){var i=this.eGui.contains(t.relatedTarget);if(!i){var r=!!t.relatedTarget&&!t.relatedTarget.classList.contains("ag-floating-filter"),o=!!t.relatedTarget&&Qn(t.relatedTarget,"ag-floating-filter");if(r&&o&&t.target===this.eGui){var s=this.lastFocusEvent,a=!!(s&&s.key===A.TAB);if(s&&a){var l=s.shiftKey;this.focusService.focusInto(this.eGui,l)}}var u=this.getRowIndex();this.beans.focusService.setFocusedHeader(u,this.column)}},e.prototype.setupHover=function(){var t=this;this.createManagedBean(new _f([this.column],this.eGui));var i=function(){if(t.gridOptionsService.is("columnHoverHighlight")){var r=t.columnHoverService.isHovered(t.column);t.comp.addOrRemoveCssClass("ag-column-hover",r)}};this.addManagedListener(this.eventService,C.EVENT_COLUMN_HOVER_CHANGED,i),i()},e.prototype.setupLeft=function(){var t=new Sf(this.column,this.eGui,this.beans);this.createManagedBean(t)},e.prototype.setupFilterButton=function(){var t=this.column.getColDef();this.suppressFilterButton=t.floatingFilterComponentParams?!!t.floatingFilterComponentParams.suppressFilterButton:!1},e.prototype.setupUserComp=function(){var t=this;if(this.active){var i=this.filterManager.getFloatingFilterCompDetails(this.column,function(){return t.showParentFilter()});i&&this.setCompDetails(i)}},e.prototype.setCompDetails=function(t){this.userCompDetails=t,this.comp.setCompDetails(t)},e.prototype.showParentFilter=function(){var t=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuFactory.showMenuAfterButtonClick(this.column,t,"floatingFilter","filterMenuTab",["filterMenuTab"])},e.prototype.setupSyncWithFilter=function(){var t=this;if(this.active){var i=function(r){var o=t.comp.getFloatingFilterComp();o&&o.then(function(s){if(s){var a=t.filterManager.getCurrentFloatingFilterParentModel(t.column);s.onParentModelChanged(a,r)}})};this.destroySyncListener=this.addManagedListener(this.column,Bt.EVENT_FILTER_CHANGED,i),this.filterManager.isFilterActive(this.column)&&i(null)}},e.prototype.setupWidth=function(){var t=this,i=function(){var r=t.column.getActualWidth()+"px";t.comp.setWidth(r)};this.addManagedListener(this.column,Bt.EVENT_WIDTH_CHANGED,i),i()},e.prototype.setupFilterChangedListener=function(){this.active&&(this.destroyFilterChangedListener=this.addManagedListener(this.column,Bt.EVENT_FILTER_CHANGED,this.updateFilterButton.bind(this)))},e.prototype.updateFilterButton=function(){!this.suppressFilterButton&&this.comp&&this.comp.setButtonWrapperDisplayed(this.filterManager.isFilterAllowed(this.column))},e.prototype.onColDefChanged=function(){var t=this,i,r,o=this.active;this.setupActive();var s=!o&&this.active;o&&!this.active&&((i=this.destroySyncListener)===null||i===void 0||i.call(this),(r=this.destroyFilterChangedListener)===null||r===void 0||r.call(this));var a=this.active?this.filterManager.getFloatingFilterCompDetails(this.column,function(){return t.showParentFilter()}):null,l=this.comp.getFloatingFilterComp();!l||!a?this.updateCompDetails(a,s):l.then(function(u){var c;!u||t.filterManager.areFilterCompsDifferent((c=t.userCompDetails)!==null&&c!==void 0?c:null,a)?t.updateCompDetails(a,s):t.updateFloatingFilterParams(a)})},e.prototype.updateCompDetails=function(t,i){this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),i&&(this.setupSyncWithFilter(),this.setupFilterChangedListener())},e.prototype.updateFloatingFilterParams=function(t){var i;if(t){var r=t.params;(i=this.comp.getFloatingFilterComp())===null||i===void 0||i.then(function(o){o!=null&&o.onParamsUpdated&&typeof o.onParamsUpdated=="function"&&o.onParamsUpdated(r)})}},Md([y("filterManager")],e.prototype,"filterManager",void 0),Md([y("columnHoverService")],e.prototype,"columnHoverService",void 0),Md([y("menuFactory")],e.prototype,"menuFactory",void 0),e}(Tc),aN=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ld=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},lN=function(n){aN(e,n);function e(t,i,r,o,s){var a=n.call(this)||this;return a.pinned=t,a.column=i,a.eResize=r,a.comp=o,a.ctrl=s,a}return e.prototype.postConstruct=function(){var t=this,i=this.column.getColDef(),r=[],o,s,a=function(){if(Tt(t.eResize,o),!!o){var c=t.horizontalResizeService.addResizeBar({eResizeBar:t.eResize,onResizeStart:t.onResizeStart.bind(t),onResizing:t.onResizing.bind(t,!1),onResizeEnd:t.onResizing.bind(t,!0)});if(r.push(c),s){var d=t.gridOptionsService.is("skipHeaderOnAutoSize"),p=function(){t.columnModel.autoSizeColumn(t.column,d,"uiColumnResized")};t.eResize.addEventListener("dblclick",p);var h=new yi(t.eResize);h.addEventListener(yi.EVENT_DOUBLE_TAP,p),t.addDestroyFunc(function(){t.eResize.removeEventListener("dblclick",p),h.removeEventListener(yi.EVENT_DOUBLE_TAP,p),h.destroy()})}}},l=function(){r.forEach(function(c){return c()}),r.length=0},u=function(){var c=t.column.isResizable(),d=!t.gridOptionsService.is("suppressAutoSize")&&!i.suppressAutoSize,p=c!==o||d!==s;p&&(o=c,s=d,l(),a())};u(),this.addDestroyFunc(l),this.ctrl.addRefreshFunction(u)},e.prototype.onResizing=function(t,i){var r=this.normaliseResizeAmount(i),o=[{key:this.column,newWidth:this.resizeStartWidth+r}];this.columnModel.setColumnWidths(o,this.resizeWithShiftKey,t,"uiColumnResized"),t&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},e.prototype.onResizeStart=function(t){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=t,this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},e.prototype.normaliseResizeAmount=function(t){var i=t,r=this.pinned!=="left",o=this.pinned==="right";return this.gridOptionsService.is("enableRtl")?r&&(i*=-1):o&&(i*=-1),i},Ld([y("horizontalResizeService")],e.prototype,"horizontalResizeService",void 0),Ld([y("columnModel")],e.prototype,"columnModel",void 0),Ld([U],e.prototype,"postConstruct",null),e}(j),uN=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),vl=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},cN=function(n){uN(e,n);function e(t){var i=n.call(this)||this;i.cbSelectAllVisible=!1,i.processingEventFromCheckbox=!1,i.column=t;var r=t.getColDef();return i.filteredOnly=!!(r!=null&&r.headerCheckboxSelectionFilteredOnly),i.currentPageOnly=!!(r!=null&&r.headerCheckboxSelectionCurrentPageOnly),i}return e.prototype.onSpaceKeyDown=function(t){var i=this.cbSelectAll,r=this.gridOptionsService.getDocument();i.isDisplayed()&&!i.getGui().contains(r.activeElement)&&(t.preventDefault(),i.setValue(!i.getValue()))},e.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},e.prototype.setComp=function(t){this.headerCellCtrl=t,this.cbSelectAll=this.createManagedBean(new bc),this.cbSelectAll.addCssClass("ag-header-select-all"),Ce(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,C.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,C.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,C.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_PAGINATION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,C.EVENT_FIELD_VALUE_CHANGED,this.onCbSelectAll.bind(this)),yc(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},e.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()},e.prototype.onModelChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},e.prototype.onSelectionChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},e.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var t=this.selectionService.getSelectAllState(this.filteredOnly,this.currentPageOnly);this.cbSelectAll.setValue(t),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},e.prototype.refreshSelectAllLabel=function(){var t=this.localeService.getLocaleTextFunc(),i=this.cbSelectAll.getValue(),r=i?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),o=t("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll",o+" ("+r+")"):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(o+" ("+r+")"),this.headerCellCtrl.refreshAriaDescription()},e.prototype.checkSelectionType=function(t){var i=this.gridOptionsService.get("rowSelection")==="multiple";return i?!0:(console.warn("AG Grid: "+t+" is only available if using 'multiple' rowSelection."),!1)},e.prototype.checkRightRowModelType=function(t){var i=this.rowModel.getType(),r=i==="clientSide"||i==="serverSide";return r?!0:(console.warn("AG Grid: "+t+" is only available if using 'clientSide' or 'serverSide' rowModelType, you are using "+i+"."),!1)},e.prototype.onCbSelectAll=function(){if(!this.processingEventFromCheckbox&&this.cbSelectAllVisible){var t=this.cbSelectAll.getValue(),i="uiSelectAll";this.currentPageOnly?i="uiSelectAllCurrentPage":this.filteredOnly&&(i="uiSelectAllFiltered");var r={source:i,justFiltered:this.filteredOnly,justCurrentPage:this.currentPageOnly};t?this.selectionService.selectAllRowNodes(r):this.selectionService.deselectAllRowNodes(r)}},e.prototype.isCheckboxSelection=function(){var t=this.column.getColDef().headerCheckboxSelection;if(typeof t=="function"){var i=t,r={column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi,context:this.gridOptionsService.context};t=i(r)}return t?this.checkRightRowModelType("headerCheckboxSelection")&&this.checkSelectionType("headerCheckboxSelection"):!1},vl([y("gridApi")],e.prototype,"gridApi",void 0),vl([y("columnApi")],e.prototype,"columnApi",void 0),vl([y("rowModel")],e.prototype,"rowModel",void 0),vl([y("selectionService")],e.prototype,"selectionService",void 0),e}(j),dN=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),yy=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Wo;(function(n){n.TAB_GUARD="ag-tab-guard",n.TAB_GUARD_TOP="ag-tab-guard-top",n.TAB_GUARD_BOTTOM="ag-tab-guard-bottom"})(Wo||(Wo={}));var pN=function(n){dN(e,n);function e(t){var i=n.call(this)||this;i.skipTabGuardFocus=!1;var r=t.comp,o=t.eTopGuard,s=t.eBottomGuard,a=t.focusInnerElement,l=t.onFocusIn,u=t.onFocusOut,c=t.shouldStopEventPropagation,d=t.onTabKeyDown,p=t.handleKeyDown,h=t.eFocusableElement;return i.comp=r,i.eTopGuard=o,i.eBottomGuard=s,i.providedFocusInnerElement=a,i.eFocusableElement=h,i.providedFocusIn=l,i.providedFocusOut=u,i.providedShouldStopEventPropagation=c,i.providedOnTabKeyDown=d,i.providedHandleKeyDown=p,i}return e.prototype.postConstruct=function(){var t=this;this.createManagedBean(new En(this.eFocusableElement,{shouldStopEventPropagation:function(){return t.shouldStopEventPropagation()},onTabKeyDown:function(i){return t.onTabKeyDown(i)},handleKeyDown:function(i){return t.handleKeyDown(i)},onFocusIn:function(i){return t.onFocusIn(i)},onFocusOut:function(i){return t.onFocusOut(i)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(function(i){return t.addManagedListener(i,"focus",t.onFocus.bind(t))})},e.prototype.handleKeyDown=function(t){this.providedHandleKeyDown&&this.providedHandleKeyDown(t)},e.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},e.prototype.shouldStopEventPropagation=function(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1},e.prototype.activateTabGuards=function(){var t=this.gridOptionsService.getNum("tabIndex")||0;this.comp.setTabIndex(t.toString())},e.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},e.prototype.onFocus=function(t){if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}var i=t.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(i):this.focusInnerElement(i)},e.prototype.onFocusIn=function(t){this.providedFocusIn&&this.providedFocusIn(t)||this.deactivateTabGuards()},e.prototype.onFocusOut=function(t){this.providedFocusOut&&this.providedFocusOut(t)||this.eFocusableElement.contains(t.relatedTarget)||this.activateTabGuards()},e.prototype.onTabKeyDown=function(t){var i=this;if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(t);return}if(!t.defaultPrevented){var r=this.tabGuardsAreActive();r&&this.deactivateTabGuards();var o=this.getNextFocusableElement(t.shiftKey);r&&setTimeout(function(){return i.activateTabGuards()},0),o&&(o.focus(),t.preventDefault())}},e.prototype.focusInnerElement=function(t){t===void 0&&(t=!1);var i=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(i.splice(0,1),i.splice(i.length-1,1)),i.length&&i[t?i.length-1:0].focus({preventScroll:!0})},e.prototype.getNextFocusableElement=function(t){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,t)},e.prototype.forceFocusOutOfContainer=function(t){t===void 0&&(t=!1);var i=t?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,i.focus()},yy([y("focusService")],e.prototype,"focusService",void 0),yy([U],e.prototype,"postConstruct",null),e}(j),hN=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),oa=function(){return oa=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},oa.apply(this,arguments)},ui=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},fN=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},gN=function(n,e){for(var t=0,i=e.length,r=n.length;t<i;t++,r++)n[r]=e[t];return n},Uo=function(n){hN(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}t=e,e.addKeyboardModeEvents=function(i,r){var o=t.instancesMonitored.get(i);o&&o.length>0?o.indexOf(r)===-1&&o.push(r):(t.instancesMonitored.set(i,[r]),i.addEventListener("keydown",t.toggleKeyboardMode),i.addEventListener("mousedown",t.toggleKeyboardMode))},e.removeKeyboardModeEvents=function(i,r){var o=t.instancesMonitored.get(i),s=[];o&&o.length&&(s=gN([],fN(o)).filter(function(a){return a!==r}),t.instancesMonitored.set(i,s)),s.length===0&&(i.removeEventListener("keydown",t.toggleKeyboardMode),i.removeEventListener("mousedown",t.toggleKeyboardMode))},e.toggleKeyboardMode=function(i){var r=t.keyboardModeActive,o=i.type==="keydown";if(!(o&&(i.ctrlKey||i.metaKey||i.altKey))&&!(r&&o||!r&&!o)){t.keyboardModeActive=o;var s=i.target.ownerDocument;if(s){var a=t.instancesMonitored.get(s);a&&a.forEach(function(l){l.dispatchEvent({type:o?C.EVENT_KEYBOARD_FOCUS:C.EVENT_MOUSE_FOCUS})})}}},e.prototype.init=function(){var i=this,r=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,C.EVENT_COLUMN_PIVOT_MODE_CHANGED,r),this.addManagedListener(this.eventService,C.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_COLUMN_GROUP_OPENED,r),this.addManagedListener(this.eventService,C.EVENT_COLUMN_ROW_GROUP_CHANGED,r),this.ctrlsService.whenReady(function(o){i.gridCtrl=o.gridCtrl;var s=i.gridOptionsService.getDocument();t.addKeyboardModeEvents(s,i.gridCtrl),i.addDestroyFunc(function(){return i.unregisterGridCompController(i.gridCtrl)})})},e.prototype.unregisterGridCompController=function(i){var r=this.gridOptionsService.getDocument();t.removeKeyboardModeEvents(r,i)},e.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var i=this.focusedCellPosition.column,r=this.columnModel.getGridColumn(i.getId());i!==r&&this.clearFocusedCell()}},e.prototype.isKeyboardMode=function(){return t.keyboardModeActive},e.prototype.getFocusCellToUseAfterRefresh=function(){var i=this.gridOptionsService.getDocument();return this.gridOptionsService.is("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(i.activeElement,to.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},e.prototype.getFocusHeaderToUseAfterRefresh=function(){var i=this.gridOptionsService.getDocument();return this.gridOptionsService.is("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(i.activeElement,Tc.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},e.prototype.isDomDataMissingInHierarchy=function(i,r){for(var o=i;o;){var s=this.gridOptionsService.getDomData(o,r);if(s)return!1;o=o.parentNode}return!0},e.prototype.getFocusedCell=function(){return this.focusedCellPosition},e.prototype.shouldRestoreFocus=function(i){var r=this;return this.isCellRestoreFocused(i)?(setTimeout(function(){r.restoredFocusedCellPosition=null},0),!0):!1},e.prototype.isCellRestoreFocused=function(i){return this.restoredFocusedCellPosition==null?!1:this.cellPositionUtils.equals(i,this.restoredFocusedCellPosition)},e.prototype.setRestoreFocusedCell=function(i){this.getFrameworkOverrides().renderingEngine==="react"&&(this.restoredFocusedCellPosition=i)},e.prototype.getFocusEventParams=function(){var i=this.focusedCellPosition,r=i.rowIndex,o=i.rowPinned,s=i.column,a={rowIndex:r,rowPinned:o,column:s,isFullWidthCell:!1},l=this.rowRenderer.getRowByPosition({rowIndex:r,rowPinned:o});return l&&(a.isFullWidthCell=l.isFullWidth()),a},e.prototype.clearFocusedCell=function(){if(this.restoredFocusedCellPosition=null,this.focusedCellPosition!=null){var i=oa({type:C.EVENT_CELL_FOCUS_CLEARED},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(i)}},e.prototype.setFocusedCell=function(i){var r=i.column,o=i.rowIndex,s=i.rowPinned,a=i.forceBrowserFocus,l=a===void 0?!1:a,u=i.preventScrollOnBrowserFocus,c=u===void 0?!1:u,d=this.columnModel.getGridColumn(r);if(!d){this.focusedCellPosition=null;return}this.focusedCellPosition=d?{rowIndex:o,rowPinned:pr(s),column:d}:null;var p=oa(oa({type:C.EVENT_CELL_FOCUSED},this.getFocusEventParams()),{forceBrowserFocus:l,preventScrollOnBrowserFocus:c,floating:null});this.eventService.dispatchEvent(p)},e.prototype.isCellFocused=function(i){return this.focusedCellPosition==null?!1:this.cellPositionUtils.equals(i,this.focusedCellPosition)},e.prototype.isRowNodeFocused=function(i){return this.isRowFocused(i.rowIndex,i.rowPinned)},e.prototype.isHeaderWrapperFocused=function(i){if(this.focusedHeaderPosition==null)return!1;var r=i.getColumnGroupChild(),o=i.getRowIndex(),s=i.getPinned(),a=this.focusedHeaderPosition,l=a.column,u=a.headerRowIndex;return r===l&&o===u&&s==l.getPinned()},e.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},e.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},e.prototype.setFocusedHeader=function(i,r){this.focusedHeaderPosition={headerRowIndex:i,column:r}},e.prototype.focusHeaderPosition=function(i){var r=i.direction,o=i.fromTab,s=i.allowUserOverride,a=i.event,l=i.fromCell,u=i.headerPosition;if(l&&this.filterManager.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(u);if(s){var c=this.getFocusedHeader(),d=this.headerNavigationService.getHeaderRowCount();if(o){var p=this.gridOptionsService.getCallback("tabToNextHeader");if(p){var h={backwards:r==="Before",previousHeaderPosition:c,nextHeaderPosition:u,headerRowCount:d};u=p(h)}}else{var p=this.gridOptionsService.getCallback("navigateToNextHeader");if(p&&a){var f={key:a.key,previousHeaderPosition:c,nextHeaderPosition:u,headerRowCount:d,event:a};u=p(f)}}}if(!u)return!1;if(u.headerRowIndex===-1)return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(u):this.focusGridView(u.column);this.headerNavigationService.scrollToColumn(u.column,r);var g=this.ctrlsService.getHeaderRowContainerCtrl(u.column.getPinned()),v=g.focusHeader(u.headerRowIndex,u.column,a);return v},e.prototype.focusFirstHeader=function(){var i=this.columnModel.getAllDisplayedColumns()[0];return i?(i.getParent()&&(i=this.columnModel.getColumnGroupAtLevel(i,0)),this.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:i}})):!1},e.prototype.focusLastHeader=function(i){var r=this.headerNavigationService.getHeaderRowCount()-1,o=Vt(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:r,column:o},event:i})},e.prototype.focusPreviousFromFirstCell=function(i){return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(i)},e.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},e.prototype.isRowFocused=function(i,r){return this.focusedCellPosition==null?!1:this.focusedCellPosition.rowIndex===i&&this.focusedCellPosition.rowPinned===pr(r)},e.prototype.findFocusableElements=function(i,r,o){o===void 0&&(o=!1);var s=hS,a=Zh;r&&(a+=", "+r),o&&(a+=', [tabindex="-1"]');var l=Array.prototype.slice.apply(i.querySelectorAll(s)),u=Array.prototype.slice.apply(i.querySelectorAll(a));if(!u.length)return l;var c=function(d,p){return d.filter(function(h){return p.indexOf(h)===-1})};return c(l,u)},e.prototype.focusInto=function(i,r,o){r===void 0&&(r=!1),o===void 0&&(o=!1);var s=this.findFocusableElements(i,null,o),a=r?Vt(s):s[0];return a?(a.focus({preventScroll:!0}),!0):!1},e.prototype.findFocusableElementBeforeTabGuard=function(i,r){if(!r)return null;var o=this.findFocusableElements(i),s=o.indexOf(r);if(s===-1)return null;for(var a=-1,l=s-1;l>=0;l--)if(o[l].classList.contains(Wo.TAB_GUARD_TOP)){a=l;break}return a<=0?null:o[a-1]},e.prototype.findNextFocusableElement=function(i,r,o){i===void 0&&(i=this.eGridDiv);var s=this.findFocusableElements(i,r?':not([tabindex="-1"])':null),a=this.gridOptionsService.getDocument(),l=a.activeElement,u;r?u=s.findIndex(function(d){return d.contains(l)}):u=s.indexOf(l);var c=u+(o?-1:1);return c<0||c>=s.length?null:s[c]},e.prototype.isTargetUnderManagedComponent=function(i,r){if(!r)return!1;var o=i.querySelectorAll("."+En.FOCUS_MANAGED_CLASS);if(!o.length)return!1;for(var s=0;s<o.length;s++)if(o[s].contains(r))return!0;return!1},e.prototype.findTabbableParent=function(i,r){r===void 0&&(r=5);for(var o=0;i&&Ou(i)===null&&++o<=r;)i=i.parentElement;return Ou(i)===null?null:i},e.prototype.focusGridView=function(i,r){if(this.gridOptionsService.is("suppressCellFocus"))return r?this.focusLastHeader():this.focusNextGridCoreContainer(!1);var o=r?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!o)return!1;var s=o.rowIndex,a=o.rowPinned,l=this.getFocusedHeader();if(!i&&l&&(i=l.column),s==null||!i)return!1;if(this.navigationService.ensureCellVisible({rowIndex:s,column:i,rowPinned:a}),this.setFocusedCell({rowIndex:s,column:i,rowPinned:pr(a),forceBrowserFocus:!0}),this.rangeService){var u={rowIndex:s,rowPinned:a,column:i};this.rangeService.setRangeToCell(u)}return!0},e.prototype.focusNextGridCoreContainer=function(i,r){return r===void 0&&(r=!1),!r&&this.gridCtrl.focusNextInnerContainer(i)?!0:((r||!i&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(i),!1)},e.prototype.focusAdvancedFilter=function(i){return this.advancedFilterFocusColumn=i==null?void 0:i.column,this.advancedFilterService.getCtrl().focusHeaderComp()},e.prototype.focusNextFromAdvancedFilter=function(i,r){var o,s,a=(o=r?void 0:this.advancedFilterFocusColumn)!==null&&o!==void 0?o:(s=this.columnModel.getAllDisplayedColumns())===null||s===void 0?void 0:s[0];return i?this.focusHeaderPosition({headerPosition:{column:a,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(a)},e.prototype.clearAdvancedFilterColumn=function(){this.advancedFilterFocusColumn=void 0};var t;return e.AG_KEYBOARD_FOCUS="ag-keyboard-focus",e.keyboardModeActive=!1,e.instancesMonitored=new Map,ui([y("eGridDiv")],e.prototype,"eGridDiv",void 0),ui([y("columnModel")],e.prototype,"columnModel",void 0),ui([y("headerNavigationService")],e.prototype,"headerNavigationService",void 0),ui([y("rowRenderer")],e.prototype,"rowRenderer",void 0),ui([y("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),ui([y("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),ui([At("rangeService")],e.prototype,"rangeService",void 0),ui([y("navigationService")],e.prototype,"navigationService",void 0),ui([y("ctrlsService")],e.prototype,"ctrlsService",void 0),ui([y("filterManager")],e.prototype,"filterManager",void 0),ui([At("advancedFilterService")],e.prototype,"advancedFilterService",void 0),ui([U],e.prototype,"init",null),e=t=ui([Z("focusService")],e),e}(j),vN=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Sr=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},yN=function(n){vN(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.refreshFunctions=[],r.userHeaderClasses=new Set,r.ariaDescriptionProperties=new Map,r.column=t,r}return e.prototype.setComp=function(t,i,r,o){var s=this;n.prototype.setGui.call(this,i),this.comp=t,this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(o),this.addColumnHoverListener(),this.setupFilterCss(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.createManagedBean(new lN(this.getPinned(),this.column,r,t,this)),this.createManagedBean(new _f([this.column],i)),this.createManagedBean(new Sf(this.column,i,this.beans)),this.createManagedBean(new En(i,{shouldStopEventPropagation:function(a){return s.shouldStopEventPropagation(a)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addMouseDownListenerIfNeeded(i),this.addManagedListener(this.column,Bt.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onHeaderHeightChanged.bind(this))},e.prototype.addMouseDownListenerIfNeeded=function(t){var i=this;if(Ai()){var r=["mousedown","touchstart"],o=this.gridOptionsService.getDocument();r.forEach(function(s){i.addManagedListener(t,s,function(a){var l=o.activeElement;l!==t&&!t.contains(l)&&(t.focus(),Uo.toggleKeyboardMode(a))})})}},e.prototype.setupUserComp=function(){var t=this.lookupUserCompDetails();this.setCompDetails(t)},e.prototype.setCompDetails=function(t){this.userCompDetails=t,this.comp.setUserCompDetails(t)},e.prototype.lookupUserCompDetails=function(){var t=this.createParams(),i=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(i,t)},e.prototype.createParams=function(){var t=this,i=this.column.getColDef(),r={column:this.column,displayName:this.displayName,enableSorting:i.sortable,enableMenu:this.menuEnabled,showColumnMenu:function(o){t.gridApi.showColumnMenuAfterButtonClick(t.column,o)},progressSort:function(o){t.sortController.progressSort(t.column,!!o,"uiColumnSorted")},setSort:function(o,s){t.sortController.setSortForColumn(t.column,o,!!s,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context,eGridHeader:this.getGui()};return r},e.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new cN(this.column)),this.selectAllFeature.setComp(this)},e.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},e.prototype.handleKeyDown=function(t){n.prototype.handleKeyDown.call(this,t),t.key===A.SPACE&&this.selectAllFeature.onSpaceKeyDown(t),t.key===A.ENTER&&this.onEnterKeyDown(t)},e.prototype.onEnterKeyDown=function(t){var i=this.comp.getUserCompInstance();if(i){if(t.ctrlKey||t.metaKey)this.menuEnabled&&i.showMenu&&(t.preventDefault(),i.showMenu());else if(this.sortable){var r=t.shiftKey;this.sortController.progressSort(this.column,r,"uiColumnSorted")}}},e.prototype.isMenuEnabled=function(){return this.menuEnabled},e.prototype.onFocusIn=function(t){if(!this.getGui().contains(t.relatedTarget)){var i=this.getRowIndex();this.focusService.setFocusedHeader(i,this.column)}this.setActiveHeader(!0)},e.prototype.onFocusOut=function(t){this.getGui().contains(t.relatedTarget)||this.setActiveHeader(!1)},e.prototype.setupTooltip=function(){var t=this,i={getColumn:function(){return t.column},getColDef:function(){return t.column.getColDef()},getGui:function(){return t.eGui},getLocation:function(){return"header"},getTooltipValue:function(){var o=t.column.getColDef().headerTooltip;return o}},r=this.createManagedBean(new Cf(i,this.beans));r.setComp(this.eGui),this.refreshFunctions.push(function(){return r.refreshToolTip()})},e.prototype.setupClassesFromColDef=function(){var t=this,i=function(){var r=t.column.getColDef(),o=t_.getHeaderClassesFromColDef(r,t.gridOptionsService,t.column,null),s=t.userHeaderClasses;t.userHeaderClasses=new Set(o),o.forEach(function(a){s.has(a)?s.delete(a):t.comp.addOrRemoveCssClass(a,!0)}),s.forEach(function(a){return t.comp.addOrRemoveCssClass(a,!1)})};this.refreshFunctions.push(i),i()},e.prototype.setDragSource=function(t){var i=this;if(this.dragSourceElement=t,this.removeDragSource(),!!t&&this.draggable){var r=!this.gridOptionsService.is("suppressDragLeaveHidesColumns");this.moveDragSource={type:$e.HeaderCell,eElement:t,getDefaultIconName:function(){return r?Se.ICON_HIDE:Se.ICON_NOT_ALLOWED},getDragItem:function(){return i.createDragItem()},dragItemName:this.displayName,onDragStarted:function(){r=!i.gridOptionsService.is("suppressDragLeaveHidesColumns"),i.column.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return i.column.setMoving(!1,"uiColumnMoved")},onGridEnter:function(o){var s;if(r){var a=((s=o==null?void 0:o.columns)===null||s===void 0?void 0:s.filter(function(l){return!l.getColDef().lockVisible}))||[];i.columnModel.setColumnsVisible(a,!0,"uiColumnMoved")}},onGridExit:function(o){var s;if(r){var a=((s=o==null?void 0:o.columns)===null||s===void 0?void 0:s.filter(function(l){return!l.getColDef().lockVisible}))||[];i.columnModel.setColumnsVisible(a,!1,"uiColumnMoved")}}},this.dragAndDropService.addDragSource(this.moveDragSource,!0)}},e.prototype.createDragItem=function(){var t={};return t[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:t}},e.prototype.removeDragSource=function(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)},e.prototype.onColDefChanged=function(){this.refresh()},e.prototype.updateState=function(){var t=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!t.suppressMenu,this.sortable=t.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},e.prototype.addRefreshFunction=function(t){this.refreshFunctions.push(t)},e.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(function(t){return t()})},e.prototype.refreshHeaderComp=function(){var t=this.lookupUserCompDetails(),i=this.comp.getUserCompInstance(),r=i!=null&&this.userCompDetails.componentClass==t.componentClass,o=r?this.attemptHeaderCompRefresh(t.params):!1;o?this.setDragSource(this.dragSourceElement):this.setCompDetails(t)},e.prototype.attemptHeaderCompRefresh=function(t){var i=this.comp.getUserCompInstance();if(!i||!i.refresh)return!1;var r=i.refresh(t);return r},e.prototype.calculateDisplayName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)},e.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},e.prototype.workOutDraggable=function(){var t=this.column.getColDef(),i=this.gridOptionsService.is("suppressMovableColumns"),r=!i&&!t.suppressMovable&&!t.lockPosition;return!!r||!!t.enableRowGroup||!!t.enablePivot},e.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},e.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},e.prototype.onColumnValueChanged=function(){this.checkDisplayName()},e.prototype.setupWidth=function(){var t=this,i=function(){var r=t.column.getActualWidth();t.comp.setWidth(r+"px")};this.addManagedListener(this.column,Bt.EVENT_WIDTH_CHANGED,i),i()},e.prototype.setupMovingCss=function(){var t=this,i=function(){t.comp.addOrRemoveCssClass("ag-header-cell-moving",t.column.isMoving())};this.addManagedListener(this.column,Bt.EVENT_MOVING_CHANGED,i),i()},e.prototype.setupMenuClass=function(){var t=this,i=function(){t.comp.addOrRemoveCssClass("ag-column-menu-visible",t.column.isMenuVisible())};this.addManagedListener(this.column,Bt.EVENT_MENU_VISIBLE_CHANGED,i),i()},e.prototype.setupSortableClass=function(){var t=this,i=function(){t.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!t.sortable)};i(),this.addRefreshFunction(i),this.addManagedListener(this.eventService,Bt.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))},e.prototype.setupWrapTextClass=function(){var t=this,i=function(){var r=!!t.column.getColDef().wrapHeaderText;t.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",r)};i(),this.addRefreshFunction(i)},e.prototype.onHeaderHeightChanged=function(){this.refreshSpanHeaderHeight()},e.prototype.refreshSpanHeaderHeight=function(){var t=this,i=t.eGui,r=t.column,o=t.comp,s=t.columnModel,a=t.gridOptionsService;if(r.isSpanHeaderHeight()){var l=this.getColumnGroupPaddingInfo(),u=l.numberOfParents,c=l.isSpanningTotal;o.addOrRemoveCssClass("ag-header-span-height",u>0);var d=s.getColumnHeaderRowHeight();if(u===0){o.addOrRemoveCssClass("ag-header-span-total",!1),i.style.setProperty("top","0px"),i.style.setProperty("height",d+"px");return}o.addOrRemoveCssClass("ag-header-span-total",c);var p=a.is("pivotMode"),h=p?s.getPivotGroupHeaderHeight():s.getGroupHeaderHeight(),f=u*h;i.style.setProperty("top",-f+"px"),i.style.setProperty("height",d+f+"px")}},e.prototype.getColumnGroupPaddingInfo=function(){var t=this.column.getParent();if(!t||!t.isPadding())return{numberOfParents:0,isSpanningTotal:!1};for(var i=t.getPaddingLevel()+1,r=!0;t;){if(!t.isPadding()){r=!1;break}t=t.getParent()}return{numberOfParents:i,isSpanningTotal:r}},e.prototype.setupAutoHeight=function(t){var i=this,r=function(c){if(i.isAlive()){var d=Sn(i.getGui()),p=d.paddingTop,h=d.paddingBottom,f=d.borderBottomWidth,g=d.borderTopWidth,v=p+h+f+g,m=t.offsetHeight,w=m+v;if(c<5){var b=i.beans.gridOptionsService.getDocument(),E=!b||!b.contains(t),O=w==0;if(E||O){i.beans.frameworkOverrides.setTimeout(function(){return r(c+1)},0);return}}i.columnModel.setColumnHeaderHeight(i.column,w)}},o=!1,s,a=function(){var c=i.column.isAutoHeaderHeight();c&&!o&&l(),!c&&o&&u()},l=function(){o=!0,r(0),i.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),s=i.resizeObserverService.observeResize(t,function(){return r(0)})},u=function(){o=!1,s&&s(),i.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),s=void 0};a(),this.addDestroyFunc(function(){return u()}),this.addManagedListener(this.column,Bt.EVENT_WIDTH_CHANGED,function(){return o&&r(0)}),this.addManagedListener(this.eventService,Bt.EVENT_SORT_CHANGED,function(){o&&i.beans.frameworkOverrides.setTimeout(function(){return r(0)})}),this.addRefreshFunction(a)},e.prototype.refreshAriaSort=function(){if(this.sortable){var t=this.localeService.getLocaleTextFunc(),i=this.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(zw(i)),this.setAriaDescriptionProperty("sort",t("ariaSortableColumn","Press ENTER to sort."))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)},e.prototype.refreshAriaMenu=function(){if(this.menuEnabled){var t=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",t("ariaMenuColumn","Press CTRL ENTER to open column menu."))}else this.setAriaDescriptionProperty("menu",null)},e.prototype.setAriaDescriptionProperty=function(t,i){i!=null?this.ariaDescriptionProperties.set(t,i):this.ariaDescriptionProperties.delete(t)},e.prototype.refreshAriaDescription=function(){var t=Array.from(this.ariaDescriptionProperties.values());this.comp.setAriaDescription(t.length?t.join(" "):void 0)},e.prototype.refreshAria=function(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaDescription()},e.prototype.addColumnHoverListener=function(){var t=this,i=function(){if(t.gridOptionsService.is("columnHoverHighlight")){var r=t.columnHoverService.isHovered(t.column);t.comp.addOrRemoveCssClass("ag-column-hover",r)}};this.addManagedListener(this.eventService,C.EVENT_COLUMN_HOVER_CHANGED,i),i()},e.prototype.setupFilterCss=function(){var t=this,i=function(){t.comp.addOrRemoveCssClass("ag-header-cell-filtered",t.column.isFilterActive())};this.addManagedListener(this.column,Bt.EVENT_FILTER_ACTIVE_CHANGED,i),i()},e.prototype.getColId=function(){return this.column.getColId()},e.prototype.addActiveHeaderMouseListeners=function(){var t=this,i=function(r){return t.setActiveHeader(r.type==="mouseenter")};this.addManagedListener(this.getGui(),"mouseenter",i),this.addManagedListener(this.getGui(),"mouseleave",i)},e.prototype.setActiveHeader=function(t){this.comp.addOrRemoveCssClass("ag-header-active",t)},Sr([y("columnModel")],e.prototype,"columnModel",void 0),Sr([y("columnHoverService")],e.prototype,"columnHoverService",void 0),Sr([y("sortController")],e.prototype,"sortController",void 0),Sr([y("menuFactory")],e.prototype,"menuFactory",void 0),Sr([y("dragAndDropService")],e.prototype,"dragAndDropService",void 0),Sr([y("resizeObserverService")],e.prototype,"resizeObserverService",void 0),Sr([y("gridApi")],e.prototype,"gridApi",void 0),Sr([y("columnApi")],e.prototype,"columnApi",void 0),Sr([Ee],e.prototype,"removeDragSource",null),e}(Tc),mN=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),yl=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},CN=function(n){mN(e,n);function e(t,i,r,o){var s=n.call(this)||this;return s.eResize=i,s.comp=t,s.pinned=r,s.columnGroup=o,s}return e.prototype.postConstruct=function(){var t=this;if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}var i=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(i),!this.gridOptionsService.is("suppressAutoSize")){var r=this.gridOptionsService.is("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",function(){var o=[],s=t.columnGroup.getDisplayedLeafColumns();s.forEach(function(a){a.getColDef().suppressAutoSize||o.push(a.getColId())}),o.length>0&&t.columnModel.autoSizeColumns({columns:o,skipHeader:r,stopAtGroup:t.columnGroup,source:"uiColumnResized"}),t.resizeLeafColumnsToFit("uiColumnResized")})}},e.prototype.onResizeStart=function(t){var i=this;this.calculateInitialValues();var r=null;if(t&&(r=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),r){var o=r.getDisplayedLeafColumns();this.resizeTakeFromCols=o.filter(function(s){return s.isResizable()}),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach(function(s){return i.resizeTakeFromStartWidth+=s.getActualWidth()}),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach(function(s){return i.resizeTakeFromRatios.push(s.getActualWidth()/i.resizeTakeFromStartWidth)})}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},e.prototype.onResizing=function(t,i,r){r===void 0&&(r="uiColumnResized");var o=this.normaliseDragChange(i),s=this.resizeStartWidth+o;this.resizeColumns(s,r,t)},e.prototype.resizeLeafColumnsToFit=function(t){var i=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup);this.calculateInitialValues(),i>this.resizeStartWidth&&this.resizeColumns(i,t,!0)},e.prototype.resizeColumns=function(t,i,r){r===void 0&&(r=!0);var o=[];if(o.push({columns:this.resizeCols,ratios:this.resizeRatios,width:t}),this.resizeTakeFromCols){var s=t-this.resizeStartWidth;o.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-s})}this.columnModel.resizeColumnSets({resizeSets:o,finished:r,source:i}),r&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},e.prototype.calculateInitialValues=function(){var t=this,i=this.columnGroup.getDisplayedLeafColumns();this.resizeCols=i.filter(function(r){return r.isResizable()}),this.resizeStartWidth=0,this.resizeCols.forEach(function(r){return t.resizeStartWidth+=r.getActualWidth()}),this.resizeRatios=[],this.resizeCols.forEach(function(r){return t.resizeRatios.push(r.getActualWidth()/t.resizeStartWidth)})},e.prototype.normaliseDragChange=function(t){var i=t;return this.gridOptionsService.is("enableRtl")?this.pinned!=="left"&&(i*=-1):this.pinned==="right"&&(i*=-1),i},yl([y("horizontalResizeService")],e.prototype,"horizontalResizeService",void 0),yl([y("autoWidthCalculator")],e.prototype,"autoWidthCalculator",void 0),yl([y("columnModel")],e.prototype,"columnModel",void 0),yl([U],e.prototype,"postConstruct",null),e}(j),wN=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),SN=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},_N=function(n){wN(e,n);function e(t,i){var r=n.call(this)||this;return r.removeChildListenersFuncs=[],r.columnGroup=i,r.comp=t,r}return e.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,Te.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},e.prototype.addListenersToChildrenColumns=function(){var t=this;this.removeListenersOnChildrenColumns();var i=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(function(r){r.addEventListener("widthChanged",i),r.addEventListener("visibleChanged",i),t.removeChildListenersFuncs.push(function(){r.removeEventListener("widthChanged",i),r.removeEventListener("visibleChanged",i)})})},e.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach(function(t){return t()}),this.removeChildListenersFuncs=[]},e.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},e.prototype.onWidthChanged=function(){var t=this.columnGroup.getActualWidth();this.comp.setWidth(t+"px"),this.comp.addOrRemoveCssClass("ag-hidden",t===0)},SN([U],e.prototype,"postConstruct",null),e}(j),EN=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ml=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},bN=function(n){EN(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.columnGroup=t,r}return e.prototype.setComp=function(t,i,r){n.prototype.setGui.call(this,i),this.comp=t,this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.columnGroup,"header"),this.addClasses(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp();var o=this.getParentRowCtrl().getPinned(),s=this.columnGroup.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new _f(s,i)),this.createManagedBean(new Sf(this.columnGroup,i,this.beans)),this.createManagedBean(new _N(t,this.columnGroup)),this.groupResizeFeature=this.createManagedBean(new CN(t,r,o,this.columnGroup)),this.createManagedBean(new En(i,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},e.prototype.resizeLeafColumnsToFit=function(t){this.groupResizeFeature&&this.groupResizeFeature.resizeLeafColumnsToFit(t)},e.prototype.setupUserComp=function(){var t=this,i=this.displayName,r={displayName:this.displayName,columnGroup:this.columnGroup,setExpanded:function(u){t.columnModel.setColumnGroupOpened(t.columnGroup.getProvidedColumnGroup(),u,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context};if(!i){for(var o=this.columnGroup,s=o.getLeafColumns();o.getParent()&&o.getParent().getLeafColumns().length===s.length;)o=o.getParent();var a=o.getColGroupDef();a&&(i=a.headerName),i||(i=s?this.columnModel.getDisplayNameForColumn(s[0],"header",!0):"")}var l=this.userComponentFactory.getHeaderGroupCompDetails(r);this.comp.setUserCompDetails(l)},e.prototype.setupTooltip=function(){var t=this,i=this.columnGroup.getColGroupDef(),r={getColumn:function(){return t.columnGroup},getGui:function(){return t.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return i&&i.headerTooltip}};i&&(r.getColDef=function(){return i});var o=this.createManagedBean(new Cf(r,this.beans));o.setComp(this.eGui)},e.prototype.setupExpandable=function(){var t=this.columnGroup.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(t,oe.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(t,oe.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},e.prototype.refreshExpanded=function(){var t=this.columnGroup;this.expandable=t.isExpandable();var i=t.isExpanded();this.expandable?this.comp.setAriaExpanded(i?"true":"false"):this.comp.setAriaExpanded(void 0)},e.prototype.getColId=function(){return this.columnGroup.getUniqueId()},e.prototype.addClasses=function(){var t=this,i=this.columnGroup.getColGroupDef(),r=t_.getHeaderClassesFromColDef(i,this.gridOptionsService,null,this.columnGroup);if(this.columnGroup.isPadding()){r.push("ag-header-group-cell-no-group");var o=this.columnGroup.getLeafColumns();o.every(function(s){return s.isSpanHeaderHeight()})&&r.push("ag-header-span-height")}else r.push("ag-header-group-cell-with-group");r.forEach(function(s){return t.comp.addOrRemoveCssClass(s,!0)})},e.prototype.setupMovingCss=function(){var t=this,i=this.columnGroup.getProvidedColumnGroup(),r=i.getLeafColumns(),o=function(){return t.comp.addOrRemoveCssClass("ag-header-cell-moving",t.columnGroup.isMoving())};r.forEach(function(s){t.addManagedListener(s,Bt.EVENT_MOVING_CHANGED,o)}),o()},e.prototype.onFocusIn=function(t){if(!this.eGui.contains(t.relatedTarget)){var i=this.getRowIndex();this.beans.focusService.setFocusedHeader(i,this.columnGroup)}},e.prototype.handleKeyDown=function(t){n.prototype.handleKeyDown.call(this,t);var i=this.getWrapperHasFocus();if(!(!this.expandable||!i)&&t.key===A.ENTER){var r=this.columnGroup,o=!r.isExpanded();this.columnModel.setColumnGroupOpened(r.getProvidedColumnGroup(),o,"uiColumnExpanded")}},e.prototype.setDragSource=function(t){var i=this;if(!this.isSuppressMoving()){var r=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),o=!this.gridOptionsService.is("suppressDragLeaveHidesColumns"),s={type:$e.HeaderCell,eElement:t,getDefaultIconName:function(){return o?Se.ICON_HIDE:Se.ICON_NOT_ALLOWED},dragItemName:this.displayName,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:function(){o=!i.gridOptionsService.is("suppressDragLeaveHidesColumns"),r.forEach(function(a){return a.setMoving(!0,"uiColumnDragged")})},onDragStopped:function(){return r.forEach(function(a){return a.setMoving(!1,"uiColumnDragged")})},onGridEnter:function(a){var l;if(o){var u=((l=a==null?void 0:a.columns)===null||l===void 0?void 0:l.filter(function(c){return!c.getColDef().lockVisible}))||[];i.columnModel.setColumnsVisible(u,!0,"uiColumnMoved")}},onGridExit:function(a){var l;if(o){var u=((l=a==null?void 0:a.columns)===null||l===void 0?void 0:l.filter(function(c){return!c.getColDef().lockVisible}))||[];i.columnModel.setColumnsVisible(u,!1,"uiColumnMoved")}}};this.dragAndDropService.addDragSource(s,!0),this.addDestroyFunc(function(){return i.dragAndDropService.removeDragSource(s)})}},e.prototype.getDragItemForGroup=function(){var t=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),i={};t.forEach(function(o){return i[o.getId()]=o.isVisible()});var r=[];return this.columnModel.getAllDisplayedColumns().forEach(function(o){t.indexOf(o)>=0&&(r.push(o),pi(t,o))}),t.forEach(function(o){return r.push(o)}),{columns:r,visibleState:i}},e.prototype.isSuppressMoving=function(){var t=!1;this.columnGroup.getLeafColumns().forEach(function(r){(r.getColDef().suppressMovable||r.getColDef().lockPosition)&&(t=!0)});var i=t||this.gridOptionsService.is("suppressMovableColumns");return i},ml([y("columnModel")],e.prototype,"columnModel",void 0),ml([y("dragAndDropService")],e.prototype,"dragAndDropService",void 0),ml([y("gridApi")],e.prototype,"gridApi",void 0),ml([y("columnApi")],e.prototype,"columnApi",void 0),e}(Tc),RN=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Cl=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},ON=0,Id=function(n){RN(e,n);function e(t,i,r){var o=n.call(this)||this;o.instanceId=ON++,o.headerCellCtrls={},o.rowIndex=t,o.pinned=i,o.type=r;var s=r==De.COLUMN_GROUP?"ag-header-row-column-group":r==De.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";return o.headerRowClass="ag-header-row "+s,o}return e.prototype.postConstruct=function(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.isEnsureDomOrder=this.gridOptionsService.is("ensureDomOrder")},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.setComp=function(t,i){i===void 0&&(i=!0),this.comp=t,i&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners()},e.prototype.getHeaderRowClass=function(){return this.headerRowClass},e.prototype.getAriaRowIndex=function(){return this.rowIndex+1},e.prototype.getTransform=function(){if(Ai())return"translateZ(0)"},e.prototype.addEventListeners=function(){var t=this;this.addManagedListener(this.eventService,C.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,C.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_VIRTUAL_COLUMNS_CHANGED,function(i){return t.onVirtualColumnsChanged(i.afterScroll)}),this.addManagedListener(this.eventService,C.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_GRID_STYLES_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("ensureDomOrder",function(i){return t.isEnsureDomOrder=i.currentValue}),this.addManagedPropertyListener("headerHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("groupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotGroupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("floatingFiltersHeight",this.onRowHeightChanged.bind(this))},e.prototype.getHeaderCellCtrl=function(t){return Xn(this.headerCellCtrls).find(function(i){return i.getColumnGroupChild()===t})},e.prototype.onDisplayedColumnsChanged=function(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()},e.prototype.getType=function(){return this.type},e.prototype.onColumnResized=function(){this.setWidth()},e.prototype.setWidth=function(){var t=this.getWidthForRow();this.comp.setWidth(t+"px")},e.prototype.getWidthForRow=function(){if(this.isPrintLayout){var t=this.pinned!=null;return t?0:this.columnModel.getContainerWidth("right")+this.columnModel.getContainerWidth("left")+this.columnModel.getContainerWidth(null)}return this.columnModel.getContainerWidth(this.pinned)},e.prototype.onRowHeightChanged=function(){var t=this.getTopAndHeight(),i=t.topOffset,r=t.rowHeight;this.comp.setTop(i+"px"),this.comp.setHeight(r+"px")},e.prototype.getTopAndHeight=function(){var t=this.columnModel.getHeaderRowCount(),i=[],r=0;this.filterManager.hasFloatingFilters()&&(t++,r=1);for(var o=this.columnModel.getColumnGroupHeaderRowHeight(),s=this.columnModel.getColumnHeaderRowHeight(),a=1+r,l=t-a,u=0;u<l;u++)i.push(o);i.push(s);for(var u=0;u<r;u++)i.push(this.columnModel.getFloatingFiltersHeight());for(var c=0,u=0;u<this.rowIndex;u++)c+=i[u];var d=i[this.rowIndex];return{topOffset:c,rowHeight:d}},e.prototype.getPinned=function(){return this.pinned},e.prototype.getRowIndex=function(){return this.rowIndex},e.prototype.onVirtualColumnsChanged=function(t){t===void 0&&(t=!1);var i=this.getHeaderCtrls(),r=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(i,r,t)},e.prototype.getHeaderCtrls=function(){var t=this,i=this.headerCellCtrls;this.headerCellCtrls={};var r=this.getColumnsInViewport();r.forEach(function(a){if(!a.isEmptyGroup()){var l=a.getUniqueId(),u=i[l];delete i[l];var c=u&&u.getColumnGroupChild()!=a;if(c&&(t.destroyBean(u),u=void 0),u==null)switch(t.type){case De.FLOATING_FILTER:u=t.createBean(new sN(a,t));break;case De.COLUMN_GROUP:u=t.createBean(new bN(a,t));break;default:u=t.createBean(new yN(a,t));break}t.headerCellCtrls[l]=u}});var o=function(a){var l=t.focusService.isHeaderWrapperFocused(a);if(!l)return!1;var u=t.columnModel.isDisplayed(a.getColumnGroupChild());return u};Xt(i,function(a,l){var u=o(l);u?t.headerCellCtrls[a]=l:t.destroyBean(l)});var s=fr(this.headerCellCtrls);return s},e.prototype.getColumnsInViewport=function(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},e.prototype.getColumnsInViewportPrintLayout=function(){var t=this;if(this.pinned!=null)return[];var i=[],r=this.getActualDepth();return["left",null,"right"].forEach(function(o){var s=t.columnModel.getVirtualHeaderGroupRow(o,r);i=i.concat(s)}),i},e.prototype.getActualDepth=function(){return this.type==De.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},e.prototype.getColumnsInViewportNormalLayout=function(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},e.prototype.focusHeader=function(t,i){var r=fr(this.headerCellCtrls),o=r.find(function(s){return s.getColumnGroupChild()==t});return o?(o.focus(i),!0):!1},e.prototype.destroy=function(){var t=this;Xt(this.headerCellCtrls,function(i,r){t.destroyBean(r)}),this.headerCellCtrls={},n.prototype.destroy.call(this)},Cl([y("columnModel")],e.prototype,"columnModel",void 0),Cl([y("focusService")],e.prototype,"focusService",void 0),Cl([y("filterManager")],e.prototype,"filterManager",void 0),Cl([U],e.prototype,"postConstruct",null),e}(j),TN=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),wo=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},xN=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},PN=function(n,e){for(var t=0,i=e.length,r=n.length;t<i;t++,r++)n[r]=e[t];return n},DN=function(n){TN(e,n);function e(t){var i=n.call(this)||this;return i.hidden=!1,i.includeFloatingFilter=!1,i.groupsRowCtrls=[],i.pinned=t,i}return e.prototype.setComp=function(t,i){this.comp=t,this.eViewport=i,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,C.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},e.prototype.setupDragAndDrop=function(t){var i=new zI(this.pinned,t);this.createManagedBean(i)},e.prototype.refresh=function(t){var i=this;t===void 0&&(t=!1);var r=new Yo,o=this.focusService.getFocusHeaderToUseAfterRefresh(),s=function(){var c=i.columnModel.getHeaderRowCount()-1;i.groupsRowCtrls=i.destroyBeans(i.groupsRowCtrls);for(var d=0;d<c;d++){var p=i.createBean(new Id(r.next(),i.pinned,De.COLUMN_GROUP));i.groupsRowCtrls.push(p)}},a=function(){var c=r.next(),d=!i.hidden&&(i.columnsRowCtrl==null||!t||i.columnsRowCtrl.getRowIndex()!==c),p=d||i.hidden;p&&(i.columnsRowCtrl=i.destroyBean(i.columnsRowCtrl)),d&&(i.columnsRowCtrl=i.createBean(new Id(c,i.pinned,De.COLUMN)))},l=function(){i.includeFloatingFilter=i.filterManager.hasFloatingFilters()&&!i.hidden;var c=function(){i.filtersRowCtrl=i.destroyBean(i.filtersRowCtrl)};if(!i.includeFloatingFilter){c();return}var d=r.next();if(i.filtersRowCtrl){var p=i.filtersRowCtrl.getRowIndex()!==d;(!t||p)&&c()}i.filtersRowCtrl||(i.filtersRowCtrl=i.createBean(new Id(d,i.pinned,De.FLOATING_FILTER)))};s(),a(),l();var u=this.getAllCtrls();this.comp.setCtrls(u),this.restoreFocusOnHeader(o)},e.prototype.restoreFocusOnHeader=function(t){t==null||t.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:t})},e.prototype.getAllCtrls=function(){var t=PN([],xN(this.groupsRowCtrls));return this.columnsRowCtrl&&t.push(this.columnsRowCtrl),this.filtersRowCtrl&&t.push(this.filtersRowCtrl),t},e.prototype.onGridColumnsChanged=function(){this.refresh(!0)},e.prototype.onDisplayedColumnsChanged=function(){var t=this.filterManager.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==t&&this.refresh(!0)},e.prototype.setupCenterWidth=function(){var t=this;this.pinned==null&&this.createManagedBean(new wf(function(i){return t.comp.setCenterWidth(i+"px")},!0))},e.prototype.setHorizontalScroll=function(t){this.comp.setViewportScrollLeft(t)},e.prototype.setupPinnedWidth=function(){var t=this;if(this.pinned!=null){var i=this.pinned==="left",r=this.pinned==="right";this.hidden=!0;var o=function(){var s=i?t.pinnedWidthService.getPinnedLeftWidth():t.pinnedWidthService.getPinnedRightWidth();if(s!=null){var a=s==0,l=t.hidden!==a,u=t.gridOptionsService.is("enableRtl"),c=t.gridOptionsService.getScrollbarWidth(),d=t.scrollVisibleService.isVerticalScrollShowing()&&(u&&i||!u&&r),p=d?s+c:s;t.comp.setPinnedContainerWidth(p+"px"),t.comp.setDisplayed(!a),l&&(t.hidden=a,t.refresh())}};this.addManagedListener(this.eventService,C.EVENT_LEFT_PINNED_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,C.EVENT_RIGHT_PINNED_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,C.EVENT_SCROLL_VISIBILITY_CHANGED,o),this.addManagedListener(this.eventService,C.EVENT_SCROLLBAR_WIDTH_CHANGED,o)}},e.prototype.getHeaderCtrlForColumn=function(t){if(t instanceof Bt)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(t):void 0;if(this.groupsRowCtrls.length!==0)for(var i=0;i<this.groupsRowCtrls.length;i++){var r=this.groupsRowCtrls[i].getHeaderCellCtrl(t);if(r)return r}},e.prototype.getHtmlElementForColumnHeader=function(t){var i=this.getHeaderCtrlForColumn(t);return i?i.getGui():null},e.prototype.getRowType=function(t){var i=this.getAllCtrls(),r=i[t];return r?r.getType():void 0},e.prototype.focusHeader=function(t,i,r){var o=this.getAllCtrls(),s=o[t];return s?s.focusHeader(i,r):!1},e.prototype.getRowCount=function(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)},e.prototype.destroy=function(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),n.prototype.destroy.call(this)},wo([y("ctrlsService")],e.prototype,"ctrlsService",void 0),wo([y("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),wo([y("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),wo([y("columnModel")],e.prototype,"columnModel",void 0),wo([y("focusService")],e.prototype,"focusService",void 0),wo([y("filterManager")],e.prototype,"filterManager",void 0),e}(j),AN=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Nd=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Gd=function(n){AN(e,n);function e(t){var i=n.call(this)||this;return i.headerRowComps={},i.rowCompsList=[],i.pinned=t,i}return e.prototype.init=function(){var t=this;this.selectAndSetTemplate();var i={setDisplayed:function(o){return t.setDisplayed(o)},setCtrls:function(o){return t.setCtrls(o)},setCenterWidth:function(o){return t.eCenterContainer.style.width=o},setViewportScrollLeft:function(o){return t.getGui().scrollLeft=o},setPinnedContainerWidth:function(o){var s=t.getGui();s.style.width=o,s.style.maxWidth=o,s.style.minWidth=o}},r=this.createManagedBean(new DN(this.pinned));r.setComp(i,this.getGui())},e.prototype.selectAndSetTemplate=function(){var t=this.pinned=="left",i=this.pinned=="right",r=t?e.PINNED_LEFT_TEMPLATE:i?e.PINNED_RIGHT_TEMPLATE:e.CENTER_TEMPLATE;this.setTemplate(r),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},e.prototype.destroyRowComps=function(){this.setCtrls([])},e.prototype.destroyRowComp=function(t){this.destroyBean(t),this.eRowContainer.removeChild(t.getGui())},e.prototype.setCtrls=function(t){var i=this,r=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];var o,s=function(a){var l=a.getGui(),u=l.parentElement!=i.eRowContainer;u&&i.eRowContainer.appendChild(l),o&&nf(i.eRowContainer,l,o),o=l};t.forEach(function(a){var l=a.getInstanceId(),u=r[l];delete r[l];var c=u||i.createBean(new ZI(a));i.headerRowComps[l]=c,i.rowCompsList.push(c),s(c)}),fr(r).forEach(function(a){return i.destroyRowComp(a)})},e.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="presentation"></div>',e.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="presentation"></div>',e.CENTER_TEMPLATE=`<div class="ag-header-viewport" role="presentation">
            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>
        </div>`,Nd([K("eCenterContainer")],e.prototype,"eCenterContainer",void 0),Nd([U],e.prototype,"init",null),Nd([Ee],e.prototype,"destroyRowComps",null),e}(wt),FN=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),bs=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},ur;(function(n){n[n.UP=0]="UP",n[n.DOWN=1]="DOWN",n[n.LEFT=2]="LEFT",n[n.RIGHT=3]="RIGHT"})(ur||(ur={}));var MN=function(n){FN(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(i){t.gridBodyCon=i.gridBodyCtrl})},e.prototype.getHeaderRowCount=function(){var t=this.ctrlsService.getHeaderRowContainerCtrl();return t?t.getRowCount():0},e.prototype.navigateVertically=function(t,i,r){if(i||(i=this.focusService.getFocusedHeader()),!i)return!1;var o=i.headerRowIndex,s=i.column,a=this.getHeaderRowCount(),l=t===ur.UP,u=l?this.headerPositionUtils.getColumnVisibleParent(s,o):this.headerPositionUtils.getColumnVisibleChild(s,o),c=u.nextRow,d=u.nextFocusColumn,p=!1;return c<0&&(c=0,d=s,p=!0),c>=a&&(c=-1),!p&&!d?!1:this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:c,column:d},allowUserOverride:!0,event:r})},e.prototype.navigateHorizontally=function(t,i,r){i===void 0&&(i=!1);var o=this.focusService.getFocusedHeader(),s=t===ur.LEFT,a=this.gridOptionsService.is("enableRtl"),l,u;return s!==a?(u="Before",l=this.headerPositionUtils.findHeader(o,u)):(u="After",l=this.headerPositionUtils.findHeader(o,u)),l||!i?this.focusService.focusHeaderPosition({headerPosition:l,direction:u,fromTab:i,allowUserOverride:!0,event:r}):this.focusNextHeaderRow(o,u,r)},e.prototype.focusNextHeaderRow=function(t,i,r){var o=t.headerRowIndex,s=null,a;return i==="Before"?o>0&&(a=o-1,s=this.headerPositionUtils.findColAtEdgeForHeaderRow(a,"end")):(a=o+1,s=this.headerPositionUtils.findColAtEdgeForHeaderRow(a,"start")),this.focusService.focusHeaderPosition({headerPosition:s,direction:i,fromTab:!0,allowUserOverride:!0,event:r})},e.prototype.scrollToColumn=function(t,i){if(i===void 0&&(i="After"),!t.getPinned()){var r;if(t instanceof Te){var o=t.getDisplayedLeafColumns();r=i==="Before"?Vt(o):o[0]}else r=t;this.gridBodyCon.getScrollFeature().ensureColumnVisible(r)}},bs([y("focusService")],e.prototype,"focusService",void 0),bs([y("headerPositionUtils")],e.prototype,"headerPositionUtils",void 0),bs([y("ctrlsService")],e.prototype,"ctrlsService",void 0),bs([U],e.prototype,"postConstruct",null),e=bs([Z("headerNavigationService")],e),e}(j),LN=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Rs=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},IN=function(n){LN(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.setComp=function(t,i,r){this.comp=t,this.eGui=i,this.createManagedBean(new En(r,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,C.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)},e.prototype.setupHeaderHeight=function(){var t=this.setHeaderHeight.bind(this);t(),this.addManagedPropertyListener("headerHeight",t),this.addManagedPropertyListener("pivotHeaderHeight",t),this.addManagedPropertyListener("groupHeaderHeight",t),this.addManagedPropertyListener("pivotGroupHeaderHeight",t),this.addManagedPropertyListener("floatingFiltersHeight",t),this.addManagedListener(this.eventService,C.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,C.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,t),this.addManagedListener(this.eventService,C.EVENT_GRID_STYLES_CHANGED,t),this.addManagedListener(this.eventService,C.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,t)},e.prototype.getHeaderHeight=function(){return this.headerHeight},e.prototype.setHeaderHeight=function(){var t=this.columnModel,i=0,r=t.getHeaderRowCount(),o,s=this.filterManager.hasFloatingFilters();s&&(r++,i=1);var a=this.columnModel.getColumnGroupHeaderRowHeight(),l=this.columnModel.getColumnHeaderRowHeight(),u=1+i,c=r-u;if(o=i*t.getFloatingFiltersHeight(),o+=c*a,o+=l,this.headerHeight!==o){this.headerHeight=o;var d=o+1+"px";this.comp.setHeightAndMinHeight(d),this.eventService.dispatchEvent({type:C.EVENT_HEADER_HEIGHT_CHANGED})}},e.prototype.onPivotModeChanged=function(){var t=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",t),this.comp.addOrRemoveCssClass("ag-pivot-off",!t)},e.prototype.onDisplayedColumnsChanged=function(){var t=this.columnModel.getAllDisplayedColumns(),i=t.some(function(r){return r.isSpanHeaderHeight()});this.comp.addOrRemoveCssClass("ag-header-allow-overflow",i)},e.prototype.onTabKeyDown=function(t){var i=this.gridOptionsService.is("enableRtl"),r=t.shiftKey!==i?ur.LEFT:ur.RIGHT;(this.headerNavigationService.navigateHorizontally(r,!0,t)||this.focusService.focusNextGridCoreContainer(t.shiftKey))&&t.preventDefault()},e.prototype.handleKeyDown=function(t){var i=null;switch(t.key){case A.LEFT:i=ur.LEFT;case A.RIGHT:N(i)||(i=ur.RIGHT),this.headerNavigationService.navigateHorizontally(i,!1,t);break;case A.UP:i=ur.UP;case A.DOWN:N(i)||(i=ur.DOWN),this.headerNavigationService.navigateVertically(i,null,t)&&t.preventDefault();break;default:return}},e.prototype.onFocusOut=function(t){var i=this.gridOptionsService.getDocument(),r=t.relatedTarget;!r&&this.eGui.contains(i.activeElement)||this.eGui.contains(r)||this.focusService.clearFocusedHeader()},Rs([y("headerNavigationService")],e.prototype,"headerNavigationService",void 0),Rs([y("focusService")],e.prototype,"focusService",void 0),Rs([y("columnModel")],e.prototype,"columnModel",void 0),Rs([y("ctrlsService")],e.prototype,"ctrlsService",void 0),Rs([y("filterManager")],e.prototype,"filterManager",void 0),e}(j),NN=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),GN=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},HN=function(n){NN(e,n);function e(){return n.call(this,e.TEMPLATE)||this}return e.prototype.postConstruct=function(){var t=this,i={addOrRemoveCssClass:function(s,a){return t.addOrRemoveCssClass(s,a)},setHeightAndMinHeight:function(s){t.getGui().style.height=s,t.getGui().style.minHeight=s}},r=this.createManagedBean(new IN);r.setComp(i,this.getGui(),this.getFocusableElement());var o=function(s){t.createManagedBean(s),t.appendChild(s)};o(new Gd("left")),o(new Gd(null)),o(new Gd("right"))},e.TEMPLATE='<div class="ag-header" role="presentation"/>',GN([U],e.prototype,"postConstruct",null),e}(wt),VN=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Hd=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},kN=function(n){VN(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.addResizeBar=function(t){var i=this,r={dragStartPixels:t.dragStartPixels||0,eElement:t.eResizeBar,onDragStart:this.onDragStart.bind(this,t),onDragStop:this.onDragStop.bind(this,t),onDragging:this.onDragging.bind(this,t),includeTouch:!0,stopPropagationForTouch:!0};this.dragService.addDragSource(r);var o=function(){return i.dragService.removeDragSource(r)};return o},e.prototype.onDragStart=function(t,i){this.dragStartX=i.clientX,this.setResizeIcons();var r=i instanceof MouseEvent&&i.shiftKey===!0;t.onResizeStart(r)},e.prototype.setResizeIcons=function(){var t=this.ctrlsService.getGridCtrl();t.setResizeCursor(!0),t.disableUserSelect(!0)},e.prototype.onDragStop=function(t,i){t.onResizeEnd(this.resizeAmount),this.resetIcons()},e.prototype.resetIcons=function(){var t=this.ctrlsService.getGridCtrl();t.setResizeCursor(!1),t.disableUserSelect(!1)},e.prototype.onDragging=function(t,i){this.resizeAmount=i.clientX-this.dragStartX,t.onResizing(this.resizeAmount)},Hd([y("dragService")],e.prototype,"dragService",void 0),Hd([y("ctrlsService")],e.prototype,"ctrlsService",void 0),e=Hd([Z("horizontalResizeService")],e),e}(j),BN=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Os=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},jN=function(n){BN(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},e.prototype.showMenuAfterMouseEvent=function(t,i){var r=this;this.showPopup(t,function(o){r.popupService.positionPopupUnderMouseEvent({column:t,type:"columnMenu",mouseEvent:i,ePopup:o})},"columnMenu",i.target)},e.prototype.showMenuAfterButtonClick=function(t,i,r){var o=this;this.showPopup(t,function(s){o.popupService.positionPopupByComponent({type:r,eventSource:i,ePopup:s,keepWithinBounds:!0,position:"under",column:t})},r,i)},e.prototype.showPopup=function(t,i,r,o){var s=this,a=this.filterManager.getOrCreateFilterWrapper(t,"COLUMN_MENU");if(!a)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");var l=document.createElement("div");Ce(l,"presentation"),l.classList.add("ag-menu"),this.tabListener=this.addManagedListener(l,"keydown",function(g){return s.trapFocusWithin(g,l)}),a.guiPromise.then(function(g){return l.appendChild(g)});var u,c=function(){var g;return(g=a.filterPromise)===null||g===void 0?void 0:g.then(function(v){var m;return(m=v==null?void 0:v.afterGuiDetached)===null||m===void 0?void 0:m.call(v)})},d=o||this.ctrlsService.getGridBodyCtrl().getGui(),p=function(g){t.setMenuVisible(!1,"contextMenu");var v=g instanceof KeyboardEvent;if(s.tabListener&&(s.tabListener=s.tabListener()),v&&o&&_n(o)){var m=s.focusService.findTabbableParent(o);m&&m.focus()}c()},h=this.localeService.getLocaleTextFunc(),f=this.popupService.addPopup({modal:!0,eChild:l,closeOnEsc:!0,closedCallback:p,positionCallback:function(){return i(l)},anchorToElement:d,ariaLabel:h("ariaLabelColumnMenu","Column Menu")});f&&(this.hidePopup=u=f.hideFunc),a.filterPromise.then(function(g){i(l),g.afterGuiAttached&&g.afterGuiAttached({container:r,hidePopup:u})}),t.setMenuVisible(!0,"contextMenu")},e.prototype.trapFocusWithin=function(t,i){t.key!==A.TAB||t.defaultPrevented||this.focusService.findNextFocusableElement(i,!1,t.shiftKey)||(t.preventDefault(),this.focusService.focusInto(i,t.shiftKey))},e.prototype.isMenuEnabled=function(t){return t.isFilterAllowed()&&t.getMenuTabs(["filterMenuTab"]).includes("filterMenuTab")},Os([y("filterManager")],e.prototype,"filterManager",void 0),Os([y("popupService")],e.prototype,"popupService",void 0),Os([y("focusService")],e.prototype,"focusService",void 0),Os([y("ctrlsService")],e.prototype,"ctrlsService",void 0),e=Os([Z("menuFactory")],e),e}(j),WN=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),wl=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o};(function(n){WN(e,n);function e(t){var i=n.call(this,e.getTemplate(t.cssClass))||this;return i.items=[],i.tabbedItemScrollMap=new Map,i.params=t,t.items&&t.items.forEach(function(r){return i.addItem(r)}),i}return e.prototype.postConstruct=function(){var t=this;this.createManagedBean(new En(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)})),this.addDestroyFunc(function(){var i,r,o;return(o=(r=(i=t.activeItem)===null||i===void 0?void 0:i.tabbedItem)===null||r===void 0?void 0:r.afterDetachedCallback)===null||o===void 0?void 0:o.call(r)})},e.getTemplate=function(t){return'<div class="ag-tabs '+t+`">
            <div ref="eHeader" role="tablist" class="ag-tabs-header `+(t?t+"-header":"")+`"></div>
            <div ref="eBody" role="presentation" class="ag-tabs-body `+(t?t+"-body":"")+`"></div>
        </div>`},e.prototype.handleKeyDown=function(t){var i=this.gridOptionsService.getDocument();switch(t.key){case A.RIGHT:case A.LEFT:if(!this.eHeader.contains(i.activeElement))return;var r=t.key===A.RIGHT,o=this.gridOptionsService.is("enableRtl"),s=this.items.indexOf(this.activeItem),a=r!==o?Math.min(s+1,this.items.length-1):Math.max(s-1,0);if(s===a)return;t.preventDefault();var l=this.items[a];this.showItemWrapper(l),l.eHeaderButton.focus();break;case A.UP:case A.DOWN:t.stopPropagation();break}},e.prototype.onTabKeyDown=function(t){if(!t.defaultPrevented){var i=this,r=i.focusService,o=i.eHeader,s=i.eBody,a=i.activeItem,l=this.gridOptionsService.getDocument(),u=l.activeElement,c=t.target;if(t.preventDefault(),o.contains(u)){r.focusInto(s,t.shiftKey);return}var d=null;r.isTargetUnderManagedComponent(s,c)&&(t.shiftKey&&(d=this.focusService.findFocusableElementBeforeTabGuard(s,c)),d||(d=a.eHeaderButton)),!d&&s.contains(u)&&(d=r.findNextFocusableElement(s,!1,t.shiftKey),d||(d=a.eHeaderButton)),d&&d.focus()}},e.prototype.setAfterAttachedParams=function(t){this.afterAttachedParams=t},e.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},e.prototype.addItem=function(t){var i=document.createElement("span");Ce(i,"tab"),i.setAttribute("tabindex","-1"),i.appendChild(t.title),i.classList.add("ag-tab"),this.eHeader.appendChild(i),Lr(i,t.titleLabel);var r={tabbedItem:t,eHeaderButton:i};this.items.push(r),i.addEventListener("click",this.showItemWrapper.bind(this,r))},e.prototype.showItem=function(t){var i=this.items.find(function(r){return r.tabbedItem===t});i&&this.showItemWrapper(i)},e.prototype.showItemWrapper=function(t){var i=this,r,o,s=t.tabbedItem,a=t.eHeaderButton;if(this.params.onItemClicked&&this.params.onItemClicked({item:s}),this.activeItem===t){xw(this.params.onActiveItemClicked);return}this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),Ve(this.eBody),s.bodyPromise.then(function(l){i.eBody.appendChild(l);var u=!i.focusService.isKeyboardMode();if(i.focusService.focusInto(i.eBody,!1,u),s.afterAttachedCallback&&s.afterAttachedCallback(i.afterAttachedParams),i.params.keepScrollPosition){var c=s.getScrollableContainer&&s.getScrollableContainer()||l;i.lastScrollListener=i.addManagedListener(c,"scroll",function(){i.tabbedItemScrollMap.set(s.name,c.scrollTop)});var d=i.tabbedItemScrollMap.get(s.name);d!==void 0&&setTimeout(function(){c.scrollTop=d},0)}}),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),(o=(r=this.activeItem.tabbedItem).afterDetachedCallback)===null||o===void 0||o.call(r)),a.classList.add("ag-tab-selected"),this.activeItem=t},wl([y("focusService")],e.prototype,"focusService",void 0),wl([K("eHeader")],e.prototype,"eHeader",void 0),wl([K("eBody")],e.prototype,"eBody",void 0),wl([U],e.prototype,"postConstruct",null),e})(wt);var UN=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),zN=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},$N=50,KN=function(n){UN(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.polyfillFunctions=[],t}return e.prototype.observeResize=function(t,i){var r=this,o=this.gridOptionsService.getWindow(),s=function(){var c=new o.ResizeObserver(i);return c.observe(t),function(){return c.disconnect()}},a=function(){var c=Bp(t),d=kp(t),p=!0,h=function(){if(p){var f=Bp(t),g=kp(t),v=f!==c||g!==d;v&&(c=f,d=g,i()),r.doNextPolyfillTurn(h)}};return h(),function(){return p=!1}},l=this.gridOptionsService.is("suppressBrowserResizeObserver"),u=!!o.ResizeObserver;return u&&!l?s():a()},e.prototype.doNextPolyfillTurn=function(t){this.polyfillFunctions.push(t),this.schedulePolyfill()},e.prototype.schedulePolyfill=function(){var t=this;if(!this.polyfillScheduled){var i=function(){var r=t.polyfillFunctions;t.polyfillScheduled=!1,t.polyfillFunctions=[],r.forEach(function(o){return o()})};this.polyfillScheduled=!0,this.getFrameworkOverrides().setTimeout(i,$N)}},e=zN([Z("resizeObserverService")],e),e}(j),YN=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Sl=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},qN=function(n){YN(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.createTasksP1={list:[],sorted:!1},t.createTasksP2={list:[],sorted:!1},t.destroyTasks=[],t.ticking=!1,t.scrollGoingDown=!0,t.lastPage=0,t.lastScrollTop=0,t.taskCount=0,t.cancelledTasks=new Set,t}return e.prototype.setScrollTop=function(t){var i=this.gridOptionsService.is("pagination");if(this.scrollGoingDown=t>=this.lastScrollTop,i&&t===0){var r=this.paginationProxy.getCurrentPage();r!==this.lastPage&&(this.lastPage=r,this.scrollGoingDown=!0)}this.lastScrollTop=t},e.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsService.is("suppressAnimationFrame")},e.prototype.isOn=function(){return this.useAnimationFrame},e.prototype.verifyAnimationFrameOn=function(t){this.useAnimationFrame===!1&&console.warn("AG Grid: AnimationFrameService."+t+" called but animation frames are off")},e.prototype.createTask=function(t,i,r){this.verifyAnimationFrameOn(r);var o={task:t,index:i,createOrder:++this.taskCount};this.addTaskToList(this[r],o),this.schedule()},e.prototype.cancelTask=function(t){this.cancelledTasks.add(t)},e.prototype.addTaskToList=function(t,i){t.list.push(i),t.sorted=!1},e.prototype.sortTaskList=function(t){if(!t.sorted){var i=this.scrollGoingDown?1:-1;t.list.sort(function(r,o){return r.index!==o.index?i*(o.index-r.index):o.createOrder-r.createOrder}),t.sorted=!0}},e.prototype.addDestroyTask=function(t){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(t),this.schedule()},e.prototype.executeFrame=function(t){this.verifyAnimationFrameOn("executeFrame");for(var i=this.createTasksP1,r=i.list,o=this.createTasksP2,s=o.list,a=this.destroyTasks,l=new Date().getTime(),u=new Date().getTime()-l,c=t<=0,d=this.ctrlsService.getGridBodyCtrl();c||u<t;){var p=d.getScrollFeature().scrollGridIfNeeded();if(!p){var h=void 0;if(r.length)this.sortTaskList(i),h=r.pop().task;else if(s.length)this.sortTaskList(o),h=s.pop().task;else if(a.length)h=a.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(h)||h()}u=new Date().getTime()-l}r.length||s.length||a.length?this.requestFrame():this.stopTicking()},e.prototype.stopTicking=function(){this.ticking=!1},e.prototype.flushAllFrames=function(){this.useAnimationFrame&&this.executeFrame(-1)},e.prototype.schedule=function(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))},e.prototype.requestFrame=function(){var t=this.executeFrame.bind(this,60);this.requestAnimationFrame(t)},e.prototype.requestAnimationFrame=function(t){var i=this.gridOptionsService.getWindow();i.requestAnimationFrame?i.requestAnimationFrame(t):i.webkitRequestAnimationFrame?i.webkitRequestAnimationFrame(t):i.setTimeout(t,0)},e.prototype.isQueueEmpty=function(){return!this.ticking},e.prototype.debounce=function(t){var i=this,r=!1;return function(){if(!i.isOn()){i.getFrameworkOverrides().setTimeout(t,0);return}r||(r=!0,i.addDestroyTask(function(){r=!1,t()}))}},Sl([y("ctrlsService")],e.prototype,"ctrlsService",void 0),Sl([y("paginationProxy")],e.prototype,"paginationProxy",void 0),Sl([U],e.prototype,"init",null),e=Sl([Z("animationFrameService")],e),e}(j),XN=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ts=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},QN=function(n){XN(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(i){t.centerRowContainerCtrl=i.centerRowContainerCtrl})},e.prototype.getPreferredWidthForColumn=function(t,i){var r=this.getHeaderCellForColumn(t);if(!r)return-1;var o=this.rowRenderer.getAllCellsForColumn(t);return i||o.push(r),this.addElementsToContainerAndGetWidth(o)},e.prototype.getPreferredWidthForColumnGroup=function(t){var i=this.getHeaderCellForColumn(t);return i?this.addElementsToContainerAndGetWidth([i]):-1},e.prototype.addElementsToContainerAndGetWidth=function(t){var i=this,r=document.createElement("form");r.style.position="fixed";var o=this.centerRowContainerCtrl.getContainerElement();t.forEach(function(l){return i.cloneItemIntoDummy(l,r)}),o.appendChild(r);var s=r.offsetWidth;o.removeChild(r);var a=this.getAutoSizePadding();return s+a},e.prototype.getAutoSizePadding=function(){var t=this.gridOptionsService.getNum("autoSizePadding");return t!=null&&t>=0?t:20},e.prototype.getHeaderCellForColumn=function(t){var i=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(r){var o=r.getHtmlElementForColumnHeader(t);o!=null&&(i=o)}),i},e.prototype.cloneItemIntoDummy=function(t,i){var r=t.cloneNode(!0);r.style.width="",r.style.position="static",r.style.left="";var o=document.createElement("div"),s=o.classList,a=["ag-header-cell","ag-header-group-cell"].some(function(p){return r.classList.contains(p)});a?(s.add("ag-header","ag-header-row"),o.style.position="static"):s.add("ag-row");for(var l=t.parentElement;l;){var u=["ag-header-row","ag-row"].some(function(p){return l.classList.contains(p)});if(u){for(var c=0;c<l.classList.length;c++){var d=l.classList[c];d!="ag-row-position-absolute"&&s.add(d)}break}l=l.parentElement}o.appendChild(r),i.appendChild(o)},Ts([y("rowRenderer")],e.prototype,"rowRenderer",void 0),Ts([y("ctrlsService")],e.prototype,"ctrlsService",void 0),Ts([y("rowCssClassCalculator")],e.prototype,"rowCssClassCalculator",void 0),Ts([U],e.prototype,"postConstruct",null),e=Ts([Z("autoWidthCalculator")],e),e}(j),JN=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),_l=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},ZN=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tG=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},eG=function(n,e){for(var t=0,i=e.length,r=n.length;t<i;t++,r++)n[r]=e[t];return n},iG=function(n){JN(e,n);function e(t,i){var r=n.call(this)||this;return r.createRowCon=t,r.destroyRowCtrls=i,r.stickyRowCtrls=[],r.containerHeight=0,r}return e.prototype.postConstruct=function(){var t=this;this.isClientSide=this.rowModel.getType()==="clientSide",this.ctrlsService.whenReady(function(i){t.gridBodyCtrl=i.gridBodyCtrl})},e.prototype.getStickyRowCtrls=function(){return this.stickyRowCtrls},e.prototype.checkStickyRows=function(){var t=this,i=0;if(!this.gridOptionsService.isGroupRowsSticky())return this.refreshNodesAndContainerHeight([],i);for(var r=[],o=this.rowRenderer.getFirstVisibleVerticalPixel(),s=function(h){var f,g,v;r.push(h);var m;if(t.isClientSide){for(var w=h;w.expanded;)if(w.master)w=w.detailNode;else if(w.childrenAfterSort){if(w.childrenAfterSort.length===0)break;w=Vt(w.childrenAfterSort)}m=w.rowTop+w.rowHeight}else if(h.master)m=h.detailNode.rowTop+h.detailNode.rowHeight;else{var b=(f=h.childStore)===null||f===void 0?void 0:f.getStoreBounds();m=((g=b==null?void 0:b.heightPx)!==null&&g!==void 0?g:0)+((v=b==null?void 0:b.topPx)!==null&&v!==void 0?v:0)}var E=o+i+h.rowHeight;m<E?h.stickyRowTop=i+(m-E):h.stickyRowTop=i,i=0,r.forEach(function(O){var P=O.stickyRowTop+O.rowHeight;i<P&&(i=P)})};;){var a=o+i,l=this.rowModel.getRowIndexAtPixel(a),u=this.rowModel.getRow(l);if(u==null||u.level<0)break;for(var c=[],d=u.parent;d.level>=0;)c.push(d),d=d.parent;var p=c.reverse().find(function(h){return r.indexOf(h)<0&&h.displayed});if(p){s(p);continue}if(u.isExpandable()&&u.expanded&&u.rowTop<a){s(u);continue}break}return this.refreshNodesAndContainerHeight(r,i)},e.prototype.refreshStickyNode=function(t){for(var i=[],r=0;r<this.stickyRowCtrls.length;r++){var o=this.stickyRowCtrls[r].getRowNode();o!==t&&i.push(o)}this.refreshNodesAndContainerHeight(i,this.containerHeight)&&this.checkStickyRows()},e.prototype.refreshNodesAndContainerHeight=function(t,i){var r,o,s,a=this,l=!1,u=this.stickyRowCtrls.filter(function(v){return t.indexOf(v.getRowNode())===-1}),c=t.filter(function(v){return a.stickyRowCtrls.findIndex(function(m){return m.getRowNode()===v})===-1});(u.length||c.length)&&(l=!0);var d={};u.forEach(function(v){d[v.getRowNode().id]=v,a.stickyRowCtrls=a.stickyRowCtrls.filter(function(m){return m!==v})});try{for(var p=ZN(Object.values(d)),h=p.next();!h.done;h=p.next()){var f=h.value;f.getRowNode().sticky=!1}}catch(v){r={error:v}}finally{try{h&&!h.done&&(o=p.return)&&o.call(p)}finally{if(r)throw r.error}}this.destroyRowCtrls(d,!1);var g=c.map(function(v){return v.sticky=!0,a.createRowCon(v,!1,!1)});return(s=this.stickyRowCtrls).push.apply(s,eG([],tG(g))),this.stickyRowCtrls.forEach(function(v){return v.setRowTop(v.getRowNode().stickyRowTop)}),this.stickyRowCtrls.sort(function(v,m){return m.getRowNode().rowIndex-v.getRowNode().rowIndex}),this.containerHeight!==i&&(this.containerHeight=i,this.gridBodyCtrl.setStickyTopHeight(i),l=!0),l},_l([y("rowModel")],e.prototype,"rowModel",void 0),_l([y("rowRenderer")],e.prototype,"rowRenderer",void 0),_l([y("ctrlsService")],e.prototype,"ctrlsService",void 0),_l([U],e.prototype,"postConstruct",null),e}(j),rG=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ni=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Ur=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},zr=function(n,e){for(var t=0,i=e.length,r=n.length;t<i;t++,r++)n[r]=e[t];return n},nG=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},oG=10,sG=function(n){rG(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.destroyFuncsForColumnListeners=[],t.rowCtrlsByRowIndex={},t.zombieRowCtrls={},t.allRowCtrls=[],t.topRowCtrls=[],t.bottomRowCtrls=[],t.refreshInProgress=!1,t.dataFirstRenderedFired=!1,t}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl(),t.initialise()})},e.prototype.initialise=function(){if(this.addManagedListener(this.eventService,C.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,C.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_BODY_SCROLL,this.onBodyScroll.bind(this)),this.addManagedListener(this.eventService,C.EVENT_BODY_HEIGHT_CHANGED,this.redraw.bind(this)),this.addManagedPropertyListener("domLayout",this.onDomLayoutChanged.bind(this)),this.addManagedPropertyListener("rowClass",this.redrawRows.bind(this)),this.gridOptionsService.isGroupRowsSticky()){var t=this.rowModel.getType();(t==="clientSide"||t==="serverSide")&&(this.stickyRowFeature=this.createManagedBean(new iG(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this))))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsService.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gridOptionsService.is("embedFullWidthRows"),this.redrawAfterModelUpdate()},e.prototype.initialiseCache=function(){if(this.gridOptionsService.is("keepDetailRows")){var t=this.getKeepDetailRowsCount(),i=t??3;this.cachedRowCtrls=new aG(i)}},e.prototype.getKeepDetailRowsCount=function(){var t=this.gridOptionsService.getNum("keepDetailRowsCount");return N(t)&&t>0?t:oG},e.prototype.getStickyTopRowCtrls=function(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]},e.prototype.updateAllRowCtrls=function(){var t=fr(this.rowCtrlsByRowIndex),i=this.gridOptionsService.is("ensureDomOrder"),r=this.gridOptionsService.isDomLayout("print");(i||r)&&t.sort(function(a,l){return a.getRowNode().rowIndex-l.getRowNode.rowIndex});var o=fr(this.zombieRowCtrls),s=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];o.length>0||s.length>0?this.allRowCtrls=zr(zr(zr([],Ur(t)),Ur(o)),Ur(s)):this.allRowCtrls=t},e.prototype.onCellFocusChanged=function(t){this.getAllCellCtrls().forEach(function(i){return i.onCellFocused(t)}),this.getFullWidthRowCtrls().forEach(function(i){return i.onFullWidthRowFocused(t)})},e.prototype.registerCellEventListeners=function(){var t=this;this.addManagedListener(this.eventService,C.EVENT_CELL_FOCUSED,function(r){t.onCellFocusChanged(r)}),this.addManagedListener(this.eventService,C.EVENT_CELL_FOCUS_CLEARED,function(){t.onCellFocusChanged()}),this.addManagedListener(this.eventService,C.EVENT_FLASH_CELLS,function(r){t.getAllCellCtrls().forEach(function(o){return o.onFlashCells(r)})}),this.addManagedListener(this.eventService,C.EVENT_COLUMN_HOVER_CHANGED,function(){t.getAllCellCtrls().forEach(function(r){return r.onColumnHover()})}),this.addManagedListener(this.eventService,C.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){t.getAllCellCtrls().forEach(function(r){return r.onDisplayedColumnsChanged()})}),this.addManagedListener(this.eventService,C.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){t.printLayout&&t.getAllCellCtrls().forEach(function(r){return r.onLeftChanged()})});var i=this.gridOptionsService.is("enableRangeSelection");i&&(this.addManagedListener(this.eventService,C.EVENT_RANGE_SELECTION_CHANGED,function(){t.getAllCellCtrls().forEach(function(r){return r.onRangeSelectionChanged()})}),this.addManagedListener(this.eventService,C.EVENT_COLUMN_MOVED,function(){t.getAllCellCtrls().forEach(function(r){return r.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,C.EVENT_COLUMN_PINNED,function(){t.getAllCellCtrls().forEach(function(r){return r.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,C.EVENT_COLUMN_VISIBLE,function(){t.getAllCellCtrls().forEach(function(r){return r.updateRangeBordersIfRangeCount()})})),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,C.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},e.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach(function(t){return t()}),this.destroyFuncsForColumnListeners.length=0},e.prototype.refreshListenersToColumnsForCellComps=function(){var t=this;this.removeGridColumnListeners();var i=this.columnModel.getAllGridColumns();i&&i.forEach(function(r){var o=function(d){t.getAllCellCtrls().forEach(function(p){p.getColumn()===r&&d(p)})},s=function(){o(function(d){return d.onLeftChanged()})},a=function(){o(function(d){return d.onWidthChanged()})},l=function(){o(function(d){return d.onFirstRightPinnedChanged()})},u=function(){o(function(d){return d.onLastLeftPinnedChanged()})},c=function(){o(function(d){return d.onColDefChanged()})};r.addEventListener("leftChanged",s),r.addEventListener("widthChanged",a),r.addEventListener("firstRightPinnedChanged",l),r.addEventListener("lastLeftPinnedChanged",u),r.addEventListener("colDefChanged",c),t.destroyFuncsForColumnListeners.push(function(){r.removeEventListener("leftChanged",s),r.removeEventListener("widthChanged",a),r.removeEventListener("firstRightPinnedChanged",l),r.removeEventListener("lastLeftPinnedChanged",u),r.removeEventListener("colDefChanged",c)})})},e.prototype.onDomLayoutChanged=function(){var t=this.gridOptionsService.isDomLayout("print"),i=t||this.gridOptionsService.is("embedFullWidthRows"),r=i!==this.embedFullWidthRows||this.printLayout!==t;this.printLayout=t,this.embedFullWidthRows=i,r&&this.redrawAfterModelUpdate({domLayoutChanged:!0})},e.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t)},e.prototype.onPageLoaded=function(t){var i={recycleRows:t.keepRenderedRows,animate:t.animate,newData:t.newData,newPage:t.newPage,onlyBody:!0};this.redrawAfterModelUpdate(i)},e.prototype.getAllCellsForColumn=function(t){var i=[];return this.getAllRowCtrls().forEach(function(r){var o=r.getCellElement(t);o&&i.push(o)}),i},e.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},e.prototype.getTopRowCtrls=function(){return this.topRowCtrls},e.prototype.getCentreRowCtrls=function(){return this.allRowCtrls},e.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},e.prototype.refreshFloatingRows=function(t,i){var r=this;t.forEach(function(o){o.destroyFirstPass(),o.destroySecondPass()}),t.length=0,i&&i.forEach(function(o){var s=new to(o,r.beans,!1,!1,r.printLayout);t.push(s)})},e.prototype.onPinnedRowDataChanged=function(){var t={recycleRows:!0};this.redrawAfterModelUpdate(t)},e.prototype.redrawRow=function(t,i){var r=this;if(i===void 0&&(i=!1),t.sticky)this.stickyRowFeature.refreshStickyNode(t);else{var o=function(s){var a=s[t.rowIndex];a&&a.getRowNode()===t&&(a.destroyFirstPass(),a.destroySecondPass(),s[t.rowIndex]=r.createRowCon(t,!1,!1))};switch(t.rowPinned){case"top":o(this.topRowCtrls);case"bottom":o(this.bottomRowCtrls);default:o(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}i||this.dispatchDisplayedRowsChanged(!1)},e.prototype.redrawRows=function(t){var i=this,r=t!=null;if(r){t==null||t.forEach(function(o){return i.redrawRow(o,!0)}),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()},e.prototype.getCellToRestoreFocusToAfterRefresh=function(t){var i=t!=null&&t.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(i==null)return null;var r=this.gridOptionsService.getDocument(),o=r.activeElement,s=this.gridOptionsService.getDomData(o,Zn.DOM_DATA_KEY_CELL_CTRL),a=this.gridOptionsService.getDomData(o,to.DOM_DATA_KEY_ROW_CTRL),l=s||a;return l?i:null},e.prototype.redrawAfterModelUpdate=function(t){t===void 0&&(t={}),this.getLockOnRefresh();var i=this.getCellToRestoreFocusToAfterRefresh(t);this.updateContainerHeights(),this.scrollToTopIfNewData(t);var r=!t.domLayoutChanged&&!!t.recycleRows,o=t.animate&&this.gridOptionsService.isAnimateRows(),s=r?this.getRowsToRecycle():null;r||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows(),this.recycleRows(s,o),this.gridBodyCtrl.updateRowCount(),t.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),i!=null&&this.restoreFocusedCell(i),this.releaseLockOnRefresh()},e.prototype.scrollToTopIfNewData=function(t){var i=t.newData||t.newPage,r=this.gridOptionsService.is("suppressScrollOnNewData");i&&!r&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},e.prototype.updateContainerHeights=function(){if(this.printLayout){this.rowContainerHeightService.setModelHeight(null);return}var t=this.paginationProxy.getCurrentPageHeight();t===0&&(t=1),this.rowContainerHeightService.setModelHeight(t)},e.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},e.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},e.prototype.isRefreshInProgress=function(){return this.refreshInProgress},e.prototype.restoreFocusedCell=function(t){t&&(this.focusService.setRestoreFocusedCell(t),this.onCellFocusChanged({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,api:this.beans.gridApi,columnApi:this.beans.columnApi,context:this.beans.gridOptionsService.context,type:"mock"}))},e.prototype.stopEditing=function(t){t===void 0&&(t=!1),this.getAllRowCtrls().forEach(function(i){i.stopEditing(t)})},e.prototype.getAllCellCtrls=function(){for(var t=[],i=this.getAllRowCtrls(),r=i.length,o=0;o<r;o++)for(var s=i[o].getAllCellCtrls(),a=s.length,l=0;l<a;l++)t.push(s[l]);return t},e.prototype.getAllRowCtrls=function(){var t,i,r=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],o=zr(zr(zr([],Ur(this.topRowCtrls)),Ur(this.bottomRowCtrls)),Ur(r));try{for(var s=nG(Object.keys(this.rowCtrlsByRowIndex)),a=s.next();!a.done;a=s.next()){var l=a.value;o.push(this.rowCtrlsByRowIndex[l])}}catch(u){t={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(t)throw t.error}}return o},e.prototype.addRenderedRowListener=function(t,i,r){var o=this.rowCtrlsByRowIndex[i];o&&o.addEventListener(t,r)},e.prototype.flashCells=function(t){t===void 0&&(t={});var i=t.flashDelay,r=t.fadeDelay;this.getCellCtrls(t.rowNodes,t.columns).forEach(function(o){return o.flashCell({flashDelay:i,fadeDelay:r})})},e.prototype.refreshCells=function(t){var i=this;t===void 0&&(t={});var r={forceRefresh:t.force,newData:!1,suppressFlash:t.suppressFlash};this.getCellCtrls(t.rowNodes,t.columns).forEach(function(o){if(o.refreshShouldDestroy()){var s=o.getRowCtrl();s&&s.refreshCell(o)}else o.refreshCell(r)}),t.rowNodes&&(this.getRowCtrls(t.rowNodes).forEach(function(o){if(o.isFullWidth()){var s=o.refreshFullWidth();s||i.redrawRow(o.getRowNode(),!0)}}),this.dispatchDisplayedRowsChanged(!1))},e.prototype.getCellRendererInstances=function(t){var i=this,r,o=this.getCellCtrls(t.rowNodes,t.columns).map(function(l){return l.getCellRenderer()}).filter(function(l){return l!=null});if(!((r=t.columns)===null||r===void 0)&&r.length)return o;var s=[],a=this.mapRowNodes(t.rowNodes);return this.getAllRowCtrls().forEach(function(l){if(!(a&&!i.isRowInMap(l.getRowNode(),a))&&l.isFullWidth()){var u=l.getFullWidthCellRenderer();u&&s.push(u)}}),zr(zr([],Ur(s)),Ur(o))},e.prototype.getCellEditorInstances=function(t){var i=[];return this.getCellCtrls(t.rowNodes,t.columns).forEach(function(r){var o=r.getCellEditor();o&&i.push(o)}),i},e.prototype.getEditingCells=function(){var t=[];return this.getAllCellCtrls().forEach(function(i){if(i.isEditing()){var r=i.getCellPosition();t.push(r)}}),t},e.prototype.mapRowNodes=function(t){if(t){var i={top:{},bottom:{},normal:{}};return t.forEach(function(r){var o=r.id;r.rowPinned==="top"?i.top[o]=r:r.rowPinned==="bottom"?i.bottom[o]=r:i.normal[o]=r}),i}},e.prototype.isRowInMap=function(t,i){var r=t.id,o=t.rowPinned;return o==="bottom"?i.bottom[r]!=null:o==="top"?i.top[r]!=null:i.normal[r]!=null},e.prototype.getRowCtrls=function(t){var i=this,r=this.mapRowNodes(t),o=this.getAllRowCtrls();return!t||!r?o:o.filter(function(s){var a=s.getRowNode();return i.isRowInMap(a,r)})},e.prototype.getCellCtrls=function(t,i){var r=this,o;N(i)&&(o={},i.forEach(function(a){var l=r.columnModel.getGridColumn(a);N(l)&&(o[l.getId()]=!0)}));var s=[];return this.getRowCtrls(t).forEach(function(a){a.getAllCellCtrls().forEach(function(l){var u=l.getColumn().getId(),c=o&&!o[u];c||s.push(l)})}),s},e.prototype.destroy=function(){this.removeAllRowComps(),n.prototype.destroy.call(this)},e.prototype.removeAllRowComps=function(){var t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t)},e.prototype.getRowsToRecycle=function(){var t=[];Xt(this.rowCtrlsByRowIndex,function(r,o){var s=o.getRowNode().id==null;s&&t.push(r)}),this.removeRowCtrls(t);var i={};return Xt(this.rowCtrlsByRowIndex,function(r,o){var s=o.getRowNode();i[s.id]=o}),this.rowCtrlsByRowIndex={},i},e.prototype.removeRowCtrls=function(t){var i=this;t.forEach(function(r){var o=i.rowCtrlsByRowIndex[r];o&&(o.destroyFirstPass(),o.destroySecondPass()),delete i.rowCtrlsByRowIndex[r]})},e.prototype.onBodyScroll=function(t){t.direction==="vertical"&&this.redraw({afterScroll:!0})},e.prototype.redraw=function(t){t===void 0&&(t={});var i=t.afterScroll,r;this.stickyRowFeature&&wc()&&(r=this.getCellToRestoreFocusToAfterRefresh()||void 0);var o=this.firstRenderedRow,s=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();var a=!1;this.stickyRowFeature&&(a=this.stickyRowFeature.checkStickyRows());var l=this.firstRenderedRow!==o||this.lastRenderedRow!==s;if(!(i&&!a&&!l)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,i),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(i),r!=null)){var u=this.getCellToRestoreFocusToAfterRefresh();r!=null&&u==null&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(r))}},e.prototype.removeRowCompsNotToDraw=function(t){var i={};t.forEach(function(s){return i[s]=!0});var r=Object.keys(this.rowCtrlsByRowIndex),o=r.filter(function(s){return!i[s]});this.removeRowCtrls(o)},e.prototype.calculateIndexesToDraw=function(t){var i=this,r=pS(this.firstRenderedRow,this.lastRenderedRow),o=function(c,d){var p=d.getRowNode().rowIndex;p!=null&&(p<i.firstRenderedRow||p>i.lastRenderedRow)&&i.doNotUnVirtualiseRow(d)&&r.push(p)};Xt(this.rowCtrlsByRowIndex,o),Xt(t,o),r.sort(function(c,d){return c-d});for(var s=[],a=0;a<r.length;a++){var l=r[a],u=this.paginationProxy.getRow(l);u&&!u.sticky&&s.push(l)}return s},e.prototype.recycleRows=function(t,i,r){var o=this;i===void 0&&(i=!1),r===void 0&&(r=!1);var s=this.calculateIndexesToDraw(t);if(this.removeRowCompsNotToDraw(s),this.printLayout&&(i=!1),s.forEach(function(l){var u=o.createOrUpdateRowCtrl(l,t,i,r);N(u)}),t){var a=r&&!this.gridOptionsService.is("suppressAnimationFrame")&&!this.printLayout;a?this.beans.animationFrameService.addDestroyTask(function(){o.destroyRowCtrls(t,i),o.updateAllRowCtrls(),o.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(t,i)}this.updateAllRowCtrls()},e.prototype.dispatchDisplayedRowsChanged=function(t){t===void 0&&(t=!1);var i={type:C.EVENT_DISPLAYED_ROWS_CHANGED,afterScroll:t};this.eventService.dispatchEvent(i)},e.prototype.onDisplayedColumnsChanged=function(){var t=this.columnModel.isPinningLeft(),i=this.columnModel.isPinningRight(),r=this.pinningLeft!==t||i!==this.pinningRight;r&&(this.pinningLeft=t,this.pinningRight=i,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},e.prototype.redrawFullWidthEmbeddedRows=function(){var t=[];this.getFullWidthRowCtrls().forEach(function(i){var r=i.getRowNode().rowIndex;t.push(r.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(t),this.redraw({afterScroll:!0})},e.prototype.getFullWidthRowCtrls=function(t){var i=this,r=this.mapRowNodes(t);return this.getAllRowCtrls().filter(function(o){if(!o.isFullWidth())return!1;var s=o.getRowNode();return!(r!=null&&!i.isRowInMap(s,r))})},e.prototype.createOrUpdateRowCtrl=function(t,i,r,o){var s,a=this.rowCtrlsByRowIndex[t];a||(s=this.paginationProxy.getRow(t),N(s)&&N(i)&&i[s.id]&&s.alreadyRendered&&(a=i[s.id],i[s.id]=null));var l=!a;if(l)if(s||(s=this.paginationProxy.getRow(t)),N(s))a=this.createRowCon(s,r,o);else return;return s&&(s.alreadyRendered=!0),this.rowCtrlsByRowIndex[t]=a,a},e.prototype.destroyRowCtrls=function(t,i){var r=this,o=[];Xt(t,function(s,a){if(a){if(r.cachedRowCtrls&&a.isCacheable()){r.cachedRowCtrls.addRow(a);return}a.destroyFirstPass(),i?(r.zombieRowCtrls[a.getInstanceId()]=a,o.push(function(){a.destroySecondPass(),delete r.zombieRowCtrls[a.getInstanceId()]})):a.destroySecondPass()}}),i&&(o.push(function(){r.updateAllRowCtrls(),r.dispatchDisplayedRowsChanged()}),Ow(o))},e.prototype.getRowBuffer=function(){var t=this.gridOptionsService.getNum("rowBuffer");return typeof t=="number"?t<0&&(bt(function(){return console.warn("AG Grid: rowBuffer should not be negative")},"warn rowBuffer negative"),t=0,this.gridOptionsService.set("rowBuffer",0)):t=10,t},e.prototype.getRowBufferInPixels=function(){var t=this.getRowBuffer(),i=this.gridOptionsService.getRowHeightAsNumber();return t*i},e.prototype.workOutFirstAndLastRowsToRender=function(){this.rowContainerHeightService.updateOffset();var t,i;if(!this.paginationProxy.isRowsToRender())t=0,i=-1;else if(this.printLayout)this.environment.refreshRowHeightVariable(),t=this.paginationProxy.getPageFirstRow(),i=this.paginationProxy.getPageLastRow();else{var r=this.getRowBufferInPixels(),o=this.ctrlsService.getGridBodyCtrl(),s=this.gridOptionsService.is("suppressRowVirtualisation"),a=!1,l=void 0,u=void 0;do{var c=this.paginationProxy.getPixelOffset(),d=this.paginationProxy.getCurrentPagePixelRange(),p=d.pageFirstPixel,h=d.pageLastPixel,f=this.rowContainerHeightService.getDivStretchOffset(),g=o.getScrollFeature().getVScrollPosition(),v=g.top,m=g.bottom;s?(l=p+f,u=h+f):(l=Math.max(v+c-r,p)+f,u=Math.min(m+c+r,h)+f),this.firstVisibleVPixel=Math.max(v+c,p)+f,a=this.ensureAllRowsInRangeHaveHeightsCalculated(l,u)}while(a);var w=this.paginationProxy.getRowIndexAtPixel(l),b=this.paginationProxy.getRowIndexAtPixel(u),E=this.paginationProxy.getPageFirstRow(),O=this.paginationProxy.getPageLastRow();w<E&&(w=E),b>O&&(b=O),t=w,i=b}var P=this.gridOptionsService.isDomLayout("normal"),M=this.gridOptionsService.is("suppressMaxRenderedRowRestriction"),D=Math.max(this.getRowBuffer(),500);P&&!M&&i-t>D&&(i=t+D);var F=t!==this.firstRenderedRow,V=i!==this.lastRenderedRow;if(F||V){this.firstRenderedRow=t,this.lastRenderedRow=i;var B={type:C.EVENT_VIEWPORT_CHANGED,firstRow:t,lastRow:i};this.eventService.dispatchEvent(B)}},e.prototype.dispatchFirstDataRenderedEvent=function(){var t=this;if(!this.dataFirstRenderedFired){this.dataFirstRenderedFired=!0;var i={type:C.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame(function(){t.beans.eventService.dispatchEvent(i)})}},e.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(t,i){var r=this.paginationProxy.ensureRowHeightsValid(t,i,-1,-1);return r&&this.updateContainerHeights(),r},e.prototype.getFirstVisibleVerticalPixel=function(){return this.firstVisibleVPixel},e.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},e.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},e.prototype.doNotUnVirtualiseRow=function(t){var i=!1,r=!0,o=t.getRowNode(),s=this.focusService.isRowNodeFocused(o),a=t.isEditing(),l=o.detail,u=s||a||l;if(!u)return i;var c=this.paginationProxy.isRowPresent(o);return c?r:i},e.prototype.createRowCon=function(t,i,r){var o=this.cachedRowCtrls?this.cachedRowCtrls.getRow(t):null;if(o)return o;var s=this.gridOptionsService.is("suppressAnimationFrame"),a=r&&!s&&!this.printLayout,l=new to(t,this.beans,i,a,this.printLayout);return l},e.prototype.getRenderedNodes=function(){var t=this.rowCtrlsByRowIndex;return Object.keys(t).map(function(i){return t[i].getRowNode()})},e.prototype.getRowByPosition=function(t){var i,r=t.rowIndex;switch(t.rowPinned){case"top":i=this.topRowCtrls[r];break;case"bottom":i=this.bottomRowCtrls[r];break;default:i=this.rowCtrlsByRowIndex[r],i||(i=this.getStickyTopRowCtrls().find(function(o){return o.getRowNode().rowIndex===r})||null);break}return i},e.prototype.getRowNode=function(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},e.prototype.isRangeInRenderedViewport=function(t,i){var r=t==null||i==null;if(r)return!1;var o=t>this.lastRenderedRow,s=i<this.firstRenderedRow,a=!s&&!o;return a},Ni([y("animationFrameService")],e.prototype,"animationFrameService",void 0),Ni([y("paginationProxy")],e.prototype,"paginationProxy",void 0),Ni([y("columnModel")],e.prototype,"columnModel",void 0),Ni([y("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Ni([y("rowModel")],e.prototype,"rowModel",void 0),Ni([y("focusService")],e.prototype,"focusService",void 0),Ni([y("beans")],e.prototype,"beans",void 0),Ni([y("rowContainerHeightService")],e.prototype,"rowContainerHeightService",void 0),Ni([y("ctrlsService")],e.prototype,"ctrlsService",void 0),Ni([U],e.prototype,"postConstruct",null),e=Ni([Z("rowRenderer")],e),e}(j),aG=function(){function n(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}return n.prototype.addRow=function(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){var t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}},n.prototype.getRow=function(e){if(e==null||e.id==null)return null;var t=this.entriesMap[e.id];if(!t)return null;this.removeFromCache(t),t.setCached(!1);var i=t.getRowNode()!=e;return i?null:t},n.prototype.removeFromCache=function(e){var t=e.getRowNode().id;delete this.entriesMap[t],pi(this.entriesList,e)},n.prototype.getEntries=function(){return this.entriesList},n}(),lG=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),my=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},uG=function(n){lG(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.formatValue=function(t,i,r,o,s){s===void 0&&(s=!0);var a=null,l,u=t.getColDef();if(o?l=o:s&&(l=u.valueFormatter),l){var c={value:r,node:i,data:i?i.data:null,colDef:u,column:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};typeof l=="function"?a=l(c):a=this.expressionService.evaluate(l,c)}else if(u.refData)return u.refData[r]||"";return a==null&&Array.isArray(r)&&(a=r.join(", ")),a},my([y("expressionService")],e.prototype,"expressionService",void 0),e=my([Z("valueFormatterService")],e),e}(j),cG=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Vd=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},dG=function(n){cG(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(){this.setPinnedTopRowData(this.gridOptionsService.get("pinnedTopRowData")),this.setPinnedBottomRowData(this.gridOptionsService.get("pinnedBottomRowData"))},e.prototype.isEmpty=function(t){var i=t==="top"?this.pinnedTopRows:this.pinnedBottomRows;return hi(i)},e.prototype.isRowsToRender=function(t){return!this.isEmpty(t)},e.prototype.getRowAtPixel=function(t,i){var r=i==="top"?this.pinnedTopRows:this.pinnedBottomRows;if(hi(r))return 0;for(var o=0;o<r.length;o++){var s=r[o],a=s.rowTop+s.rowHeight-1;if(a>=t)return o}return r.length-1},e.prototype.setPinnedTopRowData=function(t){this.pinnedTopRows=this.createNodesFromData(t,!0);var i={type:C.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(i)},e.prototype.setPinnedBottomRowData=function(t){this.pinnedBottomRows=this.createNodesFromData(t,!1);var i={type:C.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(i)},e.prototype.createNodesFromData=function(t,i){var r=this,o=[];if(t){var s=0;t.forEach(function(a,l){var u=new St(r.beans);u.data=a;var c=i?St.ID_PREFIX_TOP_PINNED:St.ID_PREFIX_BOTTOM_PINNED;u.id=c+l,u.rowPinned=i?"top":"bottom",u.setRowTop(s),u.setRowHeight(r.gridOptionsService.getRowHeightForNode(u).height),u.setRowIndex(l),s+=u.rowHeight,o.push(u)})}return o},e.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},e.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},e.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},e.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},e.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},e.prototype.getPinnedTopRow=function(t){return this.pinnedTopRows[t]},e.prototype.getPinnedBottomRow=function(t){return this.pinnedBottomRows[t]},e.prototype.forEachPinnedTopRow=function(t){hi(this.pinnedTopRows)||this.pinnedTopRows.forEach(t)},e.prototype.forEachPinnedBottomRow=function(t){hi(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(t)},e.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},e.prototype.getTotalHeight=function(t){if(!t||t.length===0)return 0;var i=Vt(t);return i.rowTop+i.rowHeight},Vd([y("beans")],e.prototype,"beans",void 0),Vd([U],e.prototype,"init",null),e=Vd([Z("pinnedRowModel")],e),e}(j),Cy;(function(n){n.Applied="Applied",n.StoreNotFound="StoreNotFound",n.StoreLoading="StoreLoading",n.StoreWaitingToLoad="StoreWaitingToLoad",n.StoreLoadingFailed="StoreLoadingFailed",n.StoreWrongType="StoreWrongType",n.Cancelled="Cancelled"})(Cy||(Cy={}));var Ef=function(){function n(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}return n.prototype.setInactive=function(){this.active=!1},n.prototype.isActive=function(){return this.active},n.prototype.depthFirstSearchChangedPath=function(e,t){if(e.children)for(var i=0;i<e.children.length;i++)this.depthFirstSearchChangedPath(e.children[i],t);t(e.rowNode)},n.prototype.depthFirstSearchEverything=function(e,t,i){if(e.childrenAfterGroup)for(var r=0;r<e.childrenAfterGroup.length;r++){var o=e.childrenAfterGroup[r];o.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[r],t,i):i&&t(o)}t(e)},n.prototype.forEachChangedNodeDepthFirst=function(e,t,i){t===void 0&&(t=!1),i===void 0&&(i=!1),this.active&&!i?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)},n.prototype.executeFromRootNode=function(e){e(this.pathRoot.rowNode)},n.prototype.createPathItems=function(e){for(var t=e,i=0;!this.mapToItems[t.id];){var r={rowNode:t,children:null};this.mapToItems[t.id]=r,i++,t=t.parent}return i},n.prototype.populateColumnsMap=function(e,t){var i=this;if(!(!this.keepingColumns||!t))for(var r=e;r;)this.nodeIdsToColumns[r.id]||(this.nodeIdsToColumns[r.id]={}),t.forEach(function(o){return i.nodeIdsToColumns[r.id][o.getId()]=!0}),r=r.parent},n.prototype.linkPathItems=function(e,t){for(var i=e,r=0;r<t;r++){var o=this.mapToItems[i.id],s=this.mapToItems[i.parent.id];s.children||(s.children=[]),s.children.push(o),i=i.parent}},n.prototype.addParentNode=function(e,t){if(!(!e||e.isRowPinned())){var i=this.createPathItems(e);this.linkPathItems(e,i),this.populateColumnsMap(e,t)}},n.prototype.canSkip=function(e){return this.active&&!this.mapToItems[e.id]},n.prototype.getValueColumnsForNode=function(e,t){if(!this.keepingColumns)return t;var i=this.nodeIdsToColumns[e.id],r=t.filter(function(o){return i[o.getId()]});return r},n.prototype.getNotValueColumnsForNode=function(e,t){if(!this.keepingColumns)return null;var i=this.nodeIdsToColumns[e.id],r=t.filter(function(o){return!i[o.getId()]});return r},n}(),pG=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),qp=function(n){pG(e,n);function e(t){var i=n.call(this)||this;return i.state=e.STATE_WAITING_TO_LOAD,i.version=0,i.id=t,i}return e.prototype.getId=function(){return this.id},e.prototype.load=function(){this.state=e.STATE_LOADING,this.loadFromDatasource()},e.prototype.getVersion=function(){return this.version},e.prototype.setStateWaitingToLoad=function(){this.version++,this.state=e.STATE_WAITING_TO_LOAD},e.prototype.getState=function(){return this.state},e.prototype.pageLoadFailed=function(t){var i=this.isRequestMostRecentAndLive(t);i&&(this.state=e.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},e.prototype.success=function(t,i){this.successCommon(t,i)},e.prototype.pageLoaded=function(t,i,r){this.successCommon(t,{rowData:i,rowCount:r})},e.prototype.isRequestMostRecentAndLive=function(t){var i=t===this.version,r=this.isAlive();return i&&r},e.prototype.successCommon=function(t,i){this.dispatchLoadCompleted();var r=this.isRequestMostRecentAndLive(t);r&&(this.state=e.STATE_LOADED,this.processServerResult(i))},e.prototype.dispatchLoadCompleted=function(t){t===void 0&&(t=!0);var i={type:e.EVENT_LOAD_COMPLETE,success:t,block:this};this.dispatchEvent(i)},e.EVENT_LOAD_COMPLETE="loadComplete",e.STATE_WAITING_TO_LOAD="needsLoading",e.STATE_LOADING="loading",e.STATE_LOADED="loaded",e.STATE_FAILED="failed",e}(j),hG=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),El=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},fG=function(n,e){return function(t,i){e(t,i,n)}},gG=function(n){hG(e,n);function e(){var i=n!==null&&n.apply(this,arguments)||this;return i.activeBlockLoadsCount=0,i.blocks=[],i.active=!0,i}t=e,e.prototype.postConstruct=function(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();var i=this.gridOptionsService.getNum("blockLoadDebounceMillis");i&&i>0&&(this.checkBlockToLoadDebounce=gt.debounce(this.performCheckBlocksToLoad.bind(this),i))},e.prototype.setBeans=function(i){this.logger=i.create("RowNodeBlockLoader")},e.prototype.getMaxConcurrentDatasourceRequests=function(){var i=this.gridOptionsService.getNum("maxConcurrentDatasourceRequests");if(i==null)return 2;if(!(i<=0))return i},e.prototype.addBlock=function(i){this.blocks.push(i),i.addEventListener(qp.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},e.prototype.removeBlock=function(i){gt.removeFromArray(this.blocks,i)},e.prototype.destroy=function(){n.prototype.destroy.call(this),this.active=!1},e.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchEvent({type:t.BLOCK_LOADED_EVENT}),this.activeBlockLoadsCount==0&&this.dispatchEvent({type:t.BLOCK_LOADER_FINISHED_EVENT})},e.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},e.prototype.performCheckBlocksToLoad=function(){if(this.active){if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){this.logger.log("checkBlockToLoad: max loads exceeded");return}var i=this.getAvailableLoadingCount(),r=this.blocks.filter(function(o){return o.getState()===qp.STATE_WAITING_TO_LOAD}).slice(0,i);this.registerLoads(r.length),r.forEach(function(o){return o.load()}),this.printCacheStatus()}},e.prototype.getBlockState=function(){if(this.gridOptionsService.isRowModelType("serverSide")){var i=this.rowModel;return i.getBlockStates()}var r={};return this.blocks.forEach(function(o){var s=o.getBlockStateJson(),a=s.id,l=s.state;r[a]=l}),r},e.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = "+this.activeBlockLoadsCount+","+(" blocks = "+JSON.stringify(this.getBlockState())))},e.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},e.prototype.registerLoads=function(i){this.activeBlockLoadsCount+=i},e.prototype.getAvailableLoadingCount=function(){return this.maxConcurrentRequests!==void 0?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0};var t;return e.BLOCK_LOADED_EVENT="blockLoaded",e.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",El([y("rowModel")],e.prototype,"rowModel",void 0),El([U],e.prototype,"postConstruct",null),El([fG(0,Ge("loggerFactory"))],e.prototype,"setBeans",null),e=t=El([Z("rowNodeBlockLoader")],e),e}(j),vG=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),kd=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},yG=function(n){vG(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.currentPage=0,t.topDisplayedRowIndex=0,t.bottomDisplayedRowIndex=0,t.pixelOffset=0,t.masterRowCount=0,t}return e.prototype.postConstruct=function(){this.active=this.gridOptionsService.is("pagination"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedListener(this.eventService,C.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedPropertyListener("pagination",this.onPaginationPageSizeChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()},e.prototype.ensureRowHeightsValid=function(t,i,r,o){var s=this.rowModel.ensureRowHeightsValid(t,i,this.getPageFirstRow(),this.getPageLastRow());return s&&this.calculatePages(),s},e.prototype.isPaginateChildRows=function(){var t=this.gridOptionsService.is("groupRemoveSingleChildren")||this.gridOptionsService.is("groupRemoveLowestSingleChildren");return t?!0:this.gridOptionsService.is("paginateChildRows")},e.prototype.onModelUpdated=function(t){this.calculatePages();var i={type:C.EVENT_PAGINATION_CHANGED,animate:t?t.animate:!1,newData:t?t.newData:!1,newPage:t?t.newPage:!1,keepRenderedRows:t?t.keepRenderedRows:!1};this.eventService.dispatchEvent(i)},e.prototype.onPaginationPageSizeChanged=function(){this.active=this.gridOptionsService.is("pagination"),this.calculatePages();var t={type:C.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0};this.eventService.dispatchEvent(t)},e.prototype.goToPage=function(t){if(!(!this.active||this.currentPage===t||typeof this.currentPage!="number")){this.currentPage=t;var i={type:C.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0};this.onModelUpdated(i)}},e.prototype.getPixelOffset=function(){return this.pixelOffset},e.prototype.getRow=function(t){return this.rowModel.getRow(t)},e.prototype.getRowNode=function(t){return this.rowModel.getRowNode(t)},e.prototype.getRowIndexAtPixel=function(t){return this.rowModel.getRowIndexAtPixel(t)},e.prototype.getCurrentPageHeight=function(){return pt(this.topRowBounds)||pt(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},e.prototype.getCurrentPagePixelRange=function(){var t=this.topRowBounds?this.topRowBounds.rowTop:0,i=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:t,pageLastPixel:i}},e.prototype.isRowPresent=function(t){if(!this.rowModel.isRowPresent(t))return!1;var i=t.rowIndex>=this.topDisplayedRowIndex&&t.rowIndex<=this.bottomDisplayedRowIndex;return i},e.prototype.isEmpty=function(){return this.rowModel.isEmpty()},e.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},e.prototype.forEachNode=function(t){return this.rowModel.forEachNode(t)},e.prototype.forEachNodeOnPage=function(t){for(var i=this.getPageFirstRow(),r=this.getPageLastRow(),o=i;o<=r;o++){var s=this.getRow(o);s&&t(s)}},e.prototype.getType=function(){return this.rowModel.getType()},e.prototype.getRowBounds=function(t){var i=this.rowModel.getRowBounds(t);return i.rowIndex=t,i},e.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},e.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},e.prototype.getRowCount=function(){return this.rowModel.getRowCount()},e.prototype.getPageForIndex=function(t){return Math.floor(t/this.pageSize)},e.prototype.goToPageWithIndex=function(t){if(this.active){var i=this.getPageForIndex(t);this.goToPage(i)}},e.prototype.isRowInPage=function(t){if(!this.active)return!0;var i=this.getPageForIndex(t.rowIndex);return i===this.currentPage},e.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},e.prototype.getCurrentPage=function(){return this.currentPage},e.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},e.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},e.prototype.goToFirstPage=function(){this.goToPage(0)},e.prototype.goToLastPage=function(){var t=this.rowModel.getRowCount(),i=Math.floor(t/this.pageSize);this.goToPage(i)},e.prototype.getPageSize=function(){return this.pageSize},e.prototype.getTotalPages=function(){return this.totalPages},e.prototype.setPageSize=function(){this.pageSize=this.gridOptionsService.getNum("paginationPageSize"),(this.pageSize==null||this.pageSize<1)&&(this.pageSize=100)},e.prototype.calculatePages=function(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(N(this.topRowBounds)?this.topRowBounds.rowTop:0)},e.prototype.setPixelOffset=function(t){this.pixelOffset!==t&&(this.pixelOffset=t,this.eventService.dispatchEvent({type:C.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},e.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},e.prototype.adjustCurrentPageIfInvalid=function(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)},e.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0){this.setZeroRows();return}var t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.adjustCurrentPageIfInvalid();var i=this.pageSize*this.currentPage,r=this.pageSize*(this.currentPage+1)-1;if(r>t&&(r=t),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(i),r===t)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var o=this.rowModel.getTopLevelRowDisplayedIndex(r+1);this.bottomDisplayedRowIndex=o-1}},e.prototype.getMasterRowCount=function(){return this.masterRowCount},e.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),this.masterRowCount===0){this.setZeroRows();return}var t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>t&&(this.bottomDisplayedRowIndex=t)},e.prototype.calculatedPagesNotActive=function(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},kd([y("rowModel")],e.prototype,"rowModel",void 0),kd([U],e.prototype,"postConstruct",null),e=kd([Z("paginationProxy")],e),e}(j),mG=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),wy=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},CG=function(n){mG(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.processAllCellClasses=function(t,i,r,o){this.processClassRules(t.cellClassRules,i,r,o),this.processStaticCellClasses(t,i,r)},e.prototype.processClassRules=function(t,i,r,o){if(t!=null){for(var s=Object.keys(t),a={},l={},u=function(p){var h=s[p],f=t[h],g;typeof f=="string"?g=c.expressionService.evaluate(f,i):typeof f=="function"&&(g=f(i)),h.split(" ").forEach(function(v){v==null||v.trim()==""||(g?a[v]=!0:l[v]=!0)})},c=this,d=0;d<s.length;d++)u(d);o&&Object.keys(l).forEach(o),Object.keys(a).forEach(r)}},e.prototype.getStaticCellClasses=function(t,i){var r=t.cellClass;if(!r)return[];var o;if(typeof r=="function"){var s=r;o=s(i)}else o=r;return typeof o=="string"&&(o=[o]),o||[]},e.prototype.processStaticCellClasses=function(t,i,r){var o=this.getStaticCellClasses(t,i);o.forEach(function(s){r(s)})},wy([y("expressionService")],e.prototype,"expressionService",void 0),e=wy([Z("stylingService")],e),e}(j),wG=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),SG=function(n){wG(e,n);function e(t){return n.call(this,t,"ag-toggle-button")||this}return e.prototype.setValue=function(t,i){return n.prototype.setValue.call(this,t,i),this.addOrRemoveCssClass("ag-selected",this.getValue()),this},e}(bc),_G=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),EG=function(n){_G(e,n);function e(t){return n.call(this,t,"ag-text-area",null,"textarea")||this}return e.prototype.setValue=function(t,i){var r=n.prototype.setValue.call(this,t,i);return this.eInput.value=t,r},e.prototype.setCols=function(t){return this.eInput.cols=t,this},e.prototype.setRows=function(t){return this.eInput.rows=t,this},e}(un),bG=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),RG=function(n){bG(e,n);function e(t){return n.call(this,t,"ag-date-field","date")||this}return e.prototype.postConstruct=function(){var t=this;n.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this));var i=Ai();this.addManagedListener(this.eInput,"mousedown",function(){t.isDisabled()||i||t.eInput.focus()}),this.eInput.step="any"},e.prototype.onWheel=function(t){document.activeElement===this.eInput&&t.preventDefault()},e.prototype.setMin=function(t){var i,r=t instanceof Date?(i=Pi(t??null,!1))!==null&&i!==void 0?i:void 0:t;return this.min===r?this:(this.min=r,hr(this.eInput,"min",r),this)},e.prototype.setMax=function(t){var i,r=t instanceof Date?(i=Pi(t??null,!1))!==null&&i!==void 0?i:void 0:t;return this.max===r?this:(this.max=r,hr(this.eInput,"max",r),this)},e.prototype.setStep=function(t){return this.step===t?this:(this.step=t,hr(this.eInput,"step",t),this)},e.prototype.getDate=function(){var t;if(this.eInput.validity.valid)return(t=ii(this.getValue()))!==null&&t!==void 0?t:void 0},e.prototype.setDate=function(t,i){this.setValue(Pi(t??null,!1),i)},e}(ho),OG=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),TG=function(n){OG(e,n);function e(t){return n.call(this,t,"ag-range-field","range")||this}return e.prototype.postConstruct=function(){n.prototype.postConstruct.call(this);var t=this.config,i=t.min,r=t.max,o=t.step;i!=null&&this.setMinValue(i),r!=null&&this.setMaxValue(r),this.setStep(o||1)},e.prototype.addInputListeners=function(){var t=this;this.addManagedListener(this.eInput,"input",function(i){var r=i.target.value;t.setValue(r)})},e.prototype.setMinValue=function(t){return this.min=t,this.eInput.setAttribute("min",t.toString()),this},e.prototype.setMaxValue=function(t){return this.max=t,this.eInput.setAttribute("max",t.toString()),this},e.prototype.setStep=function(t){return this.eInput.setAttribute("step",t.toString()),this},e.prototype.setValue=function(t,i){this.min!=null&&(t=Math.max(parseFloat(t),this.min).toString()),this.max!=null&&(t=Math.min(parseFloat(t),this.max).toString());var r=n.prototype.setValue.call(this,t,i);return this.eInput.value=t,r},e}(un),xG=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Sy=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},PG=function(n){xG(e,n);function e(t,i){var r=n.call(this,'<div class="ag-rich-select-row" role="presentation"></div>')||this;return r.params=t,r.wrapperEl=i,r}return e.prototype.postConstruct=function(){this.addManagedListener(this.getGui(),"mouseup",this.onMouseUp.bind(this))},e.prototype.setState=function(t){var i="";this.params.valueFormatter&&(i=this.params.valueFormatter(t));var r=this.populateWithRenderer(t,i);r||this.populateWithoutRenderer(t,i),this.value=t},e.prototype.highlightString=function(t){var i=this.parsedValue;if(!(this.params.cellRenderer||!N(i)))if(N(t)){var r=i==null?void 0:i.toLocaleLowerCase().indexOf(t.toLocaleLowerCase());if(r>=0){var o=r+t.length,s=pe(i.slice(0,r),!0),a=pe(i.slice(r,o),!0),l=pe(i.slice(o));this.renderValueWithoutRenderer(s+'<span class="ag-rich-select-row-text-highlight">'+a+"</span>"+l)}}else this.renderValueWithoutRenderer(i)},e.prototype.updateHighlighted=function(t){var i,r=this.getGui(),o="ag-rich-select-row-"+this.getCompId();if((i=r.parentElement)===null||i===void 0||i.setAttribute("id",o),t){var s=this.getParentComponent().getAriaElement();Uh(s,o),this.wrapperEl.setAttribute("data-active-option",o)}so(r.parentElement,t),this.addOrRemoveCssClass("ag-rich-select-row-selected",t)},e.prototype.populateWithoutRenderer=function(t,i){var r=this.gridOptionsService.getDocument(),o=this.getGui(),s=r.createElement("span");s.style.overflow="hidden",s.style.textOverflow="ellipsis";var a=pe(N(i)?i:t,!0);this.parsedValue=N(a)?a:null,o.appendChild(s),this.renderValueWithoutRenderer(a)},e.prototype.renderValueWithoutRenderer=function(t){var i=this.getGui().querySelector("span");i&&(i.innerHTML=N(t)?t:"&nbsp;")},e.prototype.populateWithRenderer=function(t,i){var r=this,o,s;return this.params.cellRenderer&&(s=this.userComponentFactory.getCellRendererDetails(this.params,{value:t,valueFormatted:i,api:this.gridOptionsService.api})),s&&(o=s.newAgStackInstance()),o&&lf(o,this.getGui()),o?(o.then(function(a){r.addDestroyFunc(function(){r.getContext().destroyBean(a)})}),!0):!1},e.prototype.onMouseUp=function(){var t=this.getParentComponent(),i={type:C.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:!1,value:this.value};t==null||t.dispatchEvent(i)},Sy([y("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Sy([U],e.prototype,"postConstruct",null),e}(wt),DG=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),AG=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},FG=function(n,e){for(var t=0,i=e.length,r=n.length;t<i;t++,r++)n[r]=e[t];return n},xc=function(n){DG(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.initialiseTabGuard=function(t){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var i=[this.eTopGuard,this.eBottomGuard],r={setTabIndex:function(o){i.forEach(function(s){return o!=null?s.setAttribute("tabindex",o):s.removeAttribute("tabindex")})}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new pN({comp:r,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:t.onFocusIn,onFocusOut:t.onFocusOut,focusInnerElement:t.focusInnerElement,handleKeyDown:t.handleKeyDown,onTabKeyDown:t.onTabKeyDown,shouldStopEventPropagation:t.shouldStopEventPropagation}))},e.prototype.createTabGuard=function(t){var i=document.createElement("div"),r=t==="top"?Wo.TAB_GUARD_TOP:Wo.TAB_GUARD_BOTTOM;return i.classList.add(Wo.TAB_GUARD,r),Ce(i,"presentation"),i},e.prototype.addTabGuards=function(t,i){this.eFocusableElement.insertAdjacentElement("afterbegin",t),this.eFocusableElement.insertAdjacentElement("beforeend",i)},e.prototype.removeAllChildrenExceptTabGuards=function(){var t=[this.eTopGuard,this.eBottomGuard];Ve(this.getFocusableElement()),this.addTabGuards.apply(this,FG([],AG(t)))},e.prototype.forceFocusOutOfContainer=function(t){t===void 0&&(t=!1),this.tabGuardCtrl.forceFocusOutOfContainer(t)},e.prototype.appendChild=function(t,i){Va(t)||(t=t.getGui());var r=this.eBottomGuard;r?r.insertAdjacentElement("beforebegin",t):n.prototype.appendChild.call(this,t,i)},e}(wt),MG=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),bl=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},e_=function(n){MG(e,n);function e(t){var i=n.call(this,e.getTemplate((t==null?void 0:t.cssIdentifier)||"default"))||this;i.renderedRows=new Map,i.rowHeight=20;var r=t||{},o=r.cssIdentifier,s=o===void 0?"default":o,a=r.ariaRole,l=a===void 0?"listbox":a,u=r.listName;return i.cssIdentifier=s,i.ariaRole=l,i.listName=u,i}return e.prototype.postConstruct=function(){var t=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(i){return t.onFocusIn(i)},onFocusOut:function(i){return t.onFocusOut(i)},focusInnerElement:function(i){return t.focusInnerElement(i)},onTabKeyDown:function(i){return t.onTabKeyDown(i)},handleKeyDown:function(i){return t.handleKeyDown(i)}}),this.setAriaProperties(),this.addManagedListener(this.eventService,C.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanged.bind(this))},e.prototype.onGridStylesChanged=function(){this.rowHeight=this.getItemHeight(),this.refresh()},e.prototype.setAriaProperties=function(){var t=this.localeService.getLocaleTextFunc(),i=t("ariaDefaultListName",this.listName||"List"),r=this.eContainer;Ce(r,this.ariaRole),Lr(r,i)},e.prototype.addResizeObserver=function(){var t=this,i=function(){return t.animationFrameService.requestAnimationFrame(function(){return t.drawVirtualRows()})},r=this.resizeObserverService.observeResize(this.getGui(),i);this.addDestroyFunc(r)},e.prototype.focusInnerElement=function(t){this.focusRow(t?this.model.getRowCount()-1:0)},e.prototype.onFocusIn=function(t){var i=t.target;return i.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=Kw(i)-1),!1},e.prototype.onFocusOut=function(t){return this.getFocusableElement().contains(t.relatedTarget)||(this.lastFocusedRowIndex=null),!1},e.prototype.handleKeyDown=function(t){switch(t.key){case A.UP:case A.DOWN:this.navigate(t.key===A.UP)&&t.preventDefault();break}},e.prototype.onTabKeyDown=function(t){this.navigate(t.shiftKey)?t.preventDefault():(gr(t),this.forceFocusOutOfContainer(t.shiftKey))},e.prototype.navigate=function(t){if(this.lastFocusedRowIndex==null)return!1;var i=this.lastFocusedRowIndex+(t?-1:1);return i<0||i>=this.model.getRowCount()?!1:(this.focusRow(i),!0)},e.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},e.prototype.focusRow=function(t){var i=this;this.ensureIndexVisible(t),window.setTimeout(function(){if(i.isAlive()){var r=i.renderedRows.get(t);r&&r.eDiv.focus()}},10)},e.prototype.getComponentAt=function(t){var i=this.renderedRows.get(t);return i&&i.rowComponent},e.prototype.forEachRenderedRow=function(t){this.renderedRows.forEach(function(i,r){return t(i.rowComponent,r)})},e.getTemplate=function(t){return'<div class="ag-virtual-list-viewport ag-'+t+`-virtual-list-viewport" role="presentation">
                <div class="ag-virtual-list-container ag-`+t+`-virtual-list-container" ref="eContainer"></div>
            </div>`},e.prototype.getItemHeight=function(){return this.environment.getListItemHeight()},e.prototype.ensureIndexVisible=function(t,i){i===void 0&&(i=!0);var r=this.model.getRowCount();if(typeof t!="number"||t<0||t>=r)return console.warn("AG Grid: invalid row index for ensureIndexVisible: "+t),!1;var o=t*this.rowHeight,s=o+this.rowHeight,a=this.getGui(),l=a.scrollTop,u=a.offsetHeight,c=l+u,d=i?0:this.rowHeight,p=l>o+d,h=c<s-d;if(p)return a.scrollTop=o,!0;if(h){var f=s-u;return a.scrollTop=f,!0}return!1},e.prototype.setComponentCreator=function(t){this.componentCreator=t},e.prototype.setComponentUpdater=function(t){this.componentUpdater=t},e.prototype.getRowHeight=function(){return this.rowHeight},e.prototype.getScrollTop=function(){return this.getGui().scrollTop},e.prototype.setRowHeight=function(t){this.rowHeight=t,this.refresh()},e.prototype.refresh=function(t){var i=this;if(!(this.model==null||!this.isAlive())){var r=this.model.getRowCount();this.eContainer.style.height=r*this.rowHeight+"px",Vh(function(){return i.eContainer.clientHeight>=r*i.rowHeight},function(){i.isAlive()&&(i.canSoftRefresh(t)?i.drawVirtualRows(!0):(i.clearVirtualRows(),i.drawVirtualRows()))})}},e.prototype.canSoftRefresh=function(t){return!!(t&&this.renderedRows.size&&typeof this.model.areRowsEqual=="function"&&this.componentUpdater)},e.prototype.clearVirtualRows=function(){var t=this;this.renderedRows.forEach(function(i,r){return t.removeRow(r)})},e.prototype.drawVirtualRows=function(t){if(!(!this.isAlive()||!this.model)){var i=this.getGui(),r=i.scrollTop,o=r+i.offsetHeight,s=Math.floor(r/this.rowHeight),a=Math.floor(o/this.rowHeight);this.ensureRowsRendered(s,a,t)}},e.prototype.ensureRowsRendered=function(t,i,r){var o=this;this.renderedRows.forEach(function(a,l){(l<t||l>i)&&l!==o.lastFocusedRowIndex&&o.removeRow(l)}),r&&this.refreshRows();for(var s=t;s<=i;s++)this.renderedRows.has(s)||s<this.model.getRowCount()&&this.insertRow(s)},e.prototype.insertRow=function(t){var i=this,r=this.model.getRow(t),o=document.createElement("div");if(o.classList.add("ag-virtual-list-item","ag-"+this.cssIdentifier+"-virtual-list-item"),Ce(o,this.ariaRole==="tree"?"treeitem":"option"),zh(o,this.model.getRowCount()),$h(o,t+1),o.setAttribute("tabindex","-1"),typeof this.model.isRowSelected=="function"){var s=this.model.isRowSelected(t);so(o,!!s),oS(o,s)}o.style.height=this.rowHeight+"px",o.style.top=this.rowHeight*t+"px";var a=this.componentCreator(r,o);a.addGuiEventListener("focusin",function(){return i.lastFocusedRowIndex=t}),o.appendChild(a.getGui()),this.renderedRows.has(t-1)?this.renderedRows.get(t-1).eDiv.insertAdjacentElement("afterend",o):this.renderedRows.has(t+1)?this.renderedRows.get(t+1).eDiv.insertAdjacentElement("beforebegin",o):this.eContainer.appendChild(o),this.renderedRows.set(t,{rowComponent:a,eDiv:o,value:r})},e.prototype.removeRow=function(t){var i=this.renderedRows.get(t);this.eContainer.removeChild(i.eDiv),this.destroyBean(i.rowComponent),this.renderedRows.delete(t)},e.prototype.refreshRows=function(){var t=this,i=this.model.getRowCount();this.renderedRows.forEach(function(r,o){var s,a;if(o>=i)t.removeRow(o);else{var l=t.model.getRow(o);!((a=(s=t.model).areRowsEqual)===null||a===void 0)&&a.call(s,r.value,l)?t.componentUpdater(l,r.rowComponent):t.removeRow(o)}})},e.prototype.addScrollListener=function(){var t=this;this.addGuiEventListener("scroll",function(){return t.drawVirtualRows()},{passive:!0})},e.prototype.setModel=function(t){this.model=t},e.prototype.getAriaElement=function(){return this.eContainer},e.prototype.destroy=function(){this.isAlive()&&(this.clearVirtualRows(),n.prototype.destroy.call(this))},bl([y("resizeObserverService")],e.prototype,"resizeObserverService",void 0),bl([y("animationFrameService")],e.prototype,"animationFrameService",void 0),bl([K("eContainer")],e.prototype,"eContainer",void 0),bl([U],e.prototype,"postConstruct",null),e}(xc),LG=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Vu=function(){return Vu=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Vu.apply(this,arguments)},_y=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},IG=`
    <div class="ag-picker-field" role="presentation">
        <div ref="eLabel"></div>
            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-rich-select-value ag-picker-collapsed">
            <div ref="eDisplayField" class="ag-picker-field-display"></div>
            <ag-input-text-field ref="eInput" class="ag-rich-select-field-input"></ag-input-text-field>
            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
        </div>
    </div>`,NG=function(n){LG(e,n);function e(t){var i,r,o=n.call(this,Vu(Vu({pickerAriaLabelKey:"ariaLabelRichSelectField",pickerAriaLabelValue:"Rich Select Field",pickerType:"ag-list",className:"ag-rich-select",pickerIcon:"smallDown",ariaRole:"combobox",template:(i=t==null?void 0:t.template)!==null&&i!==void 0?i:IG,modalPicker:!1},t),{maxPickerHeight:(r=t==null?void 0:t.maxPickerHeight)!==null&&r!==void 0?r:"calc(var(--ag-row-height) * 6.5)"}))||this;o.searchString="",o.highlightedItem=-1,o.lastRowHovered=-1,o.searchStringCreator=null;var s=t||{},a=s.cellRowHeight,l=s.value,u=s.valueList,c=s.searchStringCreator;return a!=null&&(o.cellRowHeight=a),l!==void 0&&(o.value=l),u!=null&&(o.values=u),c&&(o.searchStringCreator=c),o}return e.prototype.postConstruct=function(){var t=this,i;n.prototype.postConstruct.call(this),this.createLoadingElement(),this.createListComponent();var r=this.config,o=r.allowTyping,s=r.placeholder;o?(this.eInput.setAutoComplete(!1).setInputPlaceholder(s),this.eDisplayField.classList.add("ag-hidden")):this.eInput.setDisplayed(!1),this.eWrapper.tabIndex=(i=this.gridOptionsService.getNum("tabIndex"))!==null&&i!==void 0?i:0;var a=this.config.searchDebounceDelay,l=a===void 0?300:a;this.clearSearchString=Vi(this.clearSearchString,l),this.renderSelectedValue(),o&&(this.eInput.onValueChange(function(u){return t.searchTextFromString(u)}),this.addManagedListener(this.eWrapper,"focus",this.onWrapperFocus.bind(this))),this.addManagedListener(this.eWrapper,"focusout",this.onWrapperFocusOut.bind(this))},e.prototype.createLoadingElement=function(){var t=this.gridOptionsService.getDocument(),i=this.localeService.getLocaleTextFunc(),r=t.createElement("div");r.classList.add("ag-loading-text"),r.innerText=i("loadingOoo","Loading..."),this.eLoading=r},e.prototype.createListComponent=function(){var t=this;this.listComponent=this.createBean(new e_({cssIdentifier:"rich-select"})),this.listComponent.setComponentCreator(this.createRowComponent.bind(this)),this.listComponent.setParentComponent(this),this.addManagedListener(this.listComponent,C.EVENT_FIELD_PICKER_VALUE_SELECTED,function(u){t.onListValueSelected(u.value,u.fromEnterKey)});var i=this.cellRowHeight;i&&this.listComponent.setRowHeight(i);var r=this.listComponent.getGui(),o=this.listComponent.getAriaElement();this.addManagedListener(r,"mousemove",this.onPickerMouseMove.bind(this)),this.addManagedListener(r,"mousedown",function(u){return u.preventDefault()}),r.classList.add("ag-rich-select-list");var s="ag-rich-select-list-"+this.listComponent.getCompId();o.setAttribute("id",s);var a=this.localeService.getLocaleTextFunc(),l=a(this.config.pickerAriaLabelKey,this.config.pickerAriaLabelValue);Lr(o,l),sS(this.eWrapper,o)},e.prototype.renderSelectedValue=function(){var t=this,i=this,r=i.value,o=i.eDisplayField,s=i.config,a=this.config.valueFormatter?this.config.valueFormatter(r):r;if(s.allowTyping){this.eInput.setValue(a);return}var l;s.cellRenderer&&(l=this.userComponentFactory.getCellRendererDetails(this.config,{value:r,valueFormatted:a,api:this.gridOptionsService.api}));var u;if(l&&(u=l.newAgStackInstance()),u)Ve(o),lf(u,o),u.then(function(d){t.addDestroyFunc(function(){return t.getContext().destroyBean(d)})});else if(N(this.value))o.innerText=a,o.classList.remove("ag-display-as-placeholder");else{var c=s.placeholder;N(c)?(o.innerHTML=""+pe(c),o.classList.add("ag-display-as-placeholder")):Ve(o)}},e.prototype.getCurrentValueIndex=function(){var t=this,i=t.currentList,r=t.value;if(r==null)return-1;for(var o=0;o<i.length;o++)if(i[o]===r)return o;return-1},e.prototype.highlightFilterMatch=function(){var t=this,i;(i=this.listComponent)===null||i===void 0||i.forEachRenderedRow(function(r,o){r.highlightString(t.searchString)})},e.prototype.highlightSelectedValue=function(t){var i=this,r;t==null&&(t=this.getCurrentValueIndex()),this.highlightedItem=t,(r=this.listComponent)===null||r===void 0||r.forEachRenderedRow(function(o,s){var a=t===-1?!1:i.highlightedItem===s;o.updateHighlighted(a)})},e.prototype.setRowHeight=function(t){t!==this.cellRowHeight&&(this.cellRowHeight=t),this.listComponent&&this.listComponent.setRowHeight(t)},e.prototype.createPickerComponent=function(){var t=this.values;return t&&this.setValueList({valueList:t}),this.listComponent},e.prototype.setSearchStringCreator=function(t){this.searchStringCreator=t},e.prototype.setValueList=function(t){var i=t.valueList,r=t.refresh;this.listComponent&&this.currentList!==i&&(this.currentList=i,this.listComponent.setModel({getRowCount:function(){return i.length},getRow:function(o){return i[o]}}),r&&(this.values?this.listComponent.refresh():(this.values=i,this.isPickerDisplayed&&this.showCurrentValueInPicker())))},e.prototype.showPicker=function(){n.prototype.showPicker.call(this),this.showCurrentValueInPicker()},e.prototype.showCurrentValueInPicker=function(){var t,i;if(this.listComponent){if(!this.currentList){this.isPickerDisplayed&&this.eLoading&&this.listComponent.appendChild(this.eLoading);return}!((t=this.eLoading)===null||t===void 0)&&t.offsetParent&&((i=this.eLoading.parentElement)===null||i===void 0||i.removeChild(this.eLoading));var r=this.getCurrentValueIndex();r!==-1?(this.listComponent.refresh(),this.listComponent.ensureIndexVisible(r),this.listComponent.refresh(!0),this.highlightSelectedValue(r)):this.listComponent.refresh()}},e.prototype.beforeHidePicker=function(){this.highlightedItem=-1,n.prototype.beforeHidePicker.call(this)},e.prototype.onWrapperFocus=function(t){this.eInput&&this.eInput.getFocusableElement().focus()},e.prototype.onWrapperFocusOut=function(t){this.eWrapper.contains(t.relatedTarget)||this.hidePicker()},e.prototype.buildSearchStringFromKeyboardEvent=function(t){var i=t.key;if(i===A.BACKSPACE)this.searchString=this.searchString.slice(0,-1),i="";else if(!Ec(t))return;t.preventDefault(),this.searchTextFromCharacter(i)},e.prototype.searchTextFromCharacter=function(t){this.searchString+=t,this.runSearch(),this.clearSearchString()},e.prototype.searchTextFromString=function(t){t==null&&(t=""),this.searchString=t,this.runSearch()},e.prototype.buildSearchStrings=function(t){var i=this.config.valueFormatter,r=i===void 0?function(s){return s}:i,o;return typeof t[0]=="number"||typeof t[0]=="string"?o=t.map(function(s){return r(s)}):typeof t[0]=="object"&&this.searchStringCreator&&(o=this.searchStringCreator(t)),o},e.prototype.getSuggestionsAndFilteredValues=function(t,i){var r=this,o=[],s=[];if(!t.length)return{suggestions:o,filteredValues:s};var a=this.config,l=a.allowTyping,u=a.searchType,c=u===void 0?"fuzzy":u,d=a.filterList,p=d&&l;if(c==="fuzzy"){var h=Ga(this.searchString,i,!0);o=h.values;var f=h.indices;if(p&&f.length)for(var g=0;g<f.length;g++)s.push(this.values[f[g]])}else o=i.filter(function(v,m){var w=v.toLocaleLowerCase(),b=r.searchString.toLocaleLowerCase(),E=c==="match"?w.startsWith(b):w.indexOf(b)!==-1;return p&&E&&s.push(r.values[m]),E});return{suggestions:o,filteredValues:s}},e.prototype.filterListModel=function(t){var i=this.config,r=i.allowTyping,o=i.filterList;!r||!o||this.setValueList({valueList:t,refresh:!0})},e.prototype.runSearch=function(){var t,i,r,o=this.values,s=this.buildSearchStrings(o);if(!s){this.highlightSelectedValue(-1);return}var a=this.getSuggestionsAndFilteredValues(this.searchString,s),l=a.suggestions,u=a.filteredValues,c=this.config,d=c.allowTyping,p=c.filterList,h=c.highlightMatch,f=c.searchType,g=f===void 0?"fuzzy":f,v=u.length,m=!!(d&&p&&this.searchString!=="");if(m&&this.filterListModel(m?u:o),l.length){var w=m?0:s.indexOf(l[0]);this.selectListItem(w),h&&g!=="fuzzy"&&this.highlightFilterMatch()}else if(this.highlightSelectedValue(-1),!m||v)(t=this.listComponent)===null||t===void 0||t.ensureIndexVisible(0);else if(m){this.getAriaElement().removeAttribute("data-active-option");var b=(i=this.listComponent)===null||i===void 0?void 0:i.getAriaElement();b&&Uh(b,null)}var E=(r=this.listComponent)===null||r===void 0?void 0:r.getGui();E==null||E.classList.toggle("ag-hidden",m&&!v)},e.prototype.clearSearchString=function(){this.searchString=""},e.prototype.selectListItem=function(t,i,r){if(!(!this.isPickerDisplayed||!this.listComponent||t<0||t>=this.currentList.length)){var o=this.listComponent.ensureIndexVisible(t,!i);o&&!r&&this.listComponent.refresh(!0),this.highlightSelectedValue(t)}},e.prototype.setValue=function(t,i,r){var o=this.currentList.indexOf(t);return o===-1?this:(this.value=t,r||this.selectListItem(o),this.renderSelectedValue(),n.prototype.setValue.call(this,t,i))},e.prototype.createRowComponent=function(t){var i=new PG(this.config,this.eWrapper);i.setParentComponent(this.listComponent),this.getContext().createBean(i),i.setState(t);var r=this.config,o=r.highlightMatch,s=r.searchType,a=s===void 0?"fuzzy":s;return o&&a!=="fuzzy"&&i.highlightString(this.searchString),i},e.prototype.getRowForMouseEvent=function(t){var i=this.listComponent;if(!i)return-1;var r=i==null?void 0:i.getGui(),o=r.getBoundingClientRect(),s=i.getScrollTop(),a=t.clientY-o.top+s;return Math.floor(a/i.getRowHeight())},e.prototype.onPickerMouseMove=function(t){if(this.listComponent){var i=this.getRowForMouseEvent(t);i!==-1&&i!=this.lastRowHovered&&(this.lastRowHovered=i,this.selectListItem(i,!0,!0))}},e.prototype.onNavigationKeyDown=function(t,i){t.preventDefault();var r=i===A.DOWN;if(!this.isPickerDisplayed&&r){this.showPicker();return}var o=this.highlightedItem,s=r?1:-1,a=o===-1?0:o+s;this.selectListItem(a,!1,!0)},e.prototype.onEnterKeyDown=function(t){this.isPickerDisplayed&&(t.preventDefault(),this.onListValueSelected(this.currentList[this.highlightedItem],!0))},e.prototype.onTabKeyDown=function(){this.isPickerDisplayed&&this.setValue(this.currentList[this.highlightedItem],!1,!0)},e.prototype.onListValueSelected=function(t,i){this.setValue(t,!1,!0),this.dispatchPickerEvent(t,i),this.hidePicker()},e.prototype.dispatchPickerEvent=function(t,i){var r={type:C.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:i,value:t};this.dispatchEvent(r)},e.prototype.getFocusableElement=function(){var t=this.config.allowTyping;return t?this.eInput.getFocusableElement():n.prototype.getFocusableElement.call(this)},e.prototype.onKeyDown=function(t){var i=t.key,r=this.config.allowTyping;switch(i){case A.LEFT:case A.RIGHT:case A.PAGE_HOME:case A.PAGE_END:r||t.preventDefault();break;case A.PAGE_UP:case A.PAGE_DOWN:t.preventDefault();break;case A.DOWN:case A.UP:this.onNavigationKeyDown(t,i);break;case A.ESCAPE:this.isPickerDisplayed&&(t.preventDefault(),gr(t),this.hidePicker());break;case A.ENTER:this.onEnterKeyDown(t);break;case A.TAB:this.onTabKeyDown();break;default:r||this.buildSearchStringFromKeyboardEvent(t)}},e.prototype.destroy=function(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),this.eLoading=void 0,n.prototype.destroy.call(this)},_y([y("userComponentFactory")],e.prototype,"userComponentFactory",void 0),_y([K("eInput")],e.prototype,"eInput",void 0),e}(AS),GG=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Rl=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},HG=function(n){GG(e,n);function e(t){var i=n.call(this,t,e.TEMPLATE)||this;return i.labelAlignment="top",i}return e.prototype.init=function(){this.eSlider.addCssClass("ag-slider-field")},e.prototype.onValueChange=function(t){var i=this,r=C.EVENT_FIELD_VALUE_CHANGED;return this.addManagedListener(this.eText,r,function(){var o=parseFloat(i.eText.getValue());i.eSlider.setValue(o.toString(),!0),t(o||0)}),this.addManagedListener(this.eSlider,r,function(){var o=i.eSlider.getValue();i.eText.setValue(o,!0),t(parseFloat(o))}),this},e.prototype.setSliderWidth=function(t){return this.eSlider.setWidth(t),this},e.prototype.setTextFieldWidth=function(t){return this.eText.setWidth(t),this},e.prototype.setMinValue=function(t){return this.eSlider.setMinValue(t),this.eText.setMin(t),this},e.prototype.setMaxValue=function(t){return this.eSlider.setMaxValue(t),this.eText.setMax(t),this},e.prototype.getValue=function(){return this.eText.getValue()},e.prototype.setValue=function(t){return this.getValue()===t?this:(this.eText.setValue(t,!0),this.eSlider.setValue(t,!0),this.dispatchEvent({type:C.EVENT_FIELD_VALUE_CHANGED}),this)},e.prototype.setStep=function(t){return this.eSlider.setStep(t),this.eText.setStep(t),this},e.TEMPLATE=`<div class="ag-slider">
            <label ref="eLabel"></label>
            <div class="ag-wrapper ag-slider-wrapper">
                <ag-input-range ref="eSlider"></ag-input-range>
                <ag-input-number-field ref="eText"></ag-input-number-field>
            </div>
        </div>`,Rl([K("eLabel")],e.prototype,"eLabel",void 0),Rl([K("eSlider")],e.prototype,"eSlider",void 0),Rl([K("eText")],e.prototype,"eText",void 0),Rl([U],e.prototype,"init",null),e}(PS),VG=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),$r=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},kG=function(n){VG(e,n);function e(t){t===void 0&&(t={});var i=n.call(this,e.getTemplate(t))||this;i.suppressEnabledCheckbox=!0,i.suppressOpenCloseIcons=!1;var r=t.title,o=t.enabled,s=t.items,a=t.suppressEnabledCheckbox,l=t.suppressOpenCloseIcons;return i.title=r,i.cssIdentifier=t.cssIdentifier||"default",i.enabled=o??!0,i.items=s||[],i.alignItems=t.alignItems||"center",a!=null&&(i.suppressEnabledCheckbox=a),l!=null&&(i.suppressOpenCloseIcons=l),i}return e.getTemplate=function(t){var i=t.cssIdentifier||"default",r=t.direction||"vertical";return'<div class="ag-group ag-'+i+`-group" role="presentation">
            <div class="ag-group-title-bar ag-`+i+`-group-title-bar ag-unselectable" ref="eTitleBar" role="button">
                <span class="ag-group-title-bar-icon ag-`+i+`-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>
                <span class="ag-group-title-bar-icon ag-`+i+`-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>
                <span ref="eTitle" class="ag-group-title ag-`+i+`-group-title"></span>
            </div>
            <div ref="eToolbar" class="ag-group-toolbar ag-`+i+`-group-toolbar">
                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>
            </div>
            <div ref="eContainer" class="ag-group-container ag-group-container-`+r+" ag-"+i+`-group-container"></div>
        </div>`},e.prototype.postConstruct=function(){if(this.items.length){var t=this.items;this.items=[],this.addItems(t)}var i=this.localeService.getLocaleTextFunc();this.cbGroupEnabled.setLabel(i("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},e.prototype.setupExpandContract=function(){var t=this;this.eGroupClosedIcon.appendChild(_i("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(_i("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.eTitleBar,"click",function(){return t.toggleGroupExpand()}),this.addManagedListener(this.eTitleBar,"keydown",function(i){switch(i.key){case A.ENTER:case A.SPACE:i.preventDefault(),t.toggleGroupExpand();break;case A.RIGHT:case A.LEFT:i.preventDefault(),t.toggleGroupExpand(i.key===A.RIGHT);break}})},e.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||ki(this.eTitleBar,this.expanded)},e.prototype.refreshChildDisplay=function(){var t=!this.suppressOpenCloseIcons;Tt(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),Tt(this.eGroupOpenedIcon,t&&this.expanded),Tt(this.eGroupClosedIcon,t&&!this.expanded)},e.prototype.isExpanded=function(){return this.expanded},e.prototype.setAlignItems=function(t){this.alignItems!==t&&this.removeCssClass("ag-group-item-alignment-"+this.alignItems),this.alignItems=t;var i="ag-group-item-alignment-"+this.alignItems;return this.addCssClass(i),this},e.prototype.toggleGroupExpand=function(t){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),Tt(this.eContainer,!0),this):(t=t??!this.expanded,this.expanded===t?this:(this.expanded=t,this.refreshAriaStatus(),this.refreshChildDisplay(),Tt(this.eContainer,t),this.dispatchEvent({type:this.expanded?e.EVENT_EXPANDED:e.EVENT_COLLAPSED}),this))},e.prototype.addItems=function(t){var i=this;t.forEach(function(r){return i.addItem(r)})},e.prototype.addItem=function(t){var i=this.eContainer,r=t instanceof wt?t.getGui():t;r.classList.add("ag-group-item","ag-"+this.cssIdentifier+"-group-item"),i.appendChild(r),this.items.push(r)},e.prototype.hideItem=function(t,i){var r=this.items[i];Tt(r,!t)},e.prototype.setTitle=function(t){return this.eTitle.innerText=t,this},e.prototype.addCssClassToTitleBar=function(t){this.eTitleBar.classList.add(t)},e.prototype.setEnabled=function(t,i){return this.enabled=t,this.refreshDisabledStyles(),this.toggleGroupExpand(t),i||this.cbGroupEnabled.setValue(t),this},e.prototype.isEnabled=function(){return this.enabled},e.prototype.onEnableChange=function(t){var i=this;return this.cbGroupEnabled.onValueChange(function(r){i.setEnabled(r,!0),t(r)}),this},e.prototype.hideEnabledCheckbox=function(t){return this.suppressEnabledCheckbox=t,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},e.prototype.hideOpenCloseIcons=function(t){return this.suppressOpenCloseIcons=t,t&&this.toggleGroupExpand(!0),this},e.prototype.refreshDisabledStyles=function(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)},e.EVENT_EXPANDED="expanded",e.EVENT_COLLAPSED="collapsed",$r([K("eTitleBar")],e.prototype,"eTitleBar",void 0),$r([K("eGroupOpenedIcon")],e.prototype,"eGroupOpenedIcon",void 0),$r([K("eGroupClosedIcon")],e.prototype,"eGroupClosedIcon",void 0),$r([K("eToolbar")],e.prototype,"eToolbar",void 0),$r([K("cbGroupEnabled")],e.prototype,"cbGroupEnabled",void 0),$r([K("eTitle")],e.prototype,"eTitle",void 0),$r([K("eContainer")],e.prototype,"eContainer",void 0),$r([U],e.prototype,"postConstruct",null),e}(wt),BG=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ku=function(){return ku=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},ku.apply(this,arguments)},Ey=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},jG=function(n){BG(e,n);function e(t){t===void 0&&(t=1);var i=n.call(this,'<div class="ag-menu-list" role="tree"></div>')||this;return i.level=t,i.menuItems=[],i}return e.prototype.postConstruct=function(){var t=this;this.initialiseTabGuard({onTabKeyDown:function(i){return t.onTabKeyDown(i)},handleKeyDown:function(i){return t.handleKeyDown(i)}})},e.prototype.onTabKeyDown=function(t){var i=this.getParentComponent(),r=i&&i.getGui(),o=r&&r.classList.contains("ag-focus-managed");o||t.preventDefault(),t.shiftKey&&this.closeIfIsChild(t)},e.prototype.handleKeyDown=function(t){switch(t.key){case A.UP:case A.RIGHT:case A.DOWN:case A.LEFT:t.preventDefault(),this.handleNavKey(t.key);break;case A.ESCAPE:var i=this.findTopMenu();i&&this.focusService.focusInto(i.getGui());break}},e.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},e.prototype.addMenuItems=function(t){var i=this;t!=null&&t.forEach(function(r){r==="separator"?i.addSeparator():typeof r=="string"?console.warn("AG Grid: unrecognised menu item "+r):i.addItem(r)})},e.prototype.addItem=function(t){var i=this,r=this.createManagedBean(new xs(ku(ku({},t),{isAnotherSubMenuOpen:function(){return i.menuItems.some(function(o){return o.isSubMenuOpen()})}})));r.setParentComponent(this),Qw(r.getGui(),this.level),this.menuItems.push(r),this.appendChild(r.getGui()),this.addManagedListener(r,xs.EVENT_MENU_ITEM_SELECTED,function(o){i.dispatchEvent(o)}),this.addManagedListener(r,xs.EVENT_MENU_ITEM_ACTIVATED,function(o){i.activeMenuItem&&i.activeMenuItem!==o.menuItem&&i.activeMenuItem.deactivate(),i.activeMenuItem=o.menuItem})},e.prototype.activateFirstItem=function(){var t=this.menuItems.filter(function(i){return!i.isDisabled()})[0];t&&t.activate()},e.prototype.addSeparator=function(){var t=`
            <div class="ag-menu-separator" aria-hidden="true">
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
            </div>`;this.appendChild(Pe(t))},e.prototype.findTopMenu=function(){var t=this.getParentComponent();if(!t&&this instanceof e)return this;for(;;){var i=t&&t.getParentComponent&&t.getParentComponent();if(!i||!(i instanceof e||i instanceof xs))break;t=i}return t instanceof e?t:void 0},e.prototype.handleNavKey=function(t){switch(t){case A.UP:case A.DOWN:var i=this.findNextItem(t===A.UP);i&&i!==this.activeMenuItem&&i.activate();return}var r=this.gridOptionsService.is("enableRtl")?A.RIGHT:A.LEFT;t===r?this.closeIfIsChild():this.openChild()},e.prototype.closeIfIsChild=function(t){var i=this.getParentComponent();i&&i instanceof xs&&(t&&t.preventDefault(),i.closeSubMenu(),i.getGui().focus())},e.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},e.prototype.findNextItem=function(t){var i=this.menuItems.filter(function(l){return!l.isDisabled()});if(i.length){if(!this.activeMenuItem)return t?Vt(i):i[0];t&&i.reverse();for(var r,o=!1,s=0;s<i.length;s++){var a=i[s];if(!o){a===this.activeMenuItem&&(o=!0);continue}r=a;break}return r||this.activeMenuItem}},e.prototype.destroy=function(){this.clearActiveItem(),n.prototype.destroy.call(this)},Ey([y("focusService")],e.prototype,"focusService",void 0),Ey([U],e.prototype,"postConstruct",null),e}(xc),WG=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),UG=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},zG=function(n){WG(e,n);function e(t){var i=n.call(this)||this;return i.wrappedComponent=t,i.setTemplateFromElement(t.getGui()),i}return e.prototype.postConstruct=function(){var t=this;this.initialiseTabGuard({onTabKeyDown:function(i){return t.onTabKeyDown(i)},handleKeyDown:function(i){return t.handleKeyDown(i)}})},e.prototype.handleKeyDown=function(t){t.key===A.ESCAPE&&this.closePanel()},e.prototype.onTabKeyDown=function(t){t.defaultPrevented||(this.closePanel(),t.preventDefault())},e.prototype.closePanel=function(){var t=this.parentComponent;t.closeSubMenu(),setTimeout(function(){return t.getGui().focus()},0)},UG([U],e.prototype,"postConstruct",null),e}(xc),$G=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),by=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},xs=function(n){$G(e,n);function e(t){var i=n.call(this)||this;return i.params=t,i.isActive=!1,i.subMenuIsOpen=!1,i.setTemplate('<div class="'+i.getClassName()+'" tabindex="-1" role="treeitem"></div>'),i}return e.prototype.init=function(){var t=this;this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();var i=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),Wh(i,!0)):(this.addGuiEventListener("click",function(r){return t.onItemSelected(r)}),this.addGuiEventListener("keydown",function(r){(r.key===A.ENTER||r.key===A.SPACE)&&(r.preventDefault(),t.onItemSelected(r))}),this.addGuiEventListener("mousedown",function(r){r.stopPropagation(),r.preventDefault()}),this.addGuiEventListener("mouseenter",function(){return t.onMouseEnter()}),this.addGuiEventListener("mouseleave",function(){return t.onMouseLeave()})),this.params.cssClasses&&this.params.cssClasses.forEach(function(r){return t.addCssClass(r)})},e.prototype.isDisabled=function(){return!!this.params.disabled},e.prototype.openSubMenu=function(t){var i=this;if(t===void 0&&(t=!1),this.closeSubMenu(),!!this.params.subMenu){var r=Pe('<div class="ag-menu" role="presentation"></div>'),o;if(this.params.subMenu instanceof Array){var s=$w(this.getGui()),a=isNaN(s)?1:s+1,l=this.createBean(new jG(a));l.setParentComponent(this),l.addMenuItems(this.params.subMenu),r.appendChild(l.getGui()),this.addManagedListener(l,e.EVENT_MENU_ITEM_SELECTED,function(w){return i.dispatchEvent(w)}),l.addGuiEventListener("mouseenter",function(){return i.cancelDeactivate()}),o=function(){return i.destroyBean(l)},t&&setTimeout(function(){return l.activateFirstItem()},0)}else{var u=this.params.subMenu,c=this.createBean(new zG(u));c.setParentComponent(this);var d=c.getGui(),p="mouseenter",h=function(){return i.cancelDeactivate()};d.addEventListener(p,h),o=function(){return d.removeEventListener(p,h)},r.appendChild(d),u.afterGuiAttached&&setTimeout(function(){return u.afterGuiAttached()},0)}var f=this.getGui(),g=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:f,ePopup:r}),v=this.localeService.getLocaleTextFunc(),m=this.popupService.addPopup({modal:!0,eChild:r,positionCallback:g,anchorToElement:f,ariaLabel:v("ariaLabelSubMenu","SubMenu")});this.subMenuIsOpen=!0,ki(f,!0),this.hideSubMenu=function(){m&&m.hideFunc(),i.subMenuIsOpen=!1,ki(f,!1),o()}}},e.prototype.closeSubMenu=function(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,ki(this.getGui(),!1))},e.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},e.prototype.activate=function(t){var i=this;this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),t&&this.params.subMenu&&window.setTimeout(function(){i.isAlive()&&i.isActive&&i.openSubMenu()},300),this.onItemActivated())},e.prototype.deactivate=function(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},e.prototype.addIcon=function(){if(!(!this.params.checked&&!this.params.icon&&this.params.isCompact)){var t=Pe('<span ref="eIcon" class="'+this.getClassName("part")+" "+this.getClassName("icon")+'" role="presentation"></span>');this.params.checked?t.appendChild(ae("check",this.gridOptionsService)):this.params.icon&&(Va(this.params.icon)?t.appendChild(this.params.icon):typeof this.params.icon=="string"?t.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(t)}},e.prototype.addName=function(){if(!(!this.params.name&&this.params.isCompact)){var t=Pe('<span ref="eName" class="'+this.getClassName("part")+" "+this.getClassName("text")+'">'+(this.params.name||"")+"</span>");this.getGui().appendChild(t)}},e.prototype.addTooltip=function(){this.params.tooltip&&(this.tooltip=this.params.tooltip,this.gridOptionsService.is("enableBrowserTooltips")?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new df(this)))},e.prototype.getTooltipParams=function(){return{location:"menu",value:this.tooltip}},e.prototype.addShortcut=function(){if(!(!this.params.shortcut&&this.params.isCompact)){var t=Pe('<span ref="eShortcut" class="'+this.getClassName("part")+" "+this.getClassName("shortcut")+'">'+(this.params.shortcut||"")+"</span>");this.getGui().appendChild(t)}},e.prototype.addSubMenu=function(){if(!(!this.params.subMenu&&this.params.isCompact)){var t=Pe('<span ref="ePopupPointer" class="'+this.getClassName("part")+" "+this.getClassName("popup-pointer")+'"></span>'),i=this.getGui();if(this.params.subMenu){var r=this.gridOptionsService.is("enableRtl")?"smallLeft":"smallRight";ki(i,!1),t.appendChild(ae(r,this.gridOptionsService))}i.appendChild(t)}},e.prototype.onItemSelected=function(t){if(this.params.action?this.params.action():this.openSubMenu(t&&t.type==="keydown"),!(this.params.subMenu&&!this.params.action)){var i={type:e.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:t};this.dispatchEvent(i)}},e.prototype.onItemActivated=function(){var t={type:e.EVENT_MENU_ITEM_ACTIVATED,menuItem:this};this.dispatchEvent(t)},e.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},e.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},e.prototype.onMouseEnter=function(){var t=this;this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(function(){return t.activate(!0)},e.ACTIVATION_DELAY):this.activate(!0)},e.prototype.onMouseLeave=function(){var t=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(function(){return t.deactivate()},e.ACTIVATION_DELAY):this.deactivate()},e.prototype.getClassName=function(t){var i=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return t?i+"-"+t:i},e.EVENT_MENU_ITEM_SELECTED="menuItemSelected",e.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",e.ACTIVATION_DELAY=80,by([y("popupService")],e.prototype,"popupService",void 0),by([U],e.prototype,"init",null),e}(wt),KG=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ps=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},i_=function(n){KG(e,n);function e(t){var i=n.call(this,e.getTemplate(t))||this;return i.closable=!0,i.config=t,i}return e.getTemplate=function(t){var i=t&&t.cssIdentifier||"default";return'<div class="ag-panel ag-'+i+`-panel" tabindex="-1">
            <div ref="eTitleBar" class="ag-panel-title-bar ag-`+i+`-panel-title-bar ag-unselectable">
                <span ref="eTitle" class="ag-panel-title-bar-title ag-`+i+`-panel-title-bar-title"></span>
                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-`+i+`-panel-title-bar-buttons"></div>
            </div>
            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-`+i+`-panel-content-wrapper"></div>
        </div>`},e.prototype.postConstruct=function(){var t=this,i=this.config,r=i.component,o=i.closable,s=i.hideTitleBar,a=i.title,l=i.minWidth,u=l===void 0?250:l,c=i.width,d=i.minHeight,p=d===void 0?250:d,h=i.height,f=i.centered,g=i.popup,v=i.x,m=i.y;this.positionableFeature=new xS(this.getGui(),{minWidth:u,width:c,minHeight:p,height:h,centered:f,x:v,y:m,popup:g,calculateTopBuffer:function(){return t.positionableFeature.getHeight()-t.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var w=this.getGui();r&&this.setBodyComponent(r),s?Tt(this.eTitleBar,!1):(a&&this.setTitle(a),this.setClosable(o??this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",function(b){var E=t.gridOptionsService.getDocument();if(w.contains(b.relatedTarget)||w.contains(E.activeElement)||t.eTitleBarButtons.contains(b.target)){b.preventDefault();return}var O=t.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");O&&O.focus()}),!(g&&this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},e.prototype.renderComponent=function(){var t=this,i=this.getGui();i.focus(),this.close=function(){i.parentElement.removeChild(i),t.destroy()}},e.prototype.getHeight=function(){return this.positionableFeature.getHeight()},e.prototype.setHeight=function(t){this.positionableFeature.setHeight(t)},e.prototype.getWidth=function(){return this.positionableFeature.getWidth()},e.prototype.setWidth=function(t){this.positionableFeature.setWidth(t)},e.prototype.setClosable=function(t){if(t!==this.closable&&(this.closable=t),t){var i=this.closeButtonComp=new wt(e.CLOSE_BTN_TEMPLATE);this.getContext().createBean(i);var r=i.getGui(),o=ae("close",this.gridOptionsService);o.classList.add("ag-panel-title-bar-button-icon"),r.appendChild(o),this.addTitleBarButton(i),i.addManagedListener(r,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){var r=this.closeButtonComp.getGui();r.parentElement.removeChild(r),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}},e.prototype.setBodyComponent=function(t){t.setParentComponent(this),this.eContentWrapper.appendChild(t.getGui())},e.prototype.addTitleBarButton=function(t,i){var r=this.eTitleBarButtons,o=r.children,s=o.length;i==null&&(i=s),i=Math.max(0,Math.min(i,s)),t.addCssClass("ag-panel-title-bar-button");var a=t.getGui();i===0?r.insertAdjacentElement("afterbegin",a):i===s?r.insertAdjacentElement("beforeend",a):o[i-1].insertAdjacentElement("afterend",a),t.setParentComponent(this)},e.prototype.getBodyHeight=function(){return Ha(this.eContentWrapper)},e.prototype.getBodyWidth=function(){return Sc(this.eContentWrapper)},e.prototype.setTitle=function(t){this.eTitle.innerText=t},e.prototype.onBtClose=function(){this.close()},e.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var t=this.getGui();t&&t.offsetParent&&this.close(),n.prototype.destroy.call(this)},e.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',Ps([K("eContentWrapper")],e.prototype,"eContentWrapper",void 0),Ps([K("eTitleBar")],e.prototype,"eTitleBar",void 0),Ps([K("eTitleBarButtons")],e.prototype,"eTitleBarButtons",void 0),Ps([K("eTitle")],e.prototype,"eTitle",void 0),Ps([U],e.prototype,"postConstruct",null),e}(wt),YG=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Bu=function(){return Bu=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Bu.apply(this,arguments)},qG=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},XG=function(n){YG(e,n);function e(t){var i=n.call(this,Bu(Bu({},t),{popup:!0}))||this;return i.isMaximizable=!1,i.isMaximized=!1,i.maximizeListeners=[],i.resizeListenerDestroy=null,i.lastPosition={x:0,y:0,width:0,height:0},i}return e.prototype.postConstruct=function(){var t=this,i=this.getGui(),r=this.config,o=r.movable,s=r.resizable,a=r.maximizable;this.addCssClass("ag-dialog"),n.prototype.postConstruct.call(this),this.addManagedListener(i,"focusin",function(l){i.contains(l.relatedTarget)||t.popupService.bringPopupToFront(i)}),o&&this.setMovable(o),a&&this.setMaximizable(a),s&&this.setResizable(s)},e.prototype.renderComponent=function(){var t=this.getGui(),i=this.config,r=i.alwaysOnTop,o=i.modal,s=i.title,a=i.afterGuiAttached,l=this.localeService.getLocaleTextFunc(),u=this.popupService.addPopup({modal:o,eChild:t,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:r,ariaLabel:s||l("ariaLabelDialog","Dialog"),afterGuiAttached:a});u&&(this.close=u.hideFunc)},e.prototype.toggleMaximize=function(){var t=this.positionableFeature.getPosition();if(this.isMaximized){var i=this.lastPosition,r=i.x,o=i.y,s=i.width,a=i.height;this.setWidth(s),this.setHeight(a),this.positionableFeature.offsetElement(r,o)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=t.x,this.lastPosition.y=t.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},e.prototype.refreshMaximizeIcon=function(){Tt(this.maximizeIcon,!this.isMaximized),Tt(this.minimizeIcon,this.isMaximized)},e.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(function(t){return t()}),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},e.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),n.prototype.destroy.call(this)},e.prototype.setResizable=function(t){this.positionableFeature.setResizable(t)},e.prototype.setMovable=function(t){this.positionableFeature.setMovable(t,this.eTitleBar)},e.prototype.setMaximizable=function(t){var i=this;if(!t){this.clearMaximizebleListeners(),this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0);return}var r=this.eTitleBar;if(!(!r||t===this.isMaximizable)){var o=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),o.addManagedListener(o.getGui(),"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(o,0),this.maximizeListeners.push(this.addManagedListener(r,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",function(){i.isMaximized=!1,i.refreshMaximizeIcon()})}},e.prototype.buildMaximizeAndMinimizeElements=function(){var t=this.maximizeButtonComp=this.createBean(new wt('<div class="ag-dialog-button"></span>')),i=t.getGui();return this.maximizeIcon=ae("maximize",this.gridOptionsService),i.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=ae("minimize",this.gridOptionsService),i.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),t},qG([y("popupService")],e.prototype,"popupService",void 0),e}(i_),QG=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ju=function(){return ju=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},ju.apply(this,arguments)},Ds=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},JG=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},ZG=function(n,e){for(var t=0,i=e.length,r=n.length;t<i;t++,r++)n[r]=e[t];return n},rn;(function(n){n[n.vertical=0]="vertical",n[n.horizontal=1]="horizontal"})(rn||(rn={}));var t1=0,e1=function(n){QG(e,n);function e(){var i=n!==null&&n.apply(this,arguments)||this;return i.popupList=[],i}t=e,e.prototype.postConstruct=function(){var i=this;this.ctrlsService.whenReady(function(r){i.gridCtrl=r.gridCtrl,i.addManagedListener(i.gridCtrl,C.EVENT_KEYBOARD_FOCUS,function(){i.popupList.forEach(function(o){return o.element.classList.add(Uo.AG_KEYBOARD_FOCUS)})}),i.addManagedListener(i.gridCtrl,C.EVENT_MOUSE_FOCUS,function(){i.popupList.forEach(function(o){return o.element.classList.remove(Uo.AG_KEYBOARD_FOCUS)})})})},e.prototype.getPopupParent=function(){var i=this.gridOptionsService.get("popupParent");return i||this.gridCtrl.getGui()},e.prototype.positionPopupForMenu=function(i){var r=i.eventSource,o=i.ePopup,s=this.getPopupIndex(o);if(s!==-1){var a=this.popupList[s];a.alignedToElement=r}var l=r.getBoundingClientRect(),u=this.getParentRect(),c=this.keepXYWithinBounds(o,l.top-u.top,rn.vertical),d=o.clientWidth>0?o.clientWidth:200;o.style.minWidth=d+"px";var p=u.right-u.left,h=p-d,f;this.gridOptionsService.is("enableRtl")?(f=v(),f<0&&(f=g(),this.setAlignedStyles(o,"left")),f>h&&(f=0,this.setAlignedStyles(o,"right"))):(f=g(),f>h&&(f=v(),this.setAlignedStyles(o,"right")),f<0&&(f=0,this.setAlignedStyles(o,"left"))),o.style.left=f+"px",o.style.top=c+"px";function g(){return l.right-u.left-2}function v(){return l.left-u.left-d}},e.prototype.positionPopupUnderMouseEvent=function(i){var r=this,o=i.ePopup,s=i.nudgeX,a=i.nudgeY,l=i.skipObserver;this.positionPopup({ePopup:o,nudgeX:s,nudgeY:a,keepWithinBounds:!0,skipObserver:l,updatePosition:function(){return r.calculatePointerAlign(i.mouseEvent)},postProcessCallback:function(){return r.callPostProcessPopup(i.type,i.ePopup,null,i.mouseEvent,i.column,i.rowNode)}})},e.prototype.calculatePointerAlign=function(i){var r=this.getParentRect();return{x:i.clientX-r.left,y:i.clientY-r.top}},e.prototype.positionPopupByComponent=function(i){var r=this,o=i.ePopup,s=i.nudgeX,a=i.nudgeY,l=i.keepWithinBounds,u=i.eventSource,c=i.alignSide,d=c===void 0?"left":c,p=i.position,h=p===void 0?"over":p,f=i.column,g=i.rowNode,v=i.type,m=u.getBoundingClientRect(),w=this.getParentRect(),b=this.getPopupIndex(o);if(b!==-1){var E=this.popupList[b];E.alignedToElement=u}var O=function(){var P=m.left-w.left;d==="right"&&(P-=o.offsetWidth-m.width);var M;if(h==="over")M=m.top-w.top,r.setAlignedStyles(o,"over");else{r.setAlignedStyles(o,"under");var D=r.shouldRenderUnderOrAbove(o,m,w,i.nudgeY||0);D==="under"?M=m.top-w.top+m.height:M=m.top-o.offsetHeight-(a||0)*2-w.top}return{x:P,y:M}};this.positionPopup({ePopup:o,nudgeX:s,nudgeY:a,keepWithinBounds:l,updatePosition:O,postProcessCallback:function(){return r.callPostProcessPopup(v,o,u,null,f,g)}})},e.prototype.shouldRenderUnderOrAbove=function(i,r,o,s){var a=o.bottom-r.bottom,l=r.top-o.top,u=i.offsetHeight+s;return a>u?"under":l>u||l>a?"above":"under"},e.prototype.setAlignedStyles=function(i,r){var o=this.getPopupIndex(i);if(o!==-1){var s=this.popupList[o],a=s.alignedToElement;if(a){var l=["right","left","over","above","under"];l.forEach(function(u){a.classList.remove("ag-has-popup-positioned-"+u),i.classList.remove("ag-popup-positioned-"+u)}),r&&(a.classList.add("ag-has-popup-positioned-"+r),i.classList.add("ag-popup-positioned-"+r))}}},e.prototype.callPostProcessPopup=function(i,r,o,s,a,l){var u=this.gridOptionsService.getCallback("postProcessPopup");if(u){var c={column:a,rowNode:l,ePopup:r,type:i,eventSource:o,mouseEvent:s};u(c)}},e.prototype.positionPopup=function(i){var r=this,o=i.ePopup,s=i.keepWithinBounds,a=i.nudgeX,l=i.nudgeY,u=i.skipObserver,c=i.updatePosition,d={width:0,height:0},p=function(f){f===void 0&&(f=!1);var g=c(),v=g.x,m=g.y;f&&o.clientWidth===d.width&&o.clientHeight===d.height||(d.width=o.clientWidth,d.height=o.clientHeight,a&&(v+=a),l&&(m+=l),s&&(v=r.keepXYWithinBounds(o,v,rn.horizontal),m=r.keepXYWithinBounds(o,m,rn.vertical)),o.style.left=v+"px",o.style.top=m+"px",i.postProcessCallback&&i.postProcessCallback())};if(p(),!u){var h=this.resizeObserverService.observeResize(o,function(){return p(!0)});setTimeout(function(){return h()},t.WAIT_FOR_POPUP_CONTENT_RESIZE)}},e.prototype.getActivePopups=function(){return this.popupList.map(function(i){return i.element})},e.prototype.getPopupList=function(){return this.popupList},e.prototype.getParentRect=function(){var i=this.gridOptionsService.getDocument(),r=this.getPopupParent();return r===i.body?r=i.documentElement:getComputedStyle(r).position==="static"&&(r=r.offsetParent),rf(r)},e.prototype.keepXYWithinBounds=function(i,r,o){var s=o===rn.vertical,a=s?"clientHeight":"clientWidth",l=s?"top":"left",u=s?"offsetHeight":"offsetWidth",c=s?"scrollTop":"scrollLeft",d=this.gridOptionsService.getDocument(),p=d.documentElement,h=this.getPopupParent(),f=h.getBoundingClientRect(),g=d.documentElement.getBoundingClientRect(),v=h===d.body,m=i[u],w=s?ef:Ra,b=v?w(p)+p[c]:h[a];v&&(b-=Math.abs(g[l]-f[l]));var E=b-m;return Math.min(Math.max(r,0),Math.abs(E))},e.prototype.addPopup=function(i){var r=this.gridOptionsService.getDocument(),o=i.eChild,s=i.ariaLabel,a=i.alwaysOnTop,l=i.positionCallback,u=i.anchorToElement;if(!r)return console.warn("AG Grid: could not find the document, document is empty"),{hideFunc:function(){}};var c=this.getPopupIndex(o);if(c!==-1){var d=this.popupList[c];return{hideFunc:d.hideFunc}}this.initialisePopupPosition(o);var p=this.createPopupWrapper(o,s,!!a),h=this.addEventListenersToPopup(ju(ju({},i),{wrapperEl:p}));return l&&l(),this.addPopupToPopupList(o,p,h,u),{hideFunc:h}},e.prototype.initialisePopupPosition=function(i){var r=this.getPopupParent(),o=r.getBoundingClientRect();N(i.style.top)||(i.style.top=o.top*-1+"px"),N(i.style.left)||(i.style.left=o.left*-1+"px")},e.prototype.createPopupWrapper=function(i,r,o){var s,a=this.getPopupParent(),l=document.createElement("div"),u=this.environment.getTheme().allThemes;return u.length&&(s=l.classList).add.apply(s,ZG([],JG(u))),l.classList.add("ag-popup"),i.classList.add(this.gridOptionsService.is("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),i.hasAttribute("role")||Ce(i,"dialog"),Lr(i,r),this.focusService.isKeyboardMode()&&i.classList.add(Uo.AG_KEYBOARD_FOCUS),l.appendChild(i),a.appendChild(l),o?this.setAlwaysOnTop(i,!0):this.bringPopupToFront(i),l},e.prototype.addEventListenersToPopup=function(i){var r=this,o=this.gridOptionsService.getDocument(),s=this.getPopupParent(),a=i.wrapperEl,l=i.eChild;i.click;var u=i.closedCallback,c=i.afterGuiAttached,d=i.closeOnEsc,p=i.modal,h=!1,f=function(w){if(a.contains(o.activeElement)){var b=w.key;b===A.ESCAPE&&!Ui(w)&&m({keyboardEvent:w})}},g=function(w){return m({mouseEvent:w})},v=function(w){return m({touchEvent:w})},m=function(w){w===void 0&&(w={});var b=w.mouseEvent,E=w.touchEvent,O=w.keyboardEvent;r.isEventFromCurrentPopup({mouseEvent:b,touchEvent:E},l)||h||(h=!0,s.removeChild(a),o.removeEventListener("keydown",f),o.removeEventListener("mousedown",g),o.removeEventListener("touchstart",v),o.removeEventListener("contextmenu",g),r.eventService.removeEventListener(C.EVENT_DRAG_STARTED,g),u&&u(b||E||O),r.removePopupFromPopupList(l))};return c&&c({hidePopup:m}),window.setTimeout(function(){d&&o.addEventListener("keydown",f),p&&(o.addEventListener("mousedown",g),r.eventService.addEventListener(C.EVENT_DRAG_STARTED,g),o.addEventListener("touchstart",v),o.addEventListener("contextmenu",g))},0),m},e.prototype.addPopupToPopupList=function(i,r,o,s){this.popupList.push({element:i,wrapper:r,hideFunc:o,instanceId:t1++,isAnchored:!!s}),s&&this.setPopupPositionRelatedToElement(i,s)},e.prototype.getPopupIndex=function(i){return this.popupList.findIndex(function(r){return r.element===i})},e.prototype.setPopupPositionRelatedToElement=function(i,r){var o=this.getPopupIndex(i);if(o!==-1){var s=this.popupList[o];if(s.stopAnchoringPromise&&s.stopAnchoringPromise.then(function(l){return l&&l()}),s.stopAnchoringPromise=void 0,s.isAnchored=!1,!!r){var a=this.keepPopupPositionedRelativeTo({element:r,ePopup:i,hidePopup:s.hideFunc});return s.stopAnchoringPromise=a,s.isAnchored=!0,a}}},e.prototype.removePopupFromPopupList=function(i){this.setAlignedStyles(i,null),this.setPopupPositionRelatedToElement(i,null),this.popupList=this.popupList.filter(function(r){return r.element!==i})},e.prototype.keepPopupPositionedRelativeTo=function(i){var r=this,o=this.getPopupParent(),s=o.getBoundingClientRect(),a=i.element,l=i.ePopup,u=a.getBoundingClientRect(),c=s.top-u.top,d=s.left-u.left,p=c,h=d,f=l.style.top,g=parseInt(f.substring(0,f.length-1),10),v=l.style.left,m=parseInt(v.substring(0,v.length-1),10);return new Hi(function(w){r.getFrameworkOverrides().setInterval(function(){var b=o.getBoundingClientRect(),E=a.getBoundingClientRect(),O=E.top==0&&E.left==0&&E.height==0&&E.width==0;if(O){i.hidePopup();return}var P=b.top-E.top;if(P!=p){var M=r.keepXYWithinBounds(l,g+c-P,rn.vertical);l.style.top=M+"px"}p=P;var D=b.left-E.left;if(D!=h){var F=r.keepXYWithinBounds(l,m+d-D,rn.horizontal);l.style.left=F+"px"}h=D},200).then(function(b){var E=function(){b!=null&&window.clearInterval(b)};w(E)})})},e.prototype.hasAnchoredPopup=function(){return this.popupList.some(function(i){return i.isAnchored})},e.prototype.isEventFromCurrentPopup=function(i,r){var o=i.mouseEvent,s=i.touchEvent,a=o||s;if(!a)return!1;var l=this.getPopupIndex(r);if(l===-1)return!1;for(var u=l;u<this.popupList.length;u++){var c=this.popupList[u];if(Ru(c.element,a))return!0}return this.isElementWithinCustomPopup(a.target)},e.prototype.isElementWithinCustomPopup=function(i){for(var r=this.gridOptionsService.getDocument();i&&i!==r.body;){if(i.classList.contains("ag-custom-component-popup")||i.parentElement===null)return!0;i=i.parentElement}return!1},e.prototype.getWrapper=function(i){for(;!i.classList.contains("ag-popup")&&i.parentElement;)i=i.parentElement;return i.classList.contains("ag-popup")?i:null},e.prototype.setAlwaysOnTop=function(i,r){var o=this.getWrapper(i);o&&(o.classList.toggle("ag-always-on-top",!!r),r&&this.bringPopupToFront(o))},e.prototype.bringPopupToFront=function(i){var r=this.getPopupParent(),o=Array.prototype.slice.call(r.querySelectorAll(".ag-popup")),s=o.length,a=Array.prototype.slice.call(r.querySelectorAll(".ag-popup.ag-always-on-top")),l=a.length,u=this.getWrapper(i);if(!(!u||s<=1||!r.contains(i))){var c=o.indexOf(u),d=u.querySelectorAll("div"),p=[];if(d.forEach(function(v){v.scrollTop!==0&&p.push([v,v.scrollTop])}),l){var h=u.classList.contains("ag-always-on-top");h?c!==s-1&&Vt(a).insertAdjacentElement("afterend",u):c!==s-l-1&&a[0].insertAdjacentElement("beforebegin",u)}else c!==s-1&&Vt(o).insertAdjacentElement("afterend",u);for(;p.length;){var f=p.pop();f[0].scrollTop=f[1]}var g={type:"popupToFront",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,eWrapper:u};this.eventService.dispatchEvent(g)}};var t;return e.WAIT_FOR_POPUP_CONTENT_RESIZE=200,Ds([y("focusService")],e.prototype,"focusService",void 0),Ds([y("ctrlsService")],e.prototype,"ctrlsService",void 0),Ds([y("resizeObserverService")],e.prototype,"resizeObserverService",void 0),Ds([U],e.prototype,"postConstruct",null),e=t=Ds([Z("popupService")],e),e}(j),i1=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),r1=function(n){i1(e,n);function e(){var t=n.call(this,`
        <div class="ag-autocomplete-row" role="presentation">
            <div class="ag-autocomplete-row-label"></div>
        </div>`)||this;return t.hasHighlighting=!1,t}return e.prototype.setState=function(t,i){this.value=t,this.render(),this.updateSelected(i)},e.prototype.updateSelected=function(t){this.addOrRemoveCssClass("ag-autocomplete-row-selected",t)},e.prototype.setSearchString=function(t){var i,r=!1;if(N(t)){var o=(i=this.value)===null||i===void 0?void 0:i.toLocaleLowerCase().indexOf(t.toLocaleLowerCase());if(o>=0){r=!0,this.hasHighlighting=!0;var s=o+t.length,a=pe(this.value.slice(0,o)),l=pe(this.value.slice(o,s)),u=pe(this.value.slice(s));this.getGui().lastElementChild.innerHTML=a+"<b>"+l+"</b>"+u}}!r&&this.hasHighlighting&&(this.hasHighlighting=!1,this.render())},e.prototype.render=function(){var t;this.getGui().lastElementChild.innerHTML=(t=pe(this.value))!==null&&t!==void 0?t:"&nbsp;"},e}(wt),n1=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ry=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},o1=function(n){n1(e,n);function e(t){var i=n.call(this,e.TEMPLATE)||this;return i.params=t,i.searchString="",i}return e.prototype.destroy=function(){n.prototype.destroy.call(this)},e.prototype.init=function(){var t=this;this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList=this.createManagedBean(new e_({cssIdentifier:"autocomplete"})),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),this.virtualList.setModel({getRowCount:function(){return t.autocompleteEntries.length},getRow:function(r){return t.autocompleteEntries[r]}});var i=this.virtualList.getGui();this.addManagedListener(i,"click",function(){return t.params.onConfirmed()}),this.addManagedListener(i,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(i,"mousedown",function(r){return r.preventDefault()}),this.setSelectedValue(0)},e.prototype.onNavigationKeyDown=function(t,i){t.preventDefault();var r=this.autocompleteEntries.indexOf(this.selectedValue),o=i===A.UP?r-1:r+1;this.checkSetSelectedValue(o)},e.prototype.setSearch=function(t){this.searchString=t,N(t)?this.runSearch():(this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList.refresh(),this.checkSetSelectedValue(0)),this.updateSearchInList()},e.prototype.runContainsSearch=function(t,i){var r,o=!1,s=t.toLocaleLowerCase(),a=i.filter(function(l){var u=l.toLocaleLowerCase(),c=u.indexOf(s),d=c===0,p=c>=0;return p&&(!r||!o&&d||o===d&&l.length<r.length)&&(r=l,o=d),p});return!r&&a.length&&(r=a[0]),{topMatch:r,allMatches:a}},e.prototype.runSearch=function(){var t,i,r=this.params.autocompleteEntries,o=r.map(function(d){var p;return(p=d.displayValue)!==null&&p!==void 0?p:d.key}),s,a;if(this.params.useFuzzySearch)s=Ga(this.searchString,o,!0).values,a=s.length?s[0]:void 0;else{var l=this.runContainsSearch(this.searchString,o);s=l.allMatches,a=l.topMatch}var u=r.filter(function(d){var p=d.key,h=d.displayValue;return s.includes(h??p)});if(!u.length&&this.selectedValue&&(!((i=(t=this.params)===null||t===void 0?void 0:t.forceLastSelection)===null||i===void 0)&&i.call(t,this.selectedValue,this.searchString))&&(u=[this.selectedValue]),this.autocompleteEntries=u,this.virtualList.refresh(),!!a){var c=s.indexOf(a);this.checkSetSelectedValue(c)}},e.prototype.updateSearchInList=function(){var t=this;this.virtualList.forEachRenderedRow(function(i){return i.setSearchString(t.searchString)})},e.prototype.checkSetSelectedValue=function(t){t>=0&&t<this.autocompleteEntries.length&&this.setSelectedValue(t)},e.prototype.setSelectedValue=function(t){var i=this.autocompleteEntries[t];this.selectedValue!==i&&(this.selectedValue=i,this.virtualList.ensureIndexVisible(t),this.virtualList.forEachRenderedRow(function(r,o){r.updateSelected(t===o)}))},e.prototype.createRowComponent=function(t){var i,r=new r1;return this.getContext().createBean(r),r.setState((i=t.displayValue)!==null&&i!==void 0?i:t.key,t===this.selectedValue),r},e.prototype.onMouseMove=function(t){var i=this.virtualList.getGui().getBoundingClientRect(),r=this.virtualList.getScrollTop(),o=t.clientY-i.top+r,s=Math.floor(o/this.virtualList.getRowHeight());this.checkSetSelectedValue(s)},e.prototype.afterGuiAttached=function(){this.virtualList.refresh()},e.prototype.getSelectedValue=function(){var t;return this.autocompleteEntries.length&&(t=this.selectedValue)!==null&&t!==void 0?t:null},e.TEMPLATE=`<div class="ag-autocomplete-list-popup">
            <div ref="eList" class="ag-autocomplete-list"></div>
        <div>`,Ry([K("eList")],e.prototype,"eList",void 0),Ry([U],e.prototype,"init",null),e}(fo),s1=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Bd=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},a1=function(n){s1(e,n);function e(){var t=n.call(this,`
            <div class="ag-autocomplete" role="presentation">
                <ag-input-text-field ref="eAutocompleteInput"></ag-input-text-field>
            </div>`)||this;return t.isListOpen=!1,t.lastPosition=0,t.valid=!0,t}return e.prototype.postConstruct=function(){var t=this;this.eAutocompleteInput.onValueChange(function(i){return t.onValueChanged(i)}),this.eAutocompleteInput.getInputElement().setAttribute("autocomplete","off"),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.addGuiEventListener("click",this.updatePositionAndList.bind(this)),this.addDestroyFunc(function(){t.destroyBean(t.autocompleteList)}),this.addGuiEventListener("focusout",function(){return t.onFocusOut()})},e.prototype.onValueChanged=function(t){var i=pr(t);this.updateValue(i),this.updateAutocompleteList(i)},e.prototype.updateValue=function(t){this.updateLastPosition(),this.dispatchEvent({type:e.EVENT_VALUE_CHANGED,value:t}),this.validate(t)},e.prototype.updateAutocompleteList=function(t){var i,r,o,s,a=(r=(i=this.listGenerator)===null||i===void 0?void 0:i.call(this,t,this.lastPosition))!==null&&r!==void 0?r:{enabled:!1};if((!a.type||a.type!==((o=this.autocompleteListParams)===null||o===void 0?void 0:o.type))&&this.isListOpen&&this.closeList(),this.autocompleteListParams=a,!((s=this.autocompleteListParams)===null||s===void 0)&&s.enabled){this.isListOpen||this.openList();var l=this.autocompleteListParams.searchString;this.autocompleteList.setSearch(l??"")}else this.isListOpen&&this.closeList()},e.prototype.onKeyDown=function(t){var i=this,r=t.key;switch(this.updateLastPosition(),r){case A.ENTER:this.onEnterKeyDown(t);break;case A.TAB:this.onTabKeyDown(t);break;case A.DOWN:case A.UP:this.onUpDownKeyDown(t,r);break;case A.LEFT:case A.RIGHT:case A.PAGE_HOME:case A.PAGE_END:setTimeout(function(){i.updatePositionAndList()});break;case A.ESCAPE:this.onEscapeKeyDown(t);break;case A.SPACE:t.ctrlKey&&!this.isListOpen&&(t.preventDefault(),this.forceOpenList());break}},e.prototype.confirmSelection=function(){var t,i=(t=this.autocompleteList)===null||t===void 0?void 0:t.getSelectedValue();i&&(this.closeList(),this.dispatchEvent({type:e.EVENT_OPTION_SELECTED,value:this.getValue(),position:this.lastPosition,updateEntry:i,autocompleteType:this.autocompleteListParams.type}))},e.prototype.onTabKeyDown=function(t){this.isListOpen&&(t.preventDefault(),t.stopPropagation(),this.confirmSelection())},e.prototype.onEnterKeyDown=function(t){t.preventDefault(),this.isListOpen?this.confirmSelection():this.onCompleted()},e.prototype.onUpDownKeyDown=function(t,i){var r;t.preventDefault(),this.isListOpen?(r=this.autocompleteList)===null||r===void 0||r.onNavigationKeyDown(t,i):this.forceOpenList()},e.prototype.onEscapeKeyDown=function(t){this.isListOpen&&(t.preventDefault(),t.stopPropagation(),this.closeList(),this.setCaret(this.lastPosition,!0))},e.prototype.onFocusOut=function(){this.isListOpen&&this.closeList()},e.prototype.updatePositionAndList=function(){var t;this.updateLastPosition(),this.updateAutocompleteList((t=this.eAutocompleteInput.getValue())!==null&&t!==void 0?t:null)},e.prototype.setCaret=function(t,i){var r=this.gridOptionsService.getDocument();i&&r.activeElement===r.body&&this.eAutocompleteInput.getFocusableElement().focus(),this.eAutocompleteInput.getInputElement().setSelectionRange(t,t)},e.prototype.forceOpenList=function(){this.onValueChanged(this.eAutocompleteInput.getValue())},e.prototype.updateLastPosition=function(){var t;this.lastPosition=(t=this.eAutocompleteInput.getInputElement().selectionStart)!==null&&t!==void 0?t:0},e.prototype.validate=function(t){var i;this.validator&&(this.validationMessage=this.validator(t),this.eAutocompleteInput.getInputElement().setCustomValidity((i=this.validationMessage)!==null&&i!==void 0?i:""),this.valid=!this.validationMessage,this.dispatchEvent({type:e.EVENT_VALID_CHANGED,isValid:this.valid,validationMessage:this.validationMessage}))},e.prototype.openList=function(){var t=this;this.isListOpen=!0,this.autocompleteList=this.createBean(new o1({autocompleteEntries:this.autocompleteListParams.entries,onConfirmed:function(){return t.confirmSelection()},forceLastSelection:this.forceLastSelection}));var i=this.autocompleteList.getGui(),r={ePopup:i,type:"autocomplete",eventSource:this.getGui(),position:"under",alignSide:this.gridOptionsService.is("enableRtl")?"right":"left",keepWithinBounds:!0},o=this.popupService.addPopup({eChild:i,anchorToElement:this.getGui(),positionCallback:function(){return t.popupService.positionPopupByComponent(r)},ariaLabel:this.listAriaLabel});this.hidePopup=o.hideFunc,this.autocompleteList.afterGuiAttached()},e.prototype.closeList=function(){this.isListOpen=!1,this.hidePopup(),this.destroyBean(this.autocompleteList),this.autocompleteList=null},e.prototype.onCompleted=function(){this.isListOpen&&this.closeList(),this.dispatchEvent({type:e.EVENT_VALUE_CONFIRMED,value:this.getValue(),isValid:this.isValid()})},e.prototype.getValue=function(){return pr(this.eAutocompleteInput.getValue())},e.prototype.setInputPlaceholder=function(t){return this.eAutocompleteInput.setInputPlaceholder(t),this},e.prototype.setInputAriaLabel=function(t){return this.eAutocompleteInput.setInputAriaLabel(t),this},e.prototype.setListAriaLabel=function(t){return this.listAriaLabel=t,this},e.prototype.setListGenerator=function(t){return this.listGenerator=t,this},e.prototype.setValidator=function(t){return this.validator=t,this},e.prototype.isValid=function(){return this.valid},e.prototype.setValue=function(t){var i=t.value,r=t.position,o=t.silent,s=t.updateListOnlyIfOpen,a=t.restoreFocus;this.eAutocompleteInput.setValue(i,!0),this.setCaret(r??this.lastPosition,a),o||this.updateValue(i),(!s||this.isListOpen)&&this.updateAutocompleteList(i)},e.prototype.setForceLastSelection=function(t){return this.forceLastSelection=t,this},e.prototype.setInputDisabled=function(t){return this.eAutocompleteInput.setDisabled(t),this},e.EVENT_VALUE_CHANGED="eventValueChanged",e.EVENT_VALUE_CONFIRMED="eventValueConfirmed",e.EVENT_OPTION_SELECTED="eventOptionSelected",e.EVENT_VALID_CHANGED="eventValidChanged",Bd([y("popupService")],e.prototype,"popupService",void 0),Bd([K("eAutocompleteInput")],e.prototype,"eAutocompleteInput",void 0),Bd([U],e.prototype,"postConstruct",null),e}(wt),l1=["mouseover","mouseout","mouseenter","mouseleave","mousemove"],u1=["touchstart","touchend","touchmove","touchcancel"],r_=function(){function n(){this.renderingEngine="vanilla",this.isOutsideAngular=function(e){return xi(l1,e)}}return n.prototype.setTimeout=function(e,t){window.setTimeout(e,t)},n.prototype.setInterval=function(e,t){return new Hi(function(i){i(window.setInterval(e,t))})},n.prototype.addEventListener=function(e,t,i,r){var o=xi(u1,t);e.addEventListener(t,i,{capture:!!r,passive:o})},n.prototype.dispatchEvent=function(e,t,i){t()},n.prototype.frameworkComponent=function(e){return null},n.prototype.isFrameworkComponent=function(e){return!1},n}(),c1=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),So=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},d1=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},p1=function(n,e){for(var t=0,i=e.length,r=n.length;t<i;t++,r++)n[r]=e[t];return n},h1=function(n){c1(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getNextCellToFocus=function(t,i,r){return r===void 0&&(r=!1),r?this.getNextCellToFocusWithCtrlPressed(t,i):this.getNextCellToFocusWithoutCtrlPressed(t,i)},e.prototype.getNextCellToFocusWithCtrlPressed=function(t,i){var r=t===A.UP,o=t===A.DOWN,s=t===A.LEFT,a,l;if(r||o)l=r?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),a=i.column;else{var u=this.columnModel.getAllDisplayedColumns(),c=this.gridOptionsService.is("enableRtl");l=i.rowIndex,a=s!==c?u[0]:Vt(u)}return{rowIndex:l,rowPinned:null,column:a}},e.prototype.getNextCellToFocusWithoutCtrlPressed=function(t,i){for(var r=i,o=!1;!o;){switch(t){case A.UP:r=this.getCellAbove(r);break;case A.DOWN:r=this.getCellBelow(r);break;case A.RIGHT:this.gridOptionsService.is("enableRtl")?r=this.getCellToLeft(r):r=this.getCellToRight(r);break;case A.LEFT:this.gridOptionsService.is("enableRtl")?r=this.getCellToRight(r):r=this.getCellToLeft(r);break;default:r=null,console.warn("AG Grid: unknown key for navigation "+t);break}r?o=this.isCellGoodToFocusOn(r):o=!0}return r},e.prototype.isCellGoodToFocusOn=function(t){var i=t.column,r;switch(t.rowPinned){case"top":r=this.pinnedRowModel.getPinnedTopRow(t.rowIndex);break;case"bottom":r=this.pinnedRowModel.getPinnedBottomRow(t.rowIndex);break;default:r=this.rowModel.getRow(t.rowIndex);break}if(!r)return!1;var o=i.isSuppressNavigable(r);return!o},e.prototype.getCellToLeft=function(t){if(!t)return null;var i=this.columnModel.getDisplayedColBefore(t.column);return i?{rowIndex:t.rowIndex,column:i,rowPinned:t.rowPinned}:null},e.prototype.getCellToRight=function(t){if(!t)return null;var i=this.columnModel.getDisplayedColAfter(t.column);return i?{rowIndex:t.rowIndex,column:i,rowPinned:t.rowPinned}:null},e.prototype.getRowBelow=function(t){var i=t.rowIndex,r=t.rowPinned;if(this.isLastRowInContainer(t))switch(r){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}var o=this.rowModel.getRow(t.rowIndex),s=this.getNextStickyPosition(o);return s||{rowIndex:i+1,rowPinned:r}},e.prototype.getNextStickyPosition=function(t,i){if(!(!this.gridOptionsService.isGroupRowsSticky()||!t||!t.sticky)){var r=p1([],d1(this.rowRenderer.getStickyTopRowCtrls())).sort(function(l,u){return l.getRowNode().rowIndex-u.getRowNode().rowIndex}),o=i?-1:1,s=r.findIndex(function(l){return l.getRowNode().rowIndex===t.rowIndex}),a=r[s+o];if(a)return{rowIndex:a.getRowNode().rowIndex,rowPinned:null}}},e.prototype.getCellBelow=function(t){if(!t)return null;var i=this.getRowBelow(t);return i?{rowIndex:i.rowIndex,column:t.column,rowPinned:i.rowPinned}:null},e.prototype.isLastRowInContainer=function(t){var i=t.rowPinned,r=t.rowIndex;if(i==="top"){var o=this.pinnedRowModel.getPinnedTopRowData().length-1;return o<=r}if(i==="bottom"){var s=this.pinnedRowModel.getPinnedBottomRowData().length-1;return s<=r}var a=this.paginationProxy.getPageLastRow();return a<=r},e.prototype.getRowAbove=function(t){var i=t.rowIndex,r=t.rowPinned,o=r?i===0:i===this.paginationProxy.getPageFirstRow();if(o)return r==="top"?null:r?this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null:this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;var s=this.rowModel.getRow(t.rowIndex),a=this.getNextStickyPosition(s,!0);return a||{rowIndex:i-1,rowPinned:r}},e.prototype.getCellAbove=function(t){if(!t)return null;var i=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});return i?{rowIndex:i.rowIndex,column:t.column,rowPinned:i.rowPinned}:null},e.prototype.getLastBodyCell=function(){var t=this.paginationProxy.getPageLastRow();return{rowIndex:t,rowPinned:null}},e.prototype.getLastFloatingTopRow=function(){var t=this.pinnedRowModel.getPinnedTopRowData().length-1;return{rowIndex:t,rowPinned:"top"}},e.prototype.getNextTabbedCell=function(t,i){return i?this.getNextTabbedCellBackwards(t):this.getNextTabbedCellForwards(t)},e.prototype.getNextTabbedCellForwards=function(t){var i=this.columnModel.getAllDisplayedColumns(),r=t.rowIndex,o=t.rowPinned,s=this.columnModel.getDisplayedColAfter(t.column);if(!s){s=i[0];var a=this.getRowBelow(t);if(pt(a)||!a.rowPinned&&!this.paginationProxy.isRowInPage(a))return null;r=a?a.rowIndex:null,o=a?a.rowPinned:null}return{rowIndex:r,column:s,rowPinned:o}},e.prototype.getNextTabbedCellBackwards=function(t){var i=this.columnModel.getAllDisplayedColumns(),r=t.rowIndex,o=t.rowPinned,s=this.columnModel.getDisplayedColBefore(t.column);if(!s){s=Vt(i);var a=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});if(pt(a)||!a.rowPinned&&!this.paginationProxy.isRowInPage(a))return null;r=a?a.rowIndex:null,o=a?a.rowPinned:null}return{rowIndex:r,column:s,rowPinned:o}},So([y("columnModel")],e.prototype,"columnModel",void 0),So([y("rowModel")],e.prototype,"rowModel",void 0),So([y("rowRenderer")],e.prototype,"rowRenderer",void 0),So([y("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),So([y("paginationProxy")],e.prototype,"paginationProxy",void 0),e=So([Z("cellNavigationService")],e),e}(j),f1=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),As=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},g1=function(n,e){return function(t,i){e(t,i,n)}},v1=function(n){f1(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.consuming=!1,t}return e.prototype.setBeans=function(t){this.logger=t.create("AlignedGridsService")},e.prototype.init=function(){this.addManagedListener(this.eventService,C.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,C.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,C.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,C.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,C.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,C.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},e.prototype.fireEvent=function(t){if(!this.consuming){var i=this.gridOptionsService.get("alignedGrids");i&&i.forEach(function(r){if(r.api){var o=r.api.__getAlignedGridService();t(o)}})}},e.prototype.onEvent=function(t){this.consuming=!0,t(),this.consuming=!1},e.prototype.fireColumnEvent=function(t){this.fireEvent(function(i){i.onColumnEvent(t)})},e.prototype.fireScrollEvent=function(t){t.direction==="horizontal"&&this.fireEvent(function(i){i.onScrollEvent(t)})},e.prototype.onScrollEvent=function(t){var i=this;this.onEvent(function(){var r=i.ctrlsService.getGridBodyCtrl();r.getScrollFeature().setHorizontalScrollPosition(t.left,!0)})},e.prototype.getMasterColumns=function(t){var i=[];return t.columns?t.columns.forEach(function(r){i.push(r)}):t.column&&i.push(t.column),i},e.prototype.getColumnIds=function(t){var i=[];return t.columns?t.columns.forEach(function(r){i.push(r.getColId())}):t.column&&i.push(t.column.getColId()),i},e.prototype.onColumnEvent=function(t){var i=this;this.onEvent(function(){switch(t.type){case C.EVENT_COLUMN_MOVED:case C.EVENT_COLUMN_VISIBLE:case C.EVENT_COLUMN_PINNED:case C.EVENT_COLUMN_RESIZED:var r=t;i.processColumnEvent(r);break;case C.EVENT_COLUMN_GROUP_OPENED:var o=t;i.processGroupOpenedEvent(o);break;case C.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}})},e.prototype.processGroupOpenedEvent=function(t){var i=t.columnGroup,r=null;if(i){var o=i.getGroupId();r=this.columnModel.getProvidedColumnGroup(o)}i&&!r||(this.logger.log("onColumnEvent-> processing "+t+" expanded = "+i.isExpanded()),this.columnModel.setColumnGroupOpened(r,i.isExpanded(),"alignedGridChanged"))},e.prototype.processColumnEvent=function(t){var i=this,r,o=t.column,s=null;if(o&&(s=this.columnModel.getPrimaryColumn(o.getColId())),!(o&&!s)){var a=this.getMasterColumns(t);switch(t.type){case C.EVENT_COLUMN_MOVED:{var l=t,u=t.columnApi.getColumnState(),c=u.map(function(w){return{colId:w.colId}});this.columnModel.applyColumnState({state:c,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+t.type+" toIndex = "+l.toIndex)}break;case C.EVENT_COLUMN_VISIBLE:{var d=t,u=t.columnApi.getColumnState(),c=u.map(function(E){return{colId:E.colId,hide:E.hide}});this.columnModel.applyColumnState({state:c},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+t.type+" visible = "+d.visible)}break;case C.EVENT_COLUMN_PINNED:{var p=t,u=t.columnApi.getColumnState(),c=u.map(function(E){return{colId:E.colId,pinned:E.pinned}});this.columnModel.applyColumnState({state:c},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+t.type+" pinned = "+p.pinned)}break;case C.EVENT_COLUMN_RESIZED:var h=t,f={};a.forEach(function(w){i.logger.log("onColumnEvent-> processing "+t.type+" actualWidth = "+w.getActualWidth()),f[w.getId()]={key:w.getColId(),newWidth:w.getActualWidth()}}),(r=h.flexColumns)===null||r===void 0||r.forEach(function(w){f[w.getId()]&&delete f[w.getId()]}),this.columnModel.setColumnWidths(Object.values(f),!1,h.finished,"alignedGridChanged");break}var g=this.ctrlsService.getGridBodyCtrl(),v=g.isVerticalScrollShowing(),m=this.gridOptionsService.get("alignedGrids");m&&m.forEach(function(w){w.api&&w.api.setAlwaysShowVerticalScroll(v)})}},As([y("columnModel")],e.prototype,"columnModel",void 0),As([y("ctrlsService")],e.prototype,"ctrlsService",void 0),As([g1(0,Ge("loggerFactory"))],e.prototype,"setBeans",null),As([U],e.prototype,"init",null),e=As([Z("alignedGridsService")],e),e}(j),y1=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Fs=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},m1=function(n,e){return function(t,i){e(t,i,n)}},C1=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},w1=function(n){y1(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.setBeans=function(t){this.logger=t.create("selectionService"),this.reset()},e.prototype.init=function(){var t=this;this.groupSelectsChildren=this.gridOptionsService.is("groupSelectsChildren"),this.addManagedPropertyListener("groupSelectsChildren",function(i){return t.groupSelectsChildren=i.currentValue}),this.rowSelection=this.gridOptionsService.get("rowSelection"),this.addManagedPropertyListener("rowSelection",function(i){return t.rowSelection=i.currentValue}),this.addManagedListener(this.eventService,C.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},e.prototype.isMultiselect=function(){return this.rowSelection==="multiple"},e.prototype.setNodesSelected=function(t){var i;if(t.nodes.length===0)return 0;var r=t.newValue,o=t.clearSelection,s=t.suppressFinishActions,a=t.rangeSelect;t.event;var l=t.source,u=l===void 0?"api":l;if(t.nodes.length>1&&!this.isMultiselect())return console.warn("AG Grid: cannot multi select while rowSelection='single'"),0;var c=this.groupSelectsChildren&&t.groupSelectsFiltered===!0,d=t.nodes.map(function(P){return P.footer?P.sibling:P});if(a){if(t.nodes.length>1)return console.warn("AG Grid: cannot range select while selecting multiple rows"),0;var p=this.getLastSelectedNode();if(p){var h=d[0],f=p!==h;if(f&&this.isMultiselect()){var g=this.selectRange(h,p,t.newValue,u);return this.setLastSelectedNode(h),g}}}for(var v=0,m=0;m<d.length;m++){var h=d[m],w=c&&h.group;if(!w){var b=h.selectThisNode(r,t.event,u);b&&v++}this.groupSelectsChildren&&(!((i=h.childrenAfterGroup)===null||i===void 0)&&i.length)&&(v+=this.selectChildren(h,r,c,u))}if(!s){var E=r&&(o||!this.isMultiselect());if(E&&(v+=this.clearOtherNodes(d[0],u)),v>0){this.updateGroupsFromChildrenSelections(u);var O={type:C.EVENT_SELECTION_CHANGED,source:u};this.eventService.dispatchEvent(O)}r&&this.setLastSelectedNode(d[d.length-1])}return v},e.prototype.selectRange=function(t,i,r,o){var s=this;r===void 0&&(r=!0);var a=this.rowModel.getNodesInRangeForSelection(t,i),l=0;a.forEach(function(c){if(!(c.group&&s.groupSelectsChildren||r===!1&&t===c)){var d=c.selectThisNode(r,void 0,o);d&&l++}}),this.updateGroupsFromChildrenSelections(o);var u={type:C.EVENT_SELECTION_CHANGED,source:o};return this.eventService.dispatchEvent(u),l},e.prototype.selectChildren=function(t,i,r,o){var s=r?t.childrenAfterAggFilter:t.childrenAfterGroup;return gt.missing(s)?0:this.setNodesSelected({newValue:i,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:r,source:o,nodes:s})},e.prototype.setLastSelectedNode=function(t){this.lastSelectedNode=t},e.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},e.prototype.getSelectedNodes=function(){var t=[];return Xt(this.selectedNodes,function(i,r){r&&t.push(r)}),t},e.prototype.getSelectedRows=function(){var t=[];return Xt(this.selectedNodes,function(i,r){r&&r.data&&t.push(r.data)}),t},e.prototype.getSelectionCount=function(){return Object.values(this.selectedNodes).length},e.prototype.filterFromSelection=function(t){var i={};Object.entries(this.selectedNodes).forEach(function(r){var o=C1(r,2),s=o[0],a=o[1],l=a&&t(a);l&&(i[s]=a)}),this.selectedNodes=i},e.prototype.updateGroupsFromChildrenSelections=function(t,i){if(!this.groupSelectsChildren||this.rowModel.getType()!=="clientSide")return!1;var r=this.rowModel,o=r.getRootNode();i||(i=new Ef(!0,o),i.setInactive());var s=!1;return i.forEachChangedNodeDepthFirst(function(a){if(a!==o){var l=a.calculateSelectedFromChildren();s=a.selectThisNode(l===null?!1:l,void 0,t)||s}}),s},e.prototype.clearOtherNodes=function(t,i){var r=this,o={},s=0;return Xt(this.selectedNodes,function(a,l){if(l&&l.id!==t.id){var u=r.selectedNodes[l.id];s+=u.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:i}),r.groupSelectsChildren&&l.parent&&(o[l.parent.id]=l.parent)}}),Xt(o,function(a,l){var u=l.calculateSelectedFromChildren();l.selectThisNode(u===null?!1:u,void 0,i)}),s},e.prototype.onRowSelected=function(t){var i=t.node;this.groupSelectsChildren&&i.group||(i.isSelected()?this.selectedNodes[i.id]=i:delete this.selectedNodes[i.id])},e.prototype.syncInRowNode=function(t,i){this.syncInOldRowNode(t,i),this.syncInNewRowNode(t)},e.prototype.syncInOldRowNode=function(t,i){var r=N(i)&&t.id!==i.id;if(r&&i){var o=i.id,s=this.selectedNodes[o]==t;s&&(this.selectedNodes[i.id]=i)}},e.prototype.syncInNewRowNode=function(t){N(this.selectedNodes[t.id])?(t.setSelectedInitialValue(!0),this.selectedNodes[t.id]=t):t.setSelectedInitialValue(!1)},e.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},e.prototype.getBestCostNodeSelection=function(){if(this.rowModel.getType()!=="clientSide")return;var t=this.rowModel,i=t.getTopLevelNodes();if(i===null)return;var r=[];function o(s){for(var a=0,l=s.length;a<l;a++){var u=s[a];if(u.isSelected())r.push(u);else{var c=u;c.group&&c.children&&o(c.children)}}}return o(i),r},e.prototype.isEmpty=function(){var t=0;return Xt(this.selectedNodes,function(i,r){r&&t++}),t===0},e.prototype.deselectAllRowNodes=function(t){var i=function(u){return u.selectThisNode(!1,void 0,o)},r=this.rowModel.getType()==="clientSide",o=t.source,s=t.justFiltered,a=t.justCurrentPage;if(a||s){if(!r){console.error("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'");return}this.getNodesToSelect(s,a).forEach(i)}else Xt(this.selectedNodes,function(u,c){c&&i(c)}),this.reset();r&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(o);var l={type:C.EVENT_SELECTION_CHANGED,source:o};this.eventService.dispatchEvent(l)},e.prototype.getSelectAllState=function(t,i){var r=this,o=0,s=0,a=function(l){r.groupSelectsChildren&&l.group||(l.isSelected()?o++:l.selectable&&s++)};return this.getNodesToSelect(t,i).forEach(a),o===0&&s===0?!1:o>0&&s>0?null:o>0},e.prototype.getNodesToSelect=function(t,i){var r=this;if(t===void 0&&(t=!1),i===void 0&&(i=!1),this.rowModel.getType()!=="clientSide")throw new Error("selectAll only available when rowModelType='clientSide', ie not "+this.rowModel.getType());var o=[];if(i)return this.paginationProxy.forEachNodeOnPage(function(a){if(!a.group){o.push(a);return}if(!a.expanded){var l=function(u){var c;o.push(u),!((c=u.childrenAfterFilter)===null||c===void 0)&&c.length&&u.childrenAfterFilter.forEach(l)};l(a);return}r.groupSelectsChildren||o.push(a)}),o;var s=this.rowModel;return t?(s.forEachNodeAfterFilter(function(a){o.push(a)}),o):(s.forEachNode(function(a){o.push(a)}),o)},e.prototype.selectAllRowNodes=function(t){if(this.rowModel.getType()!=="clientSide")throw new Error("selectAll only available when rowModelType='clientSide', ie not "+this.rowModel.getType());var i=t.source,r=t.justFiltered,o=t.justCurrentPage,s=function(l){return l.selectThisNode(!0,void 0,i)};this.getNodesToSelect(r,o).forEach(s),this.rowModel.getType()==="clientSide"&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(i);var a={type:C.EVENT_SELECTION_CHANGED,source:i};this.eventService.dispatchEvent(a)},e.prototype.getServerSideSelectionState=function(){return null},e.prototype.setServerSideSelectionState=function(t){},Fs([y("rowModel")],e.prototype,"rowModel",void 0),Fs([y("paginationProxy")],e.prototype,"paginationProxy",void 0),Fs([m1(0,Ge("loggerFactory"))],e.prototype,"setBeans",null),Fs([U],e.prototype,"init",null),e=Fs([Z("selectionService")],e),e}(j),jd=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},S1=function(){function n(){}return n.prototype.sizeColumnsToFit=function(e){typeof e>"u"&&console.error("AG Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnModel.sizeColumnsToFit(e,"api")},n.prototype.setColumnGroupOpened=function(e,t){this.columnModel.setColumnGroupOpened(e,t,"api")},n.prototype.getColumnGroup=function(e,t){return this.columnModel.getColumnGroup(e,t)},n.prototype.getProvidedColumnGroup=function(e){return this.columnModel.getProvidedColumnGroup(e)},n.prototype.getDisplayNameForColumn=function(e,t){return this.columnModel.getDisplayNameForColumn(e,t)||""},n.prototype.getDisplayNameForColumnGroup=function(e,t){return this.columnModel.getDisplayNameForColumnGroup(e,t)||""},n.prototype.getColumn=function(e){return this.columnModel.getPrimaryColumn(e)},n.prototype.getColumns=function(){return this.columnModel.getAllPrimaryColumns()},n.prototype.applyColumnState=function(e){return this.columnModel.applyColumnState(e,"api")},n.prototype.getColumnState=function(){return this.columnModel.getColumnState()},n.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},n.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},n.prototype.setColumnGroupState=function(e){this.columnModel.setColumnGroupState(e,"api")},n.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},n.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},n.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},n.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},n.prototype.getDisplayedColAfter=function(e){return this.columnModel.getDisplayedColAfter(e)},n.prototype.getDisplayedColBefore=function(e){return this.columnModel.getDisplayedColBefore(e)},n.prototype.setColumnVisible=function(e,t){this.columnModel.setColumnVisible(e,t,"api")},n.prototype.setColumnsVisible=function(e,t){this.columnModel.setColumnsVisible(e,t,"api")},n.prototype.setColumnPinned=function(e,t){this.columnModel.setColumnPinned(e,t,"api")},n.prototype.setColumnsPinned=function(e,t){this.columnModel.setColumnsPinned(e,t,"api")},n.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},n.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},n.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},n.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},n.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},n.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},n.prototype.moveColumn=function(e,t){this.columnModel.moveColumn(e,t,"api")},n.prototype.moveColumnByIndex=function(e,t){this.columnModel.moveColumnByIndex(e,t,"api")},n.prototype.moveColumns=function(e,t){this.columnModel.moveColumns(e,t,"api")},n.prototype.moveRowGroupColumn=function(e,t){this.columnModel.moveRowGroupColumn(e,t)},n.prototype.setColumnAggFunc=function(e,t){this.columnModel.setColumnAggFunc(e,t)},n.prototype.setColumnWidth=function(e,t,i,r){i===void 0&&(i=!0),this.columnModel.setColumnWidths([{key:e,newWidth:t}],!1,i,r)},n.prototype.setColumnWidths=function(e,t,i){t===void 0&&(t=!0),this.columnModel.setColumnWidths(e,!1,t,i)},n.prototype.setPivotMode=function(e){this.columnModel.setPivotMode(e)},n.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},n.prototype.getPivotResultColumn=function(e,t){return this.columnModel.getSecondaryPivotColumn(e,t)},n.prototype.setValueColumns=function(e){this.columnModel.setValueColumns(e,"api")},n.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},n.prototype.removeValueColumn=function(e){this.columnModel.removeValueColumn(e,"api")},n.prototype.removeValueColumns=function(e){this.columnModel.removeValueColumns(e,"api")},n.prototype.addValueColumn=function(e){this.columnModel.addValueColumn(e,"api")},n.prototype.addValueColumns=function(e){this.columnModel.addValueColumns(e,"api")},n.prototype.setRowGroupColumns=function(e){this.columnModel.setRowGroupColumns(e,"api")},n.prototype.removeRowGroupColumn=function(e){this.columnModel.removeRowGroupColumn(e,"api")},n.prototype.removeRowGroupColumns=function(e){this.columnModel.removeRowGroupColumns(e,"api")},n.prototype.addRowGroupColumn=function(e){this.columnModel.addRowGroupColumn(e,"api")},n.prototype.addRowGroupColumns=function(e){this.columnModel.addRowGroupColumns(e,"api")},n.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},n.prototype.setPivotColumns=function(e){this.columnModel.setPivotColumns(e,"api")},n.prototype.removePivotColumn=function(e){this.columnModel.removePivotColumn(e,"api")},n.prototype.removePivotColumns=function(e){this.columnModel.removePivotColumns(e,"api")},n.prototype.addPivotColumn=function(e){this.columnModel.addPivotColumn(e,"api")},n.prototype.addPivotColumns=function(e){this.columnModel.addPivotColumns(e,"api")},n.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},n.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},n.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},n.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},n.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},n.prototype.autoSizeColumn=function(e,t){return this.columnModel.autoSizeColumn(e,t,"api")},n.prototype.autoSizeColumns=function(e,t){this.columnModel.autoSizeColumns({columns:e,skipHeader:t})},n.prototype.autoSizeAllColumns=function(e){this.columnModel.autoSizeAllColumns(e,"api")},n.prototype.setPivotResultColumns=function(e){this.columnModel.setSecondaryColumns(e,"api")},n.prototype.getPivotResultColumns=function(){return this.columnModel.getSecondaryColumns()},n.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(gt.removeAllReferences.bind(window,this,"Column API"),100)},n.prototype.getAllColumns=function(){return bi("28.0","getAllColumns","getColumns"),this.getColumns()},n.prototype.getPrimaryColumns=function(){return bi("28.0","getPrimaryColumns","getColumns"),this.getColumns()},n.prototype.getSecondaryColumns=function(){return bi("28.0","getSecondaryColumns","getPivotResultColumns"),this.getPivotResultColumns()},n.prototype.setSecondaryColumns=function(e){bi("28.0","setSecondaryColumns","setPivotResultColumns"),this.setPivotResultColumns(e)},n.prototype.getSecondaryPivotColumn=function(e,t){return bi("28.0","getSecondaryPivotColumn","getPivotResultColumn"),this.getPivotResultColumn(e,t)},jd([y("columnModel")],n.prototype,"columnModel",void 0),jd([Ee],n.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),n=jd([Z("columnApi")],n),n}(),_1=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),_o=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},E1=function(n){_1(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.initialised=!1,t.isSsrm=!1,t}return e.prototype.init=function(){var t=this;this.isSsrm=this.gridOptionsService.isRowModelType("serverSide"),this.cellExpressions=this.gridOptionsService.is("enableCellExpressions"),this.isTreeData=this.gridOptionsService.is("treeData"),this.initialised=!0,this.eventService.addEventListener(C.EVENT_CELL_VALUE_CHANGED,function(i){return t.callColumnCellValueChangedHandler(i)},this.gridOptionsService.useAsyncEvents()),this.addManagedPropertyListener("treeData",function(i){return t.isTreeData=i.currentValue})},e.prototype.getValue=function(t,i,r,o){if(r===void 0&&(r=!1),o===void 0&&(o=!1),this.initialised||this.init(),!!i){var s=t.getColDef(),a=s.field,l=t.getColId(),u=i.data,c,d=i.groupData&&i.groupData[l]!==void 0,p=!o&&i.aggData&&i.aggData[l]!==void 0,h=this.isSsrm&&o&&!!t.getColDef().aggFunc,f=this.isSsrm&&i.footer&&i.field&&(t.getColDef().showRowGroup===!0||t.getColDef().showRowGroup===i.field);if(r&&s.filterValueGetter?c=this.executeFilterValueGetter(s.filterValueGetter,u,t,i):this.isTreeData&&p?c=i.aggData[l]:this.isTreeData&&s.valueGetter?c=this.executeValueGetter(s.valueGetter,u,t,i):this.isTreeData&&a&&u?c=ko(u,a,t.isFieldContainsDots()):d?c=i.groupData[l]:p?c=i.aggData[l]:s.valueGetter?c=this.executeValueGetter(s.valueGetter,u,t,i):f?c=ko(u,i.field,t.isFieldContainsDots()):a&&u&&!h&&(c=ko(u,a,t.isFieldContainsDots())),this.cellExpressions&&typeof c=="string"&&c.indexOf("=")===0){var g=c.substring(1);c=this.executeValueGetter(g,u,t,i)}if(c==null){var v=this.getOpenedGroup(i,t);if(v!=null)return v}return c}},e.prototype.getOpenedGroup=function(t,i){if(this.gridOptionsService.is("showOpenedGroup")){var r=i.getColDef();if(r.showRowGroup)for(var o=i.getColDef().showRowGroup,s=t.parent;s!=null;){if(s.rowGroupColumn&&(o===!0||o===s.rowGroupColumn.getColId()))return s.key;s=s.parent}}},e.prototype.setValue=function(t,i,r,o){var s=this.columnModel.getPrimaryColumn(i);if(!t||!s)return!1;pt(t.data)&&(t.data={});var a=s.getColDef(),l=a.field,u=a.valueSetter;if(pt(l)&&pt(u))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;if(!this.dataTypeService.checkType(s,r))return console.warn("AG Grid: Data type of the new value does not match the cell data type of the column"),!1;var c={node:t,data:t.data,oldValue:this.getValue(s,t),newValue:r,colDef:s.getColDef(),column:s,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};c.newValue=r;var d;if(N(u)?typeof u=="function"?d=u(c):d=this.expressionService.evaluate(u,c):d=this.setValueUsingField(t.data,l,r,s.isFieldContainsDots()),d===void 0&&(d=!0),!d)return!1;t.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),c.newValue=this.getValue(s,t);var p={type:C.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:c.column,api:c.api,columnApi:c.columnApi,colDef:c.colDef,context:c.context,data:t.data,node:t,oldValue:c.oldValue,newValue:c.newValue,value:c.newValue,source:o};return this.eventService.dispatchEvent(p),!0},e.prototype.callColumnCellValueChangedHandler=function(t){var i=t.colDef.onCellValueChanged;typeof i=="function"&&i({node:t.node,data:t.data,oldValue:t.oldValue,newValue:t.newValue,colDef:t.colDef,column:t.column,api:t.api,columnApi:t.columnApi,context:t.context})},e.prototype.setValueUsingField=function(t,i,r,o){if(!i)return!1;var s=!1;if(!o)s=t[i]===r,s||(t[i]=r);else for(var a=i.split("."),l=t;a.length>0&&l;){var u=a.shift();a.length===0?(s=l[u]===r,s||(l[u]=r)):l=l[u]}return!s},e.prototype.executeFilterValueGetter=function(t,i,r,o){var s={data:i,node:o,column:r,colDef:r.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,o)};return typeof t=="function"?t(s):this.expressionService.evaluate(t,s)},e.prototype.executeValueGetter=function(t,i,r,o){var s=r.getColId(),a=this.valueCache.getValue(o,s);if(a!==void 0)return a;var l={data:i,node:o,column:r,colDef:r.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,o)},u;return typeof t=="function"?u=t(l):u=this.expressionService.evaluate(t,l),this.valueCache.setValue(o,s,u),u},e.prototype.getValueCallback=function(t,i){var r=this.columnModel.getPrimaryColumn(i);return r?this.getValue(r,t):null},e.prototype.getKeyForNode=function(t,i){var r=this.getValue(t,i),o=t.getColDef().keyCreator,s=r;if(o){var a={value:r,colDef:t.getColDef(),column:t,node:i,data:i.data,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};s=o(a)}return typeof s=="string"||s==null||(s=String(s),s==="[object Object]"&&bt(function(){console.warn("AG Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")},"getKeyForNode - warn about [object,object]")),s},_o([y("expressionService")],e.prototype,"expressionService",void 0),_o([y("columnModel")],e.prototype,"columnModel",void 0),_o([y("valueCache")],e.prototype,"valueCache",void 0),_o([y("dataTypeService")],e.prototype,"dataTypeService",void 0),_o([U],e.prototype,"init",null),e=_o([Z("valueService")],e),e}(j),b1=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Oy=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},R1=function(n,e){return function(t,i){e(t,i,n)}},O1=function(n){b1(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.expressionToFunctionCache={},t}return e.prototype.setBeans=function(t){this.logger=t.create("ExpressionService")},e.prototype.evaluate=function(t,i){if(typeof t=="string")return this.evaluateExpression(t,i);console.error("AG Grid: value should be either a string or a function",t)},e.prototype.evaluateExpression=function(t,i){try{var r=this.createExpressionFunction(t),o=r(i.value,i.context,i.oldValue,i.newValue,i.value,i.node,i.data,i.colDef,i.rowIndex,i.api,i.columnApi,i.getValue,i.column,i.columnGroup);return o}catch(s){return console.log("Processing of the expression failed"),console.log("Expression = "+t),console.log("Params =",i),console.log("Exception = "+s),null}},e.prototype.createExpressionFunction=function(t){if(this.expressionToFunctionCache[t])return this.expressionToFunctionCache[t];var i=this.createFunctionBody(t),r=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",i);return this.expressionToFunctionCache[t]=r,r},e.prototype.createFunctionBody=function(t){return t.indexOf("return")>=0?t:"return "+t+";"},Oy([R1(0,Ge("loggerFactory"))],e.prototype,"setBeans",null),e=Oy([Z("expressionService")],e),e}(j),T1=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),x1=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},P1=function(n){T1(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.templateCache={},t.waitingCallbacks={},t}return e.prototype.getTemplate=function(t,i){var r=this.templateCache[t];if(r)return r;var o=this.waitingCallbacks[t],s=this;if(!o){o=[],this.waitingCallbacks[t]=o;var a=new XMLHttpRequest;a.onload=function(){s.handleHttpResult(this,t)},a.open("GET",t),a.send()}return i&&o.push(i),null},e.prototype.handleHttpResult=function(t,i){if(t.status!==200||t.response===null){console.warn("AG Grid: Unable to get template error "+t.status+" - "+i);return}this.templateCache[i]=t.response||t.responseText;for(var r=this.waitingCallbacks[i],o=0;o<r.length;o++){var s=r[o];s()}},e=x1([Z("templateService")],e),e}(j),D1=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ty=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},A1=function(n,e){return function(t,i){e(t,i,n)}},F1=function(n){D1(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.setBeans=function(t){this.logging=t.is("debug")},e.prototype.create=function(t){return new Xp(t,this.isLogging.bind(this))},e.prototype.isLogging=function(){return this.logging},Ty([A1(0,Ge("gridOptionsService"))],e.prototype,"setBeans",null),e=Ty([Z("loggerFactory")],e),e}(j),Xp=function(){function n(e,t){this.name=e,this.isLoggingFunc=t}return n.prototype.isLogging=function(){return this.isLoggingFunc()},n.prototype.log=function(e){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+e)},n}(),M1=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Eo=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},L1=function(n){M1(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.setComp=function(t,i,r){var o=this;this.view=t,this.eGridHostDiv=i,this.eGui=r,this.eGui.setAttribute("grid-id",this.context.getGridId()),this.dragAndDropService.addDropTarget({getContainer:function(){return o.eGui},isInterestedIn:function(a){return a===$e.HeaderCell||a===$e.ToolPanel},getIconName:function(){return Se.ICON_NOT_ALLOWED}}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(i),this.createManagedBean(new mf(this.view)),this.addRtlSupport(),this.addManagedListener(this,C.EVENT_KEYBOARD_FOCUS,function(){o.view.addOrRemoveKeyboardFocusClass(!0)}),this.addManagedListener(this,C.EVENT_MOUSE_FOCUS,function(){o.view.addOrRemoveKeyboardFocusClass(!1)});var s=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(function(){return s()}),this.ctrlsService.registerGridCtrl(this)},e.prototype.isDetailGrid=function(){var t,i=this.focusService.findTabbableParent(this.getGui());return((t=i==null?void 0:i.getAttribute("row-id"))===null||t===void 0?void 0:t.startsWith("detail"))||!1},e.prototype.showDropZones=function(){return ft.__isRegistered(tt.RowGroupingModule,this.context.getGridId())},e.prototype.showSideBar=function(){return ft.__isRegistered(tt.SideBarModule,this.context.getGridId())},e.prototype.showStatusBar=function(){return ft.__isRegistered(tt.StatusBarModule,this.context.getGridId())},e.prototype.showWatermark=function(){return ft.__isRegistered(tt.EnterpriseCoreModule,this.context.getGridId())},e.prototype.onGridSizeChanged=function(){var t={type:C.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight};this.eventService.dispatchEvent(t)},e.prototype.addRtlSupport=function(){var t=this.gridOptionsService.is("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(t)},e.prototype.destroyGridUi=function(){this.view.destroyGridUi()},e.prototype.getGui=function(){return this.eGui},e.prototype.setResizeCursor=function(t){this.view.setCursor(t?"ew-resize":null)},e.prototype.disableUserSelect=function(t){this.view.setUserSelect(t?"none":null)},e.prototype.focusNextInnerContainer=function(t){var i=this.gridOptionsService.getDocument(),r=this.view.getFocusableContainers(),o=r.findIndex(function(a){return a.contains(i.activeElement)}),s=o+(t?-1:1);return s<=0||s>=r.length?!1:this.focusService.focusInto(r[s])},e.prototype.focusInnerElement=function(t){var i=this.view.getFocusableContainers(),r=this.columnModel.getAllDisplayedColumns();if(t){if(i.length>1)return this.focusService.focusInto(Vt(i),!0);var o=Vt(r);if(this.focusService.focusGridView(o,!0))return!0}return this.gridOptionsService.getNum("headerHeight")===0?this.focusService.focusGridView(r[0]):this.focusService.focusFirstHeader()},e.prototype.forceFocusOutOfContainer=function(t){t===void 0&&(t=!1),this.view.forceFocusOutOfContainer(t)},Eo([y("focusService")],e.prototype,"focusService",void 0),Eo([y("resizeObserverService")],e.prototype,"resizeObserverService",void 0),Eo([y("columnModel")],e.prototype,"columnModel",void 0),Eo([y("ctrlsService")],e.prototype,"ctrlsService",void 0),Eo([y("mouseEventService")],e.prototype,"mouseEventService",void 0),Eo([y("dragAndDropService")],e.prototype,"dragAndDropService",void 0),e}(j),I1=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ms=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},N1=function(n){I1(e,n);function e(t){var i=n.call(this)||this;return i.eGridDiv=t,i}return e.prototype.postConstruct=function(){var t=this;this.logger=this.loggerFactory.create("GridComp");var i={destroyGridUi:function(){return t.destroyBean(t)},setRtlClass:function(o){return t.addCssClass(o)},addOrRemoveKeyboardFocusClass:function(o){return t.addOrRemoveCssClass(Uo.AG_KEYBOARD_FOCUS,o)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(o){t.getGui().style.userSelect=o??"",t.getGui().style.webkitUserSelect=o??""},setCursor:function(o){t.getGui().style.cursor=o??""}};this.ctrl=this.createManagedBean(new L1);var r=this.createTemplate();this.setTemplate(r),this.ctrl.setComp(i,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(o){return t.ctrl.focusInnerElement(o)}})},e.prototype.insertGridIntoDom=function(){var t=this,i=this.getGui();this.eGridDiv.appendChild(i),this.addDestroyFunc(function(){t.eGridDiv.removeChild(i),t.logger.log("Grid removed from DOM")})},e.prototype.updateLayoutClasses=function(t,i){var r=this.eRootWrapperBody.classList;r.toggle(de.AUTO_HEIGHT,i.autoHeight),r.toggle(de.NORMAL,i.normal),r.toggle(de.PRINT,i.print),this.addOrRemoveCssClass(de.AUTO_HEIGHT,i.autoHeight),this.addOrRemoveCssClass(de.NORMAL,i.normal),this.addOrRemoveCssClass(de.PRINT,i.print)},e.prototype.createTemplate=function(){var t=this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"",i=this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"",r=this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"",o=this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"",s=`<div class="ag-root-wrapper" role="presentation">
                `+t+`
                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">
                    <ag-grid-body ref="gridBody"></ag-grid-body>
                    `+i+`
                </div>
                `+r+`
                <ag-pagination></ag-pagination>
                `+o+`
            </div>`;return s},e.prototype.getFocusableElement=function(){return this.eRootWrapperBody},e.prototype.getFocusableContainers=function(){var t=[this.gridBodyComp.getGui()];return this.sideBarComp&&t.push(this.sideBarComp.getGui()),t.filter(function(i){return _n(i)})},Ms([y("loggerFactory")],e.prototype,"loggerFactory",void 0),Ms([K("gridBody")],e.prototype,"gridBodyComp",void 0),Ms([K("sideBar")],e.prototype,"sideBarComp",void 0),Ms([K("rootWrapperBody")],e.prototype,"eRootWrapperBody",void 0),Ms([U],e.prototype,"postConstruct",null),e}(xc),G1=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),xy=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Kr=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},bo=function(n,e){for(var t=0,i=e.length,r=n.length;t<i;t++,r++)n[r]=e[t];return n},H1=function(n){G1(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}t=e,e.prototype.progressSort=function(i,r,o){var s=this.getNextSortDirection(i);this.setSortForColumn(i,s,r,o)},e.prototype.setSortForColumn=function(i,r,o,s){r!=="asc"&&r!=="desc"&&(r=null);var a=this.gridOptionsService.isColumnsSortingCoupledToGroup(),l=[i];if(a&&i.getColDef().showRowGroup){var u=this.columnModel.getSourceColumnsForGroupColumn(i),c=u==null?void 0:u.filter(function(p){return p.getColDef().sortable});c&&(l=bo([i],Kr(c)))}l.forEach(function(p){return p.setSort(r,s)});var d=(o||this.gridOptionsService.is("alwaysMultiSort"))&&!this.gridOptionsService.is("suppressMultiSort");d||this.clearSortBarTheseColumns(l,s),this.updateSortIndex(i),this.dispatchSortChangedEvents(s)},e.prototype.updateSortIndex=function(i){var r=this.gridOptionsService.isColumnsSortingCoupledToGroup(),o=this.columnModel.getGroupDisplayColumnForGroup(i.getId()),s=r&&o||i,a=this.getColumnsWithSortingOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(c){return c.setSortIndex(null)});var l=a.filter(function(c){return c!==s}),u=s.getSort()?bo(bo([],Kr(l)),[s]):l;u.forEach(function(c,d){return c.setSortIndex(d)})},e.prototype.onSortChanged=function(i){this.dispatchSortChangedEvents(i)},e.prototype.isSortActive=function(){var i=this.columnModel.getPrimaryAndSecondaryAndAutoColumns(),r=i.filter(function(o){return!!o.getSort()});return r&&r.length>0},e.prototype.dispatchSortChangedEvents=function(i){var r={type:C.EVENT_SORT_CHANGED,source:i};this.eventService.dispatchEvent(r)},e.prototype.clearSortBarTheseColumns=function(i,r){this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(o){i.includes(o)||o.setSort(void 0,r)})},e.prototype.getNextSortDirection=function(i){var r;if(i.getColDef().sortingOrder?r=i.getColDef().sortingOrder:this.gridOptionsService.get("sortingOrder")?r=this.gridOptionsService.get("sortingOrder"):r=t.DEFAULT_SORTING_ORDER,!Array.isArray(r)||r.length<=0)return console.warn("AG Grid: sortingOrder must be an array with at least one element, currently it's "+r),null;var o=r.indexOf(i.getSort()),s=o<0,a=o==r.length-1,l;return s||a?l=r[0]:l=r[o+1],t.DEFAULT_SORTING_ORDER.indexOf(l)<0?(console.warn("AG Grid: invalid sort type "+l),null):l},e.prototype.getIndexedSortMap=function(){var i=this,r=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(c){return!!c.getSort()});if(this.columnModel.isPivotMode()){var o=this.gridOptionsService.isColumnsSortingCoupledToGroup();r=r.filter(function(c){var d=!!c.getAggFunc(),p=!c.isPrimary(),h=o?i.columnModel.getGroupDisplayColumnForGroup(c.getId()):c.getColDef().showRowGroup;return d||p||h})}var s=this.columnModel.getRowGroupColumns().filter(function(c){return!!c.getSort()}),a=this.gridOptionsService.isColumnsSortingCoupledToGroup()&&!!s.length;a&&(r=bo([],Kr(new Set(r.map(function(c){var d;return(d=i.columnModel.getGroupDisplayColumnForGroup(c.getId()))!==null&&d!==void 0?d:c})))));var l={};r.forEach(function(c,d){return l[c.getId()]=d}),r.sort(function(c,d){var p=c.getSortIndex(),h=d.getSortIndex();if(p!=null&&h!=null)return p-h;if(p==null&&h==null){var f=l[c.getId()],g=l[d.getId()];return f>g?1:-1}else return h==null?-1:1});var u=new Map;return r.forEach(function(c,d){return u.set(c,d)}),a&&s.forEach(function(c){var d=i.columnModel.getGroupDisplayColumnForGroup(c.getId());u.set(c,u.get(d))}),u},e.prototype.getColumnsWithSortingOrdered=function(){return bo([],Kr(this.getIndexedSortMap().entries())).sort(function(i,r){var o=Kr(i,2);o[0];var s=o[1],a=Kr(r,2);a[0];var l=a[1];return s-l}).map(function(i){var r=Kr(i,1),o=r[0];return o})},e.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered().filter(function(i){return i.getSort()}).map(function(i){return{sort:i.getSort(),colId:i.getId()}})},e.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().filter(function(i){return i.getSort()}).map(function(i){return{sort:i.getSort(),column:i}})},e.prototype.canColumnDisplayMixedSort=function(i){var r=this.gridOptionsService.isColumnsSortingCoupledToGroup(),o=!!i.getColDef().showRowGroup;return r&&o},e.prototype.getDisplaySortForColumn=function(i){var r=this.columnModel.getSourceColumnsForGroupColumn(i);if(!this.canColumnDisplayMixedSort(i)||!(r!=null&&r.length))return i.getSort();var o=i.getColDef().field!=null||!!i.getColDef().valueGetter,s=o?bo([i],Kr(r)):r,a=s[0].getSort(),l=s.every(function(u){return u.getSort()==a});return l?a:"mixed"},e.prototype.getDisplaySortIndexForColumn=function(i){return this.getIndexedSortMap().get(i)};var t;return e.DEFAULT_SORTING_ORDER=["asc","desc",null],xy([y("columnModel")],e.prototype,"columnModel",void 0),e=t=xy([Z("sortController")],e),e}(j),V1=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),k1=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},B1=function(n){V1(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.setMouseOver=function(t){this.selectedColumns=t;var i={type:C.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(i)},e.prototype.clearMouseOver=function(){this.selectedColumns=null;var t={type:C.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(t)},e.prototype.isHovered=function(t){return!!this.selectedColumns&&this.selectedColumns.indexOf(t)>=0},e=k1([Z("columnHoverService")],e),e}(j),j1=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Wd=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},W1=function(n){j1(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.executeNextFuncs=[],t.executeLaterFuncs=[],t.active=!1,t.animationThreadCount=0,t}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(i){return t.gridBodyCtrl=i.gridBodyCtrl})},e.prototype.isActive=function(){return this.active},e.prototype.start=function(){this.active||this.gridOptionsService.is("suppressColumnMoveAnimation")||this.gridOptionsService.is("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)},e.prototype.finish=function(){this.active&&(this.flush(),this.active=!1)},e.prototype.executeNextVMTurn=function(t){this.active?this.executeNextFuncs.push(t):t()},e.prototype.executeLaterVMTurn=function(t){this.active?this.executeLaterFuncs.push(t):t()},e.prototype.ensureAnimationCssClassPresent=function(){var t=this;this.animationThreadCount++;var i=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(function(){t.animationThreadCount===i&&t.gridBodyCtrl.setColumnMovingCss(!1)})},e.prototype.flush=function(){var t=this.executeNextFuncs;this.executeNextFuncs=[];var i=this.executeLaterFuncs;this.executeLaterFuncs=[],!(t.length===0&&i.length===0)&&(window.setTimeout(function(){return t.forEach(function(r){return r()})},0),window.setTimeout(function(){return i.forEach(function(r){return r()})},300))},Wd([y("ctrlsService")],e.prototype,"ctrlsService",void 0),Wd([U],e.prototype,"postConstruct",null),e=Wd([Z("columnAnimationService")],e),e}(j),U1=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ud=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},z1=function(n){U1(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(i){t.centerRowContainerCon=i.centerRowContainerCtrl,t.addManagedListener(t.eventService,C.EVENT_BODY_HEIGHT_CHANGED,t.checkPageSize.bind(t)),t.addManagedListener(t.eventService,C.EVENT_SCROLL_VISIBILITY_CHANGED,t.checkPageSize.bind(t)),t.checkPageSize()})},e.prototype.notActive=function(){return!this.gridOptionsService.is("paginationAutoPageSize")||this.centerRowContainerCon==null},e.prototype.checkPageSize=function(){var t=this;if(!this.notActive()){var i=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(i>0){var r=function(){var o=t.gridOptionsService.getRowHeightAsNumber(),s=Math.floor(i/o);t.gridOptionsService.set("paginationPageSize",s)};this.isBodyRendered?Vi(function(){return r()},50)():(r(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},Ud([y("ctrlsService")],e.prototype,"ctrlsService",void 0),Ud([U],e.prototype,"postConstruct",null),e=Ud([Z("paginationAutoPageSizeService")],e),e}(j),$1=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Py=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},K1=function(n){$1(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.cacheVersion=0,t}return e.prototype.init=function(){this.active=this.gridOptionsService.is("valueCache"),this.neverExpires=this.gridOptionsService.is("valueCacheNeverExpires")},e.prototype.onDataChanged=function(){this.neverExpires||this.expire()},e.prototype.expire=function(){this.cacheVersion++},e.prototype.setValue=function(t,i,r){this.active&&(t.__cacheVersion!==this.cacheVersion&&(t.__cacheVersion=this.cacheVersion,t.__cacheData={}),t.__cacheData[i]=r)},e.prototype.getValue=function(t,i){if(!(!this.active||t.__cacheVersion!==this.cacheVersion))return t.__cacheData[i]},Py([U],e.prototype,"init",null),e=Py([Z("valueCache")],e),e}(j),Y1=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ol=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},q1="paste",X1=function(n){Y1(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(){this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,C.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},e.prototype.onCellValueChanged=function(t){t.source!==q1&&this.doChangeDetection(t.node,t.column)},e.prototype.doChangeDetection=function(t,i){if(!this.gridOptionsService.is("suppressChangeDetection")){var r=[t];if(this.clientSideRowModel&&!t.isRowPinned()){var o=this.gridOptionsService.is("aggregateOnlyChangedColumns"),s=new Ef(o,this.clientSideRowModel.getRootNode());s.addParentNode(t.parent,[i]),this.clientSideRowModel.doAggregate(s),s.forEachChangedNodeDepthFirst(function(a){r.push(a)})}this.rowRenderer.refreshCells({rowNodes:r})}},Ol([y("rowModel")],e.prototype,"rowModel",void 0),Ol([y("rowRenderer")],e.prototype,"rowRenderer",void 0),Ol([U],e.prototype,"init",null),e=Ol([Z("changeDetectionService")],e),e}(j),Q1=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Dy=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},J1=function(n){Q1(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.adaptFunction=function(t,i){var r=this.componentMetadataProvider.retrieve(t);return r&&r.functionAdapter?r.functionAdapter(i):null},e.prototype.adaptCellRendererFunction=function(t){var i=function(){function r(){}return r.prototype.refresh=function(o){return!1},r.prototype.getGui=function(){return this.eGui},r.prototype.init=function(o){var s=t(o),a=typeof s;if(a==="string"||a==="number"||a==="boolean"){this.eGui=Pe("<span>"+s+"</span>");return}if(s==null){this.eGui=Pe("<span></span>");return}this.eGui=s},r}();return i},e.prototype.doesImplementIComponent=function(t){return t?t.prototype&&"getGui"in t.prototype:!1},Dy([y("componentMetadataProvider")],e.prototype,"componentMetadataProvider",void 0),e=Dy([Z("agComponentUtils")],e),e}(j),Z1=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),zd=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},tH=function(n){Z1(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},e.prototype.retrieve=function(t){return this.componentMetaData[t]},zd([y("agComponentUtils")],e.prototype,"agComponentUtils",void 0),zd([U],e.prototype,"postConstruct",null),e=zd([Z("componentMetadataProvider")],e),e}(j),eH=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),$d=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},iH=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},rH=function(n,e){for(var t=0,i=e.length,r=n.length;t<i;t++,r++)n[r]=e[t];return n},nH=25,Ay=10,Kd=8,oH=4,Yd=4,qd=6,sH={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:oH*5,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:Kd*7,headerCellMinWidth:48,listItemHeight:Kd*4,rowHeight:Kd*6,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:Yd*8,headerCellMinWidth:24,listItemHeight:Yd*6,rowHeight:Yd*7,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:qd*8,headerCellMinWidth:36,listItemHeight:qd*4,rowHeight:qd*7,chartMenuPanelWidth:240}},Fy={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},aH=function(n){eH(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.calculatedSizes={},t}return e.prototype.postConstruct=function(){var t=this,i,r=(i=this.getTheme().el)!==null&&i!==void 0?i:this.eGridDiv;this.mutationObserver=new MutationObserver(function(){t.calculatedSizes={},t.fireGridStylesChangedEvent()}),this.mutationObserver.observe(r||this.eGridDiv,{attributes:!0,attributeFilter:["class"]})},e.prototype.fireGridStylesChangedEvent=function(){var t={type:C.EVENT_GRID_STYLES_CHANGED};this.eventService.dispatchEvent(t)},e.prototype.getSassVariable=function(t){var i=this.getTheme(),r=i.themeFamily,o=i.el;if(!(!r||r.indexOf("ag-theme")!==0)){this.calculatedSizes||(this.calculatedSizes={}),this.calculatedSizes[r]||(this.calculatedSizes[r]={});var s=this.calculatedSizes[r][t];return s??(this.calculatedSizes[r][t]=this.calculateValueForSassProperty(t,r,o),this.calculatedSizes[r][t])}},e.prototype.calculateValueForSassProperty=function(t,i,r){var o,s="ag-theme-"+(i.match("material")?"material":i.match("balham")?"balham":i.match("alpine")?"alpine":"custom"),a=sH[s][t],l=this.gridOptionsService.getDocument();if(r||(r=this.eGridDiv),!Fy[t])return a;var u=Fy[t],c=l.createElement("div"),d=Array.from(r.classList);(o=c.classList).add.apply(o,rH([i],iH(d))),c.style.position="absolute";var p=u.reduce(function(g,v){var m=l.createElement("div");return m.style.position="static",m.classList.add(v),g.appendChild(m),m},c),h=0;if(l.body){l.body.appendChild(c);var f=t.toLowerCase().indexOf("height")!==-1?"height":"width";h=parseInt(window.getComputedStyle(p)[f],10),l.body.removeChild(c)}return h||a},e.prototype.isThemeDark=function(){var t=this.getTheme().theme;return!!t&&t.indexOf("dark")>=0},e.prototype.chartMenuPanelWidth=function(){return this.getSassVariable("chartMenuPanelWidth")},e.prototype.getTheme=function(){for(var t=/\bag-(material|(?:theme-([\w\-]*)))\b/g,i=this.eGridDiv,r=null,o=[];i;)if(r=t.exec(i.className),!r)i=i.parentElement||void 0;else{var s=i.className.match(t);s&&(o=s);break}if(!r)return{allThemes:o};var a=r[0];return{theme:a,el:i,themeFamily:a.replace(/-dark$/,""),allThemes:o}},e.prototype.getFromTheme=function(t,i){var r;return(r=this.getSassVariable(i))!==null&&r!==void 0?r:t},e.prototype.getDefaultRowHeight=function(){return this.getFromTheme(nH,"rowHeight")},e.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},e.prototype.refreshRowHeightVariable=function(){var t=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),i=this.gridOptionsService.getNum("rowHeight");if(i==null||isNaN(i)||!isFinite(i))return-1;var r=i+"px";return t!=r?(this.eGridDiv.style.setProperty("--ag-line-height",r),i):t!=""?parseFloat(t):-1},e.prototype.getMinColWidth=function(){var t=this.getFromTheme(null,"headerCellMinWidth");return N(t)?Math.max(t,Ay):Ay},e.prototype.destroy=function(){this.calculatedSizes=null,this.mutationObserver&&this.mutationObserver.disconnect(),n.prototype.destroy.call(this)},$d([y("eGridDiv")],e.prototype,"eGridDiv",void 0),$d([U],e.prototype,"postConstruct",null),e=$d([Z("environment")],e),e}(j),lH=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Tl=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},uH=function(n,e){return function(t,i){e(t,i,n)}},cH=function(n){lH(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.scrollY=0,t.uiBodyHeight=0,t}return e.prototype.agWire=function(t){this.logger=t.create("RowContainerHeightService")},e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,C.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=aS(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},e.prototype.isStretching=function(){return this.stretching},e.prototype.getDivStretchOffset=function(){return this.divStretchOffset},e.prototype.updateOffset=function(){if(this.stretching){var t=this.ctrlsService.getGridBodyCtrl(),i=t.getScrollFeature().getVScrollPosition().top,r=this.getUiBodyHeight(),o=i!==this.scrollY||r!==this.uiBodyHeight;o&&(this.scrollY=i,this.uiBodyHeight=r,this.calculateOffset())}},e.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var t=this.scrollY/this.maxScrollY,i=t*this.pixelsToShave;this.logger.log("Div Stretch Offset = "+i+" ("+this.pixelsToShave+" * "+t+")"),this.setDivStretchOffset(i)},e.prototype.setUiContainerHeight=function(t){t!==this.uiContainerHeight&&(this.uiContainerHeight=t,this.eventService.dispatchEvent({type:C.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},e.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},e.prototype.setDivStretchOffset=function(t){var i=typeof t=="number"?Math.floor(t):null;this.divStretchOffset!==i&&(this.divStretchOffset=i,this.eventService.dispatchEvent({type:C.EVENT_HEIGHT_SCALE_CHANGED}))},e.prototype.setModelHeight=function(t){this.modelHeight=t,this.stretching=t!=null&&this.maxDivHeight>0&&t>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},e.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},e.prototype.getRealPixelPosition=function(t){return t-this.divStretchOffset},e.prototype.getUiBodyHeight=function(){var t=this.ctrlsService.getGridBodyCtrl(),i=t.getScrollFeature().getVScrollPosition();return i.bottom-i.top},e.prototype.getScrollPositionForPixel=function(t){if(this.pixelsToShave<=0)return t;var i=this.modelHeight-this.getUiBodyHeight(),r=t/i,o=this.maxScrollY*r;return o},Tl([y("ctrlsService")],e.prototype,"ctrlsService",void 0),Tl([uH(0,Ge("loggerFactory"))],e.prototype,"agWire",null),Tl([U],e.prototype,"postConstruct",null),e=Tl([Z("rowContainerHeightService")],e),e}(j),dH=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),My=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},pH=function(n){dH(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsService.is("groupSelectsChildren"),this.isRowSelectableFunc=this.gridOptionsService.get("isRowSelectable")},e.prototype.updateSelectableAfterGrouping=function(t){if(this.isRowSelectableFunc){var i=function(r){return r.childrenAfterGroup};this.recurseDown(t.childrenAfterGroup,i)}},e.prototype.recurseDown=function(t,i){var r=this;t&&t.forEach(function(o){if(o.group){o.hasChildren()&&r.recurseDown(i(o),i);var s;if(r.groupSelectsChildren){var a=(i(o)||[]).find(function(l){return l.selectable===!0});s=N(a)}else s=r.isRowSelectableFunc?r.isRowSelectableFunc(o):!1;o.setRowSelectable(s)}})},My([U],e.prototype,"init",null),e=My([Z("selectableService")],e),e}(j),hH=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Si=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},fH=function(n){hH(e,n);function e(){var t=n.call(this)||this;return t.previousAndFirstButtonsDisabled=!1,t.nextButtonDisabled=!1,t.lastButtonDisabled=!1,t.areListenersSetup=!1,t}return e.prototype.postConstruct=function(){var t=this.gridOptionsService.is("enableRtl");this.setTemplate(this.getTemplate());var i=this,r=i.btFirst,o=i.btPrevious,s=i.btNext,a=i.btLast;this.activateTabIndex([r,o,s,a]),r.insertAdjacentElement("afterbegin",ae(t?"last":"first",this.gridOptionsService)),o.insertAdjacentElement("afterbegin",ae(t?"next":"previous",this.gridOptionsService)),s.insertAdjacentElement("afterbegin",ae(t?"previous":"next",this.gridOptionsService)),a.insertAdjacentElement("afterbegin",ae(t?"first":"last",this.gridOptionsService)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.onPaginationChanged()},e.prototype.onPaginationChanged=function(){var t=this.gridOptionsService.is("pagination"),i=t&&!this.gridOptionsService.is("suppressPaginationPanel");this.setDisplayed(i),i&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels())},e.prototype.setupListeners=function(){var t=this;this.areListenersSetup||(this.addManagedListener(this.eventService,C.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(function(i){var r=i.el,o=i.fn;t.addManagedListener(r,"click",o),t.addManagedListener(r,"keydown",function(s){(s.key===A.ENTER||s.key===A.SPACE)&&(s.preventDefault(),o())})}),this.areListenersSetup=!0)},e.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},e.prototype.setCurrentPageLabel=function(){var t=this.paginationProxy.getTotalPages()>0,i=this.paginationProxy.getCurrentPage(),r=t?i+1:0;this.lbCurrent.innerHTML=this.formatNumber(r)},e.prototype.formatNumber=function(t){var i=this.gridOptionsService.getCallback("paginationNumberFormatter");if(i){var r={value:t};return i(r)}var o=this.localeService.getLocaleTextFunc(),s=o("thousandSeparator",","),a=o("decimalSeparator",".");return Jh(t,s,a)},e.prototype.getTemplate=function(){var t=this.localeService.getLocaleTextFunc(),i=t("page","Page"),r=t("to","to"),o=t("of","of"),s=t("firstPage","First Page"),a=t("previousPage","Previous Page"),l=t("nextPage","Next Page"),u=t("lastPage","Last Page"),c=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'+c+`">
                <span class="ag-paging-row-summary-panel" role="status">
                    <span id="ag-`+c+`-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-`+c+'-to">'+r+`</span>
                    <span id="ag-`+c+`-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-`+c+'-of">'+o+`</span>
                    <span id="ag-`+c+`-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="`+s+`"></div>
                    <div ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="`+a+`"></div>
                    <span class="ag-paging-description" role="status">
                        <span id="ag-`+c+'-start-page">'+i+`</span>
                        <span id="ag-`+c+`-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-`+c+'-of-page">'+o+`</span>
                        <span id="ag-`+c+`-of-page-number" ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="`+l+`"></div>
                    <div ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="`+u+`"></div>
                </span>
            </div>`},e.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},e.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},e.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},e.prototype.enableOrDisableButtons=function(){var t=this.paginationProxy.getCurrentPage(),i=this.paginationProxy.isLastPageFound(),r=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=t===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);var o=this.isZeroPagesToDisplay(),s=i&&t===r-1;this.nextButtonDisabled=s||o,this.lastButtonDisabled=!i||o||t===r-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)},e.prototype.toggleButtonDisabled=function(t,i){Wh(t,i),t.classList.toggle("ag-disabled",i)},e.prototype.updateRowLabels=function(){var t=this.paginationProxy.getCurrentPage(),i=this.paginationProxy.getPageSize(),r=this.paginationProxy.isLastPageFound(),o=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null,s,a;if(this.isZeroPagesToDisplay()?s=a=0:(s=i*t+1,a=s+i-1,r&&a>o&&(a=o)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(s),this.rowNodeBlockLoader.isLoading()){var l=this.localeService.getLocaleTextFunc();this.lbLastRowOnPage.innerHTML=l("pageLastRowUnknown","?")}else this.lbLastRowOnPage.innerHTML=this.formatNumber(a)},e.prototype.isZeroPagesToDisplay=function(){var t=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.getTotalPages();return t&&i===0},e.prototype.setTotalLabels=function(){var t=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.getTotalPages(),r=t?this.paginationProxy.getMasterRowCount():null;if(r===1){var o=this.paginationProxy.getRow(0),s=o&&o.group&&!(o.groupData||o.aggData);if(s){this.setTotalLabelsToZero();return}}if(t)this.lbTotal.innerHTML=this.formatNumber(i),this.lbRecordCount.innerHTML=this.formatNumber(r);else{var a=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=a,this.lbRecordCount.innerHTML=a}},e.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.innerHTML=this.formatNumber(0),this.lbCurrent.innerHTML=this.formatNumber(0),this.lbLastRowOnPage.innerHTML=this.formatNumber(0),this.lbTotal.innerHTML=this.formatNumber(0),this.lbRecordCount.innerHTML=this.formatNumber(0)},Si([y("paginationProxy")],e.prototype,"paginationProxy",void 0),Si([y("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),Si([K("btFirst")],e.prototype,"btFirst",void 0),Si([K("btPrevious")],e.prototype,"btPrevious",void 0),Si([K("btNext")],e.prototype,"btNext",void 0),Si([K("btLast")],e.prototype,"btLast",void 0),Si([K("lbRecordCount")],e.prototype,"lbRecordCount",void 0),Si([K("lbFirstRowOnPage")],e.prototype,"lbFirstRowOnPage",void 0),Si([K("lbLastRowOnPage")],e.prototype,"lbLastRowOnPage",void 0),Si([K("lbCurrent")],e.prototype,"lbCurrent",void 0),Si([K("lbTotal")],e.prototype,"lbTotal",void 0),Si([U],e.prototype,"postConstruct",null),e}(wt),gH=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ro=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Fo;(function(n){n[n.Loading=0]="Loading",n[n.NoRows=1]="NoRows"})(Fo||(Fo={}));var vH=function(n){gH(e,n);function e(){var t=n.call(this,e.TEMPLATE)||this;return t.inProgress=!1,t.destroyRequested=!1,t.manuallyDisplayed=!1,t}return e.prototype.updateLayoutClasses=function(t,i){var r=this.eOverlayWrapper.classList;r.toggle(de.AUTO_HEIGHT,i.autoHeight),r.toggle(de.NORMAL,i.normal),r.toggle(de.PRINT,i.print)},e.prototype.postConstruct=function(){this.createManagedBean(new mf(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.addManagedListener(this.eventService,C.EVENT_ROW_DATA_UPDATED,this.onRowDataUpdated.bind(this)),this.addManagedListener(this.eventService,C.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.gridOptionsService.isRowModelType("clientSide")&&!this.gridOptionsService.get("rowData")&&this.showLoadingOverlay(),this.gridApi.registerOverlayWrapperComp(this)},e.prototype.setWrapperTypeClass=function(t){var i=this.eOverlayWrapper.classList;i.toggle("ag-overlay-loading-wrapper",t===Fo.Loading),i.toggle("ag-overlay-no-rows-wrapper",t===Fo.NoRows)},e.prototype.showLoadingOverlay=function(){if(!this.gridOptionsService.is("suppressLoadingOverlay")){var t={},i=this.userComponentFactory.getLoadingOverlayCompDetails(t),r=i.newAgStackInstance();this.showOverlay(r,Fo.Loading)}},e.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsService.is("suppressNoRowsOverlay")){var t={},i=this.userComponentFactory.getNoRowsOverlayCompDetails(t),r=i.newAgStackInstance();this.showOverlay(r,Fo.NoRows)}},e.prototype.showOverlay=function(t,i){var r=this;this.inProgress||(this.setWrapperTypeClass(i),this.destroyActiveOverlay(),this.inProgress=!0,t&&t.then(function(o){r.inProgress=!1,r.eOverlayWrapper.appendChild(o.getGui()),r.activeOverlay=o,r.destroyRequested&&(r.destroyRequested=!1,r.destroyActiveOverlay())}),this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.setDisplayed(!0,{skipAriaHidden:!0}))},e.prototype.destroyActiveOverlay=function(){if(this.inProgress){this.destroyRequested=!0;return}this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),Ve(this.eOverlayWrapper))},e.prototype.hideOverlay=function(){this.manuallyDisplayed=!1,this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})},e.prototype.destroy=function(){this.destroyActiveOverlay(),n.prototype.destroy.call(this)},e.prototype.showOrHideOverlay=function(){var t=this.paginationProxy.isEmpty(),i=this.gridOptionsService.is("suppressNoRowsOverlay");t&&!i?this.showNoRowsOverlay():this.hideOverlay()},e.prototype.onRowDataUpdated=function(){this.showOrHideOverlay()},e.prototype.onNewColumnsLoaded=function(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&!this.manuallyDisplayed&&this.hideOverlay()},e.TEMPLATE=`
        <div class="ag-overlay" aria-hidden="true">
            <div class="ag-overlay-panel">
                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>
            </div>
        </div>`,Ro([y("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Ro([y("paginationProxy")],e.prototype,"paginationProxy",void 0),Ro([y("gridApi")],e.prototype,"gridApi",void 0),Ro([y("columnModel")],e.prototype,"columnModel",void 0),Ro([K("eOverlayWrapper")],e.prototype,"eOverlayWrapper",void 0),Ro([U],e.prototype,"postConstruct",null),e}(wt),yH=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),xl=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},mH=function(n){yH(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getFirstRow=function(){var t=0,i;return this.pinnedRowModel.getPinnedTopRowCount()?i="top":this.rowModel.getRowCount()?(i=null,t=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(i="bottom"),i===void 0?null:{rowIndex:t,rowPinned:i}},e.prototype.getLastRow=function(){var t,i=null,r=this.pinnedRowModel.getPinnedBottomRowCount(),o=this.pinnedRowModel.getPinnedTopRowCount();return r?(i="bottom",t=r-1):this.rowModel.getRowCount()?(i=null,t=this.paginationProxy.getPageLastRow()):o&&(i="top",t=o-1),t===void 0?null:{rowIndex:t,rowPinned:i}},e.prototype.getRowNode=function(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},e.prototype.sameRow=function(t,i){return!t&&!i?!0:t&&!i||!t&&i?!1:t.rowIndex===i.rowIndex&&t.rowPinned==i.rowPinned},e.prototype.before=function(t,i){switch(t.rowPinned){case"top":if(i.rowPinned!=="top")return!0;break;case"bottom":if(i.rowPinned!=="bottom")return!1;break;default:if(N(i.rowPinned))return i.rowPinned!=="top";break}return t.rowIndex<i.rowIndex},e.prototype.rowMax=function(t){var i=this,r;return t.forEach(function(o){(r===void 0||i.before(r,o))&&(r=o)}),r},e.prototype.rowMin=function(t){var i=this,r;return t.forEach(function(o){(r===void 0||i.before(o,r))&&(r=o)}),r},xl([y("rowModel")],e.prototype,"rowModel",void 0),xl([y("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),xl([y("paginationProxy")],e.prototype,"paginationProxy",void 0),e=xl([Z("rowPositionUtils")],e),e}(j),CH=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),wH=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},SH=function(n){CH(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.createId=function(t){var i=t.rowIndex,r=t.rowPinned,o=t.column;return this.createIdFromValues({rowIndex:i,column:o,rowPinned:r})},e.prototype.createIdFromValues=function(t){var i=t.rowIndex,r=t.rowPinned,o=t.column;return i+"."+(r??"null")+"."+o.getId()},e.prototype.equals=function(t,i){var r=t.column===i.column,o=t.rowPinned===i.rowPinned,s=t.rowIndex===i.rowIndex;return r&&o&&s},e=wH([Z("cellPositionUtils")],e),e}(j),_H=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ys=function(){function n(e){this.cellValueChanges=e}return n}(),Xd=function(n){_H(e,n);function e(t,i,r,o){var s=n.call(this,t)||this;return s.initialRange=i,s.finalRange=r,s.ranges=o,s}return e}(Ys),Ly=function(){function n(e){this.actionStack=[],this.maxStackSize=e||n.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return n.prototype.pop=function(){return this.actionStack.pop()},n.prototype.push=function(e){var t=e.cellValueChanges&&e.cellValueChanges.length>0;t&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))},n.prototype.clear=function(){this.actionStack=[]},n.prototype.getCurrentStackSize=function(){return this.actionStack.length},n.DEFAULT_STACK_SIZE=10,n}(),EH=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Wu=function(){return Wu=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Wu.apply(this,arguments)},Ji=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},bH=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},RH=function(n,e){for(var t=0,i=e.length,r=n.length;t<i;t++,r++)n[r]=e[t];return n},OH=function(n){EH(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.cellValueChanges=[],t.activeCellEdit=null,t.activeRowEdit=null,t.isPasting=!1,t.isRangeInAction=!1,t.onCellValueChanged=function(i){var r={column:i.column,rowIndex:i.rowIndex,rowPinned:i.rowPinned},o=t.activeCellEdit!==null&&t.cellPositionUtils.equals(t.activeCellEdit,r),s=t.activeRowEdit!==null&&t.rowPositionUtils.sameRow(t.activeRowEdit,r),a=o||s||t.isPasting||t.isRangeInAction;if(a){var l=i.rowPinned,u=i.rowIndex,c=i.column,d=i.oldValue,p=i.value,h={rowPinned:l,rowIndex:u,columnId:c.getColId(),newValue:p,oldValue:d};t.cellValueChanges.push(h)}},t.clearStacks=function(){t.undoStack.clear(),t.redoStack.clear()},t}return e.prototype.init=function(){var t=this;if(this.gridOptionsService.is("undoRedoCellEditing")){var i=this.gridOptionsService.getNum("undoRedoCellEditingLimit");i<=0||(this.undoStack=new Ly(i),this.redoStack=new Ly(i),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,C.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,C.EVENT_MODEL_UPDATED,function(r){r.keepUndoRedoStack||t.clearStacks()}),this.addManagedListener(this.eventService,C.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,C.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,C.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,C.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,C.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,C.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,C.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,C.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady(function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl()}))}},e.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},e.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},e.prototype.undo=function(t){var i={type:C.EVENT_UNDO_STARTED,source:t};this.eventService.dispatchEvent(i);var r=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo"),o={type:C.EVENT_UNDO_ENDED,source:t,operationPerformed:r};this.eventService.dispatchEvent(o)},e.prototype.redo=function(t){var i={type:C.EVENT_REDO_STARTED,source:t};this.eventService.dispatchEvent(i);var r=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo"),o={type:C.EVENT_REDO_ENDED,source:t,operationPerformed:r};this.eventService.dispatchEvent(o)},e.prototype.undoRedo=function(t,i,r,o,s){if(!t)return!1;var a=t.pop();return!a||!a.cellValueChanges?!1:(this.processAction(a,function(l){return l[o]},s),a instanceof Xd?this.processRange(a.ranges||[a[r]]):this.processCell(a.cellValueChanges),i.push(a),!0)},e.prototype.processAction=function(t,i,r){var o=this;t.cellValueChanges.forEach(function(s){var a=s.rowIndex,l=s.rowPinned,u=s.columnId,c={rowIndex:a,rowPinned:l},d=o.getRowNode(c);d.displayed&&d.setDataValue(u,i(s),r)})},e.prototype.processRange=function(t){var i=this,r;this.rangeService.removeAllCellRanges(!0),t.forEach(function(o,s){if(o){var a=o.startRow,l=o.endRow;s===t.length-1&&(r={rowPinned:a.rowPinned,rowIndex:a.rowIndex,columnId:o.startColumn.getColId()},i.setLastFocusedCell(r));var u={rowStartIndex:a.rowIndex,rowStartPinned:a.rowPinned,rowEndIndex:l.rowIndex,rowEndPinned:l.rowPinned,columnStart:o.startColumn,columns:o.columns};i.rangeService.addCellRange(u)}})},e.prototype.processCell=function(t){var i=t[0],r=i.rowIndex,o=i.rowPinned,s={rowIndex:r,rowPinned:o},a=this.getRowNode(s),l={rowPinned:i.rowPinned,rowIndex:a.rowIndex,columnId:i.columnId};this.setLastFocusedCell(l,!!this.rangeService)},e.prototype.setLastFocusedCell=function(t,i){var r=t.rowIndex,o=t.columnId,s=t.rowPinned,a=this.gridBodyCtrl.getScrollFeature(),l=this.columnModel.getGridColumn(o);if(l){a.ensureIndexVisible(r),a.ensureColumnVisible(l);var u={rowIndex:r,column:l,rowPinned:s};this.focusService.setFocusedCell(Wu(Wu({},u),{forceBrowserFocus:!0})),i&&this.rangeService.setRangeToCell(u)}},e.prototype.addRowEditingListeners=function(){var t=this;this.addManagedListener(this.eventService,C.EVENT_ROW_EDITING_STARTED,function(i){t.activeRowEdit={rowIndex:i.rowIndex,rowPinned:i.rowPinned}}),this.addManagedListener(this.eventService,C.EVENT_ROW_EDITING_STOPPED,function(){var i=new Ys(t.cellValueChanges);t.pushActionsToUndoStack(i),t.activeRowEdit=null})},e.prototype.addCellEditingListeners=function(){var t=this;this.addManagedListener(this.eventService,C.EVENT_CELL_EDITING_STARTED,function(i){t.activeCellEdit={column:i.column,rowIndex:i.rowIndex,rowPinned:i.rowPinned}}),this.addManagedListener(this.eventService,C.EVENT_CELL_EDITING_STOPPED,function(i){t.activeCellEdit=null;var r=i.valueChanged&&!t.activeRowEdit&&!t.isPasting&&!t.isRangeInAction;if(r){var o=new Ys(t.cellValueChanges);t.pushActionsToUndoStack(o)}})},e.prototype.addPasteListeners=function(){var t=this;this.addManagedListener(this.eventService,C.EVENT_PASTE_START,function(){t.isPasting=!0}),this.addManagedListener(this.eventService,C.EVENT_PASTE_END,function(){var i=new Ys(t.cellValueChanges);t.pushActionsToUndoStack(i),t.isPasting=!1})},e.prototype.addFillListeners=function(){var t=this;this.addManagedListener(this.eventService,C.EVENT_FILL_START,function(){t.isRangeInAction=!0}),this.addManagedListener(this.eventService,C.EVENT_FILL_END,function(i){var r=new Xd(t.cellValueChanges,i.initialRange,i.finalRange);t.pushActionsToUndoStack(r),t.isRangeInAction=!1})},e.prototype.addCellKeyListeners=function(){var t=this;this.addManagedListener(this.eventService,C.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,function(){t.isRangeInAction=!0}),this.addManagedListener(this.eventService,C.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,function(){var i;t.rangeService&&t.gridOptionsService.is("enableRangeSelection")?i=new Xd(t.cellValueChanges,void 0,void 0,RH([],bH(t.rangeService.getCellRanges()))):i=new Ys(t.cellValueChanges),t.pushActionsToUndoStack(i),t.isRangeInAction=!1})},e.prototype.pushActionsToUndoStack=function(t){this.undoStack.push(t),this.cellValueChanges=[],this.redoStack.clear()},e.prototype.getRowNode=function(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},Ji([y("focusService")],e.prototype,"focusService",void 0),Ji([y("ctrlsService")],e.prototype,"ctrlsService",void 0),Ji([y("rowModel")],e.prototype,"rowModel",void 0),Ji([y("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Ji([y("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),Ji([y("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),Ji([y("columnModel")],e.prototype,"columnModel",void 0),Ji([At("rangeService")],e.prototype,"rangeService",void 0),Ji([U],e.prototype,"init",null),e=Ji([Z("undoRedoService")],e),e}(j),TH=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Qd=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},xH=function(n){TH(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.findHeader=function(t,i){var r,o,s;if(t.column instanceof Te?(o="getDisplayedGroup"+i,r=this.columnModel[o](t.column)):(s="getDisplayedCol"+i,r=this.columnModel[s](t.column)),!!r){var a=t.headerRowIndex,l=this.getHeaderRowType(a);if(l===De.COLUMN_GROUP){var u=r;if(u.isPadding()&&this.isAnyChildSpanningHeaderHeight(u)){var c=this.getColumnVisibleChild(u,a,i),d=c.nextFocusColumn,p=c.nextRow;d&&(r=d,a=p)}}return{column:r,headerRowIndex:a}}},e.prototype.isAnyChildSpanningHeaderHeight=function(t){return t?t.getLeafColumns().some(function(i){return i.isSpanHeaderHeight()}):!1},e.prototype.getColumnVisibleParent=function(t,i){var r=this.getHeaderRowType(i),o=r===De.FLOATING_FILTER,s=r===De.COLUMN,a=o?t:t.getParent(),l=i-1;if(s&&this.isAnyChildSpanningHeaderHeight(t.getParent())){for(;a&&a.isPadding();)a=a.getParent(),l--;l<0&&(a=t,l=i)}return{nextFocusColumn:a,nextRow:l}},e.prototype.getColumnVisibleChild=function(t,i,r){r===void 0&&(r="After");var o=this.getHeaderRowType(i),s=t,a=i+1;if(o===De.COLUMN_GROUP){var l=t.getLeafColumns(),u=r==="After"?l[0]:Vt(l);if(this.isAnyChildSpanningHeaderHeight(u.getParent())){s=u;for(var c=u.getParent();c&&c!==t;)c=c.getParent(),a++}else s=t.getDisplayedChildren()[0]}return{nextFocusColumn:s,nextRow:a}},e.prototype.getHeaderRowType=function(t){var i=this.ctrlsService.getHeaderRowContainerCtrl();if(i)return i.getRowType(t)},e.prototype.findColAtEdgeForHeaderRow=function(t,i){var r=this.columnModel.getAllDisplayedColumns(),o=r[i==="start"?0:r.length-1];if(o){var s=this.ctrlsService.getHeaderRowContainerCtrl(o.getPinned()),a=s.getRowType(t);if(a==De.COLUMN_GROUP){var l=this.columnModel.getColumnGroupAtLevel(o,t);return{headerRowIndex:t,column:l}}return{headerRowIndex:a==null?-1:t,column:o}}},Qd([y("columnModel")],e.prototype,"columnModel",void 0),Qd([y("ctrlsService")],e.prototype,"ctrlsService",void 0),e=Qd([Z("headerPositionUtils")],e),e}(j),PH=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},DH=function(){function n(){}return n.prototype.buildColumnDefs=function(e,t,i){var r=this,o=[],s={};return e.forEach(function(a){for(var l=r.createDefFromColumn(a,t,i),u=!0,c=l,d=a.getOriginalParent(),p=null;d;){var h=null;if(d.isPadding()){d=d.getOriginalParent();continue}var f=s[d.getGroupId()];if(f){f.children.push(c),u=!1;break}if(h=r.createDefFromGroup(d),h&&(h.children=[c],s[h.groupId]=h,c=h,d=d.getOriginalParent()),d!=null&&p===d){u=!1;break}p=d}u&&o.push(c)}),o},n.prototype.createDefFromGroup=function(e){var t=_u(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t},n.prototype.createDefFromColumn=function(e,t,i){var r=_u(e.getColDef());return r.colId=e.getColId(),r.width=e.getActualWidth(),r.rowGroup=e.isRowGroupActive(),r.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,r.pivot=e.isPivotActive(),r.pivotIndex=e.isPivotActive()?i.indexOf(e):null,r.aggFunc=e.isValueActive()?e.getAggFunc():null,r.hide=e.isVisible()?void 0:!0,r.pinned=e.isPinned()?e.getPinned():null,r.sort=e.getSort()?e.getSort():null,r.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,r},n=PH([Z("columnDefFactory")],n),n}(),Jd=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},AH=function(){function n(){}return n.prototype.getInitialRowClasses=function(e){var t=[];return N(e.extraCssClass)&&t.push(e.extraCssClass),t.push("ag-row"),t.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&t.push("ag-opacity-zero"),t.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&t.push("ag-row-pinned"),e.rowNode.isSelected()&&t.push("ag-row-selected"),e.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&t.push("ag-row-loading"),e.fullWidthRow&&t.push("ag-full-width-row"),e.expandable&&(t.push("ag-row-group"),t.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&t.push("ag-row-dragging"),Lp(t,this.processClassesFromGridOptions(e.rowNode)),Lp(t,this.preProcessRowClassRules(e.rowNode)),t.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&t.push("ag-row-first"),e.lastRowOnPage&&t.push("ag-row-last"),e.fullWidthRow&&(e.pinned==="left"&&t.push("ag-cell-last-left-pinned"),e.pinned==="right"&&t.push("ag-cell-first-right-pinned")),t},n.prototype.processClassesFromGridOptions=function(e){var t=[],i=function(l){typeof l=="string"?t.push(l):Array.isArray(l)&&l.forEach(function(u){return t.push(u)})},r=this.gridOptionsService.get("rowClass");if(r){if(typeof r=="function")return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];i(r)}var o=this.gridOptionsService.getCallback("getRowClass");if(o){var s={data:e.data,node:e,rowIndex:e.rowIndex},a=o(s);i(a)}return t},n.prototype.preProcessRowClassRules=function(e){var t=[];return this.processRowClassRules(e,function(i){t.push(i)},function(i){}),t},n.prototype.processRowClassRules=function(e,t,i){var r={data:e.data,node:e,rowIndex:e.rowIndex,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};this.stylingService.processClassRules(this.gridOptionsService.get("rowClassRules"),r,t,i)},n.prototype.calculateRowLevel=function(e){return e.group?e.level:e.parent?e.parent.level+1:0},Jd([y("stylingService")],n.prototype,"stylingService",void 0),Jd([y("gridOptionsService")],n.prototype,"gridOptionsService",void 0),n=Jd([Z("rowCssClassCalculator")],n),n}(),FH=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Pl=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},MH=function(n){FH(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(){var t=this;this.isAccentedSort=this.gridOptionsService.is("accentedSort"),this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",function(i){return t.isAccentedSort=i.currentValue}),this.addManagedPropertyListener("autoGroupColumnDef",function(){return t.primaryColumnsSortGroups=t.gridOptionsService.isColumnsSortingCoupledToGroup()})},e.prototype.doFullSort=function(t,i){var r=function(s,a){return{currentPos:a,rowNode:s}},o=t.map(r);return o.sort(this.compareRowNodes.bind(this,i)),o.map(function(s){return s.rowNode})},e.prototype.compareRowNodes=function(t,i,r){for(var o=i.rowNode,s=r.rowNode,a=0,l=t.length;a<l;a++){var u=t[a],c=u.sort==="desc",d=this.getValue(o,u.column),p=this.getValue(s,u.column),h=void 0,f=this.getComparator(u,o);f?h=f(d,p,o,s,c):h=gt.defaultComparator(d,p,this.isAccentedSort);var g=!isNaN(h);if(g&&h!==0)return u.sort==="asc"?h:h*-1}return i.currentPos-r.currentPos},e.prototype.getComparator=function(t,i){var r=t.column,o=r.getColDef().comparator;if(o!=null)return o;if(r.getColDef().showRowGroup){var s=!i.group&&r.getColDef().field;if(s){var a=this.columnModel.getPrimaryColumn(s);if(a)return a.getColDef().comparator}}},e.prototype.getValue=function(t,i){var r,o;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(i,t,!1,!1);var s=t.rowGroupColumn===i;if(s){var a=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotActive());if(a){var l=i.getColDef().keyCreator;if(l)return t.key;var u=(r=t.allLeafChildren)===null||r===void 0?void 0:r[0];return u?this.valueService.getValue(i,u,!1,!1):void 0}var c=this.columnModel.getGroupDisplayColumnForGroup(i.getId());return c?(o=t.groupData)===null||o===void 0?void 0:o[c.getId()]:void 0}if(!(t.group&&i.getColDef().showRowGroup))return this.valueService.getValue(i,t,!1,!1)},Pl([y("valueService")],e.prototype,"valueService",void 0),Pl([y("columnModel")],e.prototype,"columnModel",void 0),Pl([U],e.prototype,"init",null),e=Pl([Z("rowNodeSorter")],e),e}(j),LH=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),IH=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},NH=function(n){LH(e,n);function e(){var i=n!==null&&n.apply(this,arguments)||this;return i.ready=!1,i.readyCallbacks=[],i}t=e,e.prototype.checkReady=function(){if(this.ready=this.gridCtrl!=null&&this.gridBodyCtrl!=null&&this.centerRowContainerCtrl!=null&&this.leftRowContainerCtrl!=null&&this.rightRowContainerCtrl!=null&&this.bottomCenterRowContainerCtrl!=null&&this.bottomLeftRowContainerCtrl!=null&&this.bottomRightRowContainerCtrl!=null&&this.topCenterRowContainerCtrl!=null&&this.topLeftRowContainerCtrl!=null&&this.topRightRowContainerCtrl!=null&&this.stickyTopCenterRowContainerCtrl!=null&&this.stickyTopLeftRowContainerCtrl!=null&&this.stickyTopRightRowContainerCtrl!=null&&this.centerHeaderRowContainerCtrl!=null&&this.leftHeaderRowContainerCtrl!=null&&this.rightHeaderRowContainerCtrl!=null&&this.fakeHScrollComp!=null&&this.fakeVScrollComp!=null&&this.gridHeaderCtrl!=null,this.ready){var i=this.createReadyParams();this.readyCallbacks.forEach(function(r){return r(i)}),this.readyCallbacks.length=0}},e.prototype.whenReady=function(i){this.ready?i(this.createReadyParams()):this.readyCallbacks.push(i)},e.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollComp:this.fakeHScrollComp,fakeVScrollComp:this.fakeVScrollComp,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},e.prototype.registerFakeHScrollComp=function(i){this.fakeHScrollComp=i,this.checkReady()},e.prototype.registerFakeVScrollComp=function(i){this.fakeVScrollComp=i,this.checkReady()},e.prototype.registerGridHeaderCtrl=function(i){this.gridHeaderCtrl=i,this.checkReady()},e.prototype.registerCenterRowContainerCtrl=function(i){this.centerRowContainerCtrl=i,this.checkReady()},e.prototype.registerLeftRowContainerCtrl=function(i){this.leftRowContainerCtrl=i,this.checkReady()},e.prototype.registerRightRowContainerCtrl=function(i){this.rightRowContainerCtrl=i,this.checkReady()},e.prototype.registerTopCenterRowContainerCtrl=function(i){this.topCenterRowContainerCtrl=i,this.checkReady()},e.prototype.registerTopLeftRowContainerCon=function(i){this.topLeftRowContainerCtrl=i,this.checkReady()},e.prototype.registerTopRightRowContainerCtrl=function(i){this.topRightRowContainerCtrl=i,this.checkReady()},e.prototype.registerStickyTopCenterRowContainerCtrl=function(i){this.stickyTopCenterRowContainerCtrl=i,this.checkReady()},e.prototype.registerStickyTopLeftRowContainerCon=function(i){this.stickyTopLeftRowContainerCtrl=i,this.checkReady()},e.prototype.registerStickyTopRightRowContainerCtrl=function(i){this.stickyTopRightRowContainerCtrl=i,this.checkReady()},e.prototype.registerBottomCenterRowContainerCtrl=function(i){this.bottomCenterRowContainerCtrl=i,this.checkReady()},e.prototype.registerBottomLeftRowContainerCtrl=function(i){this.bottomLeftRowContainerCtrl=i,this.checkReady()},e.prototype.registerBottomRightRowContainerCtrl=function(i){this.bottomRightRowContainerCtrl=i,this.checkReady()},e.prototype.registerHeaderContainer=function(i,r){switch(r){case"left":this.leftHeaderRowContainerCtrl=i;break;case"right":this.rightHeaderRowContainerCtrl=i;break;default:this.centerHeaderRowContainerCtrl=i;break}this.checkReady()},e.prototype.registerGridBodyCtrl=function(i){this.gridBodyCtrl=i,this.checkReady()},e.prototype.registerGridCtrl=function(i){this.gridCtrl=i,this.checkReady()},e.prototype.getFakeHScrollComp=function(){return this.fakeHScrollComp},e.prototype.getFakeVScrollComp=function(){return this.fakeVScrollComp},e.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},e.prototype.getGridCtrl=function(){return this.gridCtrl},e.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},e.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},e.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},e.prototype.getStickyTopCenterRowContainerCtrl=function(){return this.stickyTopCenterRowContainerCtrl},e.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},e.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},e.prototype.getHeaderRowContainerCtrl=function(i){switch(i){case"left":return this.leftHeaderRowContainerCtrl;case"right":return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}};var t;return e.NAME="ctrlsService",e=t=IH([Z(t.NAME)],e),e}(j),GH=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),HH=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},VH=function(n){GH(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.registry={},t}return e.prototype.register=function(t){this.registry[t.controllerName]=t.controllerClass},e.prototype.getInstance=function(t){var i=this.registry[t];if(i!=null)return new i},e=HH([Z("ctrlsFactory")],e),e}(j),kH=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ls=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},n_=function(n){kH(e,n);function e(t,i){var r=n.call(this,t)||this;return r.direction=i,r.hideTimeout=null,r}return e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,C.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",Qh()||wn())},e.prototype.initialiseInvisibleScrollbar=function(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=ba(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))},e.prototype.addActiveListenerToggles=function(){var t=this,i=["mouseenter","mousedown","touchstart"],r=["mouseleave","touchend"],o=this.getGui();i.forEach(function(s){return t.addManagedListener(o,s,function(){return t.addOrRemoveCssClass("ag-scrollbar-active",!0)})}),r.forEach(function(s){return t.addManagedListener(o,s,function(){return t.addOrRemoveCssClass("ag-scrollbar-active",!1)})})},e.prototype.onScrollVisibilityChanged=function(){var t=this;this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(function(){return t.setScrollVisible()})},e.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var t=this;this.addManagedListener(this.eventService,C.EVENT_BODY_SCROLL,function(i){i.direction===t.direction&&(t.hideTimeout!==null&&(window.clearTimeout(t.hideTimeout),t.hideTimeout=null),t.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))}),this.addManagedListener(this.eventService,C.EVENT_BODY_SCROLL_END,function(){t.hideTimeout=window.setTimeout(function(){t.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),t.hideTimeout=null},400)})},e.prototype.attemptSettingScrollPosition=function(t){var i=this,r=this.getViewport();Vh(function(){return _n(r)},function(){return i.setScrollPosition(t)},100)},e.prototype.getViewport=function(){return this.eViewport},e.prototype.getContainer=function(){return this.eContainer},e.prototype.onScrollCallback=function(t){this.addManagedListener(this.getViewport(),"scroll",t)},Ls([K("eViewport")],e.prototype,"eViewport",void 0),Ls([K("eContainer")],e.prototype,"eContainer",void 0),Ls([y("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),Ls([y("ctrlsService")],e.prototype,"ctrlsService",void 0),Ls([y("animationFrameService")],e.prototype,"animationFrameService",void 0),e}(wt),BH=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Is=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},jH=function(n){BH(e,n);function e(){return n.call(this,e.TEMPLATE,"horizontal")||this}return e.prototype.postConstruct=function(){var t=this;n.prototype.postConstruct.call(this);var i=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,C.EVENT_DISPLAYED_COLUMNS_CHANGED,i),this.addManagedListener(this.eventService,C.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,i),this.addManagedListener(this.eventService,C.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedPropertyListener("domLayout",i),this.ctrlsService.registerFakeHScrollComp(this),this.createManagedBean(new wf(function(r){return t.eContainer.style.width=r+"px"}))},e.prototype.initialiseInvisibleScrollbar=function(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gridOptionsService.is("enableRtl"),n.prototype.initialiseInvisibleScrollbar.call(this),this.invisibleScrollbar&&this.refreshCompBottom())},e.prototype.onPinnedRowDataChanged=function(){this.refreshCompBottom()},e.prototype.refreshCompBottom=function(){if(this.invisibleScrollbar){var t=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=t+"px"}},e.prototype.onScrollVisibilityChanged=function(){n.prototype.onScrollVisibilityChanged.call(this),this.setFakeHScrollSpacerWidths()},e.prototype.setFakeHScrollSpacerWidths=function(){var t=this.scrollVisibleService.isVerticalScrollShowing(),i=this.columnModel.getDisplayedColumnsRightWidth(),r=!this.enableRtl&&t,o=this.gridOptionsService.getScrollbarWidth();r&&(i+=o),Di(this.eRightSpacer,i),this.eRightSpacer.classList.toggle("ag-scroller-corner",i<=o);var s=this.columnModel.getDisplayedColumnsLeftWidth(),a=this.enableRtl&&t;a&&(s+=o),Di(this.eLeftSpacer,s),this.eLeftSpacer.classList.toggle("ag-scroller-corner",s<=o)},e.prototype.setScrollVisible=function(){var t=this.scrollVisibleService.isHorizontalScrollShowing(),i=this.invisibleScrollbar,r=this.gridOptionsService.is("suppressHorizontalScroll"),o=t&&this.gridOptionsService.getScrollbarWidth()||0,s=o===0&&i?16:o,a=r?0:s;this.addOrRemoveCssClass("ag-scrollbar-invisible",i),Jn(this.getGui(),a),Jn(this.eViewport,a),Jn(this.eContainer,a),this.setDisplayed(t,{skipAriaHidden:!0})},e.prototype.getScrollPosition=function(){return Ta(this.getViewport(),this.enableRtl)},e.prototype.setScrollPosition=function(t){_n(this.getViewport())||this.attemptSettingScrollPosition(t),xa(this.getViewport(),t,this.enableRtl)},e.TEMPLATE=`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>
        </div>`,Is([K("eLeftSpacer")],e.prototype,"eLeftSpacer",void 0),Is([K("eRightSpacer")],e.prototype,"eRightSpacer",void 0),Is([y("columnModel")],e.prototype,"columnModel",void 0),Is([y("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Is([U],e.prototype,"postConstruct",null),e}(n_),WH=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Zd=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},UH=function(n){WH(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.postConstruct=function(){var t=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,C.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,C.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,t),this.addManagedPropertyListener("domLayout",t)},e.prototype.checkContainerWidths=function(){var t=this.gridOptionsService.isDomLayout("print"),i=t?0:this.columnModel.getDisplayedColumnsLeftWidth(),r=t?0:this.columnModel.getDisplayedColumnsRightWidth();i!=this.leftWidth&&(this.leftWidth=i,this.eventService.dispatchEvent({type:C.EVENT_LEFT_PINNED_WIDTH_CHANGED})),r!=this.rightWidth&&(this.rightWidth=r,this.eventService.dispatchEvent({type:C.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},e.prototype.getPinnedRightWidth=function(){return this.rightWidth},e.prototype.getPinnedLeftWidth=function(){return this.leftWidth},Zd([y("columnModel")],e.prototype,"columnModel",void 0),Zd([U],e.prototype,"postConstruct",null),e=Zd([Z("pinnedWidthService")],e),e}(j),zH=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Dl=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},$H=function(n){zH(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.events=[],t}return e.prototype.postConstruct=function(){this.rowModel.getType()=="clientSide"&&(this.clientSideRowModel=this.rowModel)},e.prototype.dispatchExpanded=function(t){var i=this;if(this.clientSideRowModel==null){this.eventService.dispatchEvent(t);return}this.events.push(t);var r=function(){i.clientSideRowModel&&i.clientSideRowModel.onRowGroupOpened(),i.events.forEach(function(o){return i.eventService.dispatchEvent(o)}),i.events=[]};this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(r)),this.dispatchExpandedDebounced()},Dl([y("animationFrameService")],e.prototype,"animationFrameService",void 0),Dl([y("rowModel")],e.prototype,"rowModel",void 0),Dl([U],e.prototype,"postConstruct",null),e=Dl([Z("rowNodeEventThrottle")],e),e}(j),Qp=function(){return Qp=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Qp.apply(this,arguments)},Yr=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Iy=function(n,e){return function(t,i){e(t,i,n)}},Ny=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},Gy=function(n,e){for(var t=0,i=e.length,r=n.length;t<i;t++,r++)n[r]=e[t];return n};function KH(n){if(typeof n=="number")return n;if(typeof n=="string")return parseInt(n,10)}function Al(n){return n===!0||n==="true"}var YH=function(){function n(){var t=this;this.destroyed=!1,this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new Cn,this.globalEventHandlerFactory=function(i){return function(r,o){if(!t.destroyed){var s=e.alwaysSyncGlobalEvents.has(r);if(!(s&&!i||!s&&i)){var a=hn.getCallbackForEvent(r);typeof t.gridOptions[a]=="function"&&t.gridOptions[a](o)}}}}}e=n,Object.defineProperty(n.prototype,"context",{get:function(){return this.gridOptions.context},enumerable:!1,configurable:!0}),n.prototype.agWire=function(t,i){this.gridOptions.api=t,this.gridOptions.columnApi=i,this.api=t,this.columnApi=i},n.prototype.init=function(){this.gridOptionLookup=new Set(Gy(Gy([],Ny(hn.ALL_PROPERTIES)),Ny(hn.EVENT_CALLBACKS)));var t=!this.is("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),t),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.getScrollbarWidth()},n.prototype.destroy=function(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.destroyed=!0},n.prototype.is=function(t){return Al(this.gridOptions[t])},n.prototype.get=function(t){return this.gridOptions[t]},n.prototype.getNum=function(t){return KH(this.gridOptions[t])},n.prototype.getCallback=function(t){return this.mergeGridCommonParams(this.gridOptions[t])},n.prototype.exists=function(t){return N(this.gridOptions[t])},n.prototype.mergeGridCommonParams=function(t){var i=this;if(t){var r=function(o){var s=o;return s.api=i.api,s.columnApi=i.columnApi,s.context=i.context,t(s)};return r}return t},n.prototype.__setPropertyOnly=function(t,i){var r=this.gridOptions[t];return this.gridOptionLookup.has(t)&&(this.gridOptions[t]=i),r!==i},n.prototype.set=function(t,i,r,o,s){if(r===void 0&&(r=!1),o===void 0&&(o={}),s===void 0&&(s=void 0),this.gridOptionLookup.has(t)){var a=this.gridOptions[t];if(r||a!==i){this.gridOptions[t]=i;var l=Qp({type:t,currentValue:i,previousValue:a,changeSet:s},o);this.propertyEventService.dispatchEvent(l)}}},n.prototype.addEventListener=function(t,i){this.propertyEventService.addEventListener(t,i)},n.prototype.removeEventListener=function(t,i){this.propertyEventService.removeEventListener(t,i)},n.prototype.getGridId=function(){return this.api.getGridId()},n.prototype.getScrollbarWidth=function(){if(this.scrollbarWidth==null){var t=typeof this.gridOptions.scrollbarWidth=="number"&&this.gridOptions.scrollbarWidth>=0,i=t?this.gridOptions.scrollbarWidth:cS();i!=null&&(this.scrollbarWidth=i,this.eventService.dispatchEvent({type:C.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},n.prototype.isRowModelType=function(t){return this.gridOptions.rowModelType===t||t==="clientSide"&&pt(this.gridOptions.rowModelType)},n.prototype.isDomLayout=function(t){var i,r=(i=this.gridOptions.domLayout)!==null&&i!==void 0?i:"normal";return r===t},n.prototype.isRowSelection=function(){return this.gridOptions.rowSelection==="single"||this.gridOptions.rowSelection==="multiple"},n.prototype.useAsyncEvents=function(){return!this.is("suppressAsyncEvents")},n.prototype.isGetRowHeightFunction=function(){return typeof this.gridOptions.getRowHeight=="function"},n.prototype.getRowHeightForNode=function(t,i,r){if(i===void 0&&(i=!1),r==null&&(r=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(i)return{height:r,estimated:!0};var o={node:t,data:t.data},s=this.getCallback("getRowHeight")(o);if(this.isNumeric(s))return s===0&&bt(function(){return console.warn("AG Grid: The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.")},"invalidRowHeight"),{height:Math.max(1,s),estimated:!1}}if(t.detail&&this.is("masterDetail"))return this.getMasterDetailRowHeight();var a=this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:r;return{height:a,estimated:!1}},n.prototype.getMasterDetailRowHeight=function(){return this.is("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}},n.prototype.getRowHeightAsNumber=function(){if(!this.gridOptions.rowHeight||pt(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();var t=this.environment.refreshRowHeightVariable();return t!==-1?t:(console.warn("AG Grid row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())},n.prototype.isNumeric=function(t){return!isNaN(t)&&typeof t=="number"&&isFinite(t)},n.prototype.getDomDataKey=function(){return this.domDataKey},n.prototype.getDomData=function(t,i){var r=t[this.getDomDataKey()];return r?r[i]:void 0},n.prototype.setDomData=function(t,i,r){var o=this.getDomDataKey(),s=t[o];pt(s)&&(s={},t[o]=s),s[i]=r},n.prototype.getDocument=function(){var t=null;return this.gridOptions.getDocument&&N(this.gridOptions.getDocument)?t=this.gridOptions.getDocument():this.eGridDiv&&(t=this.eGridDiv.ownerDocument),t&&N(t)?t:document},n.prototype.getWindow=function(){var t=this.getDocument();return t.defaultView||window},n.prototype.getRootNode=function(){return this.eGridDiv.getRootNode()},n.prototype.getAsyncTransactionWaitMillis=function(){return N(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50},n.prototype.isAnimateRows=function(){return this.is("ensureDomOrder")?!1:this.is("animateRows")},n.prototype.isGroupRowsSticky=function(){return!(this.is("suppressGroupRowsSticky")||this.is("paginateChildRows")||this.is("groupHideOpenParents"))},n.prototype.isColumnsSortingCoupledToGroup=function(){var t=this.gridOptions.autoGroupColumnDef,i=this.isRowModelType("clientSide");return i&&!(t!=null&&t.comparator)&&!this.is("treeData")},n.prototype.getGroupAggFiltering=function(){var t=this.gridOptions.groupAggFiltering;if(typeof t=="function")return this.getCallback("groupAggFiltering");if(Al(t))return function(){return!0}},n.prototype.isGroupIncludeFooterTrueOrCallback=function(){var t=this.gridOptions.groupIncludeFooter;return Al(t)||typeof t=="function"},n.prototype.getGroupIncludeFooter=function(){var t=this.gridOptions.groupIncludeFooter;return typeof t=="function"?this.getCallback("groupIncludeFooter"):Al(t)?function(){return!0}:function(){return!1}},n.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?Np("multipleColumns",this.gridOptions.groupDisplayType):this.is("groupHideOpenParents")},n.prototype.isGroupUseEntireRow=function(t){return t?!1:this.gridOptions.groupDisplayType?Np("groupRows",this.gridOptions.groupDisplayType):!1};var e;return n.alwaysSyncGlobalEvents=new Set([C.EVENT_GRID_PRE_DESTROYED]),Yr([y("gridOptions")],n.prototype,"gridOptions",void 0),Yr([y("eventService")],n.prototype,"eventService",void 0),Yr([y("environment")],n.prototype,"environment",void 0),Yr([y("eGridDiv")],n.prototype,"eGridDiv",void 0),Yr([Iy(0,Ge("gridApi")),Iy(1,Ge("columnApi"))],n.prototype,"agWire",null),Yr([U],n.prototype,"init",null),Yr([Ee],n.prototype,"destroy",null),n=e=Yr([Z("gridOptionsService")],n),n}(),qH=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),XH=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},QH=function(n){qH(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getLocaleTextFunc=function(){var t=this.gridOptionsService.getCallback("getLocaleText");if(t)return function(r,o,s){var a={key:r,defaultValue:o,variableValues:s};return t(a)};var i=this.gridOptionsService.get("localeText");return function(r,o,s){var a=i&&i[r];if(a&&s&&s.length)for(var l=0;!(l>=s.length);){var u=a.indexOf("${variable}");if(u===-1)break;a=a.replace("${variable}",s[l++])}return a??o}},e=XH([Z("localeService")],e),e}(j),JH=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ZH=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},tV=function(n){JH(e,n);function e(){return n.call(this,e.TEMPLATE,"vertical")||this}return e.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.createManagedBean(new JS(this.eContainer)),this.ctrlsService.registerFakeVScrollComp(this),this.addManagedListener(this.eventService,C.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onRowContainerHeightChanged.bind(this))},e.prototype.setScrollVisible=function(){var t=this.scrollVisibleService.isVerticalScrollShowing(),i=this.invisibleScrollbar,r=t&&this.gridOptionsService.getScrollbarWidth()||0,o=r===0&&i?16:r;this.addOrRemoveCssClass("ag-scrollbar-invisible",i),Di(this.getGui(),o),Di(this.eViewport,o),Di(this.eContainer,o),this.setDisplayed(t,{skipAriaHidden:!0})},e.prototype.onRowContainerHeightChanged=function(){var t=this.ctrlsService.getGridBodyCtrl(),i=t.getBodyViewportElement();this.eViewport.scrollTop!=i.scrollTop&&(this.eViewport.scrollTop=i.scrollTop)},e.prototype.getScrollPosition=function(){return this.getViewport().scrollTop},e.prototype.setScrollPosition=function(t){_n(this.getViewport())||this.attemptSettingScrollPosition(t),this.getViewport().scrollTop=t},e.TEMPLATE=`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" ref="eViewport">
                <div class="ag-body-vertical-scroll-container" ref="eContainer"></div>
            </div>
        </div>`,ZH([U],e.prototype,"postConstruct",null),e}(n_),eV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Je=function(){return Je=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Je.apply(this,arguments)},Hn=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Zi=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},Ns=function(n,e){for(var t=0,i=e.length,r=n.length;t<i;t++,r++)n[r]=e[t];return n},Hy={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},Vy=["january","february","march","april","may","june","july","august","september","october","november","december"],iV=function(n){eV(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.dataTypeDefinitions={},t.isWaitingForRowData=!1,t.isColumnTypeOverrideInDataTypeDefinitions=!1,t.columnStateUpdatesPendingInference={},t.columnStateUpdateListenerDestroyFuncs=[],t}return e.prototype.init=function(){var t=this;this.groupHideOpenParents=this.gridOptionsService.is("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",function(){t.groupHideOpenParents=t.gridOptionsService.is("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",function(){t.processDataTypeDefinitions(),t.columnModel.recreateColumnDefs("gridOptionsChanged")})},e.prototype.processDataTypeDefinitions=function(){var t=this,i,r=this.getDefaultDataTypes();this.dataTypeDefinitions={},Object.entries(r).forEach(function(s){var a=Zi(s,2),l=a[0],u=a[1];t.dataTypeDefinitions[l]=Je(Je({},u),{groupSafeValueFormatter:t.createGroupSafeValueFormatter(u)})});var o=(i=this.gridOptionsService.get("dataTypeDefinitions"))!==null&&i!==void 0?i:{};this.dataTypeMatchers={},Object.entries(o).forEach(function(s){var a=Zi(s,2),l=a[0],u=a[1],c=t.processDataTypeDefinition(u,o,[l],r);c&&(t.dataTypeDefinitions[l]=c,u.dataTypeMatcher&&(t.dataTypeMatchers[l]=u.dataTypeMatcher))}),this.checkObjectValueHandlers(r),["dateString","text","number","boolean","date"].forEach(function(s){var a=t.dataTypeMatchers[s];a&&delete t.dataTypeMatchers[s],t.dataTypeMatchers[s]=a??r[s].dataTypeMatcher})},e.prototype.mergeDataTypeDefinitions=function(t,i){var r=Je(Je({},t),i);return t.columnTypes&&i.columnTypes&&i.appendColumnTypes&&(r.columnTypes=Ns(Ns([],Zi(this.convertColumnTypes(t.columnTypes))),Zi(this.convertColumnTypes(i.columnTypes)))),r},e.prototype.processDataTypeDefinition=function(t,i,r,o){var s,a=t.extendsDataType;if(t.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),t.extendsDataType===t.baseDataType){var l=o[a];if(!this.validateDataTypeDefinition(t,l,a))return;s=this.mergeDataTypeDefinitions(l,t)}else{if(r.includes(a)){bt(function(){return console.warn('AG Grid: Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.')},"dataTypeExtendsCircularRef");return}var u=i[a];if(!this.validateDataTypeDefinition(t,u,a))return;var c=this.processDataTypeDefinition(u,i,Ns(Ns([],Zi(r)),[a]),o);if(!c)return;s=this.mergeDataTypeDefinitions(c,t)}return Je(Je({},s),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(s)})},e.prototype.validateDataTypeDefinition=function(t,i,r){return i?i.baseDataType!==t.baseDataType?(bt(function(){return console.warn('AG Grid: The "baseDataType" property of a data type definition must match that of its parent.')},"dataTypeBaseTypesMatch"),!1):!0:(bt(function(){return console.warn("AG Grid: The data type definition "+r+" does not exist.")},"dataTypeDefMissing"+r),!1)},e.prototype.createGroupSafeValueFormatter=function(t){var i=this;if(t.valueFormatter)return function(r){var o,s;if(!((o=r.node)===null||o===void 0)&&o.group){var a=r.column.getAggFunc();if(a){if(a==="first"||a==="last")return t.valueFormatter(r);if(t.baseDataType==="number"&&a!=="count"){if(typeof r.value=="number")return t.valueFormatter(r);if(typeof r.value=="object"){if(!r.value)return;if("toNumber"in r.value)return t.valueFormatter(Je(Je({},r),{value:r.value.toNumber()}));if("value"in r.value)return t.valueFormatter(Je(Je({},r),{value:r.value.value}))}}}return}else if(i.groupHideOpenParents&&r.column.isRowGroupActive())return typeof r.value!="string"||!((s=t.dataTypeMatcher)===null||s===void 0)&&s.call(t,r.value)?t.valueFormatter(r):void 0;return t.valueFormatter(r)}},e.prototype.updateColDefAndGetDataTypeDefinitionColumnType=function(t,i,r){var o=i.cellDataType,s=i.field;if(o===void 0&&(o=t.cellDataType),(o==null||o===!0)&&(o=this.canInferCellDataType(t,i)?this.inferCellDataType(s,r):!1),!o){t.cellDataType=!1;return}var a=this.dataTypeDefinitions[o];if(!a){bt(function(){return console.warn('AG Grid: Missing data type definition - "'+o+'"')},"dataTypeMissing"+o);return}return t.cellDataType=o,a.groupSafeValueFormatter&&(t.valueFormatter=a.groupSafeValueFormatter),a.valueParser&&(t.valueParser=a.valueParser),a.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(t,a,r),a.columnTypes},e.prototype.updateColDefAndGetColumnType=function(t,i,r){var o,s,a=this.updateColDefAndGetDataTypeDefinitionColumnType(t,i,r),l=(s=(o=i.type)!==null&&o!==void 0?o:a)!==null&&s!==void 0?s:t.type;return t.type=l,l?this.convertColumnTypes(l):void 0},e.prototype.addColumnListeners=function(t){if(this.isWaitingForRowData){var i=this.columnStateUpdatesPendingInference[t.getColId()];if(i){var r=function(o){i.add(o.key)};t.addEventListener(Bt.EVENT_STATE_UPDATED,r),this.columnStateUpdateListenerDestroyFuncs.push(function(){return t.removeEventListener(Bt.EVENT_STATE_UPDATED,r)})}}},e.prototype.canInferCellDataType=function(t,i){var r=this,o;if(this.rowModel.getType()!=="clientSide")return!1;var s={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(i,s))return!1;var a=i.type===null?t.type:i.type;if(a){var l=(o=this.gridOptionsService.get("columnTypes"))!==null&&o!==void 0?o:{},u=this.convertColumnTypes(a).some(function(c){var d=l[c.trim()];return d&&r.doColDefPropsPreventInference(d,s)});if(u)return!1}return!this.doColDefPropsPreventInference(t,s)},e.prototype.doColDefPropsPreventInference=function(t,i){var r=this;return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(function(o){var s=Zi(o,2),a=s[0],l=s[1];return r.doesColDefPropPreventInference(t,i,a,l)})},e.prototype.doesColDefPropPreventInference=function(t,i,r,o){if(!i[r])return!1;var s=t[r];return s===null?(i[r]=!1,!1):o===void 0?!!s:s===o},e.prototype.inferCellDataType=function(t,i){var r;if(t){var o,s=this.getInitialData();if(s){var a=t.indexOf(".")>=0&&!this.gridOptionsService.is("suppressFieldDotNotation");o=ko(s,t,a)}else this.initWaitForRowData(i);if(o!=null){var l=Zi((r=Object.entries(this.dataTypeMatchers).find(function(c){var d=Zi(c,2);d[0];var p=d[1];return p(o)}))!==null&&r!==void 0?r:["object"],1),u=l[0];return u}}},e.prototype.getInitialData=function(){var t=this.gridOptionsService.get("rowData");if(t!=null&&t.length)return t[0];if(this.initialData)return this.initialData;var i=this.rowModel.getRootNode().allLeafChildren;return i!=null&&i.length?i[0].data:null},e.prototype.initWaitForRowData=function(t){var i=this;if(this.columnStateUpdatesPendingInference[t]=new Set,!this.isWaitingForRowData){this.isWaitingForRowData=!0;var r=this.isColumnTypeOverrideInDataTypeDefinitions;r&&this.columnModel.queueResizeOperations();var o=this.addManagedListener(this.eventService,C.EVENT_ROW_DATA_UPDATE_STARTED,function(s){var a=s.firstRowData;if(a){o==null||o(),i.isWaitingForRowData=!1,i.processColumnsPendingInference(a,r),i.columnStateUpdatesPendingInference={},r&&i.columnModel.processResizeOperations();var l={type:C.EVENT_DATA_TYPES_INFERRED};i.eventService.dispatchEvent(l)}})}},e.prototype.isPendingInference=function(){return this.isWaitingForRowData},e.prototype.processColumnsPendingInference=function(t,i){var r=this;this.initialData=t;var o=[];this.columnStateUpdateListenerDestroyFuncs.forEach(function(l){return l()}),this.columnStateUpdateListenerDestroyFuncs=[];var s={},a={};Object.entries(this.columnStateUpdatesPendingInference).forEach(function(l){var u=Zi(l,2),c=u[0],d=u[1],p=r.columnModel.getGridColumn(c);if(p){var h=p.getColDef();if(r.columnModel.resetColumnDefIntoColumn(p)){var f=p.getColDef();if(i&&f.type&&f.type!==h.type){var g=r.getUpdatedColumnState(p,d);g.rowGroup&&g.rowGroupIndex==null&&(s[c]=g),g.pivot&&g.pivotIndex==null&&(a[c]=g),o.push(g)}}}}),i&&o.push.apply(o,Ns([],Zi(this.columnModel.generateColumnStateForRowGroupAndPivotIndexes(s,a)))),o.length&&this.columnModel.applyColumnState({state:o},"cellDataTypeInferred"),this.initialData=null},e.prototype.getUpdatedColumnState=function(t,i){var r=this.columnModel.getColumnStateFromColDef(t);return i.forEach(function(o){delete r[o],o==="rowGroup"?delete r.rowGroupIndex:o==="pivot"&&delete r.pivotIndex}),r},e.prototype.checkObjectValueHandlers=function(t){var i=this.dataTypeDefinitions.object,r=t.object;this.hasObjectValueParser=i.valueParser!==r.valueParser,this.hasObjectValueFormatter=i.valueFormatter!==r.valueFormatter},e.prototype.convertColumnTypes=function(t){var i=[];if(t instanceof Array){var r=t.some(function(o){return typeof o!="string"});r?console.warn("AG Grid: if colDef.type is supplied an array it should be of type 'string[]'"):i=t}else typeof t=="string"?i=t.split(","):console.warn("AG Grid: colDef.type should be of type 'string' | 'string[]'");return i},e.prototype.getDateStringTypeDefinition=function(){return this.dataTypeDefinitions.dateString},e.prototype.getDateParserFunction=function(){return this.getDateStringTypeDefinition().dateParser},e.prototype.getDateFormatterFunction=function(){return this.getDateStringTypeDefinition().dateFormatter},e.prototype.getDataTypeDefinition=function(t){var i=t.getColDef();if(i.cellDataType)return this.dataTypeDefinitions[i.cellDataType]},e.prototype.getBaseDataType=function(t){var i;return(i=this.getDataTypeDefinition(t))===null||i===void 0?void 0:i.baseDataType},e.prototype.checkType=function(t,i){var r;if(i==null)return!0;var o=(r=this.getDataTypeDefinition(t))===null||r===void 0?void 0:r.dataTypeMatcher;return o?o(i):!0},e.prototype.validateColDef=function(t){t.cellDataType==="object"&&(t.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&bt(function(){return console.warn('AG Grid: Cell data type is "object" but no value formatter has been provided. Please either provide an object data type definition with a value formatter, or set "colDef.valueFormatter"')},"dataTypeObjectValueFormatter"),t.editable&&t.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&bt(function(){return console.warn('AG Grid: Cell data type is "object" but no value parser has been provided. Please either provide an object data type definition with a value parser, or set "colDef.valueParser"')},"dataTypeObjectValueParser"))},e.prototype.setColDefPropertiesForBaseDataType=function(t,i,r){var o=this,s=function(d,p,h){var f=d.getColDef().valueFormatter;return f===i.groupSafeValueFormatter&&(f=i.valueFormatter),o.valueFormatterService.formatValue(d,p,h,f)},a=ft.__isRegistered(tt.SetFilterModule,this.context.getGridId()),l=this.localeService.getLocaleTextFunc(),u=function(d){var p=t.filterParams;t.filterParams=typeof p=="object"?Je(Je({},p),d):d};switch(t.useValueFormatterForExport=!0,t.useValueParserForImport=!0,i.baseDataType){case"number":{t.cellEditor="agNumberCellEditor",a&&u({comparator:function(d,p){var h=d==null?0:parseInt(d),f=p==null?0:parseInt(p);return h===f?0:h>f?1:-1}});break}case"boolean":{t.cellEditor="agCheckboxCellEditor",t.cellRenderer="agCheckboxCellRenderer",t.suppressKeyboardEvent=function(d){return!!d.colDef.editable&&d.event.key===A.SPACE},u(a?{valueFormatter:function(d){return N(d.value)?l(String(d.value),d.value?"True":"False"):l("blanks","(Blanks)")}}:{maxNumConditions:1,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:function(d,p){return p},numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:function(d,p){return p===!1},numberOfInputs:0}]});break}case"date":{t.cellEditor="agDateCellEditor",t.keyCreator=function(d){return s(d.column,d.node,d.value)},a&&u({valueFormatter:function(d){var p=s(d.column,d.node,d.value);return N(p)?p:l("blanks","(Blanks)")},treeList:!0,treeListFormatter:function(d,p){if(p===1&&d!=null){var h=Vy[Number(d)-1];return l(h,Hy[h])}return d??l("blanks","(Blanks)")}});break}case"dateString":{t.cellEditor="agDateStringCellEditor",t.keyCreator=function(d){return s(d.column,d.node,d.value)};var c=this.getDateParserFunction();u(a?{valueFormatter:function(d){var p=s(d.column,d.node,d.value);return N(p)?p:l("blanks","(Blanks)")},treeList:!0,treeListPathGetter:function(d){var p=c(d??void 0);return p?[String(p.getFullYear()),String(p.getMonth()+1),String(p.getDate())]:null},treeListFormatter:function(d,p){if(p===1&&d!=null){var h=Vy[Number(d)-1];return l(h,Hy[h])}return d??l("blanks","(Blanks)")}}:{comparator:function(d,p){var h=c(p);return p==null||h<d?-1:h>d?1:0}});break}case"object":{t.cellEditorParams={useFormatter:!0},t.comparator=function(d,p){var h=o.columnModel.getPrimaryColumn(r),f=h==null?void 0:h.getColDef();if(!h||!f)return 0;var g=d==null?"":s(h,null,d),v=p==null?"":s(h,null,p);return g===v?0:g>v?1:-1},t.keyCreator=function(d){return s(d.column,d.node,d.value)},a?u({valueFormatter:function(d){var p=s(d.column,d.node,d.value);return N(p)?p:l("blanks","(Blanks)")}}):t.filterValueGetter=function(d){return s(d.column,d.node,o.valueService.getValue(d.column,d.node))};break}}},e.prototype.getDefaultDataTypes=function(){var t=function(r){return!!r.match("^\\d{4}-\\d{2}-\\d{2}$")},i=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:function(r){return r.newValue===""?null:Number(r.newValue)},valueFormatter:function(r){return r.value==null?"":typeof r.value!="number"||isNaN(r.value)?i("invalidNumber","Invalid Number"):String(r.value)},dataTypeMatcher:function(r){return typeof r=="number"}},text:{baseDataType:"text",valueParser:function(r){return r.newValue===""?null:_a(r.newValue)},dataTypeMatcher:function(r){return typeof r=="string"}},boolean:{baseDataType:"boolean",valueParser:function(r){return r.newValue===""?null:String(r.newValue).toLowerCase()==="true"},valueFormatter:function(r){return r.value==null?"":String(r.value)},dataTypeMatcher:function(r){return typeof r=="boolean"}},date:{baseDataType:"date",valueParser:function(r){return ii(r.newValue==null?null:String(r.newValue))},valueFormatter:function(r){var o;return r.value==null?"":!(r.value instanceof Date)||isNaN(r.value.getTime())?i("invalidDate","Invalid Date"):(o=Pi(r.value,!1))!==null&&o!==void 0?o:""},dataTypeMatcher:function(r){return r instanceof Date}},dateString:{baseDataType:"dateString",dateParser:function(r){var o;return(o=ii(r))!==null&&o!==void 0?o:void 0},dateFormatter:function(r){var o;return(o=Pi(r??null,!1))!==null&&o!==void 0?o:void 0},valueParser:function(r){return t(String(r.newValue))?r.newValue:null},valueFormatter:function(r){return t(String(r.value))?r.value:""},dataTypeMatcher:function(r){return typeof r=="string"&&t(r)}},object:{baseDataType:"object",valueParser:function(){return null},valueFormatter:function(r){var o;return(o=_a(r.value))!==null&&o!==void 0?o:""}}}},Hn([y("rowModel")],e.prototype,"rowModel",void 0),Hn([y("columnModel")],e.prototype,"columnModel",void 0),Hn([y("columnUtils")],e.prototype,"columnUtils",void 0),Hn([y("valueService")],e.prototype,"valueService",void 0),Hn([y("valueFormatterService")],e.prototype,"valueFormatterService",void 0),Hn([U],e.prototype,"init",null),e=Hn([Z("dataTypeService")],e),e}(j),rV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ky=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},nV=function(n){rV(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.parseValue=function(t,i,r,o){var s=t.getColDef(),a={node:i,data:i==null?void 0:i.data,oldValue:o,newValue:r,colDef:s,column:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context},l=s.valueParser;return N(l)?typeof l=="function"?l(a):this.expressionService.evaluate(l,a):r},ky([y("expressionService")],e.prototype,"expressionService",void 0),e=ky([Z("valueParserService")],e),e}(j),By=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},jy=function(n,e){for(var t=0,i=e.length,r=n.length;t<i;t++,r++)n[r]=e[t];return n},oV=function(){function n(e,t,i){if(!t){console.error("AG Grid: no gridOptions provided to the grid");return}this.gridOptions=t,new aV().create(e,t,function(r){var o=new N1(e);r.createBean(o)},void 0,i)}return n.prototype.destroy=function(){this.gridOptions&&this.gridOptions.api&&this.gridOptions.api.destroy()},n}(),sV=1,aV=function(){function n(){}return n.prototype.create=function(e,t,i,r,o){var s=this,a,l=!!t.debug,u=(a=t.gridId)!==null&&a!==void 0?a:String(sV++),c=this.getRegisteredModules(o,u),d=this.createBeansList(t.rowModelType,c,u),p=this.createProvidedBeans(e,t,o);if(d){var h={providedBeanInstances:p,beanClasses:d,debug:l,gridId:u},f=new Xp("AG Grid",function(){return t.debug}),g=new Xp("Context",function(){return h.debug}),v=new bD(h,g),m=v.getBean("beans");this.registerModuleUserComponents(m,c),this.registerStackComponents(m,c),this.registerControllers(m,c),i(v),m.ctrlsService.whenReady(function(){s.setColumnsAndData(m),s.dispatchGridReadyEvent(m);var w=ft.__isRegistered(tt.EnterpriseCoreModule,u);f.log("initialised successfully, enterprise = "+w)}),r&&r(v)}},n.prototype.registerControllers=function(e,t){t.forEach(function(i){i.controllers&&i.controllers.forEach(function(r){return e.ctrlsFactory.register(r)})})},n.prototype.registerStackComponents=function(e,t){var i=this.createAgStackComponentsList(t);e.agStackComponentsRegistry.setupComponents(i)},n.prototype.getRegisteredModules=function(e,t){var i=e?e.modules:null,r=ft.__getRegisteredModules(t),o=[],s={},a=function(l,u,c){var d=function(p){s[p.moduleName]||(s[p.moduleName]=!0,o.push(p),ft.__register(p,l,c))};d(u),u.dependantModules&&u.dependantModules.forEach(function(p){return a(l,p,c)})};return i&&i.forEach(function(l){return a(!0,l,t)}),r&&r.forEach(function(l){return a(!ft.__isPackageBased(),l,void 0)}),o},n.prototype.registerModuleUserComponents=function(e,t){var i=this.extractModuleEntity(t,function(r){return r.userComponents?r.userComponents:[]});i.forEach(function(r){e.userComponentRegistry.registerDefaultComponent(r.componentName,r.componentClass)})},n.prototype.createProvidedBeans=function(e,t,i){var r=i?i.frameworkOverrides:null;pt(r)&&(r=new r_);var o={gridOptions:t,eGridDiv:e,globalEventListener:i?i.globalEventListener:null,globalSyncEventListener:i?i.globalSyncEventListener:null,frameworkOverrides:r};return i&&i.providedBeanInstances&&Object.assign(o,i.providedBeanInstances),o},n.prototype.createAgStackComponentsList=function(e){var t=[{componentName:"AgCheckbox",componentClass:bc},{componentName:"AgRadioButton",componentClass:FS},{componentName:"AgToggleButton",componentClass:SG},{componentName:"AgInputTextField",componentClass:ho},{componentName:"AgInputTextArea",componentClass:EG},{componentName:"AgInputNumberField",componentClass:ff},{componentName:"AgInputDateField",componentClass:RG},{componentName:"AgInputRange",componentClass:TG},{componentName:"AgRichSelect",componentClass:NG},{componentName:"AgSelect",componentClass:pf},{componentName:"AgSlider",componentClass:HG},{componentName:"AgGridBody",componentClass:bI},{componentName:"AgHeaderRoot",componentClass:HN},{componentName:"AgSortIndicator",componentClass:vf},{componentName:"AgPagination",componentClass:fH},{componentName:"AgOverlayWrapper",componentClass:vH},{componentName:"AgGroupComponent",componentClass:kG},{componentName:"AgPanel",componentClass:i_},{componentName:"AgDialog",componentClass:XG},{componentName:"AgRowContainer",componentClass:kI},{componentName:"AgFakeHorizontalScroll",componentClass:jH},{componentName:"AgFakeVerticalScroll",componentClass:tV},{componentName:"AgAutocomplete",componentClass:a1}],i=this.extractModuleEntity(e,function(r){return r.agStackComponents?r.agStackComponents:[]});return t=t.concat(i),t},n.prototype.createBeansList=function(e,t,i){e===void 0&&(e="clientSide");var r=t.filter(function(u){return!u.rowModel||u.rowModel===e}),o={clientSide:tt.ClientSideRowModelModule,infinite:tt.InfiniteRowModelModule,serverSide:tt.ServerSideRowModelModule,viewport:tt.ViewportRowModelModule};if(!o[e]){console.error("AG Grid: could not find row model for rowModelType = "+e);return}if(ft.__assertRegistered(o[e],"rowModelType = '"+e+"'",i)){var s=[QS,mH,SH,xH,z1,oL,HM,J1,tH,KN,eL,cH,kN,QH,eA,dG,rL,pA,Cn,YH,e1,w1,lL,sA,MN,yG,sG,O1,VD,P1,v1,DI,K1,E1,F1,uA,QN,jN,Se,S1,Uo,xI,aH,h1,uG,CG,OI,H1,B1,W1,pH,jD,X1,qN,OH,gA,DH,AH,gG,MH,NH,UH,$H,VH,iV,nV,qS],a=this.extractModuleEntity(r,function(u){return u.beans?u.beans:[]});s.push.apply(s,jy([],By(a)));var l=[];return s.forEach(function(u){l.indexOf(u)<0&&l.push(u)}),l}},n.prototype.extractModuleEntity=function(e,t){return[].concat.apply([],jy([],By(e.map(t))))},n.prototype.setColumnsAndData=function(e){var t=e.gridOptionsService.get("columnDefs");e.columnModel.setColumnDefs(t||[],"gridInitializing"),e.rowModel.start()},n.prototype.dispatchGridReadyEvent=function(e){var t={type:C.EVENT_GRID_READY};e.eventService.dispatchEvent(t)},n}(),lV=function(){function n(){}return n.prototype.wrap=function(e,t,i,r){var o=this;i===void 0&&(i=[]);var s=this.createWrapper(e,r);return t.forEach(function(a){o.createMethod(s,a,!0)}),i.forEach(function(a){o.createMethod(s,a,!1)}),s},n.prototype.unwrap=function(e){return e},n.prototype.createMethod=function(e,t,i){e.addMethod(t,this.createMethodProxy(e,t,i))},n.prototype.createMethodProxy=function(e,t,i){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(i&&console.warn("AG Grid: Framework component is missing the method "+t+"()"),null)}},n}(),Wy;(function(n){n.InsideBase="insideBase",n.InsideEnd="insideEnd",n.Center="center",n.OutsideEnd="outsideEnd"})(Wy||(Wy={}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v30.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Zo=typeof global>"u"?{}:global;Zo.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement;Zo.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement;Zo.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement;Zo.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement;Zo.Node=typeof Node>"u"?{}:Node;Zo.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var Gs=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},Hs=function(n,e){for(var t=0,i=e.length,r=n.length;t<i;t++,r++)n[r]=e[t];return n},uV=function(){function n(e,t,i,r,o,s){this.nextId=0,this.allNodesMap={},this.rootNode=e,this.gridOptionsService=t,this.eventService=i,this.columnModel=r,this.beans=s,this.selectionService=o,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=n.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return n.prototype.postConstruct=function(){this.suppressParentsInRowNodes=this.gridOptionsService.is("suppressParentsInRowNodes"),this.isRowMasterFunc=this.gridOptionsService.get("isRowMaster"),this.doingMasterDetail=this.gridOptionsService.is("masterDetail")},n.prototype.getCopyOfNodesMap=function(){return gt.cloneObject(this.allNodesMap)},n.prototype.getRowNode=function(e){return this.allNodesMap[e]},n.prototype.setRowData=function(e){var t=this;if(typeof e=="string"){console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first");return}this.dispatchRowDataUpdateStartedEvent(e);var i=this.rootNode,r=this.rootNode.sibling;i.childrenAfterFilter=null,i.childrenAfterGroup=null,i.childrenAfterAggFilter=null,i.childrenAfterSort=null,i.childrenMapped=null,i.updateHasChildren(),this.nextId=0,this.allNodesMap={},e?i.allLeafChildren=e.map(function(o){return t.createNode(o,t.rootNode,n.TOP_LEVEL)}):(i.allLeafChildren=[],i.childrenAfterGroup=[]),r&&(r.childrenAfterFilter=i.childrenAfterFilter,r.childrenAfterGroup=i.childrenAfterGroup,r.childrenAfterAggFilter=i.childrenAfterAggFilter,r.childrenAfterSort=i.childrenAfterSort,r.childrenMapped=i.childrenMapped,r.allLeafChildren=i.allLeafChildren)},n.prototype.updateRowData=function(e,t){this.dispatchRowDataUpdateStartedEvent(e.add);var i={remove:[],update:[],add:[]},r=[];return this.executeRemove(e,i,r),this.executeUpdate(e,i,r),this.executeAdd(e,i),this.updateSelection(r,"rowDataChanged"),t&&gt.sortRowNodesByOrder(this.rootNode.allLeafChildren,t),i},n.prototype.dispatchRowDataUpdateStartedEvent=function(e){var t={type:C.EVENT_ROW_DATA_UPDATE_STARTED,firstRowData:e!=null&&e.length?e[0]:null};this.eventService.dispatchEvent(t)},n.prototype.updateSelection=function(e,t){var i=e.length>0;if(i&&this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),this.selectionService.updateGroupsFromChildrenSelections(t),i){var r={type:C.EVENT_SELECTION_CHANGED,source:t};this.eventService.dispatchEvent(r)}},n.prototype.executeAdd=function(e,t){var i=this,r,o=e.add,s=e.addIndex;if(!gt.missingOrEmpty(o)){var a=o.map(function(g){return i.createNode(g,i.rootNode,n.TOP_LEVEL)});if(typeof s=="number"&&s>=0){var l=this.rootNode.allLeafChildren,u=l.length,c=s,d=this.gridOptionsService.is("treeData");if(d&&s>0&&u>0){for(var p=0;p<u;p++)if(((r=l[p])===null||r===void 0?void 0:r.rowIndex)==s-1){c=p+1;break}}var h=l.slice(0,c),f=l.slice(c,l.length);this.rootNode.allLeafChildren=Hs(Hs(Hs([],Gs(h)),Gs(a)),Gs(f))}else this.rootNode.allLeafChildren=Hs(Hs([],Gs(this.rootNode.allLeafChildren)),Gs(a));this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),t.add=a}},n.prototype.executeRemove=function(e,t,i){var r=this,o=e.remove;if(!gt.missingOrEmpty(o)){var s={};o.forEach(function(a){var l=r.lookupRowNode(a);l&&(l.isSelected()&&i.push(l),l.clearRowTopAndRowIndex(),s[l.id]=!0,delete r.allNodesMap[l.id],t.remove.push(l))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(function(a){return!s[a.id]}),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},n.prototype.executeUpdate=function(e,t,i){var r=this,o=e.update;gt.missingOrEmpty(o)||o.forEach(function(s){var a=r.lookupRowNode(s);a&&(a.updateData(s),!a.selectable&&a.isSelected()&&i.push(a),r.setMasterForRow(a,s,n.TOP_LEVEL,!1),t.update.push(a))})},n.prototype.lookupRowNode=function(e){var t=this.gridOptionsService.getCallback("getRowId"),i;if(t){var r=t({data:e,level:0});if(i=this.allNodesMap[r],!i)return console.error("AG Grid: could not find row id="+r+", data item was not found for this id"),null}else if(i=this.rootNode.allLeafChildren.find(function(o){return o.data===e}),!i)return console.error("AG Grid: could not find data item as object was not found",e),console.error("Consider using getRowId to help the Grid find matching row data"),null;return i||null},n.prototype.createNode=function(e,t,i){var r=new St(this.beans);return r.group=!1,this.setMasterForRow(r,e,i,!0),t&&!this.suppressParentsInRowNodes&&(r.parent=t),r.level=i,r.setDataAndId(e,this.nextId.toString()),this.allNodesMap[r.id]&&console.warn("AG Grid: duplicate node id '"+r.id+"' detected from getRowId callback, this could cause issues in your grid."),this.allNodesMap[r.id]=r,this.nextId++,r},n.prototype.setMasterForRow=function(e,t,i,r){var o=this.gridOptionsService.is("treeData");if(o)e.setMaster(!1),r&&(e.expanded=!1);else if(this.doingMasterDetail?this.isRowMasterFunc?e.setMaster(this.isRowMasterFunc(t)):e.setMaster(!0):e.setMaster(!1),r){var s=this.columnModel.getRowGroupColumns(),a=s?s.length:0,l=i+a;e.expanded=e.master?this.isExpanded(l):!1}},n.prototype.isExpanded=function(e){var t=this.gridOptionsService.getNum("groupDefaultExpanded");return t===-1?!0:e<t},n.TOP_LEVEL=0,n.ROOT_NODE_ID="ROOT_NODE_ID",n}(),cV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Xe=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Vs=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},ks=function(n,e){for(var t=0,i=e.length,r=n.length;t<i;t++,r++)n[r]=e[t];return n},nr;(function(n){n[n.Normal=0]="Normal",n[n.AfterFilter=1]="AfterFilter",n[n.AfterFilterAndSort=2]="AfterFilterAndSort",n[n.PivotNodes=3]="PivotNodes"})(nr||(nr={}));var dV=function(n){cV(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.onRowHeightChanged_debounced=gt.debounce(t.onRowHeightChanged.bind(t),100),t.rowsToDisplay=[],t}return e.prototype.init=function(){var t=this,i=this.refreshModel.bind(this,{step:Ft.EVERYTHING}),r=!this.gridOptionsService.is("suppressAnimationFrame"),o=this.refreshModel.bind(this,{step:Ft.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:r});this.addManagedListener(this.eventService,C.EVENT_NEW_COLUMNS_LOADED,o),this.addManagedListener(this.eventService,C.EVENT_COLUMN_ROW_GROUP_CHANGED,i),this.addManagedListener(this.eventService,C.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:Ft.PIVOT})),this.addManagedListener(this.eventService,C.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_COLUMN_PIVOT_MODE_CHANGED,i),this.addManagedListener(this.eventService,C.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanges.bind(this));var s=this.refreshModel.bind(this,{step:Ft.MAP,keepRenderedRows:!0,animate:r});this.addManagedPropertyListeners(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter"],s);var a=this.refreshModel.bind(this,{step:Ft.AGGREGATE,keepRenderedRows:!0,animate:r});this.addManagedPropertyListeners(["groupIncludeTotalFooter"],a),this.rootNode=new St(this.beans),this.nodeManager=new uV(this.rootNode,this.gridOptionsService,this.eventService,this.columnModel,this.selectionService,this.beans),this.addManagedPropertyListener("treeData",function(){t.setRowData(t.rootNode.allLeafChildren.map(function(l){return l.data}))})},e.prototype.start=function(){var t=this.gridOptionsService.get("rowData");t&&this.setRowData(t)},e.prototype.ensureRowHeightsValid=function(t,i,r,o){var s,a=!1;do{s=!1;for(var l=this.getRowIndexAtPixel(t),u=this.getRowIndexAtPixel(i),c=Math.max(l,r),d=Math.min(u,o),p=c;p<=d;p++){var h=this.getRow(p);if(h.rowHeightEstimated){var f=this.gridOptionsService.getRowHeightForNode(h);h.setRowHeight(f.height),s=!0,a=!0}}s&&this.setRowTopAndRowIndex()}while(s);return a},e.prototype.setRowTopAndRowIndex=function(){for(var t=this.environment.getDefaultRowHeight(),i=0,r=new Set,o=this.gridOptionsService.isDomLayout("normal"),s=0;s<this.rowsToDisplay.length;s++){var a=this.rowsToDisplay[s];if(a.id!=null&&r.add(a.id),a.rowHeight==null){var l=this.gridOptionsService.getRowHeightForNode(a,o,t);a.setRowHeight(l.height,l.estimated)}a.setRowTop(i),a.setRowIndex(s),i+=a.rowHeight}return r},e.prototype.clearRowTopAndRowIndex=function(t,i){var r=t.isActive(),o=function(a){a&&a.id!=null&&!i.has(a.id)&&a.clearRowTopAndRowIndex()},s=function(a){if(o(a),o(a.detailNode),o(a.sibling),a.hasChildren()&&a.childrenAfterGroup){var l=a.level==-1,u=r&&!l&&!a.expanded;u||a.childrenAfterGroup.forEach(s)}};s(this.rootNode)},e.prototype.ensureRowsAtPixel=function(t,i,r){var o=this;r===void 0&&(r=0);var s=this.getRowIndexAtPixel(i),a=this.getRow(s),l=!this.gridOptionsService.is("suppressAnimationFrame");return a===t[0]?!1:(t.forEach(function(u){gt.removeFromArray(o.rootNode.allLeafChildren,u)}),t.forEach(function(u,c){gt.insertIntoArray(o.rootNode.allLeafChildren,u,Math.max(s+r,0)+c)}),this.refreshModel({step:Ft.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:l}),!0)},e.prototype.highlightRowAtPixel=function(t,i){var r=i!=null?this.getRowIndexAtPixel(i):null,o=r!=null?this.getRow(r):null;if(!o||!t||o===t||i==null){this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null);return}var s=this.getHighlightPosition(i,o);this.lastHighlightedRow&&this.lastHighlightedRow!==o&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),o.setHighlighted(s),this.lastHighlightedRow=o},e.prototype.getHighlightPosition=function(t,i){if(!i){var r=this.getRowIndexAtPixel(t);if(i=this.getRow(r||0),!i)return Dr.Below}var o=i.rowTop,s=i.rowHeight;return t-o<s/2?Dr.Above:Dr.Below},e.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},e.prototype.isLastRowIndexKnown=function(){return!0},e.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},e.prototype.getTopLevelRowCount=function(){var t=this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode;if(t)return 1;var i=this.rootNode.childrenAfterAggFilter;return i?i.length:0},e.prototype.getTopLevelRowDisplayedIndex=function(t){var i=this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode;if(i)return t;var r=this.rootNode.childrenAfterSort[t];if(this.gridOptionsService.is("groupHideOpenParents"))for(;r.expanded&&r.childrenAfterSort&&r.childrenAfterSort.length>0;)r=r.childrenAfterSort[0];return r.rowIndex},e.prototype.getRowBounds=function(t){if(gt.missing(this.rowsToDisplay))return null;var i=this.rowsToDisplay[t];return i?{rowTop:i.rowTop,rowHeight:i.rowHeight}:null},e.prototype.onRowGroupOpened=function(){var t=this.gridOptionsService.isAnimateRows();this.refreshModel({step:Ft.MAP,keepRenderedRows:!0,animate:t})},e.prototype.onFilterChanged=function(t){if(!t.afterDataChange){var i=this.gridOptionsService.isAnimateRows(),r=t.columns.length===0||t.columns.some(function(s){return s.isPrimary()}),o=r?Ft.FILTER:Ft.FILTER_AGGREGATES;this.refreshModel({step:o,keepRenderedRows:!0,animate:i})}},e.prototype.onSortChanged=function(){var t=this.gridOptionsService.isAnimateRows();this.refreshModel({step:Ft.SORT,keepRenderedRows:!0,animate:t,keepEditingRows:!0})},e.prototype.getType=function(){return"clientSide"},e.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:Ft.PIVOT}):this.refreshModel({step:Ft.AGGREGATE})},e.prototype.createChangePath=function(t){var i=gt.missingOrEmpty(t),r=new Ef(!1,this.rootNode);return(i||this.gridOptionsService.is("treeData"))&&r.setInactive(),r},e.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(t){if(!this.gridOptionsService.is("suppressModelUpdateAfterUpdateTransaction")||t.rowNodeTransactions==null)return!1;var i=t.rowNodeTransactions.filter(function(o){return o.add!=null&&o.add.length>0||o.remove!=null&&o.remove.length>0}),r=i==null||i.length==0;return r},e.prototype.buildRefreshModelParams=function(t){var i=Ft.EVERYTHING,r={everything:Ft.EVERYTHING,group:Ft.EVERYTHING,filter:Ft.FILTER,map:Ft.MAP,aggregate:Ft.AGGREGATE,sort:Ft.SORT,pivot:Ft.PIVOT};if(gt.exists(t)&&(i=r[t]),gt.missing(i)){console.error("AG Grid: invalid step "+t+", available steps are "+Object.keys(r).join(", "));return}var o=!this.gridOptionsService.is("suppressAnimationFrame"),s={step:i,keepRenderedRows:!0,keepEditingRows:!0,animate:o};return s},e.prototype.refreshModel=function(t){var i=typeof t=="object"&&"step"in t?t:this.buildRefreshModelParams(t);if(i&&!this.isSuppressModelUpdateAfterUpdateTransaction(i)){var r=this.createChangePath(i.rowNodeTransactions);switch(i.step){case Ft.EVERYTHING:this.doRowGrouping(i.groupState,i.rowNodeTransactions,i.rowNodeOrder,r,!!i.afterColumnsChanged);case Ft.FILTER:this.doFilter(r);case Ft.PIVOT:this.doPivot(r);case Ft.AGGREGATE:this.doAggregate(r);case Ft.FILTER_AGGREGATES:this.doFilterAggregates(r);case Ft.SORT:this.doSort(i.rowNodeTransactions,r);case Ft.MAP:this.doRowsToDisplay()}var o=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(r,o);var s={type:C.EVENT_MODEL_UPDATED,animate:i.animate,keepRenderedRows:i.keepRenderedRows,newData:i.newData,newPage:!1,keepUndoRedoStack:i.keepUndoRedoStack};this.eventService.dispatchEvent(s)}},e.prototype.isEmpty=function(){var t=gt.missing(this.rootNode.allLeafChildren)||this.rootNode.allLeafChildren.length===0;return gt.missing(this.rootNode)||t||!this.columnModel.isReady()},e.prototype.isRowsToRender=function(){return gt.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},e.prototype.getNodesInRangeForSelection=function(t,i){var r=!i,o=!1,s=[],a=this.gridOptionsService.is("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort(function(l){if(!o){if(r&&(l===i||l===t)&&(o=!0,l.group&&a)){s.push.apply(s,ks([],Vs(l.allLeafChildren)));return}if(!r){if(l!==i&&l!==t)return;r=!0}var u=!l.group||!a;if(u){s.push(l);return}}}),s},e.prototype.setDatasource=function(t){console.error("AG Grid: should never call setDatasource on clientSideRowController")},e.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},e.prototype.getRootNode=function(){return this.rootNode},e.prototype.getRow=function(t){return this.rowsToDisplay[t]},e.prototype.isRowPresent=function(t){return this.rowsToDisplay.indexOf(t)>=0},e.prototype.getRowIndexAtPixel=function(t){if(this.isEmpty()||this.rowsToDisplay.length===0)return-1;var i=0,r=this.rowsToDisplay.length-1;if(t<=0)return 0;var o=gt.last(this.rowsToDisplay);if(o.rowTop<=t)return this.rowsToDisplay.length-1;for(var s=-1,a=-1;;){var l=Math.floor((i+r)/2),u=this.rowsToDisplay[l];if(this.isRowInPixel(u,t))return l;u.rowTop<t?i=l+1:u.rowTop>t&&(r=l-1);var c=s===i&&a===r;if(c)return l;s=i,a=r}},e.prototype.isRowInPixel=function(t,i){var r=t.rowTop,o=t.rowTop+t.rowHeight,s=r<=i&&o>i;return s},e.prototype.forEachLeafNode=function(t){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(i,r){return t(i,r)})},e.prototype.forEachNode=function(t,i){i===void 0&&(i=!1),this.recursivelyWalkNodesAndCallback({nodes:ks([],Vs(this.rootNode.childrenAfterGroup||[])),callback:t,recursionType:nr.Normal,index:0,includeFooterNodes:i})},e.prototype.forEachNodeAfterFilter=function(t,i){i===void 0&&(i=!1),this.recursivelyWalkNodesAndCallback({nodes:ks([],Vs(this.rootNode.childrenAfterAggFilter||[])),callback:t,recursionType:nr.AfterFilter,index:0,includeFooterNodes:i})},e.prototype.forEachNodeAfterFilterAndSort=function(t,i){i===void 0&&(i=!1),this.recursivelyWalkNodesAndCallback({nodes:ks([],Vs(this.rootNode.childrenAfterSort||[])),callback:t,recursionType:nr.AfterFilterAndSort,index:0,includeFooterNodes:i})},e.prototype.forEachPivotNode=function(t,i){i===void 0&&(i=!1),this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:t,recursionType:nr.PivotNodes,index:0,includeFooterNodes:i})},e.prototype.recursivelyWalkNodesAndCallback=function(t){for(var i,r=t.nodes,o=t.callback,s=t.recursionType,a=t.includeFooterNodes,l=t.index,u=0;u<r.length;u++){var c=r[u];if(o(c,l++),c.hasChildren()&&!c.footer){var d=null;switch(s){case nr.Normal:d=c.childrenAfterGroup;break;case nr.AfterFilter:d=c.childrenAfterAggFilter;break;case nr.AfterFilterAndSort:d=c.childrenAfterSort;break;case nr.PivotNodes:d=c.leafGroup?null:c.childrenAfterSort;break}d&&(l=this.recursivelyWalkNodesAndCallback({nodes:ks([],Vs(d)),callback:o,recursionType:s,index:l,includeFooterNodes:a}))}}var p=(i=r[0])===null||i===void 0?void 0:i.parent;if(!a||!p)return l;var h=p===this.rootNode;if(h){var f=this.gridOptionsService.is("groupIncludeTotalFooter");if(!f)return l}else{var g=this.gridOptionsService.getGroupIncludeFooter();if(!g({node:p}))return l}return p.createFooter(),o(p.sibling,l++),l},e.prototype.doAggregate=function(t){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.doFilterAggregates=function(t){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:t}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter},e.prototype.expandOrCollapseAll=function(t){var i=this.gridOptionsService.is("treeData"),r=this.columnModel.isPivotActive(),o=function(l){l&&l.forEach(function(u){var c=function(){u.expanded=t,o(u.childrenAfterGroup)};if(i){var d=gt.exists(u.childrenAfterGroup);d&&c();return}if(r){var p=!u.leafGroup;p&&c();return}var h=u.group;h&&c()})};this.rootNode&&o(this.rootNode.childrenAfterGroup),this.refreshModel({step:Ft.MAP});var s=t?"expandAll":"collapseAll",a={type:C.EVENT_EXPAND_COLLAPSE_ALL,source:s};this.eventService.dispatchEvent(a)},e.prototype.doSort=function(t,i){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,changedPath:i})},e.prototype.doRowGrouping=function(t,i,r,o,s){if(this.groupStage){if(i?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:i,rowNodeOrder:r,changedPath:o}):(this.groupStage.execute({rowNode:this.rootNode,changedPath:o,afterColumnsChanged:s}),this.restoreGroupState(t)),this.gridOptionsService.is("groupSelectsChildren")){var a=this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",o);if(a){var l={type:C.EVENT_SELECTION_CHANGED,source:"rowGroupChanged"};this.eventService.dispatchEvent(l)}}}else this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren()},e.prototype.restoreGroupState=function(t){t&&gt.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(i,r){typeof t[r]=="boolean"&&(i.expanded=t[r])})},e.prototype.doFilter=function(t){this.filterStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.doPivot=function(t){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsService.is("rememberGroupStateWhenNewData"))return null;var t={};return gt.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(i,r){return t[r]=i.expanded}),t},e.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},e.prototype.getRowNode=function(t){var i=typeof t=="string"&&t.indexOf(St.ID_PREFIX_ROW_GROUP)==0;if(i){var r=void 0;return this.forEachNode(function(o){o.id===t&&(r=o)}),r}return this.nodeManager.getRowNode(t)},e.prototype.setRowData=function(t){var i=this.getGroupState();this.nodeManager.setRowData(t),this.selectionService.reset(),this.filterManager.onNewRowsLoaded("rowDataUpdated");var r={type:C.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(r),this.refreshModel({step:Ft.EVERYTHING,groupState:i,newData:!0})},e.prototype.batchUpdateRowData=function(t,i){var r=this;if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];var o=this.gridOptionsService.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(function(){r.executeBatchUpdateRowData()},o)}this.rowDataTransactionBatch.push({rowDataTransaction:t,callback:i})},e.prototype.flushAsyncTransactions=function(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},e.prototype.executeBatchUpdateRowData=function(){var t=this;this.valueCache.onDataChanged();var i=[],r=[],o=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(function(a){var l=t.nodeManager.updateRowData(a.rowDataTransaction,void 0);r.push(l),a.callback&&i.push(a.callback.bind(null,l)),typeof a.rowDataTransaction.addIndex=="number"&&(o=!0)}),this.commonUpdateRowData(r,void 0,o),i.length>0&&window.setTimeout(function(){i.forEach(function(a){return a()})},0),r.length>0){var s={type:C.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:r};this.eventService.dispatchEvent(s)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},e.prototype.updateRowData=function(t,i){this.valueCache.onDataChanged();var r=this.nodeManager.updateRowData(t,i),o=typeof t.addIndex=="number";return this.commonUpdateRowData([r],i,o),r},e.prototype.createRowNodeOrder=function(){var t=this.gridOptionsService.is("suppressMaintainUnsortedOrder");if(!t){var i={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var r=0;r<this.rootNode.allLeafChildren.length;r++){var o=this.rootNode.allLeafChildren[r];i[o.id]=r}return i}},e.prototype.commonUpdateRowData=function(t,i,r){var o=!this.gridOptionsService.is("suppressAnimationFrame");r&&(i=this.createRowNodeOrder()),this.refreshModel({step:Ft.EVERYTHING,rowNodeTransactions:t,rowNodeOrder:i,keepRenderedRows:!0,keepEditingRows:!0,animate:o}),this.filterManager.onNewRowsLoaded("rowDataUpdated");var s={type:C.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(s)},e.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},e.prototype.onRowHeightChanged=function(){this.refreshModel({step:Ft.MAP,keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})},e.prototype.onRowHeightChangedDebounced=function(){this.onRowHeightChanged_debounced()},e.prototype.resetRowHeights=function(){var t=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),t&&this.onRowHeightChanged()},e.prototype.resetRowHeightsForAllRowNodes=function(){var t=!1;return this.forEachNode(function(i){i.setRowHeight(i.rowHeight,!0);var r=i.detailNode;r&&r.setRowHeight(r.rowHeight,!0),i.sibling&&i.sibling.setRowHeight(i.sibling.rowHeight,!0),t=!0}),t},e.prototype.onGridStylesChanges=function(){this.columnModel.isAutoRowHeightActive()||this.resetRowHeights()},Xe([y("columnModel")],e.prototype,"columnModel",void 0),Xe([y("selectionService")],e.prototype,"selectionService",void 0),Xe([y("filterManager")],e.prototype,"filterManager",void 0),Xe([y("valueCache")],e.prototype,"valueCache",void 0),Xe([y("beans")],e.prototype,"beans",void 0),Xe([y("filterStage")],e.prototype,"filterStage",void 0),Xe([y("sortStage")],e.prototype,"sortStage",void 0),Xe([y("flattenStage")],e.prototype,"flattenStage",void 0),Xe([At("groupStage")],e.prototype,"groupStage",void 0),Xe([At("aggregationStage")],e.prototype,"aggregationStage",void 0),Xe([At("pivotStage")],e.prototype,"pivotStage",void 0),Xe([At("filterAggregatesStage")],e.prototype,"filterAggregatesStage",void 0),Xe([U],e.prototype,"init",null),e=Xe([Z("rowModel")],e),e}(j),pV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Uy=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},hV=function(n){pV(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.execute=function(t){var i=t.changedPath;this.filterService.filter(i)},Uy([y("filterService")],e.prototype,"filterService",void 0),e=Uy([Z("filterStage")],e),e}(j),fV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Fl=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},gV=function(n){fV(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.execute=function(t){var i=this,r=this.sortController.getSortOptions(),o=gt.exists(r)&&r.length>0,s=o&&gt.exists(t.rowNodeTransactions)&&this.gridOptionsService.is("deltaSort"),a=r.some(function(l){var u=i.gridOptionsService.isColumnsSortingCoupledToGroup();return u?l.column.isPrimary()&&l.column.isRowGroupActive():!!l.column.getColDef().showRowGroup});this.sortService.sort(r,o,s,t.rowNodeTransactions,t.changedPath,a)},Fl([y("sortService")],e.prototype,"sortService",void 0),Fl([y("sortController")],e.prototype,"sortController",void 0),Fl([y("columnModel")],e.prototype,"columnModel",void 0),e=Fl([Z("sortStage")],e),e}(j),vV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),tp=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},yV=function(n){vV(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.execute=function(t){var i=t.rowNode,r=[],o=this.columnModel.isPivotMode(),s=o&&i.leafGroup,a=s?[i]:i.childrenAfterSort,l=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(l,a,r,o,0);var u=r.length>0,c=!s&&u&&l.groupIncludeTotalFooter;return c&&(i.createFooter(),this.addRowNodeToRowsToDisplay(l,i.sibling,r,0)),r},e.prototype.getFlattenDetails=function(){var t=this.gridOptionsService.is("groupRemoveSingleChildren"),i=!t&&this.gridOptionsService.is("groupRemoveLowestSingleChildren");return{groupRemoveLowestSingleChildren:i,groupRemoveSingleChildren:t,isGroupMultiAutoColumn:this.gridOptionsService.isGroupMultiAutoColumn(),hideOpenParents:this.gridOptionsService.is("groupHideOpenParents"),groupIncludeTotalFooter:this.gridOptionsService.is("groupIncludeTotalFooter"),getGroupIncludeFooter:this.gridOptionsService.getGroupIncludeFooter()}},e.prototype.recursivelyAddToRowsToDisplay=function(t,i,r,o,s){if(!gt.missingOrEmpty(i))for(var a=0;a<i.length;a++){var l=i[a],u=l.hasChildren(),c=o&&!u,d=t.groupRemoveSingleChildren&&u&&l.childrenAfterGroup.length===1,p=t.groupRemoveLowestSingleChildren&&u&&l.leafGroup&&l.childrenAfterGroup.length===1,h=o&&l.leafGroup,f=t.hideOpenParents&&l.expanded&&!l.master&&!h,g=!c&&!f&&!d&&!p;if(g&&this.addRowNodeToRowsToDisplay(t,l,r,s),!(o&&l.leafGroup)){if(u){var v=d||p;if(l.expanded||v){var m=v?s:s+1;this.recursivelyAddToRowsToDisplay(t,l.childrenAfterSort,r,o,m);var w=t.getGroupIncludeFooter({node:l});w?(l.createFooter(),this.addRowNodeToRowsToDisplay(t,l.sibling,r,m)):l.destroyFooter()}}else if(l.master&&l.expanded){var b=this.createDetailNode(l);this.addRowNodeToRowsToDisplay(t,b,r,s)}}}},e.prototype.addRowNodeToRowsToDisplay=function(t,i,r,o){r.push(i),i.setUiLevel(t.isGroupMultiAutoColumn?0:o)},e.prototype.createDetailNode=function(t){if(gt.exists(t.detailNode))return t.detailNode;var i=new St(this.beans);return i.detail=!0,i.selectable=!1,i.parent=t,gt.exists(t.id)&&(i.id="detail_"+t.id),i.data=t.data,i.level=t.level+1,t.detailNode=i,i},tp([y("columnModel")],e.prototype,"columnModel",void 0),tp([y("beans")],e.prototype,"beans",void 0),e=tp([Z("flattenStage")],e),e}(j),mV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ml=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},CV=function(n){mV(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(){this.postSortFunc=this.gridOptionsService.getCallback("postSortRows")},e.prototype.sort=function(t,i,r,o,s,a){var l=this,u=this.gridOptionsService.is("groupMaintainOrder"),c=this.columnModel.getAllGridColumns().some(function(f){return f.isRowGroupActive()}),d={};r&&o&&(d=this.calculateDirtyNodes(o));var p=this.columnModel.isPivotMode(),h=function(f){l.pullDownGroupDataForHideOpenParents(f.childrenAfterAggFilter,!0);var g=p&&f.leafGroup,v=u&&c&&!f.leafGroup&&!a;if(v){var m=f.childrenAfterAggFilter.slice(0);if(f.childrenAfterSort){var w={};f.childrenAfterSort.forEach(function(E,O){w[E.id]=O}),m.sort(function(E,O){var P,M;return((P=w[E.id])!==null&&P!==void 0?P:0)-((M=w[O.id])!==null&&M!==void 0?M:0)})}f.childrenAfterSort=m}else!i||g?f.childrenAfterSort=f.childrenAfterAggFilter.slice(0):r?f.childrenAfterSort=l.doDeltaSort(f,d,s,t):f.childrenAfterSort=l.rowNodeSorter.doFullSort(f.childrenAfterAggFilter,t);if(f.sibling&&(f.sibling.childrenAfterSort=f.childrenAfterSort),l.updateChildIndexes(f),l.postSortFunc){var b={nodes:f.childrenAfterSort};l.postSortFunc(b)}};s&&s.forEachChangedNodeDepthFirst(h),this.updateGroupDataForHideOpenParents(s)},e.prototype.calculateDirtyNodes=function(t){var i={},r=function(o){o&&o.forEach(function(s){return i[s.id]=!0})};return t&&t.forEach(function(o){r(o.add),r(o.update),r(o.remove)}),i},e.prototype.doDeltaSort=function(t,i,r,o){var s=this,a=t.childrenAfterAggFilter,l=t.childrenAfterSort;if(!l)return this.rowNodeSorter.doFullSort(a,o);var u={},c=[];a.forEach(function(f){i[f.id]||!r.canSkip(f)?c.push(f):u[f.id]=!0});var d=l.filter(function(f){return u[f.id]}),p=function(f,g){return{currentPos:g,rowNode:f}},h=c.map(p).sort(function(f,g){return s.rowNodeSorter.compareRowNodes(o,f,g)});return this.mergeSortedArrays(o,h,d.map(p)).map(function(f){var g=f.rowNode;return g})},e.prototype.mergeSortedArrays=function(t,i,r){for(var o=[],s=0,a=0;s<i.length&&a<r.length;){var l=this.rowNodeSorter.compareRowNodes(t,i[s],r[a]);l<0?o.push(i[s++]):o.push(r[a++])}for(;s<i.length;)o.push(i[s++]);for(;a<r.length;)o.push(r[a++]);return o},e.prototype.updateChildIndexes=function(t){if(!gt.missing(t.childrenAfterSort))for(var i=t.childrenAfterSort,r=0;r<i.length;r++){var o=i[r],s=r===0,a=r===t.childrenAfterSort.length-1;o.setFirstChild(s),o.setLastChild(a),o.setChildIndex(r)}},e.prototype.updateGroupDataForHideOpenParents=function(t){var i=this;if(this.gridOptionsService.is("groupHideOpenParents")){if(this.gridOptionsService.is("treeData")){var r="AG Grid: The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them (as opposed to Row Grouping, which only has Aggregated Values at the group level).";return gt.doOnce(function(){return console.warn(r)},"sortService.hideOpenParentsWithTreeData"),!1}var o=function(s){i.pullDownGroupDataForHideOpenParents(s.childrenAfterSort,!1),s.childrenAfterSort.forEach(function(a){a.hasChildren()&&o(a)})};t&&t.executeFromRootNode(function(s){return o(s)})}},e.prototype.pullDownGroupDataForHideOpenParents=function(t,i){var r=this;!this.gridOptionsService.is("groupHideOpenParents")||gt.missing(t)||t.forEach(function(o){var s=r.columnModel.getGroupDisplayColumns();s.forEach(function(a){var l=a.getColDef().showRowGroup;if(typeof l!="string"){console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");return}var u=l,c=r.columnModel.getPrimaryColumn(u),d=c===o.rowGroupColumn;if(!d)if(i)o.setGroupValue(a.getId(),void 0);else{var p=o.getFirstChildOfFirstChild(c);p&&o.setGroupValue(a.getId(),p.key)}})})},Ml([y("columnModel")],e.prototype,"columnModel",void 0),Ml([y("rowNodeSorter")],e.prototype,"rowNodeSorter",void 0),Ml([U],e.prototype,"init",null),e=Ml([Z("sortService")],e),e}(j),wV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),zy=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},SV=function(n){wV(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.filter=function(t){var i=this.filterManager.isChildFilterPresent();this.filterNodes(i,t)},e.prototype.filterNodes=function(t,i){var r=this,o=function(u,c){u.hasChildren()&&t&&!c?u.childrenAfterFilter=u.childrenAfterGroup.filter(function(d){var p=d.childrenAfterFilter&&d.childrenAfterFilter.length>0,h=d.data&&r.filterManager.doesRowPassFilter({rowNode:d});return p||h}):u.childrenAfterFilter=u.childrenAfterGroup,u.sibling&&(u.sibling.childrenAfterFilter=u.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var s=function(u,c){if(u.childrenAfterGroup)for(var d=0;d<u.childrenAfterGroup.length;d++){var p=u.childrenAfterGroup[d],h=c||r.filterManager.doesRowPassFilter({rowNode:p});p.childrenAfterGroup?s(u.childrenAfterGroup[d],h):o(p,h)}o(u,c)},a=function(u){return s(u,!1)};i.executeFromRootNode(a)}else{var l=function(u){return o(u,!1)};i.forEachChangedNodeDepthFirst(l,!0)}},e.prototype.doingTreeDataFiltering=function(){return this.gridOptionsService.is("treeData")&&!this.gridOptionsService.is("excludeChildrenWhenTreeDataFiltering")},zy([y("filterManager")],e.prototype,"filterManager",void 0),e=zy([Z("filterService")],e),e}(j),_V=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ll=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},EV=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o},bV=function(n){_V(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.postConstruct=function(){this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel)},e.prototype.isActive=function(){var t=this.gridOptionsService.exists("getRowId"),i=this.gridOptionsService.is("resetRowDataOnUpdate");return i?!1:t},e.prototype.setRowData=function(t){var i=this.createTransactionForRowData(t);if(i){var r=EV(i,2),o=r[0],s=r[1];this.clientSideRowModel.updateRowData(o,s)}},e.prototype.createTransactionForRowData=function(t){if(gt.missing(this.clientSideRowModel)){console.error("AG Grid: ImmutableService only works with ClientSideRowModel");return}var i=this.gridOptionsService.getCallback("getRowId");if(i==null){console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!");return}var r={remove:[],update:[],add:[]},o=this.clientSideRowModel.getCopyOfNodesMap(),s=this.gridOptionsService.is("suppressMaintainUnsortedOrder"),a=s?void 0:{};return gt.exists(t)&&t.forEach(function(l,u){var c=i({data:l,level:0}),d=o[c];if(a&&(a[c]=u),d){var p=d.data!==l;p&&r.update.push(l),o[c]=void 0}else r.add.push(l)}),gt.iterateObject(o,function(l,u){u&&r.remove.push(u.data)}),[r,a]},Ll([y("rowModel")],e.prototype,"rowModel",void 0),Ll([y("rowRenderer")],e.prototype,"rowRenderer",void 0),Ll([U],e.prototype,"postConstruct",null),e=Ll([Z("immutableService")],e),e}(j),RV="30.2.1",OV={version:RV,moduleName:tt.ClientSideRowModelModule,rowModel:"clientSide",beans:[dV,hV,gV,yV,CV,SV,bV]},TV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),ep=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},$y=function(n){TV(e,n);function e(t,i,r){var o=n.call(this,t)||this;return o.parentCache=i,o.params=r,o.startRow=t*r.blockSize,o.endRow=o.startRow+r.blockSize,o}return e.prototype.postConstruct=function(){this.createRowNodes()},e.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},e.prototype.setDataAndId=function(t,i,r){gt.exists(i)?t.setDataAndId(i,r.toString()):t.setDataAndId(void 0,void 0)},e.prototype.loadFromDatasource=function(){var t=this,i=this.createLoadParams();if(gt.missing(this.params.datasource.getRows)){console.warn("AG Grid: datasource is missing getRows method");return}window.setTimeout(function(){t.params.datasource.getRows(i)},0)},e.prototype.processServerFail=function(){},e.prototype.createLoadParams=function(){var t={startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsService.context};return t},e.prototype.forEachNode=function(t,i,r){var o=this;this.rowNodes.forEach(function(s,a){var l=o.startRow+a;l<r&&t(s,i.next())})},e.prototype.getLastAccessed=function(){return this.lastAccessed},e.prototype.getRow=function(t,i){i===void 0&&(i=!1),i||(this.lastAccessed=this.params.lastAccessedSequence.next());var r=t-this.startRow;return this.rowNodes[r]},e.prototype.getStartRow=function(){return this.startRow},e.prototype.getEndRow=function(){return this.endRow},e.prototype.createRowNodes=function(){this.rowNodes=[];for(var t=0;t<this.params.blockSize;t++){var i=this.startRow+t,r=new St(this.beans);r.setRowHeight(this.params.rowHeight),r.uiLevel=0,r.setRowIndex(i),r.setRowTop(this.params.rowHeight*i),this.rowNodes.push(r)}},e.prototype.processServerResult=function(t){var i=this;this.rowNodes.forEach(function(o,s){var a=t.rowData?t.rowData[s]:void 0;!o.id&&o.alreadyRendered&&a&&(i.rowNodes[s]=new St(i.beans),i.rowNodes[s].setRowIndex(o.rowIndex),i.rowNodes[s].setRowTop(o.rowTop),i.rowNodes[s].setRowHeight(o.rowHeight),o.clearRowTopAndRowIndex()),i.setDataAndId(i.rowNodes[s],a,i.startRow+s)});var r=t.rowCount!=null&&t.rowCount>=0?t.rowCount:void 0;this.parentCache.pageLoaded(this,r)},e.prototype.destroyRowNodes=function(){this.rowNodes.forEach(function(t){t.clearRowTopAndRowIndex()})},ep([y("beans")],e.prototype,"beans",void 0),ep([U],e.prototype,"postConstruct",null),ep([Ee],e.prototype,"destroyRowNodes",null),e}(qp),xV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Il=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},PV=function(n,e){return function(t,i){e(t,i,n)}},DV=function(n){xV(e,n);function e(t){var i=n.call(this)||this;return i.lastRowIndexKnown=!1,i.blocks={},i.blockCount=0,i.rowCount=t.initialRowCount,i.params=t,i}return e.prototype.setBeans=function(t){this.logger=t.create("InfiniteCache")},e.prototype.getRow=function(t,i){i===void 0&&(i=!1);var r=Math.floor(t/this.params.blockSize),o=this.blocks[r];if(!o){if(i)return;o=this.createBlock(r)}return o.getRow(t)},e.prototype.createBlock=function(t){var i=this.createBean(new $y(t,this,this.params));return this.blocks[i.getId()]=i,this.blockCount++,this.purgeBlocksIfNeeded(i),this.params.rowNodeBlockLoader.addBlock(i),i},e.prototype.refreshCache=function(){var t=this.blockCount==0;if(t){this.purgeCache();return}this.getBlocksInOrder().forEach(function(i){return i.setStateWaitingToLoad()}),this.params.rowNodeBlockLoader.checkBlockToLoad()},e.prototype.destroyAllBlocks=function(){var t=this;this.getBlocksInOrder().forEach(function(i){return t.destroyBlock(i)})},e.prototype.getRowCount=function(){return this.rowCount},e.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},e.prototype.pageLoaded=function(t,i){this.isAlive()&&(this.logger.log("onPageLoaded: page = "+t.getId()+", lastRow = "+i),this.checkRowCount(t,i),this.onCacheUpdated())},e.prototype.purgeBlocksIfNeeded=function(t){var i=this,r=this.getBlocksInOrder().filter(function(u){return u!=t}),o=function(u,c){return c.getLastAccessed()-u.getLastAccessed()};r.sort(o);var s=this.params.maxBlocksInCache>0,a=s?this.params.maxBlocksInCache-1:null,l=e.MAX_EMPTY_BLOCKS_TO_KEEP-1;r.forEach(function(u,c){var d=u.getState()===$y.STATE_WAITING_TO_LOAD&&c>=l,p=s?c>=a:!1;if(d||p){if(i.isBlockCurrentlyDisplayed(u)||i.isBlockFocused(u))return;i.removeBlockFromCache(u)}})},e.prototype.isBlockFocused=function(t){var i=this.focusService.getFocusCellToUseAfterRefresh();if(!i||i.rowPinned!=null)return!1;var r=t.getStartRow(),o=t.getEndRow(),s=i.rowIndex>=r&&i.rowIndex<o;return s},e.prototype.isBlockCurrentlyDisplayed=function(t){var i=t.getStartRow(),r=t.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(i,r)},e.prototype.removeBlockFromCache=function(t){t&&this.destroyBlock(t)},e.prototype.checkRowCount=function(t,i){if(typeof i=="number"&&i>=0)this.rowCount=i,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var r=(t.getId()+1)*this.params.blockSize,o=r+this.params.overflowSize;this.rowCount<o&&(this.rowCount=o)}},e.prototype.setRowCount=function(t,i){this.rowCount=t,gt.exists(i)&&(this.lastRowIndexKnown=i),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()},e.prototype.forEachNodeDeep=function(t){var i=this,r=new Yo;this.getBlocksInOrder().forEach(function(o){return o.forEachNode(t,r,i.rowCount)})},e.prototype.getBlocksInOrder=function(){var t=function(r,o){return r.getId()-o.getId()},i=gt.getAllValuesInObject(this.blocks).sort(t);return i},e.prototype.destroyBlock=function(t){delete this.blocks[t.getId()],this.destroyBean(t),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(t)},e.prototype.onCacheUpdated=function(){if(this.isAlive()){this.destroyAllBlocksPastVirtualRowCount();var t={type:C.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(t)}},e.prototype.destroyAllBlocksPastVirtualRowCount=function(){var t=this,i=[];this.getBlocksInOrder().forEach(function(r){var o=r.getId()*t.params.blockSize;o>=t.rowCount&&i.push(r)}),i.length>0&&i.forEach(function(r){return t.destroyBlock(r)})},e.prototype.purgeCache=function(){var t=this;this.getBlocksInOrder().forEach(function(i){return t.removeBlockFromCache(i)}),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},e.prototype.getRowNodesInRange=function(t,i){var r=this,o=[],s=-1,a=!1,l=new Yo;gt.missing(t)&&(a=!0);var u=!1;this.getBlocksInOrder().forEach(function(d){if(!u){if(a&&s+1!==d.getId()){u=!0;return}s=d.getId(),d.forEachNode(function(p){var h=p===t||p===i;(a||h)&&o.push(p),h&&(a=!a)},l,r.rowCount)}});var c=u||a;return c?[]:o},e.MAX_EMPTY_BLOCKS_TO_KEEP=2,Il([y("rowRenderer")],e.prototype,"rowRenderer",void 0),Il([y("focusService")],e.prototype,"focusService",void 0),Il([PV(0,Ge("loggerFactory"))],e.prototype,"setBeans",null),Il([Ee],e.prototype,"destroyAllBlocks",null),e}(j),AV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),qr=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},FV=function(n){AV(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getRowBounds=function(t){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*t}},e.prototype.ensureRowHeightsValid=function(t,i,r,o){return!1},e.prototype.init=function(){var t=this;this.gridOptionsService.isRowModelType("infinite")&&(this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(function(){return t.destroyCache()}),this.verifyProps())},e.prototype.verifyProps=function(){if(this.gridOptionsService.exists("initialGroupOrderComparator")){var t="AG Grid: initialGroupOrderComparator cannot be used with Infinite Row Model. If using Infinite Row Model, then sorting is done on the server side, nothing to do with the client.";gt.doOnce(function(){return console.warn(t)},"IRM.InitialGroupOrderComparator")}},e.prototype.start=function(){this.setDatasource(this.gridOptionsService.get("datasource"))},e.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},e.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,C.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,C.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,C.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this))},e.prototype.onFilterChanged=function(){this.reset()},e.prototype.onSortChanged=function(){this.reset()},e.prototype.onColumnEverything=function(){var t;this.cacheParams?t=this.isSortModelDifferent():t=!0,t&&this.reset()},e.prototype.isSortModelDifferent=function(){return!gt.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},e.prototype.getType=function(){return"infinite"},e.prototype.setDatasource=function(t){this.destroyDatasource(),this.datasource=t,t&&this.reset()},e.prototype.isEmpty=function(){return!this.infiniteCache},e.prototype.isRowsToRender=function(){return!!this.infiniteCache},e.prototype.getNodesInRangeForSelection=function(t,i){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(t,i):[]},e.prototype.reset=function(){if(this.datasource){var t=this.gridOptionsService.getCallback("getRowId"),i=t!=null;i||this.selectionService.reset(),this.resetCache();var r=this.createModelUpdatedEvent();this.eventService.dispatchEvent(r)}},e.prototype.createModelUpdatedEvent=function(){return{type:C.EVENT_MODEL_UPDATED,newPage:!1,newData:!1,keepRenderedRows:!0,animate:!1}},e.prototype.resetCache=function(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.defaultIfInvalid(this.gridOptionsService.getNum("infiniteInitialRowCount"),1),maxBlocksInCache:this.gridOptionsService.getNum("maxBlocksInCache"),rowHeight:this.gridOptionsService.getRowHeightAsNumber(),overflowSize:this.defaultIfInvalid(this.gridOptionsService.getNum("cacheOverflowSize"),1),blockSize:this.defaultIfInvalid(this.gridOptionsService.getNum("cacheBlockSize"),100),lastAccessedSequence:new Yo},this.infiniteCache=this.createBean(new DV(this.cacheParams))},e.prototype.defaultIfInvalid=function(t,i){return t>0?t:i},e.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},e.prototype.onCacheUpdated=function(){var t=this.createModelUpdatedEvent();this.eventService.dispatchEvent(t)},e.prototype.getRow=function(t){if(this.infiniteCache&&!(t>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(t)},e.prototype.getRowNode=function(t){var i;return this.forEachNode(function(r){r.id===t&&(i=r)}),i},e.prototype.forEachNode=function(t){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(t)},e.prototype.getTopLevelRowCount=function(){return this.getRowCount()},e.prototype.getTopLevelRowDisplayedIndex=function(t){return t},e.prototype.getRowIndexAtPixel=function(t){if(this.rowHeight!==0){var i=Math.floor(t/this.rowHeight),r=this.getRowCount()-1;return i>r?r:i}return 0},e.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},e.prototype.isRowPresent=function(t){var i=this.getRowNode(t.id);return!!i},e.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},e.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},e.prototype.isLastRowIndexKnown=function(){return this.infiniteCache?this.infiniteCache.isLastRowIndexKnown():!1},e.prototype.setRowCount=function(t,i){this.infiniteCache&&this.infiniteCache.setRowCount(t,i)},qr([y("filterManager")],e.prototype,"filterManager",void 0),qr([y("sortController")],e.prototype,"sortController",void 0),qr([y("selectionService")],e.prototype,"selectionService",void 0),qr([y("rowRenderer")],e.prototype,"rowRenderer",void 0),qr([y("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),qr([U],e.prototype,"init",null),qr([Ee],e.prototype,"destroyDatasource",null),e=qr([Z("rowModel")],e),e}(j),MV="30.2.1",LV={version:MV,moduleName:tt.InfiniteRowModelModule,rowModel:"infinite",beans:[FV]},IV=function(){function n(){}return n.prototype.setBeans=function(e){this.beans=e},n.prototype.getFileName=function(e){var t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?e+"."+t:e},n.prototype.getData=function(e){var t=this.createSerializingSession(e),i=this.beans.gridSerializer.serialize(t,e);return i},n}(),NV=function(){function n(e){this.groupColumns=[];var t=e.columnModel,i=e.valueService,r=e.gridOptionsService,o=e.valueFormatterService,s=e.valueParserService,a=e.processCellCallback,l=e.processHeaderCallback,u=e.processGroupHeaderCallback,c=e.processRowGroupCallback;this.columnModel=t,this.valueService=i,this.gridOptionsService=r,this.valueFormatterService=o,this.valueParserService=s,this.processCellCallback=a,this.processHeaderCallback=l,this.processGroupHeaderCallback=u,this.processRowGroupCallback=c}return n.prototype.prepare=function(e){this.groupColumns=e.filter(function(t){return!!t.getColDef().showRowGroup})},n.prototype.extractHeaderValue=function(e){var t=this.getHeaderName(this.processHeaderCallback,e);return t??""},n.prototype.extractRowCellValue=function(e,t,i,r,o){var s=this.gridOptionsService.is("groupHideOpenParents"),a=(!s||o.footer)&&this.shouldRenderGroupSummaryCell(o,e,t)?this.createValueForGroupNode(o):this.valueService.getValue(e,o),l=this.processCell({accumulatedRowIndex:i,rowNode:o,column:e,value:a,processCellCallback:this.processCellCallback,type:r});return l},n.prototype.shouldRenderGroupSummaryCell=function(e,t,i){var r,o=e&&e.group;if(!o)return!1;var s=this.groupColumns.indexOf(t);if(s!==-1){if(((r=e.groupData)===null||r===void 0?void 0:r[t.getId()])!=null||this.gridOptionsService.isRowModelType("serverSide")&&e.group)return!0;if(e.footer&&e.level===-1){var a=t.getColDef(),l=a==null||a.showRowGroup===!0;return l||a.showRowGroup===this.columnModel.getRowGroupColumns()[0].getId()}}var u=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotMode());return i===0&&u},n.prototype.getHeaderName=function(e,t){return e?e({column:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}):this.columnModel.getDisplayNameForColumn(t,"csv",!0)},n.prototype.createValueForGroupNode=function(e){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context});var t=e.footer,i=[e.key];if(!this.gridOptionsService.isGroupMultiAutoColumn())for(;e.parent;)e=e.parent,i.push(e.key);var r=i.reverse().join(" -> ");return t?"Total "+r:r},n.prototype.processCell=function(e){var t=this,i,r=e.accumulatedRowIndex,o=e.rowNode,s=e.column,a=e.value,l=e.processCellCallback,u=e.type;return l?{value:(i=l({accumulatedRowIndex:r,column:s,node:o,value:a,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,type:u,parseValue:function(c){return t.valueParserService.parseValue(s,o,c,t.valueService.getValue(s,o))},formatValue:function(c){var d;return(d=t.valueFormatterService.formatValue(s,o,c))!==null&&d!==void 0?d:c}}))!==null&&i!==void 0?i:""}:s.getColDef().useValueFormatterForExport?{value:a??"",valueFormatted:this.valueFormatterService.formatValue(s,o,a)}:{value:a??""}},n}(),GV=function(){function n(){}return n.download=function(e,t){var i=document.defaultView||window;if(!i){console.warn("AG Grid: There is no `window` associated with the current `document`");return}var r=document.createElement("a"),o=i.URL.createObjectURL(t);r.setAttribute("href",o),r.setAttribute("download",e),r.style.display="none",document.body.appendChild(r),r.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:i})),document.body.removeChild(r),i.setTimeout(function(){i.URL.revokeObjectURL(o)},0)},n}(),HV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ky=`\r
`,VV=function(n){HV(e,n);function e(t){var i=n.call(this,t)||this;i.isFirstLine=!0,i.result="";var r=t.suppressQuotes,o=t.columnSeparator;return i.suppressQuotes=r,i.columnSeparator=o,i}return e.prototype.addCustomContent=function(t){var i=this;t&&(typeof t=="string"?(/^\s*\n/.test(t)||this.beginNewLine(),t=t.replace(/\r?\n/g,Ky),this.result+=t):t.forEach(function(r){i.beginNewLine(),r.forEach(function(o,s){s!==0&&(i.result+=i.columnSeparator),i.result+=i.putInQuotes(o.data.value||""),o.mergeAcross&&i.appendEmptyCells(o.mergeAcross)})}))},e.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},e.prototype.onNewHeaderGroupingRowColumn=function(t,i,r,o){r!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(i),this.appendEmptyCells(o)},e.prototype.appendEmptyCells=function(t){for(var i=1;i<=t;i++)this.result+=this.columnSeparator+this.putInQuotes("")},e.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},e.prototype.onNewHeaderRowColumn=function(t,i){i!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(t))},e.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},e.prototype.onNewBodyRowColumn=function(t,i,r){var o;i!=0&&(this.result+=this.columnSeparator);var s=this.extractRowCellValue(t,i,i,"csv",r);this.result+=this.putInQuotes((o=s.valueFormatted)!==null&&o!==void 0?o:s.value)},e.prototype.putInQuotes=function(t){if(this.suppressQuotes)return t;if(t==null)return'""';var i;typeof t=="string"?i=t:typeof t.toString=="function"?i=t.toString():(console.warn("AG Grid: unknown value type during csv conversion"),i="");var r=i.replace(/"/g,'""');return'"'+r+'"'},e.prototype.parse=function(){return this.result},e.prototype.beginNewLine=function(){this.isFirstLine||(this.result+=Ky),this.isFirstLine=!1},e}(NV),kV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Xr=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},BV=function(n){kV(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsService:this.gridOptionsService})},e.prototype.getMergedParams=function(t){var i=this.gridOptionsService.get("defaultCsvExportParams");return Object.assign({},i,t)},e.prototype.export=function(t){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var i=this.getMergedParams(t),r=this.getData(i),o=new Blob(["\uFEFF",r],{type:"text/plain"});return GV.download(this.getFileName(i.fileName),o),r},e.prototype.exportDataAsCsv=function(t){return this.export(t)},e.prototype.getDataAsCsv=function(t,i){i===void 0&&(i=!1);var r=i?Object.assign({},t):this.getMergedParams(t);return this.getData(r)},e.prototype.getDefaultFileName=function(){return"export.csv"},e.prototype.getDefaultFileExtension=function(){return"csv"},e.prototype.createSerializingSession=function(t){var i=this,r=i.columnModel,o=i.valueService,s=i.gridOptionsService,a=i.valueFormatterService,l=i.valueParserService,u=t,c=u.processCellCallback,d=u.processHeaderCallback,p=u.processGroupHeaderCallback,h=u.processRowGroupCallback,f=u.suppressQuotes,g=u.columnSeparator;return new VV({columnModel:r,valueService:o,gridOptionsService:s,valueFormatterService:a,valueParserService:l,processCellCallback:c||void 0,processHeaderCallback:d||void 0,processGroupHeaderCallback:p||void 0,processRowGroupCallback:h||void 0,suppressQuotes:f||!1,columnSeparator:g||","})},e.prototype.isExportSuppressed=function(){return this.gridOptionsService.is("suppressCsvExport")},Xr([y("columnModel")],e.prototype,"columnModel",void 0),Xr([y("valueService")],e.prototype,"valueService",void 0),Xr([y("gridSerializer")],e.prototype,"gridSerializer",void 0),Xr([y("gridOptionsService")],e.prototype,"gridOptionsService",void 0),Xr([y("valueFormatterService")],e.prototype,"valueFormatterService",void 0),Xr([y("valueParserService")],e.prototype,"valueParserService",void 0),Xr([U],e.prototype,"postConstruct",null),e=Xr([Z("csvCreator")],e),e}(IV),jV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Qr=function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Yy;(function(n){n[n.HEADER_GROUPING=0]="HEADER_GROUPING",n[n.HEADER=1]="HEADER",n[n.BODY=2]="BODY"})(Yy||(Yy={}));var WV=function(n){jV(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.serialize=function(t,i){i===void 0&&(i={});var r=this.getColumnsToExport(i.allColumns,i.columnKeys),o=gt.compose(this.prepareSession(r),this.prependContent(i),this.exportColumnGroups(i,r),this.exportHeaders(i,r),this.processPinnedTopRows(i,r),this.processRows(i,r),this.processPinnedBottomRows(i,r),this.appendContent(i));return o(t).parse()},e.prototype.processRow=function(t,i,r,o){var s=i.shouldRowBeSkipped||function(){return!1},a=this.gridOptionsService.context,l=this.gridOptionsService.api,u=this.gridOptionsService.columnApi,c=this.gridOptionsService.is("groupRemoveSingleChildren"),d=this.gridOptionsService.is("groupRemoveLowestSingleChildren"),p=i.rowPositions!=null,h=p||!!i.onlySelected,f=this.gridOptionsService.is("groupHideOpenParents")&&!h,g=this.columnModel.isPivotMode()?o.leafGroup:!o.group,v=!!o.footer,m=i.skipGroups||i.skipRowGroups,w=d&&o.leafGroup,b=o.allChildrenCount===1&&(c||w);if(m&&i.skipGroups&&gt.doOnce(function(){return console.warn("AG Grid: Since v25.2 `skipGroups` has been renamed to `skipRowGroups`.")},"gridSerializer-skipGroups"),!(!g&&!v&&(i.skipRowGroups||b||f)||i.onlySelected&&!o.isSelected()||i.skipPinnedTop&&o.rowPinned==="top"||i.skipPinnedBottom&&o.rowPinned==="bottom")){var E=o.level===-1;if(!(E&&!g&&!v)){var O=s({node:o,api:l,columnApi:u,context:a});if(!O){var P=t.onNewBodyRow(o);if(r.forEach(function(D,F){P.onColumn(D,F,o)}),i.getCustomContentBelowRow){var M=i.getCustomContentBelowRow({node:o,api:l,columnApi:u,context:a});M&&t.addCustomContent(M)}}}}},e.prototype.appendContent=function(t){return function(i){var r=t.customFooter||t.appendContent;return r&&(t.customFooter&&gt.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customFooter` param has been deprecated. Use `appendContent` instead.")},"gridSerializer-customFooter"),i.addCustomContent(r)),i}},e.prototype.prependContent=function(t){return function(i){var r=t.customHeader||t.prependContent;return r&&(t.customHeader&&gt.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customHeader` param has been deprecated. Use `prependContent` instead.")},"gridSerializer-customHeader"),i.addCustomContent(r)),i}},e.prototype.prepareSession=function(t){return function(i){return i.prepare(t),i}},e.prototype.exportColumnGroups=function(t,i){var r=this;return function(o){if(t.skipColumnGroupHeaders)t.columnGroups&&gt.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `columnGroups` param has deprecated, and groups are exported by default.")},"gridSerializer-columnGroups");else{var s=new kw,a=r.displayedGroupCreator.createDisplayedGroups(i,s,null);r.recursivelyAddHeaderGroups(a,o,t.processGroupHeaderCallback)}return o}},e.prototype.exportHeaders=function(t,i){return function(r){if(!t.skipHeader&&!t.skipColumnHeaders){var o=r.onNewHeaderRow();i.forEach(function(s,a){o.onColumn(s,a,void 0)})}else t.skipHeader&&gt.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `skipHeader` param has been renamed to `skipColumnHeaders`.")},"gridSerializer-skipHeader");return r}},e.prototype.processPinnedTopRows=function(t,i){var r=this;return function(o){var s=r.processRow.bind(r,o,t,i);return t.rowPositions?t.rowPositions.filter(function(a){return a.rowPinned==="top"}).sort(function(a,l){return a.rowIndex-l.rowIndex}).map(function(a){return r.pinnedRowModel.getPinnedTopRow(a.rowIndex)}).forEach(s):r.pinnedRowModel.forEachPinnedTopRow(s),o}},e.prototype.processRows=function(t,i){var r=this;return function(o){var s=r.rowModel,a=s.getType(),l=a==="clientSide",u=a==="serverSide",c=!l&&t.onlySelected,d=r.processRow.bind(r,o,t,i),p=t.exportedRows,h=p===void 0?"filteredAndSorted":p;if(t.rowPositions)t.rowPositions.filter(function(g){return g.rowPinned==null}).sort(function(g,v){return g.rowIndex-v.rowIndex}).map(function(g){return s.getRow(g.rowIndex)}).forEach(d);else if(r.columnModel.isPivotMode())l?s.forEachPivotNode(d,!0):u?s.forEachNodeAfterFilterAndSort(d,!0):s.forEachNode(d);else if(t.onlySelectedAllPages||c){var f=r.selectionService.getSelectedNodes();r.replicateSortedOrder(f),f.forEach(d)}else h==="all"?s.forEachNode(d):l||u?s.forEachNodeAfterFilterAndSort(d,!0):s.forEachNode(d);return o}},e.prototype.replicateSortedOrder=function(t){var i=this,r=this.sortController.getSortOptions(),o=function(s,a){var l,u,c,d;return s.rowIndex!=null&&a.rowIndex!=null?s.rowIndex-a.rowIndex:s.level===a.level?((l=s.parent)===null||l===void 0?void 0:l.id)===((u=a.parent)===null||u===void 0?void 0:u.id)?i.rowNodeSorter.compareRowNodes(r,{rowNode:s,currentPos:(c=s.rowIndex)!==null&&c!==void 0?c:-1},{rowNode:a,currentPos:(d=a.rowIndex)!==null&&d!==void 0?d:-1}):o(s.parent,a.parent):s.level>a.level?o(s.parent,a):o(s,a.parent)};t.sort(o)},e.prototype.processPinnedBottomRows=function(t,i){var r=this;return function(o){var s=r.processRow.bind(r,o,t,i);return t.rowPositions?t.rowPositions.filter(function(a){return a.rowPinned==="bottom"}).sort(function(a,l){return a.rowIndex-l.rowIndex}).map(function(a){return r.pinnedRowModel.getPinnedBottomRow(a.rowIndex)}).forEach(s):r.pinnedRowModel.forEachPinnedBottomRow(s),o}},e.prototype.getColumnsToExport=function(t,i){t===void 0&&(t=!1);var r=this.columnModel.isPivotMode();if(i&&i.length)return this.columnModel.getGridColumns(i);if(t&&!r){var o=this.gridOptionsService.is("treeData")?this.columnModel.getGridColumns([$o]):[];return o.concat(this.columnModel.getAllGridColumns()||[])}return this.columnModel.getAllDisplayedColumns()},e.prototype.recursivelyAddHeaderGroups=function(t,i,r){var o=[];t.forEach(function(s){var a=s;a.getChildren&&a.getChildren().forEach(function(l){return o.push(l)})}),t.length>0&&t[0]instanceof Te&&this.doAddHeaderHeader(i,t,r),o&&o.length>0&&this.recursivelyAddHeaderGroups(o,i,r)},e.prototype.doAddHeaderHeader=function(t,i,r){var o=this,s=t.onNewHeaderGroupingRow(),a=0;i.forEach(function(l){var u=l,c;r?c=r({columnGroup:u,api:o.gridOptionsService.api,columnApi:o.gridOptionsService.columnApi,context:o.gridOptionsService.context}):c=o.columnModel.getDisplayNameForColumnGroup(u,"header");var d=u.getLeafColumns().reduce(function(p,h,f,g){var v=gt.last(p),m=h.getColumnGroupShow()==="open";return m?(!v||v[1]!=null)&&(v=[f],p.push(v)):v&&v[1]==null&&(v[1]=f-1),f===g.length-1&&v&&v[1]==null&&(v[1]=f),p},[]);s.onColumn(u,c||"",a++,u.getLeafColumns().length-1,d)})},Qr([y("displayedGroupCreator")],e.prototype,"displayedGroupCreator",void 0),Qr([y("columnModel")],e.prototype,"columnModel",void 0),Qr([y("rowModel")],e.prototype,"rowModel",void 0),Qr([y("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Qr([y("selectionService")],e.prototype,"selectionService",void 0),Qr([y("rowNodeSorter")],e.prototype,"rowNodeSorter",void 0),Qr([y("sortController")],e.prototype,"sortController",void 0),e=Qr([Z("gridSerializer")],e),e}(j),UV="30.2.1",zV={version:UV,moduleName:tt.CsvExportModule,beans:[BV,WV]},$V=[OV,LV,zV];ft.registerModules($V);class Da{static getComponentDefinition(e,t){let i;return typeof e=="string"?i=this.searchForComponentInstance(t,e):i={extends:lo(Object.assign({},e))},i||console.error(`Could not find component with name of ${e}. Is it in Vue.components?`),i.extends?(i.extends.setup&&(i.setup=i.extends.setup),i.extends.props=this.addParamsToProps(i.extends.props)):i.props=this.addParamsToProps(i.props),i}static addParamsToProps(e){return!e||Array.isArray(e)&&e.indexOf("params")===-1?e=["params",...e||[]]:typeof e=="object"&&!e.params&&(e.params={type:Object}),e}static createAndMountComponent(e,t,i,r){const o=Da.getComponentDefinition(e,i);if(!o)return;const{vNode:s,destroy:a,el:l}=this.mount(o,{params:Object.freeze(t)},i,r||{});return{componentInstance:s.component.proxy,element:l,destroy:a}}static mount(e,t,i,r){let o=qt(e,t);o.appContext=i.$.appContext,o.appContext.provides=Object.assign(Object.assign(Object.assign({},r),o.appContext.provides?o.appContext.provides:{}),i.$parent.$options.provide?i.$parent.$options.provide:{});let s=document.createElement("div");return fg(o,s),{vNode:o,destroy:()=>{s&&fg(null,s),s=null,o=null},el:s}}static searchForComponentInstance(e,t,i=10,r=!1){let o=null,s=e.$parent,a=0;for(;!o&&s&&s.$options&&++a<i;){const l=s;o=l.$options&&l.$options.components?l.$options.components[t]:null,s=s.$parent}if(!o){const l=e.$.appContext.components;l&&l[t]&&(o=l[t])}return!o&&!r?(console.error(`Could not find component with name of ${t}. Is it in Vue.components?`),null):o}}class sa extends lV{constructor(e,t){super(),this.parent=e,sa.provides||(sa.provides=t)}createWrapper(e){const t=this;class i extends KV{init(s){super.init(s)}hasMethod(s){return r.getFrameworkComponentInstance()[s]!=null}callMethod(s,a){const l=this.getFrameworkComponentInstance();return r.getFrameworkComponentInstance()[s].apply(l,a)}addMethod(s,a){r[s]=a}overrideProcessing(s){return t.parent.autoParamsRefresh&&s==="refresh"}processMethod(s,a){return s==="refresh"&&(this.getFrameworkComponentInstance().params=a[0]),this.hasMethod(s)?this.callMethod(s,a):s==="refresh"}createComponent(s){return t.createComponent(e,s)}}const r=new i;return r}createComponent(e,t){return Da.createAndMountComponent(e,t,this.parent,sa.provides)}createMethodProxy(e,t,i){return function(){return e.overrideProcessing(t)?e.processMethod(t,arguments):e.hasMethod(t)?e.callMethod(t,arguments):(i&&console.warn("AG Grid: Framework component is missing the method "+t+"()"),null)}}destroy(){this.parent=null}}class KV{getGui(){return this.element}destroy(){this.getFrameworkComponentInstance()&&typeof this.getFrameworkComponentInstance().destroy=="function"&&this.getFrameworkComponentInstance().destroy(),this.unmount()}getFrameworkComponentInstance(){return this.componentInstance}init(e){const{componentInstance:t,element:i,destroy:r}=this.createComponent(e);this.componentInstance=t,this.unmount=r,this.element=i.firstElementChild}}const YV=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),qV=n=>`on${n.charAt(0).toUpperCase()}${n.substring(1,n.length)}`,XV=()=>{const n={};hn.PUBLIC_EVENTS.map(i=>qV(YV(i))).forEach(i=>n[i]=void 0);const t={};return hn.ALL_PROPERTIES.filter(i=>i!="gridOptions").forEach(i=>{n[i]={},t[i]={handler(r,o){this.processChanges(i,r,o)},deep:i!=="popupParent"&&i!=="context"}}),[n,t]};class QV extends r_{constructor(e){super(),this.parent=e}frameworkComponent(e,t){let i=Da.searchForComponentInstance(this.parent,e,10,!0)?e:null;if(!i&&t&&t[e]){const r=t[e];i=Da.searchForComponentInstance(this.parent,r,10,!0)?r:null}return i}isFrameworkComponent(e){return typeof e=="object"}}const JV=new Set(["rowDataChanged","rowDataUpdated","cellValueChanged","rowValueChanged"]),ZV=new Set([C.EVENT_GRID_PRE_DESTROYED]),qy="onUpdate:modelValue",tk="update:modelValue",[ek,ik]=XV(),rk=lo({render(){return ha("div")},props:Object.assign({gridOptions:{type:Object,default:()=>({})},autoParamsRefresh:{type:Boolean,default:()=>!1},componentDependencies:{type:Array,default:()=>[]},plugins:[],modules:{type:Array,default:()=>[]},modelValue:{type:Array,default:void 0,required:!1}},ek),data(){return{gridCreated:!1,isDestroyed:!1,gridReadyFired:!1,emitRowModel:void 0}},watch:Object.assign({modelValue:{handler(n,e){this.processChanges("rowData",n,e)},deep:!0}},ik),methods:{globalEventListenerFactory(n){return(e,t)=>{if(this.isDestroyed)return;e==="gridReady"&&(this.gridReadyFired=!0);const i=ZV.has(e);i&&!n||!i&&n||this.updateModelIfUsed(e)}},processChanges(n,e,t){if(this.gridCreated){if(this.skipChange(n,e,t))return;const i={};i[n]={currentValue:n==="rowData"?Object.isFrozen(e)?e:Vl(Ot(e)):e,previousValue:t},hn.processOnChange(i,this.gridOptions.api)}},checkForBindingConflicts(){const n=this;(n.rowData||this.gridOptions.rowData)&&n.modelValue&&console.warn("AG Grid: Using both rowData and v-model. rowData will be ignored.")},getRowData(){const n=[];return this.gridOptions.api.forEachNode(e=>{n.push(e.data)}),n},updateModelIfUsed(n){this.gridReadyFired&&this.$attrs[qy]&&JV.has(n)&&this.emitRowModel&&this.emitRowModel()},getRowDataBasedOnBindings(){const n=this,e=n.modelValue;return e||(n.rowData?n.rowData:n.gridOptions.rowData)},getProvides(){let n=iC(),e={};for(;n;)n&&n.provides&&(e=Object.assign(Object.assign({},e),n.provides)),n=n.parent;return e},skipChange(n,e,t){if(this.gridReadyFired&&n==="rowData"&&this.$attrs[qy]){if(e===t)return!0;if(e&&t){const i=e,r=t;if(i.length===r.length){for(let o=0;o<i.length;o++)if(i[o]!==r[o])return!1;return!0}}}return!1},debounce(n,e){let t;return()=>{const i=function(){n()};window.clearTimeout(t),t=window.setTimeout(i,e)}}},mounted(){this.emitRowModel=this.debounce(()=>{this.$emit(tk,Object.freeze(this.getRowData()))},20);const n=this.getProvides(),e=new sa(this,n),t=Vl(hn.copyAttributesToGridOptions(Ot(this.gridOptions),this,!0));this.checkForBindingConflicts();const i=this.getRowDataBasedOnBindings();t.rowData=i&&(Object.isFrozen(i)?i:Vl(Ot(i)));const r={globalEventListener:this.globalEventListenerFactory().bind(this),globalSyncEventListener:this.globalEventListenerFactory(!0).bind(this),frameworkOverrides:new QV(this),providedBeanInstances:{frameworkComponentWrapper:e},modules:this.modules};new oV(this.$el,t,r),this.gridCreated=!0},unmounted(){this.gridCreated&&(this.gridOptions.api&&this.gridOptions.api.destroy(),this.isDestroyed=!0)}});const nk={class:"flex flex-col gap-4"},ok=`
  .ag-theme-alpine-dark .ag-row-hover {
    background-color: rgba(255, 255, 255, 0.1) !important;
  }
`,sk=lo({__name:"CountriesAgGrid",props:{countries:{type:Array,required:!0},isDarkMode:{type:Boolean,default:!1}},emits:["rowClicked"],setup(n,{emit:e}){const t=n,i=Mt(null),r=Mt([{headerName:"Bandera",field:"flags",width:100,cellRenderer:d=>`<img src="${d.data.flags.png}" alt="${d.data.name.common} flag" style="width: 40px; height: 30px; object-fit: cover; border-radius: 4px;">`,sortable:!1,filter:!1},{headerName:"Pas",field:"name.common",sortable:!0,filter:!0,flex:1},{headerName:"Capital",field:"capital",valueGetter:d=>{var p;return((p=d.data.capital)==null?void 0:p[0])||"N/A"},sortable:!0,filter:!0,flex:1},{headerName:"Regin",field:"region",sortable:!0,filter:!0,flex:1},{headerName:"Poblacin",field:"population",sortable:!0,filter:!0,flex:1,valueFormatter:d=>d.value.toLocaleString()},{headerName:"rea",field:"area",sortable:!0,filter:!0,flex:1,valueFormatter:d=>`${d.value.toLocaleString()} km`},{headerName:"Idiomas",field:"languages",sortable:!0,filter:!0,flex:1,valueGetter:d=>Object.values(d.data.languages||{}).join(", ")||"N/A"},{headerName:"Monedas",field:"currencies",sortable:!0,filter:!0,flex:1,valueGetter:d=>Object.values(d.data.currencies||{}).map(p=>`${p.name} (${p.symbol})`).join(", ")||"N/A"}]),o={resizable:!0,sortable:!0,filter:!0},s={pagination:!0,paginationPageSize:10,rowSelection:"single",animateRows:!0,enableCellTextSelection:!0,suppressMovableColumns:!1,suppressRowClickSelection:!0,rowStyle:{cursor:"pointer"}},a=d=>{i.value=d.api,d.api.sizeColumnsToFit()},l=d=>{c("rowClicked",d.data)};cr(()=>t.isDarkMode,d=>{const p=document.querySelector(".ag-theme-alpine");p&&(d?(p.classList.remove("ag-theme-alpine"),p.classList.add("ag-theme-alpine-dark")):(p.classList.remove("ag-theme-alpine-dark"),p.classList.add("ag-theme-alpine")))},{immediate:!0});const u=()=>{i.value&&i.value.exportDataAsCsv({fileName:`countries_export_${new Date().toISOString().split("T")[0]}.csv`})},c=e;return Kn(()=>{const d=document.createElement("style");d.textContent=ok,document.head.appendChild(d)}),(d,p)=>(st(),at("div",nk,[S("div",{class:"flex justify-end"},[S("button",{onClick:u,class:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors duration-200 flex items-center gap-2"},p[0]||(p[0]=[S("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V8a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),je(" Exportar CSV ")]))]),S("div",{class:Lt([n.isDarkMode?"ag-theme-alpine-dark":"ag-theme-alpine","w-full h-[600px] rounded-lg overflow-hidden"])},[qt(tu(rk),{columnDefs:r.value,rowData:n.countries,defaultColDef:o,gridOptions:s,onGridReady:a,onRowClicked:l,class:"w-full h-full"},null,8,["columnDefs","rowData"])],2)]))}});const Nl={OPENWEATHER_API_KEY:"773ae8068b9eb518413aa1bf7ea495f1",TIMEZONE_API_KEY:"QTYA3IOVBG1U"},ak={class:"min-h-screen bg-gray-100 dark:bg-gray-900 transition-colors duration-200"},lk={class:"bg-white dark:bg-gray-800 shadow-lg"},uk={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},ck={class:"flex justify-between items-center h-16"},dk={class:"flex items-center space-x-4"},pk={class:"relative"},hk={key:0,class:"w-5 h-5 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},fk={key:1,class:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},gk=["title"],vk={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},yk={key:0,class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},mk={class:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white shadow-lg"},Ck={class:"flex items-center justify-between"},wk={class:"text-2xl font-bold mt-1"},Sk={class:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white shadow-lg"},_k={class:"flex items-center justify-between"},Ek={class:"text-2xl font-bold mt-1"},bk={class:"bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl p-6 text-white shadow-lg"},Rk={class:"flex items-center justify-between"},Ok={class:"text-2xl font-bold mt-1"},Tk={class:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-6 text-white shadow-lg"},xk={class:"flex items-center justify-between"},Pk={class:"text-2xl font-bold mt-1"},Dk={key:1,class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},Ak={class:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white shadow-lg gradient-animate hover-card"},Fk={class:"flex items-center justify-between"},Mk={class:"text-2xl font-bold mt-1 stats-number"},Lk={class:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white shadow-lg gradient-animate hover-card"},Ik={class:"flex items-center justify-between"},Nk={class:"text-2xl font-bold mt-1"},Gk={class:"flex items-center justify-between"},Hk={class:"text-2xl font-bold mt-1"},Vk={class:"flex items-center justify-between"},kk={class:"text-2xl font-bold mt-1"},Bk={key:0,class:"absolute -top-2 -right-2 w-4 h-4 bg-red-500 rounded-full animate-pulse"},jk={key:2,class:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-8"},Wk={class:"flex flex-col sm:flex-row gap-4"},Uk={class:"relative flex-1"},zk={class:"relative"},$k={class:"flex items-center gap-2"},Kk=["onClick"],Yk={key:0,class:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},qk={class:"ml-2"},Xk={key:3,class:"flex justify-center items-center h-[600px]"},Qk={key:4},Jk={key:"dashboard"},Zk={key:"grid",class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mb-8"},tB={class:"flex-1"},eB=["onClick"],iB=["src","alt"],rB={class:"p-4"},nB=["onClick"],oB={class:"font-semibold text-lg mb-2 text-gray-800 dark:text-white"},sB={class:"text-sm text-gray-600 dark:text-gray-300 space-y-1"},aB={class:"flex justify-end gap-2 mt-4 border-t pt-4 dark:border-gray-700"},lB=["onClick","title"],uB=["onClick","disabled","title"],cB={key:"list",class:"divide-y divide-gray-200 dark:divide-gray-700"},dB=["onClick"],pB=["src","alt"],hB={class:"flex-grow grid grid-cols-1 sm:grid-cols-4 gap-4 items-center"},fB=["onClick"],gB={class:"font-semibold text-gray-800 dark:text-white"},vB={class:"text-sm text-gray-600 dark:text-gray-300"},yB=["onClick"],mB={class:"flex gap-2 justify-end"},CB=["onClick","title"],wB=["onClick","disabled","title"],SB={key:"table"},_B={key:0,class:"mt-8"},EB={class:"flex flex-col items-center gap-4"},bB={class:"flex items-center gap-2"},RB=["disabled"],OB=["disabled"],TB={class:"flex items-center gap-1"},xB=["onClick"],PB={key:1,class:"flex items-center px-1"},DB=["disabled"],AB=["disabled"],FB={class:"relative"},MB=["onClick"],LB={key:0,class:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},IB={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},NB={class:"bg-white dark:bg-gray-800 rounded-lg max-w-6xl w-full max-h-[90vh] overflow-y-auto"},GB={class:"p-6"},HB={class:"flex justify-between items-start mb-6"},VB={class:"flex gap-4"},kB={class:"grid grid-cols-1 md:grid-cols-3 gap-8"},BB={class:"flex justify-center"},jB=["src","alt"],WB={class:"space-y-4"},UB={class:"font-semibold text-xl text-gray-800 dark:text-white"},zB={class:"text-sm text-gray-600 dark:text-gray-400"},$B={key:0,class:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"},KB={class:"font-semibold text-gray-800 dark:text-white mb-2"},YB={class:"flex items-center gap-2"},qB=["src","alt"],XB={class:"text-lg font-bold text-gray-800 dark:text-white"},QB={class:"text-sm text-gray-600 dark:text-gray-400 capitalize"},JB={key:1,class:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"},ZB={class:"text-2xl font-mono font-bold text-gray-800 dark:text-white text-center"},t2={class:"space-y-2"},e2={class:"text-gray-600 dark:text-gray-400"},i2={class:"text-gray-600 dark:text-gray-400"},r2={class:"text-gray-600 dark:text-gray-400"},n2={class:"text-gray-600 dark:text-gray-400"},o2={class:"text-gray-600 dark:text-gray-400"},s2={class:"text-gray-600 dark:text-gray-400"},a2={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},l2={class:"bg-white dark:bg-gray-800 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto relative"},u2={class:"p-6 border-b border-gray-200 dark:border-gray-700"},c2={class:"flex justify-between items-center"},d2={class:"text-2xl font-bold text-gray-800 dark:text-white"},p2={class:"flex justify-center items-center gap-4 mt-4"},h2=["disabled"],f2={class:"text-sm text-gray-600 dark:text-gray-400"},g2=["disabled"],v2={class:"p-6"},y2={key:0,class:"space-y-6"},m2={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},C2=["src","alt"],w2={class:"space-y-2"},S2={class:"text-gray-600 dark:text-gray-300"},_2={class:"text-gray-600 dark:text-gray-300"},E2={class:"text-gray-600 dark:text-gray-300"},b2={class:"text-gray-600 dark:text-gray-300"},R2={class:"space-y-6"},O2={key:0,class:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"},T2={class:"text-lg font-semibold text-gray-800 dark:text-white mb-4"},x2={class:"flex items-center gap-4"},P2=["src","alt"],D2={class:"text-2xl font-bold text-gray-800 dark:text-white"},A2={class:"text-gray-600 dark:text-gray-400 capitalize"},F2={key:1,class:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"},M2={class:"text-3xl font-mono text-center text-gray-800 dark:text-white"},L2={key:1,class:"space-y-6"},I2={class:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"},N2={class:"relative w-full h-64 rounded-lg overflow-hidden"},G2=["src"],H2={key:1,class:"absolute inset-0 flex items-center justify-center bg-gray-100 dark:bg-gray-600"},V2={class:"mt-2 text-sm text-gray-600 dark:text-gray-400"},k2={key:0},B2={key:1,class:"mt-1"},j2=["href"],W2={class:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"},U2={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},z2={class:"list-disc list-inside text-gray-600 dark:text-gray-400"},$2={class:"list-disc list-inside text-gray-600 dark:text-gray-400"},K2={class:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"},Y2={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},q2={class:"text-gray-600 dark:text-gray-400"},X2={class:"text-gray-600 dark:text-gray-400"},Q2={key:0},J2={class:"text-gray-600 dark:text-gray-400"},ip=2,Z2=lo({__name:"App",setup(n){const e=Mt(!0),t=Mt(!1),i=Mt(!1),r=Oe(()=>i.value?"dashboard":t.value?"table":e.value?"grid":"list"),o=x=>{i.value=x==="dashboard",x!=="dashboard"&&(t.value=x==="table",e.value=x==="grid")},s=Mt(!1),a=Mt([]),l=Mt(""),u=Mt(""),c=Mt(!1),d=Mt(!0),p=Mt(1),h=Mt(12),f=Mt([]);Kn(()=>{const x=localStorage.getItem("favorites");x&&(f.value=JSON.parse(x))}),cr(f,x=>{localStorage.setItem("favorites",JSON.stringify(x))},{deep:!0});const g=x=>{const _=f.value.findIndex(rt=>rt.name.common===x.name.common);_===-1?f.value.push(x):f.value.splice(_,1)},v=x=>f.value.some(_=>_.name.common===x.name.common);Kn(()=>{const x=localStorage.getItem("darkMode");s.value=x==="true",m(s.value)}),cr(s,x=>{localStorage.setItem("darkMode",x.toString()),m(x)}),cr(l,()=>{p.value=1}),cr(u,()=>{p.value=1}),cr(c,()=>{p.value=1});const m=x=>{x?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},w=Mt(null),b=Mt(!1),E=Mt(1),O=Mt({}),P=Mt({}),M=Mt({}),D=Mt({}),F=async x=>{var _,rt;if((_=x.capital)!=null&&_[0])try{const ot=await os.get(`http://api.openweathermap.org/data/2.5/weather?q=${x.capital[0]}&units=metric&appid=${Nl.OPENWEATHER_API_KEY}`);ot.data&&ot.data.main&&ot.data.weather&&ot.data.weather.length>0&&(O.value[x.name.common]={temp:Math.round(ot.data.main.temp),description:ot.data.weather[0].description,icon:`http://openweathermap.org/img/wn/${ot.data.weather[0].icon}@2x.png`})}catch(ot){console.error("Error fetching comparison weather:",ot)}if(((rt=x.latlng)==null?void 0:rt.length)===2)try{const ot=await os.get(`https://api.timezonedb.com/v2.1/get-time-zone?key=${Nl.TIMEZONE_API_KEY}&format=json&by=position&lat=${x.latlng[0]}&lng=${x.latlng[1]}`);ot.data&&ot.data.gmtOffset&&(M.value[x.name.common]=ot.data.gmtOffset,V(x.name.common),D.value[x.name.common]&&clearInterval(D.value[x.name.common]),D.value[x.name.common]=setInterval(()=>V(x.name.common),1e3))}catch(ot){console.error("Error fetching comparison time:",ot)}},V=x=>{if(M.value[x]!==void 0){const _=new Date,rt=_.getTime()+_.getTimezoneOffset()*6e4,ot=new Date(rt+M.value[x]*1e3),Ct=Yi(ot.getHours()),$t=Yi(ot.getMinutes()),xt=Yi(ot.getSeconds());P.value[x]=`${Ct}:${$t}:${xt}`}},B=()=>{Object.values(D.value).forEach(x=>{clearInterval(x)}),D.value={}},G=async x=>{const _=it.value.findIndex(rt=>rt.name.common===x.name.common);_===-1?it.value.length<3&&(it.value.push(x),await F(x)):(it.value.splice(_,1),delete O.value[x.name.common],delete P.value[x.name.common],D.value[x.name.common]&&(clearInterval(D.value[x.name.common]),delete D.value[x.name.common]))},lt=()=>{E.value<ip&&E.value++},yt=()=>{E.value>1&&E.value--},ut=()=>{oi.value&&(clearInterval(oi.value),oi.value=null),b.value=!1,w.value=null,E.value=1},it=Mt([]),J=Mt(!1),ct=x=>it.value.some(_=>_.name.common===x.name.common),Rt=()=>{it.value=[],J.value=!1,B()},jt=Oe(()=>a.value.filter(x=>{const _=x.name.common.toLowerCase().includes(l.value.toLowerCase()),rt=!u.value||x.region===u.value,ot=!c.value||f.value.some(Ct=>Ct.name.common===x.name.common);return _&&rt&&ot}).map(x=>({...x,flag:x.flags.png}))),ge=Oe(()=>{const x=(p.value-1)*h.value,_=x+h.value;return jt.value.slice(x,_)}),Pt=Oe(()=>Math.ceil(jt.value.length/h.value)),ni=()=>{p.value<Pt.value&&p.value++},Mi=()=>{p.value>1&&p.value--};Kn(async()=>{try{const x=await os.get("https://restcountries.com/v3.1/independent");a.value=x.data}catch(x){console.error("Error fetching countries:",x)}finally{d.value=!1}});const vr=()=>{const x=["Country","Official Name","Capital","Region","Subregion","Population","Area (km)","Languages","Currencies"],_=jt.value.map(xt=>{var te;return[xt.name.common,xt.name.official,((te=xt.capital)==null?void 0:te[0])||"N/A",xt.region,xt.subregion||"N/A",xt.population,xt.area,Object.values(xt.languages||{}).join(", "),Object.values(xt.currencies||{}).map(ue=>`${ue.name} (${ue.symbol})`).join(", ")]}),rt=[x.join(","),..._.map(xt=>xt.map(te=>`"${te}"`).join(","))].join(`
`),ot=new Blob([rt],{type:"text/csv;charset=utf-8;"}),Ct=document.createElement("a"),$t=URL.createObjectURL(ot);Ct.setAttribute("href",$t),Ct.setAttribute("download",`countries_export_${new Date().toISOString().split("T")[0]}.csv`),Ct.style.visibility="hidden",document.body.appendChild(Ct),Ct.click(),document.body.removeChild(Ct)},Jt=Mt(null),Ir=Mt(null),bn=Mt(null),Rn=Mt(null),oi=Mt(null),On=Mt(0),Yi=x=>x<10?`0${x}`:`${x}`,R=()=>{if(On.value!==null){const x=new Date,_=x.getTime()+x.getTimezoneOffset()*6e4,rt=new Date(_+On.value*1e3),ot=Yi(rt.getHours()),Ct=Yi(rt.getMinutes()),$t=Yi(rt.getSeconds());Rn.value=`${ot}:${Ct}:${$t}`}},T=(x,_,rt,ot)=>{const $t=(rt-x)*Math.PI/180,xt=(ot-_)*Math.PI/180,te=Math.sin($t/2)*Math.sin($t/2)+Math.cos(x*Math.PI/180)*Math.cos(rt*Math.PI/180)*Math.sin(xt/2)*Math.sin(xt/2);return 6371*(2*Math.atan2(Math.sqrt(te),Math.sqrt(1-te)))},H=async x=>{var _;try{console.log("Fetching weather for:",x);const rt=`http://api.openweathermap.org/data/2.5/weather?q=${x}&units=metric&appid=${Nl.OPENWEATHER_API_KEY}`;console.log("Weather API URL:",rt);const ot=await os.get(rt);console.log("Weather API response:",ot.data),ot.data&&ot.data.main&&ot.data.weather&&ot.data.weather.length>0?(Jt.value={temp:Math.round(ot.data.main.temp),description:ot.data.weather[0].description,icon:`http://openweathermap.org/img/wn/${ot.data.weather[0].icon}@2x.png`},console.log("Weather data set:",Jt.value)):(console.error("Invalid weather data structure:",ot.data),Jt.value=null)}catch(rt){console.error("Error fetching weather:",((_=rt.response)==null?void 0:_.data)||rt.message),Jt.value=null}},Y=async(x,_)=>{try{const rt=await os.get(`https://api.timezonedb.com/v2.1/get-time-zone?key=${Nl.TIMEZONE_API_KEY}&format=json&by=position&lat=${x}&lng=${_}`);rt.data&&rt.data.gmtOffset&&(On.value=rt.data.gmtOffset,R(),oi.value&&clearInterval(oi.value),oi.value=setInterval(R,1e3))}catch(rt){console.error("Error fetching time:",rt),Rn.value=null}},W=async x=>{var _,rt,ot;w.value=x,b.value=!0,E.value=1,(_=x.capital)!=null&&_[0]&&await H(x.capital[0]),((rt=x.latlng)==null?void 0:rt.length)===2&&await Y(x.latlng[0],x.latlng[1]),Ir.value&&((ot=x.latlng)==null?void 0:ot.length)===2&&(bn.value=T(Ir.value.lat,Ir.value.lon,x.latlng[0],x.latlng[1]))},$=x=>{const _=x.target;_&&(_.src="https://via.placeholder.com/320x200?text=No+Flag")},X=Mt(!1),q=Mt(!1),Q=()=>{const x=[];if(Pt.value<=5)for(let _=1;_<=Pt.value;_++)x.push(_);else if(p.value<=2){for(let _=1;_<=3;_++)x.push(_);x.push("separator"),x.push(Pt.value)}else if(p.value>=Pt.value-1){x.push(1),x.push("separator");for(let _=Pt.value-2;_<=Pt.value;_++)x.push(_)}else{x.push(1),x.push("separator");for(let _=p.value-1;_<=p.value+1;_++)x.push(_);x.push("separator"),x.push(Pt.value)}return x},z=Mt(!1),ht=x=>{p.value=x,window.scrollTo({top:0,behavior:"smooth"})},et=x=>{h.value=x,p.value=1,z.value=!1,window.scrollTo({top:0,behavior:"smooth"})};return(x,_)=>{var rt,ot,Ct,$t,xt,te,ue,Nr,ts,Ae,si,es,bf,Rf,Of,Tf,xf,Pf,Df;return st(),at("div",ak,[S("nav",lk,[S("div",uk,[S("div",ck,[_[32]||(_[32]=Hc('<div class="flex items-center space-x-3"><div class="flex-shrink-0"><svg class="h-8 w-8 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><div class="flex flex-col"><h1 class="text-xl font-bold text-gray-900 dark:text-white">WorldExplorer</h1><p class="text-sm text-gray-500 dark:text-gray-400">Descubre el mundo</p></div></div>',1)),S("div",dk,[S("button",{onClick:_[0]||(_[0]=k=>o("dashboard")),class:Lt(["p-2 rounded-lg bg-white dark:bg-gray-700 shadow-md hover:shadow-lg transition-all duration-200 hover:bg-gray-50 dark:hover:bg-gray-600 flex items-center gap-2",{"ring-2 ring-blue-500":r.value==="dashboard"}]),title:"Vista de Panel"},[(st(),at("svg",{class:Lt(["w-6 h-6",r.value==="dashboard"?"text-blue-500 dark:text-blue-400":"text-gray-700 dark:text-gray-300"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_[19]||(_[19]=[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 8v8m-4-5v5m-4-2v2m-2 4h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"},null,-1)]),2)),_[20]||(_[20]=S("span",{class:"hidden sm:inline text-gray-900 dark:text-white"},"Panel",-1))],2),S("div",pk,[S("button",{onClick:_[1]||(_[1]=k=>X.value=!X.value),class:Lt(["p-2 rounded-lg bg-white dark:bg-gray-700 shadow-md hover:shadow-lg transition-all duration-200 hover:bg-gray-50 dark:hover:bg-gray-600 flex items-center gap-2",{"ring-2 ring-blue-500":X.value}])},_[21]||(_[21]=[S("svg",{class:"w-6 h-6 text-gray-700 dark:text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1),S("span",{class:"hidden sm:inline text-gray-900 dark:text-white"},"Opciones",-1)]),2),qt(Ua,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:Bs(()=>[X.value?(st(),at("div",{key:0,class:"absolute right-0 mt-2 w-56 rounded-lg bg-white dark:bg-gray-800 shadow-xl z-50 py-2 border dark:border-gray-700",onClick:_[7]||(_[7]=k=>X.value=!1)},[S("button",{onClick:_[2]||(_[2]=k=>{o("grid"),X.value=!1}),class:Lt(["w-full px-4 py-2 text-left hover:bg-gray-100 dark:hover:bg-gray-700/70 flex items-center gap-3 text-gray-700 dark:text-gray-200",{"bg-blue-50 dark:bg-blue-500/20 text-blue-600 dark:text-blue-400":r.value==="grid"}])},[(st(),at("svg",{class:Lt(["w-5 h-5",r.value==="grid"?"text-blue-500":"text-gray-500 dark:text-gray-400"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_[22]||(_[22]=[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"},null,-1)]),2)),_[23]||(_[23]=S("span",null,"Vista de Cuadrcula",-1))],2),S("button",{onClick:_[3]||(_[3]=k=>{o("list"),X.value=!1}),class:Lt(["w-full px-4 py-2 text-left hover:bg-gray-100 dark:hover:bg-gray-700/70 flex items-center gap-3 text-gray-700 dark:text-gray-200",{"bg-blue-50 dark:bg-blue-500/20 text-blue-600 dark:text-blue-400":r.value==="list"}])},[(st(),at("svg",{class:Lt(["w-5 h-5",r.value==="list"?"text-blue-500":"text-gray-500 dark:text-gray-400"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_[24]||(_[24]=[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,-1)]),2)),_[25]||(_[25]=S("span",null,"Vista de Lista",-1))],2),S("button",{onClick:_[4]||(_[4]=k=>{o("table"),X.value=!1}),class:Lt(["w-full px-4 py-2 text-left hover:bg-gray-100 dark:hover:bg-gray-700/70 flex items-center gap-3 text-gray-700 dark:text-gray-200",{"bg-blue-50 dark:bg-blue-500/20 text-blue-600 dark:text-blue-400":r.value==="table"}])},[(st(),at("svg",{class:Lt(["w-5 h-5",r.value==="table"?"text-blue-500":"text-gray-500 dark:text-gray-400"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_[26]||(_[26]=[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M3 14h18m-9-4v8m-7 0h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"},null,-1)]),2)),_[27]||(_[27]=S("span",null,"Vista de Tabla",-1))],2),_[31]||(_[31]=S("div",{class:"border-t border-gray-200 dark:border-gray-700 my-2"},null,-1)),S("button",{onClick:_[5]||(_[5]=k=>{vr(),X.value=!1}),class:"w-full px-4 py-2 text-left hover:bg-gray-100 dark:hover:bg-gray-700/70 flex items-center gap-3 text-gray-700 dark:text-gray-200"},_[28]||(_[28]=[S("svg",{class:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V8a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),S("span",null,"Exportar a CSV",-1)])),S("button",{onClick:_[6]||(_[6]=k=>{s.value=!s.value,X.value=!1}),class:"w-full px-4 py-2 text-left hover:bg-gray-100 dark:hover:bg-gray-700/70 flex items-center gap-3 text-gray-700 dark:text-gray-200"},[s.value?(st(),at("svg",hk,_[29]||(_[29]=[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1)]))):(st(),at("svg",fk,_[30]||(_[30]=[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1)]))),S("span",null,nt(s.value?"Modo Claro":"Modo Oscuro"),1)])])):ve("",!0)]),_:1})]),S("button",{"data-test":"dark-mode-toggle",onClick:_[8]||(_[8]=k=>s.value=!s.value),class:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:s.value?"Cambiar a modo claro":"Cambiar a modo oscuro"},[S("i",{class:Lt(["fas",s.value?"fa-sun":"fa-moon"])},null,2)],8,gk)])])])]),S("div",vk,[r.value==="dashboard"?(st(),at("div",yk,[S("div",mk,[S("div",Ck,[S("div",null,[_[33]||(_[33]=S("p",{class:"text-sm opacity-75"},"Lenguajes ms Comunes",-1)),S("h3",wk,nt(Object.values(a.value.reduce((k,ne)=>(Object.values(ne.languages||{}).forEach(be=>{k[be]=(k[be]||0)+1}),k),{})).length),1),_[34]||(_[34]=S("p",{class:"text-sm mt-2 opacity-75"},"idiomas nicos",-1))]),_[35]||(_[35]=S("svg",{class:"w-8 h-8 opacity-75",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"})],-1))])]),S("div",Sk,[S("div",_k,[S("div",null,[_[36]||(_[36]=S("p",{class:"text-sm opacity-75"},"Monedas Diferentes",-1)),S("h3",Ek,nt(Object.values(a.value.reduce((k,ne)=>(Object.values(ne.currencies||{}).forEach(be=>{k[be.name]=(k[be.name]||0)+1}),k),{})).length),1),_[37]||(_[37]=S("p",{class:"text-sm mt-2 opacity-75"},"monedas nicas",-1))]),_[38]||(_[38]=S("svg",{class:"w-8 h-8 opacity-75",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1))])]),S("div",bk,[S("div",Rk,[S("div",null,[_[39]||(_[39]=S("p",{class:"text-sm opacity-75"},"Promedio de Poblacin",-1)),S("h3",Ok,nt(Math.round(a.value.reduce((k,ne)=>k+ne.population,0)/a.value.length).toLocaleString()),1),_[40]||(_[40]=S("p",{class:"text-sm mt-2 opacity-75"},"habitantes por pas",-1))]),_[41]||(_[41]=S("svg",{class:"w-8 h-8 opacity-75",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1))])]),S("div",Tk,[S("div",xk,[S("div",null,[_[42]||(_[42]=S("p",{class:"text-sm opacity-75"},"Promedio de rea",-1)),S("h3",Pk,nt(Math.round(a.value.reduce((k,ne)=>k+ne.area,0)/a.value.length).toLocaleString()),1),_[43]||(_[43]=S("p",{class:"text-sm mt-2 opacity-75"},"km por pas",-1))]),_[44]||(_[44]=S("svg",{class:"w-8 h-8 opacity-75",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})],-1))])])])):(st(),at("div",Dk,[S("div",Ak,[S("div",Fk,[S("div",null,[_[45]||(_[45]=S("p",{class:"text-sm opacity-75"},"Total Pases",-1)),S("h3",Mk,nt(a.value.length),1)]),_[46]||(_[46]=S("svg",{class:"w-8 h-8 opacity-75",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1))])]),S("div",Lk,[S("div",Ik,[S("div",null,[_[47]||(_[47]=S("p",{class:"text-sm opacity-75"},"Pases Filtrados",-1)),S("h3",Nk,nt(jt.value.length),1)]),_[48]||(_[48]=S("svg",{class:"w-8 h-8 opacity-75",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})],-1))])]),S("div",{onClick:_[9]||(_[9]=k=>c.value=!c.value),class:Lt(["bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl p-6 text-white shadow-lg cursor-pointer transform transition-all duration-200 hover:scale-105",{"ring-4 ring-yellow-300 dark:ring-yellow-400":c.value}])},[S("div",Gk,[S("div",null,[_[49]||(_[49]=S("p",{class:"text-sm opacity-75"},"Favoritos",-1)),S("h3",Hk,nt(f.value.length),1)]),_[50]||(_[50]=S("svg",{class:"w-8 h-8 opacity-75",fill:"currentColor",viewBox:"0 0 20 20"},[S("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})],-1))])],2),S("div",{onClick:_[10]||(_[10]=k=>it.value.length>=2?J.value=!0:null),class:Lt(["bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-6 text-white shadow-lg cursor-pointer transform transition-all duration-200 hover:scale-105 relative",{"ring-4 ring-purple-300 dark:ring-purple-400":it.value.length>=2}])},[S("div",Vk,[S("div",null,[_[51]||(_[51]=S("p",{class:"text-sm opacity-75"},"Para Comparar",-1)),S("h3",kk,nt(it.value.length)+"/3",1)]),_[52]||(_[52]=S("svg",{class:"w-8 h-8 opacity-75",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1))]),it.value.length>=2?(st(),at("div",Bk)):ve("",!0)],2)])),r.value!=="dashboard"?(st(),at("div",jk,[S("div",Wk,[S("div",Uk,[_[53]||(_[53]=S("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[S("svg",{class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),q_(S("input",{type:"text","onUpdate:modelValue":_[11]||(_[11]=k=>l.value=k),placeholder:"Buscar pases...",class:"pl-10 w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-150 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"},null,512),[[bb,l.value]])]),S("div",zk,[S("button",{onClick:_[12]||(_[12]=k=>q.value=!q.value),class:Lt(["w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 min-w-[200px] text-gray-900 dark:text-white flex items-center justify-between hover:bg-gray-100 dark:hover:bg-gray-600",{"ring-2 ring-blue-500":q.value}])},[S("div",$k,[_[54]||(_[54]=S("svg",{class:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),S("span",null,nt(u.value||"Todas las Regiones"),1)]),(st(),at("svg",{class:Lt(["w-5 h-5 text-gray-500 dark:text-gray-400 transition-transform duration-200",{"transform rotate-180":q.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_[55]||(_[55]=[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))],2),qt(Ua,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"transform -translate-y-2 opacity-0","enter-to-class":"transform translate-y-0 opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"transform translate-y-0 opacity-100","leave-to-class":"transform -translate-y-2 opacity-0"},{default:Bs(()=>[q.value?(st(),at("div",{key:0,class:"absolute z-50 w-full mt-2 bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg shadow-lg py-2",onClick:_[13]||(_[13]=k=>q.value=!1)},[(st(),at(Zt,null,Ei(["","Africa","Americas","Asia","Europe","Oceania"],k=>S("button",{key:k,onClick:ne=>{u.value=k,q.value=!1},class:Lt(["w-full px-4 py-2 text-left hover:bg-gray-100 dark:hover:bg-gray-700/70 flex items-center gap-3 text-gray-700 dark:text-gray-200 transition-all duration-200",{"bg-blue-50 dark:bg-blue-500/20 text-blue-600 dark:text-blue-400":u.value===k}])},[u.value===k?(st(),at("svg",Yk,_[56]||(_[56]=[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)]))):ve("",!0),S("span",qk,nt(k||"Todas las Regiones"),1)],10,Kk)),64))])):ve("",!0)]),_:1})])])])):ve("",!0),d.value?(st(),at("div",Xk,_[57]||(_[57]=[S("div",{class:"animate-spin rounded-full h-12 w-12 border-4 border-blue-500 dark:border-blue-400 border-t-transparent"},null,-1)]))):(st(),at("div",Qk,[qt(Ua,{name:"fade",mode:"out-in"},{default:Bs(()=>[r.value==="dashboard"?(st(),at("div",Jk,[qt(nD,{countries:a.value,"is-dark-mode":s.value},null,8,["countries","is-dark-mode"])])):r.value==="grid"?(st(),at("div",Zk,[(st(!0),at(Zt,null,Ei(ge.value,k=>{var ne;return st(),at("div",{key:k.name.common,class:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden cursor-pointer transform transition-all duration-200 hover:scale-105 hover:shadow-lg dark:shadow-gray-900 relative flex flex-col"},[S("div",tB,[S("div",{onClick:be=>W(k),class:"w-full h-48 relative"},[S("img",{src:k.flags.png,alt:k.name.common+" flag",class:"absolute inset-0 w-full h-full object-cover",loading:"lazy",onError:$},null,40,iB)],8,eB),S("div",rB,[S("div",{onClick:be=>W(k),class:"cursor-pointer"},[S("h3",oB,nt(k.name.common),1),S("div",sB,[S("p",null,[_[58]||(_[58]=S("span",{class:"font-medium"},"Capital:",-1)),je(" "+nt(((ne=k.capital)==null?void 0:ne[0])||"N/A"),1)]),S("p",null,[_[59]||(_[59]=S("span",{class:"font-medium"},"Region:",-1)),je(" "+nt(k.region),1)]),S("p",null,[_[60]||(_[60]=S("span",{class:"font-medium"},"Population:",-1)),je(" "+nt(k.population.toLocaleString()),1)])])],8,nB),S("div",aB,[S("button",{onClick:za(be=>g(k),["stop"]),class:Lt(["p-2 rounded-lg bg-white dark:bg-gray-700 shadow-sm hover:shadow-md transition-all duration-200 hover:bg-gray-50 dark:hover:bg-gray-600 flex items-center gap-2",{"text-yellow-400 dark:text-yellow-300":v(k)}]),title:v(k)?"Remover de Favoritos":"Agregar a Favoritos"},[(st(),at("svg",{class:Lt(["w-5 h-5",{"animate-bounce":v(k)}]),fill:"currentColor",viewBox:"0 0 20 20"},_[61]||(_[61]=[S("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"},null,-1)]),2)),_[62]||(_[62]=S("span",{class:"text-sm"},"Favorito",-1))],10,lB),S("button",{onClick:za(be=>G(k),["stop"]),class:Lt(["p-2 rounded-lg bg-white dark:bg-gray-700 shadow-sm hover:shadow-md transition-all duration-200 hover:bg-gray-50 dark:hover:bg-gray-600 flex items-center gap-2",{"text-blue-500 dark:text-blue-400":ct(k)}]),disabled:it.value.length>=3&&!ct(k),title:ct(k)?"Remover de Comparacin":"Agregar a Comparacin"},_[63]||(_[63]=[S("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1),S("span",{class:"text-sm"},"Comparar",-1)]),10,uB)])])])])}),128))])):r.value==="list"?(st(),at("div",cB,[(st(!0),at(Zt,null,Ei(ge.value,k=>{var ne;return st(),at("div",{key:k.name.common,class:"flex items-center gap-4 p-4 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition-colors duration-200 relative"},[S("div",{class:"w-16 h-12 flex-shrink-0",onClick:be=>W(k)},[S("img",{src:k.flags.png,alt:k.name.common+" flag",class:"w-full h-full object-cover rounded",loading:"lazy",onError:$},null,40,pB)],8,dB),S("div",hB,[S("div",{class:"sm:col-span-2",onClick:be=>W(k)},[S("h3",gB,nt(k.name.common),1),S("div",vB,[S("p",null,[_[64]||(_[64]=S("span",{class:"font-medium"},"Capital:",-1)),je(" "+nt(((ne=k.capital)==null?void 0:ne[0])||"N/A"),1)])])],8,fB),S("div",{class:"text-sm text-gray-600 dark:text-gray-300",onClick:be=>W(k)},[S("p",null,[_[65]||(_[65]=S("span",{class:"font-medium"},"Region:",-1)),je(" "+nt(k.region),1)]),S("p",null,[_[66]||(_[66]=S("span",{class:"font-medium"},"Population:",-1)),je(" "+nt(k.population.toLocaleString()),1)])],8,yB),S("div",mB,[S("button",{onClick:za(be=>g(k),["stop"]),class:Lt(["p-2 rounded-lg bg-white dark:bg-gray-700 shadow-sm hover:shadow-md transition-all duration-200 hover:bg-gray-50 dark:hover:bg-gray-600",{"text-yellow-400 dark:text-yellow-300":v(k)}]),title:v(k)?"Remover de Favoritos":"Agregar a Favoritos"},[(st(),at("svg",{class:Lt(["w-5 h-5",{"animate-bounce":v(k)}]),fill:"currentColor",viewBox:"0 0 20 20"},_[67]||(_[67]=[S("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"},null,-1)]),2))],10,CB),S("button",{onClick:za(be=>G(k),["stop"]),class:Lt(["p-2 rounded-lg bg-white dark:bg-gray-700 shadow-sm hover:shadow-md transition-all duration-200 hover:bg-gray-50 dark:hover:bg-gray-600",{"text-blue-500 dark:text-blue-400":ct(k)}]),disabled:it.value.length>=3&&!ct(k),title:ct(k)?"Remover de Comparacin":"Agregar a Comparacin"},_[68]||(_[68]=[S("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1)]),10,wB)])])])}),128))])):(st(),at("div",SB,[qt(sk,{countries:jt.value,"is-dark-mode":s.value,onRowClicked:W},null,8,["countries","is-dark-mode"])]))]),_:1}),r.value!=="dashboard"&&r.value!=="table"?(st(),at("div",_B,[S("div",EB,[S("div",bB,[S("button",{onClick:_[14]||(_[14]=k=>p.value=1),disabled:p.value===1,class:Lt(["p-2 rounded-lg bg-white dark:bg-gray-700 shadow-sm hover:shadow-md transition-all duration-200 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",{"hover:scale-105 active:scale-95":p.value!==1}])},_[69]||(_[69]=[S("svg",{class:"w-5 h-5 text-gray-600 dark:text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})],-1)]),10,RB),S("button",{onClick:Mi,disabled:p.value===1,class:Lt(["p-2 rounded-lg bg-white dark:bg-gray-700 shadow-sm hover:shadow-md transition-all duration-200 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",{"hover:scale-105 active:scale-95":p.value!==1}])},_[70]||(_[70]=[S("svg",{class:"w-5 h-5 text-gray-600 dark:text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)]),10,OB),S("div",TB,[(st(!0),at(Zt,null,Ei(Q(),k=>(st(),at(Zt,{key:k},[k!=="separator"?(st(),at("button",{key:0,onClick:ne=>ht(Number(k)),class:Lt(["min-w-[40px] h-10 rounded-lg transition-all duration-200 font-medium text-sm",{"bg-blue-500 text-white shadow-md hover:bg-blue-600 dark:bg-blue-600 dark:hover:bg-blue-700":p.value===Number(k),"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600":p.value!==Number(k)}])},nt(k),11,xB)):(st(),at("div",PB,_[71]||(_[71]=[Hc('<div class="w-6 flex justify-center"><svg class="w-4 h-4 text-gray-400 dark:text-gray-500" viewBox="0 0 24 24" fill="currentColor"><circle cx="5" cy="12" r="2"></circle><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle></svg></div>',1)])))],64))),128))]),S("button",{onClick:ni,disabled:p.value===Pt.value,class:Lt(["p-2 rounded-lg bg-white dark:bg-gray-700 shadow-sm hover:shadow-md transition-all duration-200 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",{"hover:scale-105 active:scale-95":p.value!==Pt.value}])},_[72]||(_[72]=[S("svg",{class:"w-5 h-5 text-gray-600 dark:text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]),10,DB),S("button",{onClick:_[15]||(_[15]=k=>p.value=Pt.value),disabled:p.value===Pt.value,class:Lt(["p-2 rounded-lg bg-white dark:bg-gray-700 shadow-sm hover:shadow-md transition-all duration-200 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",{"hover:scale-105 active:scale-95":p.value!==Pt.value}])},_[73]||(_[73]=[S("svg",{class:"w-5 h-5 text-gray-600 dark:text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 5l7 7-7 7M5 5l7 7-7 7"})],-1)]),10,AB)]),S("div",FB,[S("button",{onClick:_[16]||(_[16]=k=>z.value=!z.value),class:"px-4 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-gray-700 dark:text-gray-200 flex items-center gap-2 hover:bg-gray-50 dark:hover:bg-gray-600"},[S("span",null,nt(h.value)+" por pgina",1),(st(),at("svg",{class:Lt(["w-5 h-5 text-gray-500 dark:text-gray-400 transition-transform duration-200",{"transform rotate-180":z.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_[74]||(_[74]=[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),qt(Ua,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:Bs(()=>[z.value?(st(),at("div",{key:0,class:"absolute z-50 w-full mt-2 bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg shadow-lg py-2",onClick:_[17]||(_[17]=k=>z.value=!1)},[(st(),at(Zt,null,Ei([12,24,48],k=>S("button",{key:k,onClick:ne=>et(k),class:Lt(["w-full px-4 py-2 text-left hover:bg-gray-100 dark:hover:bg-gray-700/70 flex items-center gap-3 text-gray-700 dark:text-gray-200 transition-all duration-200",{"bg-blue-50 dark:bg-blue-500/20 text-blue-600 dark:text-blue-400":h.value===k}])},[h.value===k?(st(),at("svg",LB,_[75]||(_[75]=[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)]))):ve("",!0),S("span",{class:Lt({"ml-8":h.value!==k})},nt(k)+" p/p",3)],10,MB)),64))])):ve("",!0)]),_:1})])])])):ve("",!0)]))]),_[102]||(_[102]=Hc('<footer class="bg-white dark:bg-gray-800 shadow-lg mt-12"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"><div class="flex flex-col md:flex-row justify-between items-center gap-6"><div class="flex items-center space-x-3"><div class="flex-shrink-0"><svg class="h-8 w-8 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><div><h2 class="text-xl font-bold text-gray-900 dark:text-white">WorldExplorer</h2><p class="text-sm text-gray-500 dark:text-gray-400">Explora el mundo desde tu navegador</p></div></div><div class="flex flex-col items-center md:items-end"><div class="flex space-x-4"><a href="#" class="text-gray-400 hover:text-gray-500 dark:hover:text-gray-300"><span class="sr-only">GitHub</span><svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd"></path></svg></a><a href="#" class="text-gray-400 hover:text-gray-500 dark:hover:text-gray-300"><span class="sr-only">Twitter</span><svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"></path></svg></a></div><p class="mt-2 text-sm text-gray-500 dark:text-gray-400">  2025 WorldExplorer. Noubary tats mi. </p></div></div></div></footer>',1)),J.value?(st(),at("div",IB,[S("div",NB,[S("div",GB,[S("div",HB,[_[77]||(_[77]=S("h2",{class:"text-2xl font-bold text-gray-800 dark:text-white"},"Comparar Pases",-1)),S("div",VB,[S("button",{onClick:Rt,class:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}," Limpiar Todo "),S("button",{onClick:_[18]||(_[18]=k=>J.value=!1),class:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"},_[76]||(_[76]=[S("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])]),S("div",kB,[(st(!0),at(Zt,null,Ei(it.value,k=>{var ne,be;return st(),at("div",{key:k.name.common,class:"space-y-6"},[S("div",BB,[S("img",{src:k.flags.png,alt:k.name.common,class:"h-32 rounded-lg shadow-lg"},null,8,jB)]),S("div",WB,[S("div",null,[S("h3",UB,nt(k.name.common),1),S("p",zB,nt(k.name.official),1)]),O.value[k.name.common]?(st(),at("div",$B,[S("h4",KB,"Clima en "+nt((ne=k.capital)==null?void 0:ne[0]),1),S("div",YB,[S("img",{src:O.value[k.name.common].icon,alt:O.value[k.name.common].description,class:"w-10 h-10"},null,8,qB),S("div",null,[S("p",XB,nt(O.value[k.name.common].temp)+"C ",1),S("p",QB,nt(O.value[k.name.common].description),1)])])])):ve("",!0),P.value[k.name.common]?(st(),at("div",JB,[_[78]||(_[78]=S("h4",{class:"font-semibold text-gray-800 dark:text-white mb-2"},"Hora Local",-1)),S("p",ZB,nt(P.value[k.name.common]),1)])):ve("",!0),S("div",t2,[S("div",null,[_[79]||(_[79]=S("span",{class:"font-medium text-gray-700 dark:text-gray-300"},"Capital:",-1)),S("span",e2,nt(((be=k.capital)==null?void 0:be[0])||"N/A"),1)]),S("div",null,[_[80]||(_[80]=S("span",{class:"font-medium text-gray-700 dark:text-gray-300"},"Region:",-1)),S("span",i2,nt(k.region),1)]),S("div",null,[_[81]||(_[81]=S("span",{class:"font-medium text-gray-700 dark:text-gray-300"},"Population:",-1)),S("span",r2,nt(k.population.toLocaleString()),1)]),S("div",null,[_[82]||(_[82]=S("span",{class:"font-medium text-gray-700 dark:text-gray-300"},"Area:",-1)),S("span",n2,nt(k.area.toLocaleString())+" km",1)]),S("div",null,[_[83]||(_[83]=S("span",{class:"font-medium text-gray-700 dark:text-gray-300"},"Languages:",-1)),S("span",o2,nt(Object.values(k.languages||{}).join(", ")||"N/A"),1)]),S("div",null,[_[84]||(_[84]=S("span",{class:"font-medium text-gray-700 dark:text-gray-300"},"Currencies:",-1)),S("span",s2,nt(Object.values(k.currencies||{}).map(Af=>`${Af.name} (${Af.symbol})`).join(", ")||"N/A"),1)])])])])}),128))])])])])):ve("",!0),b.value?(st(),at("div",a2,[S("div",l2,[S("div",u2,[S("div",c2,[S("h2",d2,nt((rt=w.value)==null?void 0:rt.name.common),1),S("button",{onClick:ut,class:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"},_[85]||(_[85]=[S("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),S("div",p2,[S("button",{onClick:yt,disabled:E.value===1,class:"p-2 rounded-lg bg-gray-100 dark:bg-gray-700 disabled:opacity-50 hover:bg-gray-200 dark:hover:bg-gray-600"},_[86]||(_[86]=[S("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)]),8,h2),S("span",f2," Pgina "+nt(E.value)+" de "+nt(ip),1),S("button",{onClick:lt,disabled:E.value===ip,class:"p-2 rounded-lg bg-gray-100 dark:bg-gray-700 disabled:opacity-50 hover:bg-gray-200 dark:hover:bg-gray-600"},_[87]||(_[87]=[S("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[S("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]),8,g2)])]),S("div",v2,[E.value===1?(st(),at("div",y2,[S("div",m2,[S("div",null,[S("img",{src:(ot=w.value)==null?void 0:ot.flags.png,alt:((Ct=w.value)==null?void 0:Ct.name.common)+" bandera",class:"w-full h-48 object-cover rounded-lg shadow-lg mb-4"},null,8,C2),S("div",w2,[S("p",S2,[_[88]||(_[88]=S("span",{class:"font-medium"},"Nombre Oficial:",-1)),je(" "+nt(($t=w.value)==null?void 0:$t.name.official),1)]),S("p",_2,[_[89]||(_[89]=S("span",{class:"font-medium"},"Capital:",-1)),je(" "+nt(((te=(xt=w.value)==null?void 0:xt.capital)==null?void 0:te[0])||"N/A"),1)]),S("p",E2,[_[90]||(_[90]=S("span",{class:"font-medium"},"Region:",-1)),je(" "+nt((ue=w.value)==null?void 0:ue.region),1)]),S("p",b2,[_[91]||(_[91]=S("span",{class:"font-medium"},"Population:",-1)),je(" "+nt((Nr=w.value)==null?void 0:Nr.population.toLocaleString()),1)])])]),S("div",R2,[Jt.value?(st(),at("div",O2,[S("h3",T2,"Clima en "+nt((Ae=(ts=w.value)==null?void 0:ts.capital)==null?void 0:Ae[0]),1),S("div",x2,[S("img",{src:Jt.value.icon,alt:Jt.value.description,class:"w-16 h-16"},null,8,P2),S("div",null,[S("p",D2,nt(Jt.value.temp)+"C",1),S("p",A2,nt(Jt.value.description),1)])])])):ve("",!0),Rn.value?(st(),at("div",F2,[_[92]||(_[92]=S("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white mb-4"},"Hora Local",-1)),S("p",M2,nt(Rn.value),1)])):ve("",!0)])])])):ve("",!0),E.value===2?(st(),at("div",L2,[S("div",I2,[_[94]||(_[94]=S("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white mb-4"},"Mapa Topogrfico",-1)),S("div",N2,[((es=(si=w.value)==null?void 0:si.latlng)==null?void 0:es.length)===2?(st(),at("iframe",{key:0,src:`https://www.openstreetmap.org/export/embed.html?bbox=${w.value.latlng[1]-5},${w.value.latlng[0]-5},${w.value.latlng[1]+5},${w.value.latlng[0]+5}&layer=cyclosm&marker=${w.value.latlng[0]},${w.value.latlng[1]}`,class:"absolute inset-0 w-full h-full border-0",loading:"lazy"},null,8,G2)):(st(),at("div",H2,_[93]||(_[93]=[S("p",{class:"text-gray-500 dark:text-gray-400"},"Mapa no disponible",-1)])))]),S("div",V2,[((Rf=(bf=w.value)==null?void 0:bf.latlng)==null?void 0:Rf.length)===2?(st(),at("p",k2," Coordenadas: "+nt(w.value.latlng[0])+"N, "+nt(w.value.latlng[1])+"E ",1)):ve("",!0),((Tf=(Of=w.value)==null?void 0:Of.latlng)==null?void 0:Tf.length)===2?(st(),at("p",B2,[S("a",{href:`https://www.openstreetmap.org/?mlat=${w.value.latlng[0]}&mlon=${w.value.latlng[1]}#map=6/${w.value.latlng[0]}/${w.value.latlng[1]}&layers=C`,target:"_blank",rel:"noopener noreferrer",class:"text-blue-500 hover:text-blue-600 dark:text-blue-400 dark:hover:text-blue-300"}," Ver mapa completo  ",8,j2)])):ve("",!0)])]),S("div",W2,[_[97]||(_[97]=S("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white mb-4"},"Idiomas y Monedas",-1)),S("div",U2,[S("div",null,[_[95]||(_[95]=S("h4",{class:"font-medium text-gray-700 dark:text-gray-300 mb-2"},"Idiomas",-1)),S("ul",z2,[(st(!0),at(Zt,null,Ei(Object.values(((xf=w.value)==null?void 0:xf.languages)||{}),k=>(st(),at("li",{key:k},nt(k),1))),128))])]),S("div",null,[_[96]||(_[96]=S("h4",{class:"font-medium text-gray-700 dark:text-gray-300 mb-2"},"Monedas",-1)),S("ul",$2,[(st(!0),at(Zt,null,Ei((Pf=w.value)==null?void 0:Pf.currencies,(k,ne)=>(st(),at("li",{key:ne},nt(k.name)+" ("+nt(k.symbol)+") ",1))),128))])])])]),S("div",K2,[_[101]||(_[101]=S("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white mb-4"},"Estadsticas Adicionales",-1)),S("div",Y2,[S("div",null,[S("p",q2,[_[98]||(_[98]=S("span",{class:"font-medium"},"rea:",-1)),je(" "+nt((Df=w.value)==null?void 0:Df.area.toLocaleString())+" km ",1)]),S("p",X2,[_[99]||(_[99]=S("span",{class:"font-medium"},"Densidad de Poblacin:",-1)),je(" "+nt(w.value?Math.round(w.value.population/w.value.area).toLocaleString():0)+" habitantes/km ",1)])]),bn.value?(st(),at("div",Q2,[S("p",J2,[_[100]||(_[100]=S("span",{class:"font-medium"},"Distancia desde tu ubicacin:",-1)),je(" "+nt(Math.round(bn.value).toLocaleString())+" km ",1)])])):ve("",!0)])])])):ve("",!0)])])])):ve("",!0)])}}});xb(Z2).mount("#app");
